var Wx=Object.create;var qs=Object.defineProperty,Xx=Object.defineProperties,Yx=Object.getOwnPropertyDescriptor,jx=Object.getOwnPropertyDescriptors,$x=Object.getOwnPropertyNames,xp=Object.getOwnPropertySymbols,kx=Object.getPrototypeOf,Tp=Object.prototype.hasOwnProperty,Kx=Object.prototype.propertyIsEnumerable;var Ji=(y,M)=>(M=Symbol[y])?M:Symbol.for("Symbol."+y);var yp=(y,M,J)=>M in y?qs(y,M,{enumerable:!0,configurable:!0,writable:!0,value:J}):y[M]=J,Gt=(y,M)=>{for(var J in M||={})Tp.call(M,J)&&yp(y,J,M[J]);if(xp)for(var J of xp(M))Kx.call(M,J)&&yp(y,J,M[J]);return y},Ge=(y,M)=>Xx(y,jx(M));var Zx=(y,M)=>()=>(M||y((M={exports:{}}).exports,M),M.exports),Qx=(y,M)=>{for(var J in M)qs(y,J,{get:M[J],enumerable:!0})},Jx=(y,M,J,et)=>{if(M&&typeof M=="object"||typeof M=="function")for(let i of $x(M))!Tp.call(y,i)&&i!==J&&qs(y,i,{get:()=>M[i],enumerable:!(et=Yx(M,i))||et.enumerable});return y};var $r=(y,M,J)=>(J=y!=null?Wx(kx(y)):{},Jx(M||!y||!y.__esModule?qs(J,"default",{value:y,enumerable:!0}):J,y));var en=(y,M,J)=>new Promise((et,i)=>{var $=G=>{try{u(J.next(G))}catch(h){i(h)}},e=G=>{try{u(J.throw(G))}catch(h){i(h)}},u=G=>G.done?et(G.value):Promise.resolve(G.value).then($,e);u((J=J.apply(y,M)).next())}),qi=function(y,M){this[0]=y,this[1]=M},Ep=(y,M,J)=>{var et=(e,u,G,h)=>{try{var r=J[e](u),o=(u=r.value)instanceof qi,n=r.done;Promise.resolve(o?u[0]:u).then(l=>o?et(e==="return"?e:"next",u[1]?{done:l.done,value:l.value}:l,G,h):G({value:l,done:n})).catch(l=>et("throw",l,G,h))}catch(l){h(l)}},i=e=>$[e]=u=>new Promise((G,h)=>et(e,u,G,h)),$={};return J=J.apply(y,M),$[Ji("asyncIterator")]=()=>$,i("next"),i("throw"),i("return"),$},Cp=y=>{var M=y[Ji("asyncIterator")],J=!1,et,i={};return M==null?(M=y[Ji("iterator")](),et=$=>i[$]=e=>M[$](e)):(M=M.call(y),et=$=>i[$]=e=>{if(J){if(J=!1,$==="throw")throw e;return e}return J=!0,{done:!1,value:new qi(new Promise(u=>{var G=M[$](e);if(!(G instanceof Object))throw TypeError("Object expected");u(G)}),1)}}),i[Ji("iterator")]=()=>i,et("next"),"throw"in M?et("throw"):i.throw=$=>{throw $},"return"in M&&et("return"),i},Sp=(y,M,J)=>(M=y[Ji("asyncIterator")])?M.call(y):(y=y[Ji("iterator")](),M={},J=(et,i)=>(i=y[et])&&(M[et]=$=>new Promise((e,u,G)=>($=i.call(y,$),G=$.done,Promise.resolve($.value).then(h=>e({value:h,done:G}),u)))),J("next"),J("return"),M);var Gr=Zx((Vs,Zf)=>{"use strict";(function(M,J){typeof Vs=="object"&&typeof Zf=="object"?Zf.exports=J():typeof define=="function"&&define.amd?define("Phaser",[],J):typeof Vs=="object"?Vs.Phaser=J():M.Phaser=J()})(Vs,()=>(()=>{var y={50792:i=>{"use strict";var $=Object.prototype.hasOwnProperty,e="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(e=!1));function G(n,l,f){this.fn=n,this.context=l,this.once=f||!1}function h(n,l,f,s,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new G(f,s||n,d),c=e?e+l:l;return n._events[c]?n._events[c].fn?n._events[c]=[n._events[c],p]:n._events[c].push(p):(n._events[c]=p,n._eventsCount++),n}function r(n,l){--n._eventsCount===0?n._events=new u:delete n._events[l]}function o(){this._events=new u,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],f,s;if(this._eventsCount===0)return l;for(s in f=this._events)$.call(f,s)&&l.push(e?s.slice(1):s);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},o.prototype.listeners=function(l){var f=e?e+l:l,s=this._events[f];if(!s)return[];if(s.fn)return[s.fn];for(var d=0,p=s.length,c=new Array(p);d<p;d++)c[d]=s[d].fn;return c},o.prototype.listenerCount=function(l){var f=e?e+l:l,s=this._events[f];return s?s.fn?1:s.length:0},o.prototype.emit=function(l,f,s,d,p,c){var g=e?e+l:l;if(!this._events[g])return!1;var j=this._events[g],k=arguments.length,tt,_;if(j.fn){switch(j.once&&this.removeListener(l,j.fn,void 0,!0),k){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,f),!0;case 3:return j.fn.call(j.context,f,s),!0;case 4:return j.fn.call(j.context,f,s,d),!0;case 5:return j.fn.call(j.context,f,s,d,p),!0;case 6:return j.fn.call(j.context,f,s,d,p,c),!0}for(_=1,tt=new Array(k-1);_<k;_++)tt[_-1]=arguments[_];j.fn.apply(j.context,tt)}else{var nt=j.length,it;for(_=0;_<nt;_++)switch(j[_].once&&this.removeListener(l,j[_].fn,void 0,!0),k){case 1:j[_].fn.call(j[_].context);break;case 2:j[_].fn.call(j[_].context,f);break;case 3:j[_].fn.call(j[_].context,f,s);break;case 4:j[_].fn.call(j[_].context,f,s,d);break;default:if(!tt)for(it=1,tt=new Array(k-1);it<k;it++)tt[it-1]=arguments[it];j[_].fn.apply(j[_].context,tt)}}return!0},o.prototype.on=function(l,f,s){return h(this,l,f,s,!1)},o.prototype.once=function(l,f,s){return h(this,l,f,s,!0)},o.prototype.removeListener=function(l,f,s,d){var p=e?e+l:l;if(!this._events[p])return this;if(!f)return r(this,p),this;var c=this._events[p];if(c.fn)c.fn===f&&(!d||c.once)&&(!s||c.context===s)&&r(this,p);else{for(var g=0,j=[],k=c.length;g<k;g++)(c[g].fn!==f||d&&!c[g].once||s&&c[g].context!==s)&&j.push(c[g]);j.length?this._events[p]=j.length===1?j[0]:j:r(this,p)}return this},o.prototype.removeAllListeners=function(l){var f;return l?(f=e?e+l:l,this._events[f]&&r(this,f)):(this._events=new u,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,i.exports=o},11517:(i,$,e)=>{var u=e(38829),G=function(h,r,o,n){for(var l=h[0],f=1;f<h.length;f++){var s=h[f];u(s,l,r,o,n),l=s}return h};i.exports=G},80318:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l){return u(h,"angle",r,o,n,l)};i.exports=G},60757:i=>{var $=function(e,u,G){for(var h=0;h<e.length;h++){var r=e[h];u.call(G,r)}return e};i.exports=$},69927:i=>{var $=function(e,u,G){G===void 0&&(G=0);for(var h=G;h<e.length;h++){var r=e[h],o=!0;for(var n in u)r[n]!==u[n]&&(o=!1);if(o)return r}return null};i.exports=$},32265:i=>{var $=function(e,u,G){G===void 0&&(G=0);for(var h=e.length-1;h>=G;h--){var r=e[h],o=!0;for(var n in u)r[n]!==u[n]&&(o=!1);if(o)return r}return null};i.exports=$},94420:(i,$,e)=>{var u=e(11879),G=e(60461),h=e(95540),r=e(29747),o=e(41481),n=new o({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),l=function(f,s){s===void 0&&(s={});var d=s.hasOwnProperty("width"),p=s.hasOwnProperty("height"),c=h(s,"width",-1),g=h(s,"height",-1),j=h(s,"cellWidth",1),k=h(s,"cellHeight",j),tt=h(s,"position",G.TOP_LEFT),_=h(s,"x",0),nt=h(s,"y",0),it=0,rt=0,st=c*j,at=g*k;n.setPosition(_,nt),n.setSize(j,k);for(var ot=0;ot<f.length;ot++)if(u(f[ot],n,tt),d&&c===-1)n.x+=j;else if(p&&g===-1)n.y+=k;else if(p&&!d){if(rt+=k,n.y+=k,rt===at&&(rt=0,it+=j,n.y=nt,n.x+=j,it===st))break}else if(it+=j,n.x+=j,it===st&&(it=0,rt+=k,n.x=_,n.y+=k,rt===at))break;return f};i.exports=l},41721:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l){return u(h,"alpha",r,o,n,l)};i.exports=G},67285:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l){return u(h,"x",r,o,n,l)};i.exports=G},9074:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l,f,s){return o==null&&(o=r),u(h,"x",r,n,f,s),u(h,"y",o,l,f,s)};i.exports=G},75222:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l){return u(h,"y",r,o,n,l)};i.exports=G},22983:i=>{var $=function(e,u,G,h){G===void 0&&(G=0),h===void 0&&(h=6.28);for(var r=G,o=(h-G)/e.length,n=u.x,l=u.y,f=u.radius,s=0;s<e.length;s++)e[s].x=n+f*Math.cos(r),e[s].y=l+f*Math.sin(r),r+=o;return e};i.exports=$},95253:i=>{var $=function(e,u,G,h){G===void 0&&(G=0),h===void 0&&(h=6.28);for(var r=G,o=(h-G)/e.length,n=u.width/2,l=u.height/2,f=0;f<e.length;f++)e[f].x=u.x+n*Math.cos(r),e[f].y=u.y+l*Math.sin(r),r+=o;return e};i.exports=$},88505:(i,$,e)=>{var u=e(15258),G=e(26708),h=function(r,o,n){var l;n?l=G(o,n,r.length):l=u(o,r.length);for(var f=0;f<r.length;f++){var s=r[f],d=l[f];s.x=d.x,s.y=d.y}return r};i.exports=h},41346:(i,$,e)=>{var u=e(14649),G=e(86003),h=e(49498),r=function(o,n,l){l===void 0&&(l=0);var f=u(n,!1,o.length);l>0?G(f,l):l<0&&h(f,Math.abs(l));for(var s=0;s<o.length;s++)o[s].x=f[s].x,o[s].y=f[s].y;return o};i.exports=r},11575:(i,$,e)=>{var u=e(84993),G=function(h,r,o){var n=u({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},o),l=u({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},o),f=u({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},o);n.pop(),l.pop(),f.pop(),n=n.concat(l,f);for(var s=n.length/h.length,d=0,p=0;p<h.length;p++){var c=h[p],g=n[Math.floor(d)];c.x=g.x,c.y=g.y,d+=s}return h};i.exports=G},29953:i=>{var $=function(e,u,G){for(var h=0;h<e.length;h++){var r=e[h];r.anims&&r.anims.play(u,G)}return e};i.exports=$},66979:i=>{var $=function(e,u,G,h,r,o){h===void 0&&(h=0),r===void 0&&(r=0),o===void 0&&(o=1);var n,l=0,f=e.length;if(o===1)for(n=r;n<f;n++)e[n][u]+=G+l*h,l++;else for(n=r;n>=0;n--)e[n][u]+=G+l*h,l++;return e};i.exports=$},43967:i=>{var $=function(e,u,G,h,r,o){h===void 0&&(h=0),r===void 0&&(r=0),o===void 0&&(o=1);var n,l=0,f=e.length;if(o===1)for(n=r;n<f;n++)e[n][u]=G+l*h,l++;else for(n=r;n>=0;n--)e[n][u]=G+l*h,l++;return e};i.exports=$},88926:(i,$,e)=>{var u=e(28176),G=function(h,r){for(var o=0;o<h.length;o++)u(r,h[o]);return h};i.exports=G},33286:(i,$,e)=>{var u=e(24820),G=function(h,r){for(var o=0;o<h.length;o++)u(r,h[o]);return h};i.exports=G},96e3:(i,$,e)=>{var u=e(65822),G=function(h,r){for(var o=0;o<h.length;o++)u(r,h[o]);return h};i.exports=G},28789:(i,$,e)=>{var u=e(26597),G=function(h,r){for(var o=0;o<h.length;o++)u(r,h[o]);return h};i.exports=G},97154:(i,$,e)=>{var u=e(90260),G=function(h,r){for(var o=0;o<h.length;o++)u(r,h[o]);return h};i.exports=G},20510:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l){return u(h,"rotation",r,o,n,l)};i.exports=G},91051:(i,$,e)=>{var u=e(1163),G=e(20339),h=function(r,o,n){for(var l=o.x,f=o.y,s=0;s<r.length;s++){var d=r[s];u(d,l,f,n,Math.max(1,G(d.x,d.y,l,f)))}return r};i.exports=h},76332:(i,$,e)=>{var u=e(1163),G=function(h,r,o,n){var l=r.x,f=r.y;if(n===0)return h;for(var s=0;s<h.length;s++)u(h[s],l,f,o,n);return h};i.exports=G},61619:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l){return u(h,"scaleX",r,o,n,l)};i.exports=G},94868:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l,f,s){return o==null&&(o=r),u(h,"scaleX",r,n,f,s),u(h,"scaleY",o,l,f,s)};i.exports=G},95532:(i,$,e)=>{var u=e(66979),G=function(h,r,o,n,l){return u(h,"scaleY",r,o,n,l)};i.exports=G},8689:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"alpha",r,o,n,l)};i.exports=G},2645:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n){return u(h,"blendMode",r,0,o,n)};i.exports=G},32372:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"depth",r,o,n,l)};i.exports=G},85373:i=>{var $=function(e,u,G){for(var h=0;h<e.length;h++)e[h].setInteractive(u,G);return e};i.exports=$},81583:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l,f,s){return o==null&&(o=r),u(h,"originX",r,n,f,s),u(h,"originY",o,l,f,s),h.forEach(function(d){d.updateDisplayOrigin()}),h};i.exports=G},79939:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"rotation",r,o,n,l)};i.exports=G},2699:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l,f,s){return o==null&&(o=r),u(h,"scaleX",r,n,f,s),u(h,"scaleY",o,l,f,s)};i.exports=G},98739:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"scaleX",r,o,n,l)};i.exports=G},98476:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"scaleY",r,o,n,l)};i.exports=G},6207:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l,f,s){return o==null&&(o=r),u(h,"scrollFactorX",r,n,f,s),u(h,"scrollFactorY",o,l,f,s)};i.exports=G},6607:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"scrollFactorX",r,o,n,l)};i.exports=G},72248:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"scrollFactorY",r,o,n,l)};i.exports=G},14036:i=>{var $=function(e,u,G,h,r){for(var o=0;o<e.length;o++)e[o].setTint(u,G,h,r);return e};i.exports=$},50159:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n){return u(h,"visible",r,0,o,n)};i.exports=G},77597:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"x",r,o,n,l)};i.exports=G},83194:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l,f,s){return o==null&&(o=r),u(h,"x",r,n,f,s),u(h,"y",o,l,f,s)};i.exports=G},67678:(i,$,e)=>{var u=e(43967),G=function(h,r,o,n,l){return u(h,"y",r,o,n,l)};i.exports=G},35850:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l){n===void 0&&(n=0),l===void 0&&(l=new u);var f,s,d=h.length;if(d===1)f=h[0].x,s=h[0].y,h[0].x=r,h[0].y=o;else{var p=1,c=0;n===0&&(c=d-1,p=d-2),f=h[c].x,s=h[c].y,h[c].x=r,h[c].y=o;for(var g=0;g<d;g++)if(!(p>=d||p===-1)){var j=h[p],k=j.x,tt=j.y;j.x=f,j.y=s,f=k,s=tt,n===0?p--:p++}}return l.x=f,l.y=s,l};i.exports=G},8628:(i,$,e)=>{var u=e(33680),G=function(h){return u(h)};i.exports=G},21837:(i,$,e)=>{var u=e(7602),G=function(h,r,o,n,l){l===void 0&&(l=!1);var f=Math.abs(n-o)/h.length,s;if(l)for(s=0;s<h.length;s++)h[s][r]+=u(s*f,o,n);else for(s=0;s<h.length;s++)h[s][r]=u(s*f,o,n);return h};i.exports=G},21910:(i,$,e)=>{var u=e(54261),G=function(h,r,o,n,l){l===void 0&&(l=!1);var f=Math.abs(n-o)/h.length,s;if(l)for(s=0;s<h.length;s++)h[s][r]+=u(s*f,o,n);else for(s=0;s<h.length;s++)h[s][r]=u(s*f,o,n);return h};i.exports=G},62054:i=>{var $=function(e,u,G,h,r){if(r===void 0&&(r=!1),e.length===0)return e;if(e.length===1)return r?e[0][u]+=(h+G)/2:e[0][u]=(h+G)/2,e;var o=Math.abs(h-G)/(e.length-1),n;if(r)for(n=0;n<e.length;n++)e[n][u]+=n*o+G;else for(n=0;n<e.length;n++)e[n][u]=n*o+G;return e};i.exports=$},79815:i=>{var $=function(e){for(var u=0;u<e.length;u++)e[u].visible=!e[u].visible;return e};i.exports=$},39665:(i,$,e)=>{var u=e(15994),G=function(h,r,o){o===void 0&&(o=0);for(var n=0;n<h.length;n++){var l=h[n];l.x=u(l.x,r.left-o,r.right+o),l.y=u(l.y,r.top-o,r.bottom+o)}return h};i.exports=G},61061:(i,$,e)=>{i.exports={AlignTo:e(11517),Angle:e(80318),Call:e(60757),GetFirst:e(69927),GetLast:e(32265),GridAlign:e(94420),IncAlpha:e(41721),IncX:e(67285),IncXY:e(9074),IncY:e(75222),PlaceOnCircle:e(22983),PlaceOnEllipse:e(95253),PlaceOnLine:e(88505),PlaceOnRectangle:e(41346),PlaceOnTriangle:e(11575),PlayAnimation:e(29953),PropertyValueInc:e(66979),PropertyValueSet:e(43967),RandomCircle:e(88926),RandomEllipse:e(33286),RandomLine:e(96e3),RandomRectangle:e(28789),RandomTriangle:e(97154),Rotate:e(20510),RotateAround:e(91051),RotateAroundDistance:e(76332),ScaleX:e(61619),ScaleXY:e(94868),ScaleY:e(95532),SetAlpha:e(8689),SetBlendMode:e(2645),SetDepth:e(32372),SetHitArea:e(85373),SetOrigin:e(81583),SetRotation:e(79939),SetScale:e(2699),SetScaleX:e(98739),SetScaleY:e(98476),SetScrollFactor:e(6207),SetScrollFactorX:e(6607),SetScrollFactorY:e(72248),SetTint:e(14036),SetVisible:e(50159),SetX:e(77597),SetXY:e(83194),SetY:e(67678),ShiftPosition:e(35850),Shuffle:e(8628),SmootherStep:e(21910),SmoothStep:e(21837),Spread:e(62054),ToggleVisible:e(79815),WrapInRectangle:e(39665)}},42099:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(74943),r=e(81957),o=e(41138),n=e(35154),l=e(90126),f=new G({initialize:function(d,p,c){this.manager=d,this.key=p,this.type="frame",this.frames=this.getFrames(d.textureManager,n(c,"frames",[]),n(c,"defaultTextureKey",null),n(c,"sortFrames",!0)),this.frameRate=n(c,"frameRate",null),this.duration=n(c,"duration",null),this.msPerFrame,this.skipMissedFrames=n(c,"skipMissedFrames",!0),this.delay=n(c,"delay",0),this.repeat=n(c,"repeat",0),this.repeatDelay=n(c,"repeatDelay",0),this.yoyo=n(c,"yoyo",!1),this.showBeforeDelay=n(c,"showBeforeDelay",!1),this.showOnStart=n(c,"showOnStart",!1),this.hideOnComplete=n(c,"hideOnComplete",!1),this.randomFrame=n(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(h.PAUSE_ALL,this.pause,this),this.manager.on(h.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,d,p,c){p===null&&c===null?(s.frameRate=24,s.duration=24/d*1e3):p&&c===null?(s.duration=p,s.frameRate=d/(p/1e3)):(s.frameRate=c,s.duration=d/c*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,d){var p=this.getFrames(this.manager.textureManager,d);if(p.length>0){if(s===0)this.frames=p.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(p);else{var c=this.frames.slice(0,s),g=this.frames.slice(s);this.frames=c.concat(p,g)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.currentFrame.duration?s.currentFrame.duration:s.msPerFrame},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,d,p,c){c===void 0&&(c=!0);var g=[],j,k,tt=1,_,nt;if(typeof d=="string"){if(nt=d,!s.exists(nt))return console.warn('Texture "%s" not found',nt),g;var it=s.get(nt),rt=it.getFrameNames();c&&l(rt),d=[],rt.forEach(function(ut){d.push({key:nt,frame:ut})})}if(!Array.isArray(d)||d.length===0)return g;for(_=0;_<d.length;_++){var st=d[_],at=n(st,"key",p);if(at){var ot=n(st,"frame",0),ht=s.getFrame(at,ot);if(!ht){console.warn('Texture "%s" not found',at);continue}k=new o(at,ot,tt,ht),k.duration=n(st,"duration",0),k.isFirst=!j,j&&(j.nextFrame=k,k.prevFrame=j),g.push(k),j=k,tt++}}if(g.length>0){k.isLast=!0,k.nextFrame=g[0],g[0].prevFrame=k;var dt=1/(g.length-1);for(_=0;_<g.length;_++)g[_].progress=_*dt}return g},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.currentFrame.duration?s.currentFrame.duration:s.msPerFrame},getFrameByProgress:function(s){return s=u(s,0,1),r(s,this.frames,"progress")},nextFrame:function(s){var d=s.currentFrame;d.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,d.nextFrame)},handleYoyoFrame:function(s,d){if(d||(d=!1),s.inReverse===!d&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=d),this.repeatAnimation(s);return}if(s.inReverse!==d&&s.repeatCounter===0){s.complete();return}s.forward=d;var p=d?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var d=s.currentFrame;d.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,d.prevFrame)},updateAndGetNextTick:function(s,d){s.setCurrentFrame(d),this.getNextTick(s)},removeFrame:function(s){var d=this.frames.indexOf(s);return d!==-1&&this.removeFrameAt(d),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(d){s.frames.push(d.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,d=1/(s-1),p,c=0;c<s;c++)p=this.frames[c],p.index=c+1,p.isFirst=!1,p.isLast=!1,p.progress=c*d,c===0?(p.isFirst=!0,s===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[s-1],p.nextFrame=this.frames[c+1])):c===s-1&&s>1?(p.isLast=!0,p.prevFrame=this.frames[s-2],p.nextFrame=this.frames[0]):s>1&&(p.prevFrame=this.frames[c-1],p.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(h.PAUSE_ALL,this.pause,this),this.manager.off(h.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});i.exports=f},41138:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n,l,f){f===void 0&&(f=!1),this.textureKey=r,this.textureFrame=o,this.index=n,this.frame=l,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});i.exports=G},60848:(i,$,e)=>{var u=e(42099),G=e(83419),h=e(90330),r=e(50792),o=e(74943),n=e(8443),l=e(95540),f=e(35154),s=e(36383),d=e(20283),p=e(41836),c=new G({Extends:r,initialize:function(j){r.call(this),this.game=j,this.textureManager=null,this.globalTimeScale=1,this.anims=new h,this.mixes=new h,this.paused=!1,this.name="AnimationManager",j.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(g,j,k){var tt=this.anims,_=this.mixes,nt=typeof g=="string"?g:g.key,it=typeof j=="string"?j:j.key;if(tt.has(nt)&&tt.has(it)){var rt=_.get(nt);rt||(rt={}),rt[it]=k,_.set(nt,rt)}return this},removeMix:function(g,j){var k=this.mixes,tt=typeof g=="string"?g:g.key,_=k.get(tt);if(_)if(j){var nt=typeof j=="string"?j:j.key;_.hasOwnProperty(nt)&&delete _[nt]}else j||k.delete(tt);return this},getMix:function(g,j){var k=this.mixes,tt=typeof g=="string"?g:g.key,_=typeof j=="string"?j:j.key,nt=k.get(tt);return nt&&nt.hasOwnProperty(_)?nt[_]:0},add:function(g,j){return this.anims.has(g)?(console.warn("Animation key exists: "+g),this):(j.key=g,this.anims.set(g,j),this.emit(o.ADD_ANIMATION,g,j),this)},exists:function(g){return this.anims.has(g)},createFromAseprite:function(g,j,k){var tt=[],_=this.game.cache.json.get(g);if(!_)return console.warn("No Aseprite data found for: "+g),tt;var nt=this,it=f(_,"meta",null),rt=f(_,"frames",null);if(it&&rt){var st=f(it,"frameTags",[]);st.forEach(function(at){var ot=[],ht=l(at,"name",null),dt=l(at,"from",0),ut=l(at,"to",0),ft=l(at,"direction","forward");if(ht&&(!j||j&&j.indexOf(ht)>-1)){for(var gt=0,xt=dt;xt<=ut;xt++){var Et=xt.toString(),pt=rt[Et];if(pt){var mt=l(pt,"duration",s.MAX_SAFE_INTEGER);ot.push({key:g,frame:Et,duration:mt}),gt+=mt}}ft==="reverse"&&(ot=ot.reverse());var lt={key:ht,frames:ot,duration:gt,yoyo:ft==="pingpong"},ct;k?k.anims&&(ct=k.anims.create(lt)):ct=nt.create(lt),ct&&tt.push(ct)}})}return tt},create:function(g){var j=g.key,k=!1;return j&&(k=this.get(j),k?console.warn("AnimationManager key already exists: "+j):(k=new u(this,j,g),this.anims.set(j,k),this.emit(o.ADD_ANIMATION,j,k))),k},fromJSON:function(g,j){j===void 0&&(j=!1),j&&this.anims.clear(),typeof g=="string"&&(g=JSON.parse(g));var k=[];if(g.hasOwnProperty("anims")&&Array.isArray(g.anims)){for(var tt=0;tt<g.anims.length;tt++)k.push(this.create(g.anims[tt]));g.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=g.globalTimeScale)}else g.hasOwnProperty("key")&&g.type==="frame"&&k.push(this.create(g));return k},generateFrameNames:function(g,j){var k=f(j,"prefix",""),tt=f(j,"start",0),_=f(j,"end",0),nt=f(j,"suffix",""),it=f(j,"zeroPad",0),rt=f(j,"outputArray",[]),st=f(j,"frames",!1);if(!this.textureManager.exists(g))return console.warn('Texture "%s" not found',g),rt;var at=this.textureManager.get(g);if(!at)return rt;var ot;if(j)for(st||(st=d(tt,_)),ot=0;ot<st.length;ot++){var ht=k+p(st[ot],it,"0",1)+nt;at.has(ht)?rt.push({key:g,frame:ht}):console.warn('Frame "%s" not found in texture "%s"',ht,g)}else for(st=at.getFrameNames(),ot=0;ot<st.length;ot++)rt.push({key:g,frame:st[ot]});return rt},generateFrameNumbers:function(g,j){var k=f(j,"start",0),tt=f(j,"end",-1),_=f(j,"first",!1),nt=f(j,"outputArray",[]),it=f(j,"frames",!1);if(!this.textureManager.exists(g))return console.warn('Texture "%s" not found',g),nt;var rt=this.textureManager.get(g);if(!rt)return nt;_&&rt.has(_)&&nt.push({key:g,frame:_}),it||(tt===-1&&(tt=rt.frameTotal-2),it=d(k,tt));for(var st=0;st<it.length;st++){var at=it[st];rt.has(at)?nt.push({key:g,frame:at}):console.warn('Frame "%s" not found in texture "%s"',at,g)}return nt},get:function(g){return this.anims.get(g)},getAnimsFromTexture:function(g){for(var j=this.textureManager.get(g),k=j.key,tt=this.anims.getArray(),_=[],nt=0;nt<tt.length;nt++)for(var it=tt[nt],rt=it.frames,st=0;st<rt.length;st++)if(rt[st].textureKey===k){_.push(it.key);break}return _},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(g,j){Array.isArray(j)||(j=[j]);for(var k=0;k<j.length;k++)j[k].anims.play(g);return this},staggerPlay:function(g,j,k,tt){k===void 0&&(k=0),tt===void 0&&(tt=!0),Array.isArray(j)||(j=[j]);var _=j.length;tt||_--;for(var nt=0;nt<j.length;nt++){var it=k<0?Math.abs(k)*(_-nt):k*nt;j[nt].anims.playAfterDelay(g,it)}return this},remove:function(g){var j=this.get(g);return j&&(this.emit(o.REMOVE_ANIMATION,g,j),this.anims.delete(g),this.removeMix(g)),j},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(g){var j={anims:[],globalTimeScale:this.globalTimeScale};return g!==void 0&&g!==""?j.anims.push(this.anims.get(g).toJSON()):this.anims.each(function(k,tt){j.anims.push(tt.toJSON())}),j},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});i.exports=c},9674:(i,$,e)=>{var u=e(42099),G=e(30976),h=e(83419),r=e(90330),o=e(74943),n=e(95540),l=new h({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(f){var s=this.parent;if(f===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var p=f[d];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(f){this.isPlaying&&this.stop();var s=this.animationManager,d=typeof f=="string"?f:n(f,"key",null),p=this.exists(d)?this.get(d):s.get(d);if(!p)console.warn("Missing animation: "+d);else{this.currentAnim=p;var c=p.getTotalFrames(),g=n(f,"frameRate",p.frameRate),j=n(f,"duration",p.duration);p.calculateDuration(this,c,j,g),this.delay=n(f,"delay",p.delay),this.repeat=n(f,"repeat",p.repeat),this.repeatDelay=n(f,"repeatDelay",p.repeatDelay),this.yoyo=n(f,"yoyo",p.yoyo),this.showBeforeDelay=n(f,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=n(f,"showOnStart",p.showOnStart),this.hideOnComplete=n(f,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=n(f,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=n(f,"randomFrame",p.randomFrame),this.timeScale=n(f,"timeScale",this.timeScale);var k=n(f,"startFrame",0);k>c&&(k=0),this.randomFrame&&(k=G(0,c-1));var tt=p.frames[k];k===0&&!this.forward&&(tt=p.getLastFrame()),this.currentFrame=tt}return this.parent},pause:function(f){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),f!==void 0&&this.setCurrentFrame(f),this.parent},resume:function(f){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),f!==void 0&&this.setCurrentFrame(f),this.parent},playAfterDelay:function(f,s){if(!this.isPlaying)this.delayCounter=s,this.play(f,!0);else{var d=this.nextAnim,p=this.nextAnimsQueue;d&&p.unshift(d),this.nextAnim=f,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(f,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(f);else{var d=this.nextAnim,p=this.nextAnimsQueue;d&&p.unshift(d),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=f,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(f,s){s===void 0&&(s=!1);var d=this.currentAnim,p=this.parent,c=typeof f=="string"?f:f.key;if(s&&this.isPlaying&&d.key===c)return p;if(d&&this.isPlaying){var g=this.animationManager.getMix(d.key,f);if(g>0)return this.playAfterDelay(f,g)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f)},playReverse:function(f,s){s===void 0&&(s=!1);var d=typeof f=="string"?f:f.key;return s&&this.isPlaying&&this.currentAnim.key===d?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f))},startAnimation:function(f){this.load(f);var s=this.currentAnim,d=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),d},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(f,s){var d=this.currentAnim;if(d){var p=this.currentFrame,c=this.parent,g=p.textureFrame;c.emit(f,d,p,c,g),s&&c.emit(s+d.key,d,p,c,g)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var f=this.currentFrame;if(!f)return 0;var s=f.progress;return this.inReverse&&(s*=-1),s},setProgress:function(f){return this.forward||(f=1-f),this.setCurrentFrame(this.currentAnim.getFrameByProgress(f)),this.parent},setRepeat:function(f){return this.repeatCounter=f===-1?Number.MAX_VALUE:f,this.parent},globalRemove:function(f,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(f,s){f===void 0&&(f=!1),s===void 0&&(s=!1);var d=this.currentAnim,p=this.parent;return d?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),d.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!f,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(d.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(f)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(f)}return this.parent},stopAfterDelay:function(f){return this._pendingStop=1,this._pendingStopValue=f,this.parent},stopAfterRepeat:function(f){return f===void 0&&(f=1),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=f,this.parent},stopOnFrame:function(f){return this._pendingStop=3,this._pendingStopValue=f,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(f,s){var d=this.currentAnim;if(!(!this.isPlaying||!d||d.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?d.nextFrame(this):d.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?d.nextFrame(this):d.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(f){var s=this.parent;return this.currentFrame=f,s.texture=f.frame.texture,s.frame=f.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),f.setAlpha&&(s.alpha=f.alpha),s.setSizeToFrame(),s._originComponent&&(f.frame.customPivot?s.setOrigin(f.frame.pivotX,f.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===f&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(f){return this.anims?this.anims.get(f):null},exists:function(f){return this.anims?this.anims.has(f):!1},create:function(f){var s=f.key,d=!1;return s&&(d=this.get(s),d?console.warn("Animation key already exists: "+s):(d=new u(this,s,f),this.anims||(this.anims=new r),this.anims.set(s,d))),d},createFromAseprite:function(f,s){return this.animationManager.createFromAseprite(f,s,this.parent)},generateFrameNames:function(f,s){return this.animationManager.generateFrameNames(f,s)},generateFrameNumbers:function(f,s){return this.animationManager.generateFrameNumbers(f,s)},remove:function(f){var s=this.get(f);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(f)),s},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});i.exports=l},57090:i=>{i.exports="add"},25312:i=>{i.exports="animationcomplete"},89580:i=>{i.exports="animationcomplete-"},52860:i=>{i.exports="animationrepeat"},63850:i=>{i.exports="animationrestart"},99085:i=>{i.exports="animationstart"},28087:i=>{i.exports="animationstop"},1794:i=>{i.exports="animationupdate"},52562:i=>{i.exports="pauseall"},57953:i=>{i.exports="remove"},68339:i=>{i.exports="resumeall"},74943:(i,$,e)=>{i.exports={ADD_ANIMATION:e(57090),ANIMATION_COMPLETE:e(25312),ANIMATION_COMPLETE_KEY:e(89580),ANIMATION_REPEAT:e(52860),ANIMATION_RESTART:e(63850),ANIMATION_START:e(99085),ANIMATION_STOP:e(28087),ANIMATION_UPDATE:e(1794),PAUSE_ALL:e(52562),REMOVE_ANIMATION:e(57953),RESUME_ALL:e(68339)}},60421:(i,$,e)=>{i.exports={Animation:e(42099),AnimationFrame:e(41138),AnimationManager:e(60848),AnimationState:e(9674),Events:e(74943)}},2161:(i,$,e)=>{var u=e(83419),G=e(90330),h=e(50792),r=e(24736),o=new u({initialize:function(){this.entries=new G,this.events=new h},add:function(n,l){return this.entries.set(n,l),this.events.emit(r.ADD,this,n,l),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var l=this.get(n);return l&&(this.entries.delete(n),this.events.emit(r.REMOVE,this,n,l.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});i.exports=o},24047:(i,$,e)=>{var u=e(2161),G=e(83419),h=e(8443),r=new G({initialize:function(n){this.game=n,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(h.DESTROY,this.destroy,this)},addCustom:function(o){return this.custom.hasOwnProperty(o)||(this.custom[o]=new u),this.custom[o]},destroy:function(){for(var o=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<o.length;n++)this[o[n]].destroy(),this[o[n]]=null;for(var l in this.custom)this.custom[l].destroy();this.custom=null,this.game=null}});i.exports=r},51464:i=>{i.exports="add"},59261:i=>{i.exports="remove"},24736:(i,$,e)=>{i.exports={ADD:e(51464),REMOVE:e(59261)}},83388:(i,$,e)=>{i.exports={BaseCache:e(2161),CacheManager:e(24047),Events:e(24736)}},71911:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(39506),r=e(50792),o=e(19715),n=e(87841),l=e(61340),f=e(80333),s=e(26099),d=new u({Extends:r,Mixins:[G.AlphaSingle,G.Visible],initialize:function(c,g,j,k){c===void 0&&(c=0),g===void 0&&(g=0),j===void 0&&(j=0),k===void 0&&(k=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=c,this._y=g,this._width=j,this._height=k,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new l,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(j/2,k/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,c){return p===void 0&&(p=.5),c===void 0&&(c=p),this.originX=p,this.originY=c,this},getScroll:function(p,c,g){g===void 0&&(g=new s);var j=this.width*.5,k=this.height*.5;return g.x=p-j,g.y=c-k,this.useBounds&&(g.x=this.clampX(g.x),g.y=this.clampY(g.y)),g},centerOnX:function(p){var c=this.width*.5;return this.midPoint.x=p,this.scrollX=p-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var c=this.height*.5;return this.midPoint.y=p,this.scrollY=p-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,c){return this.centerOnX(p),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,c=this.width*.5,g=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-c,this.scrollY=p.centerY-g}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var c=this.matrix.matrix,g=c[0],j=c[1],k=c[2],tt=c[3],_=g*tt-j*k;if(!_)return p;var nt=c[4],it=c[5],rt=this.scrollX,st=this.scrollY,at=this.width,ot=this.height,ht=this.y,dt=ht+ot,ut=this.x,ft=ut+at,gt=this.culledObjects,xt=p.length;_=1/_,gt.length=0;for(var Et=0;Et<xt;++Et){var pt=p[Et];if(!pt.hasOwnProperty("width")||pt.parentContainer){gt.push(pt);continue}var mt=pt.width,lt=pt.height,ct=pt.x-rt*pt.scrollFactorX-mt*pt.originX,vt=pt.y-st*pt.scrollFactorY-lt*pt.originY,yt=ct*g+vt*k+nt,Tt=ct*j+vt*tt+it,Ct=(ct+mt)*g+(vt+lt)*k+nt,St=(ct+mt)*j+(vt+lt)*tt+it;Ct>ut&&yt<ft&&St>ht&&Tt<dt&&gt.push(pt)}return gt},getWorldPoint:function(p,c,g){g===void 0&&(g=new s);var j=this.matrix.matrix,k=j[0],tt=j[1],_=j[2],nt=j[3],it=j[4],rt=j[5],st=k*nt-tt*_;if(!st)return g.x=p,g.y=c,g;st=1/st;var at=nt*st,ot=-tt*st,ht=-_*st,dt=k*st,ut=(_*rt-nt*it)*st,ft=(tt*it-k*rt)*st,gt=Math.cos(this.rotation),xt=Math.sin(this.rotation),Et=this.zoomX,pt=this.zoomY,mt=this.scrollX,lt=this.scrollY,ct=p+(mt*gt-lt*xt)*Et,vt=c+(mt*xt+lt*gt)*pt;return g.x=ct*at+vt*ht+ut,g.y=ct*ot+vt*dt+ft,g},ignore:function(p){var c=this.id;Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var j=p[g];Array.isArray(j)?this.ignore(j):j.isParent?this.ignore(j.getChildren()):j.cameraFilter|=c}return this},preRender:function(){this.renderList.length=0;var p=this.width,c=this.height,g=p*.5,j=c*.5,k=this.zoomX,tt=this.zoomY,_=this.matrix,nt=p*this.originX,it=c*this.originY,rt=this.scrollX,st=this.scrollY;this.useBounds&&(rt=this.clampX(rt),st=this.clampY(st)),this.scrollX=rt,this.scrollY=st;var at=rt+g,ot=st+j;this.midPoint.set(at,ot);var ht=p/k,dt=c/tt;this.worldView.setTo(at-ht/2,ot-dt/2,ht,dt),_.applyITRS(this.x+nt,this.y+it,this.rotation,k,tt),_.translate(-nt,-it)},clampX:function(p){var c=this._bounds,g=this.displayWidth,j=c.x+(g-this.width)/2,k=Math.max(j,j+c.width-g);return p<j?p=j:p>k&&(p=k),p},clampY:function(p){var c=this._bounds,g=this.displayHeight,j=c.y+(g-this.height)/2,k=Math.max(j,j+c.height-g);return p<j?p=j:p>k&&(p=k),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=h(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=f(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,c,g,j,k){return k===void 0&&(k=!1),this._bounds.setTo(p,c,g,j),this.dirty=!0,this.useBounds=!0,k?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new n);var c=this._bounds;return p.setTo(c.x,c.y,c.width,c.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,c){return c===void 0&&(c=p),this.x=p,this.y=c,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=c;var g=p.sys;return this.sceneManager=g.game.scene,this.scaleManager=g.scale,this.cameraManager=g.cameras,this.updateSystem(),this},setScroll:function(p,c){return c===void 0&&(c=p),this.scrollX=p,this.scrollY=c,this},setSize:function(p,c){return c===void 0&&(c=p),this.width=p,this.height=c,this},setViewport:function(p,c,g,j){return this.x=p,this.y=c,this.width=g,this.height=j,this},setZoom:function(p,c){return p===void 0&&(p=1),c===void 0&&(c=p),p===0&&(p=.001),c===0&&(c=.001),this.zoomX=p,this.zoomY=c,this},setMask:function(p,c){return c===void 0&&(c=!0),this.mask=p,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;p&&!this._customViewport?c.customViewports++:!p&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});i.exports=d},38058:(i,$,e)=>{var u=e(71911),G=e(67502),h=e(45319),r=e(83419),o=e(31401),n=e(20052),l=e(19715),f=e(28915),s=e(87841),d=e(26099),p=new r({Extends:u,Mixins:[o.PostPipeline],initialize:function(g,j,k,tt){u.call(this,g,j,k,tt),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(c,g){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=g):this.deadzone=new s(0,0,c,g),this._follow){var j=this.width/2,k=this.height/2,tt=this._follow.x-this.followOffset.x,_=this._follow.y-this.followOffset.y;this.midPoint.set(tt,_),this.scrollX=tt-j,this.scrollY=_-k}G(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,g,j,k,tt,_){return this.fadeEffect.start(!1,c,g,j,k,!0,tt,_)},fadeOut:function(c,g,j,k,tt,_){return this.fadeEffect.start(!0,c,g,j,k,!0,tt,_)},fadeFrom:function(c,g,j,k,tt,_,nt){return this.fadeEffect.start(!1,c,g,j,k,tt,_,nt)},fade:function(c,g,j,k,tt,_,nt){return this.fadeEffect.start(!0,c,g,j,k,tt,_,nt)},flash:function(c,g,j,k,tt,_,nt){return this.flashEffect.start(c,g,j,k,tt,_,nt)},shake:function(c,g,j,k,tt){return this.shakeEffect.start(c,g,j,k,tt)},pan:function(c,g,j,k,tt,_,nt){return this.panEffect.start(c,g,j,k,tt,_,nt)},rotateTo:function(c,g,j,k,tt,_,nt){return this.rotateToEffect.start(c,g,j,k,tt,_,nt)},zoomTo:function(c,g,j,k,tt,_){return this.zoomEffect.start(c,g,j,k,tt,_)},preRender:function(){this.renderList.length=0;var c=this.width,g=this.height,j=c*.5,k=g*.5,tt=this.zoom,_=this.matrix,nt=c*this.originX,it=g*this.originY,rt=this._follow,st=this.deadzone,at=this.scrollX,ot=this.scrollY;st&&G(st,this.midPoint.x,this.midPoint.y);var ht=!1;if(rt&&!this.panEffect.isRunning){var dt=this.lerp,ut=rt.x-this.followOffset.x,ft=rt.y-this.followOffset.y;st?(ut<st.x?at=f(at,at-(st.x-ut),dt.x):ut>st.right&&(at=f(at,at+(ut-st.right),dt.x)),ft<st.y?ot=f(ot,ot-(st.y-ft),dt.y):ft>st.bottom&&(ot=f(ot,ot+(ft-st.bottom),dt.y))):(at=f(at,ut-nt,dt.x),ot=f(ot,ft-it,dt.y)),ht=!0}this.useBounds&&(at=this.clampX(at),ot=this.clampY(ot)),this.scrollX=at,this.scrollY=ot;var gt=at+j,xt=ot+k;this.midPoint.set(gt,xt);var Et=c/tt,pt=g/tt,mt=Math.floor(gt-Et/2),lt=Math.floor(xt-pt/2);this.worldView.setTo(mt,lt,Et,pt),_.applyITRS(Math.floor(this.x+nt),Math.floor(this.y+it),this.rotation,tt,tt),_.translate(-nt,-it),this.shakeEffect.preRender(),ht&&this.emit(l.FOLLOW_UPDATE,this,rt)},setLerp:function(c,g){return c===void 0&&(c=1),g===void 0&&(g=c),this.lerp.set(c,g),this},setFollowOffset:function(c,g){return c===void 0&&(c=0),g===void 0&&(g=0),this.followOffset.set(c,g),this},startFollow:function(c,g,j,k,tt,_){g===void 0&&(g=!1),j===void 0&&(j=1),k===void 0&&(k=j),tt===void 0&&(tt=0),_===void 0&&(_=tt),this._follow=c,this.roundPixels=g,j=h(j,0,1),k=h(k,0,1),this.lerp.set(j,k),this.followOffset.set(tt,_);var nt=this.width/2,it=this.height/2,rt=c.x-tt,st=c.y-_;return this.midPoint.set(rt,st),this.scrollX=rt-nt,this.scrollY=st-it,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,g){this.visible&&(this.rotateToEffect.update(c,g),this.panEffect.update(c,g),this.zoomEffect.update(c,g),this.shakeEffect.update(c,g),this.flashEffect.update(c,g),this.fadeEffect.update(c,g))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});i.exports=p},32743:(i,$,e)=>{var u=e(38058),G=e(83419),h=e(95540),r=e(37277),o=e(37303),n=e(97480),l=e(44594),f=new G({initialize:function(d){this.scene=d,this.systems=d.sys,this.roundPixels=d.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,d.sys.events.once(l.BOOT,this.boot,this),d.sys.events.on(l.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var d=this.systems.events;d.on(l.UPDATE,this.update,this),d.once(l.SHUTDOWN,this.shutdown,this)},add:function(s,d,p,c,g,j){s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),g===void 0&&(g=!1),j===void 0&&(j="");var k=new u(s,d,p,c);return k.setName(j),k.setScene(this.scene),k.setRoundPixels(this.roundPixels),k.id=this.getNextID(),this.cameras.push(k),g&&(this.main=k),k},addExisting:function(s,d){d===void 0&&(d=!1);var p=this.cameras.indexOf(s);return p===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),d&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,d=1,p=0;p<32;p++){for(var c=!1,g=0;g<s.length;g++){var j=s[g];if(j&&j.id===d){c=!0;continue}}if(c)d=d<<1;else return d}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var d=0,p=this.cameras,c=0;c<p.length;c++){var g=p[c];(!s||s&&g.visible)&&d++}return d},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var d=this.scene.sys.scale.width,p=this.scene.sys.scale.height,c=0;c<s.length;c++){var g=s[c],j=h(g,"x",0),k=h(g,"y",0),tt=h(g,"width",d),_=h(g,"height",p),nt=this.add(j,k,tt,_);nt.name=h(g,"name",""),nt.zoom=h(g,"zoom",1),nt.rotation=h(g,"rotation",0),nt.scrollX=h(g,"scrollX",0),nt.scrollY=h(g,"scrollY",0),nt.roundPixels=h(g,"roundPixels",!1),nt.visible=h(g,"visible",!0);var it=h(g,"backgroundColor",!1);it&&nt.setBackgroundColor(it);var rt=h(g,"bounds",null);if(rt){var st=h(rt,"x",0),at=h(rt,"y",0),ot=h(rt,"width",d),ht=h(rt,"height",p);nt.setBounds(st,at,ot,ht)}}return this},getCamera:function(s){for(var d=this.cameras,p=0;p<d.length;p++)if(d[p].name===s)return d[p];return null},getCamerasBelowPointer:function(s){for(var d=this.cameras,p=s.x,c=s.y,g=[],j=0;j<d.length;j++){var k=d[j];k.visible&&k.inputEnabled&&o(k,p,c)&&g.unshift(k)}return g},remove:function(s,d){d===void 0&&(d=!0),Array.isArray(s)||(s=[s]);for(var p=0,c=this.cameras,g=0;g<s.length;g++){var j=c.indexOf(s[g]);j!==-1&&(d?c[j].destroy():c[j].renderList=[],c.splice(j,1),p++)}return!this.main&&c[0]&&(this.main=c[0]),p},render:function(s,d){for(var p=this.scene,c=this.cameras,g=0;g<c.length;g++){var j=c[g];if(j.visible&&j.alpha>0){j.preRender();var k=this.getVisibleChildren(d.getChildren(),j);s.render(p,k,j)}}},getVisibleChildren:function(s,d){return s.filter(function(p){return p.willRender(d)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,d){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(s,d)},onResize:function(s,d,p,c,g){for(var j=0;j<this.cameras.length;j++){var k=this.cameras[j];k._x===0&&k._y===0&&k._width===c&&k._height===g&&k.setSize(d.width,d.height)}},resize:function(s,d){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(s,d)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var d=this.systems.events;d.off(l.UPDATE,this.update,this),d.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(l.START,this.start,this),this.systems.events.off(l.DESTROY,this.destroy,this),this.systems.game.scale.off(n.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",f,"cameras"),i.exports=f},5020:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(19715),r=new G({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,n,l,f,s,d,p,c){if(o===void 0&&(o=!0),n===void 0&&(n=1e3),l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=!1),p===void 0&&(p=null),c===void 0&&(c=this.camera.scene),!d&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=o,this.progress=0,this.red=l,this.green=f,this.blue=s,this.alpha=o?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=c;var g=o?h.FADE_OUT_START:h.FADE_IN_START;return this.camera.emit(g,this.camera,this,n,l,f,s),this.camera},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(o){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning&&!this.isComplete)return!1;var l=this.camera,f=this.red/255,s=this.green/255,d=this.blue/255;return o.drawFillRect(l.x,l.y,l.width,l.height,n(d,s,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var o=this.direction?h.FADE_OUT_COMPLETE:h.FADE_IN_COMPLETE;this.camera.emit(o,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});i.exports=r},10662:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(19715),r=new G({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(o,n,l,f,s,d,p){return o===void 0&&(o=250),n===void 0&&(n=255),l===void 0&&(l=255),f===void 0&&(f=255),s===void 0&&(s=!1),d===void 0&&(d=null),p===void 0&&(p=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,this.red=n,this.green=l,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(h.FLASH_START,this.camera,this,o,n,l,f),this.camera)},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(o){if(!this.isRunning)return!1;var n=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning)return!1;var l=this.camera,f=this.red/255,s=this.green/255,d=this.blue/255;return o.drawFillRect(l.x,l.y,l.width,l.height,n(d,s,f,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});i.exports=r},20359:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(62640),r=e(19715),o=e(26099),n=new G({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,f,s,d,p,c,g){s===void 0&&(s=1e3),d===void 0&&(d=h.Linear),p===void 0&&(p=!1),c===void 0&&(c=null),g===void 0&&(g=this.camera.scene);var j=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(j.scrollX,j.scrollY),this.destination.set(l,f),j.getScroll(l,f,this.current),typeof d=="string"&&h.hasOwnProperty(d)?this.ease=h[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=g,this.camera.emit(r.PAN_START,this.camera,this,s,l,f)),j},update:function(l,f){if(this.isRunning){this._elapsed+=f;var s=u(this._elapsed/this.duration,0,1);this.progress=s;var d=this.camera;if(this._elapsed<this.duration){var p=this.ease(s);d.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*p,g=this.source.y+(this.current.y-this.source.y)*p;d.setScroll(c,g),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,s,c,g)}else d.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,s,d.scrollX,d.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});i.exports=n},34208:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(19715),r=e(62640),o=new G({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,l,f,s,d,p,c){f===void 0&&(f=1e3),s===void 0&&(s=r.Linear),d===void 0&&(d=!1),p===void 0&&(p=null),c===void 0&&(c=this.camera.scene),l===void 0&&(l=!1),this.shortestPath=l;var g=n;n<0?(g=-1*n,this.clockwise=!1):this.clockwise=!0;var j=360*Math.PI/180;g=g-Math.floor(g/j)*j;var k=this.camera;if(!d&&this.isRunning)return k;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=k.rotation,this.destination=g,typeof s=="string"&&r.hasOwnProperty(s)?this.ease=r[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=c,this.shortestPath){var tt=0,_=0;this.destination>this.source?tt=Math.abs(this.destination-this.source):tt=Math.abs(this.destination+j)-this.source,this.source>this.destination?_=Math.abs(this.source-this.destination):_=Math.abs(this.source+j)-this.destination,tt<_?this.clockwise=!0:tt>_&&(this.clockwise=!1)}return this.camera.emit(h.ROTATE_START,this.camera,this,f,g),k},update:function(n,l){if(this.isRunning){this._elapsed+=l;var f=u(this._elapsed/this.duration,0,1);this.progress=f;var s=this.camera;if(this._elapsed<this.duration){var d=this.ease(f);this.current=s.rotation;var p=0,c=360*Math.PI/180,g=this.destination,j=this.current;this.clockwise===!1&&(g=this.current,j=this.destination),g>=j?p=Math.abs(g-j):p=Math.abs(g+c)-j;var k=0;this.clockwise?k=s.rotation+p*d:k=s.rotation-p*d,s.rotation=k,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,f,k)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});i.exports=o},30330:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(19715),r=e(26099),o=new G({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,l,f,s,d){return n===void 0&&(n=100),l===void 0&&(l=.05),f===void 0&&(f=!1),s===void 0&&(s=null),d===void 0&&(d=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof l=="number"?this.intensity.set(l):this.intensity.set(l.x,l.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=d,this.camera.emit(h.SHAKE_START,this.camera,this,n,l),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,l){if(this.isRunning)if(this._elapsed+=l,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,s=this.camera.width,d=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*f.x*s*2-f.x*s)*p,this._offsetY=(Math.random()*f.y*d*2-f.y*d)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});i.exports=o},45641:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(62640),r=e(19715),o=new G({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,f,s,d,p){l===void 0&&(l=1e3),f===void 0&&(f=h.Linear),s===void 0&&(s=!1),d===void 0&&(d=null),p===void 0&&(p=this.camera.scene);var c=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source=c.zoom,this.destination=n,typeof f=="string"&&h.hasOwnProperty(f)?this.ease=h[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(r.ZOOM_START,this.camera,this,l,n)),c},update:function(n,l){this.isRunning&&(this._elapsed+=l,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});i.exports=o},20052:(i,$,e)=>{i.exports={Fade:e(5020),Flash:e(10662),Pan:e(20359),Shake:e(30330),RotateTo:e(34208),Zoom:e(45641)}},16438:i=>{i.exports="cameradestroy"},32726:i=>{i.exports="camerafadeincomplete"},87807:i=>{i.exports="camerafadeinstart"},45917:i=>{i.exports="camerafadeoutcomplete"},95666:i=>{i.exports="camerafadeoutstart"},47056:i=>{i.exports="cameraflashcomplete"},91261:i=>{i.exports="cameraflashstart"},45047:i=>{i.exports="followupdate"},81927:i=>{i.exports="camerapancomplete"},74264:i=>{i.exports="camerapanstart"},54419:i=>{i.exports="postrender"},79330:i=>{i.exports="prerender"},93183:i=>{i.exports="camerarotatecomplete"},80112:i=>{i.exports="camerarotatestart"},62252:i=>{i.exports="camerashakecomplete"},86017:i=>{i.exports="camerashakestart"},539:i=>{i.exports="camerazoomcomplete"},51892:i=>{i.exports="camerazoomstart"},19715:(i,$,e)=>{i.exports={DESTROY:e(16438),FADE_IN_COMPLETE:e(32726),FADE_IN_START:e(87807),FADE_OUT_COMPLETE:e(45917),FADE_OUT_START:e(95666),FLASH_COMPLETE:e(47056),FLASH_START:e(91261),FOLLOW_UPDATE:e(45047),PAN_COMPLETE:e(81927),PAN_START:e(74264),POST_RENDER:e(54419),PRE_RENDER:e(79330),ROTATE_COMPLETE:e(93183),ROTATE_START:e(80112),SHAKE_COMPLETE:e(62252),SHAKE_START:e(86017),ZOOM_COMPLETE:e(539),ZOOM_START:e(51892)}},87969:(i,$,e)=>{i.exports={Camera:e(38058),BaseCamera:e(71911),CameraManager:e(32743),Effects:e(20052),Events:e(19715)}},63091:(i,$,e)=>{var u=e(83419),G=e(35154),h=new u({initialize:function(o){this.camera=G(o,"camera",null),this.left=G(o,"left",null),this.right=G(o,"right",null),this.up=G(o,"up",null),this.down=G(o,"down",null),this.zoomIn=G(o,"zoomIn",null),this.zoomOut=G(o,"zoomOut",null),this.zoomSpeed=G(o,"zoomSpeed",.01),this.minZoom=G(o,"minZoom",.001),this.maxZoom=G(o,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=G(o,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=G(o,"speed.x",0),this.speedY=G(o,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var o=this.camera;this.up&&this.up.isDown?o.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(o.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?o.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(o.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(o.zoom-=this.zoomSpeed,o.zoom<this.minZoom&&(o.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(o.zoom+=this.zoomSpeed,o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});i.exports=h},58818:(i,$,e)=>{var u=e(83419),G=e(35154),h=new u({initialize:function(o){this.camera=G(o,"camera",null),this.left=G(o,"left",null),this.right=G(o,"right",null),this.up=G(o,"up",null),this.down=G(o,"down",null),this.zoomIn=G(o,"zoomIn",null),this.zoomOut=G(o,"zoomOut",null),this.zoomSpeed=G(o,"zoomSpeed",.01),this.minZoom=G(o,"minZoom",.001),this.maxZoom=G(o,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=G(o,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=G(o,"acceleration.x",0),this.accelY=G(o,"acceleration.y",0)),this.dragX=0,this.dragY=0;var l=G(o,"drag",null);typeof l=="number"?(this.dragX=l,this.dragY=l):(this.dragX=G(o,"drag.x",0),this.dragY=G(o,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=G(o,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=G(o,"maxSpeed.x",0),this.maxSpeedY=G(o,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var o=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(o.scrollX-=this._speedX*r|0),this._speedY!==0&&(o.scrollY-=this._speedY*r|0),this._zoom!==0&&(o.zoom+=this._zoom,o.zoom<this.minZoom?o.zoom=this.minZoom:o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});i.exports=h},38865:(i,$,e)=>{i.exports={FixedKeyControl:e(63091),SmoothedKeyControl:e(58818)}},26638:(i,$,e)=>{i.exports={Controls:e(38865),Scene2D:e(87969)}},8054:(i,$,e)=>{var u={VERSION:"3.80.1",BlendModes:e(10312),ScaleModes:e(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};i.exports=u},69547:(i,$,e)=>{var u=e(83419),G=e(8054),h=e(42363),r=e(82264),o=e(95540),n=e(35154),l=e(41212),f=e(29747),s=e(75508),d=e(36060),p=e(80333),c=new u({initialize:function(j){j===void 0&&(j={});var k=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],tt="#ffffff",_=n(j,"scale",null);this.width=n(_,"width",1024,j),this.height=n(_,"height",768,j),this.zoom=n(_,"zoom",1,j),this.parent=n(_,"parent",void 0,j),this.scaleMode=n(_,_?"mode":"scaleMode",0,j),this.expandParent=n(_,"expandParent",!0,j),this.autoRound=n(_,"autoRound",!1,j),this.autoCenter=n(_,"autoCenter",0,j),this.resizeInterval=n(_,"resizeInterval",500,j),this.fullscreenTarget=n(_,"fullscreenTarget",null,j),this.minWidth=n(_,"min.width",0,j),this.maxWidth=n(_,"max.width",0,j),this.minHeight=n(_,"min.height",0,j),this.maxHeight=n(_,"max.height",0,j),this.snapWidth=n(_,"snap.width",0,j),this.snapHeight=n(_,"snap.height",0,j),this.renderType=n(j,"type",G.AUTO),this.canvas=n(j,"canvas",null),this.context=n(j,"context",null),this.canvasStyle=n(j,"canvasStyle",null),this.customEnvironment=n(j,"customEnvironment",!1),this.sceneConfig=n(j,"scene",null),this.seed=n(j,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=n(j,"title",""),this.gameURL=n(j,"url","https://phaser.io"),this.gameVersion=n(j,"version",""),this.autoFocus=n(j,"autoFocus",!0),this.stableSort=n(j,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=n(j,"dom.createContainer",!1),this.domPointerEvents=n(j,"dom.pointerEvents","none"),this.inputKeyboard=n(j,"input.keyboard",!0),this.inputKeyboardEventTarget=n(j,"input.keyboard.target",window),this.inputKeyboardCapture=n(j,"input.keyboard.capture",[]),this.inputMouse=n(j,"input.mouse",!0),this.inputMouseEventTarget=n(j,"input.mouse.target",null),this.inputMousePreventDefaultDown=n(j,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=n(j,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=n(j,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=n(j,"input.mouse.preventDefaultWheel",!0),this.inputTouch=n(j,"input.touch",r.input.touch),this.inputTouchEventTarget=n(j,"input.touch.target",null),this.inputTouchCapture=n(j,"input.touch.capture",!0),this.inputActivePointers=n(j,"input.activePointers",1),this.inputSmoothFactor=n(j,"input.smoothFactor",0),this.inputWindowEvents=n(j,"input.windowEvents",!0),this.inputGamepad=n(j,"input.gamepad",!1),this.inputGamepadEventTarget=n(j,"input.gamepad.target",window),this.disableContextMenu=n(j,"disableContextMenu",!1),this.audio=n(j,"audio",{}),this.hideBanner=n(j,"banner",null)===!1,this.hidePhaser=n(j,"banner.hidePhaser",!1),this.bannerTextColor=n(j,"banner.text",tt),this.bannerBackgroundColor=n(j,"banner.background",k),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(j,"fps",null),this.disablePreFX=n(j,"disablePreFX",!1),this.disablePostFX=n(j,"disablePostFX",!1);var nt=n(j,"render",null);this.pipeline=n(nt,"pipeline",null,j),this.autoMobilePipeline=n(nt,"autoMobilePipeline",!0,j),this.defaultPipeline=n(nt,"defaultPipeline",d.MULTI_PIPELINE,j),this.antialias=n(nt,"antialias",!0,j),this.antialiasGL=n(nt,"antialiasGL",!0,j),this.mipmapFilter=n(nt,"mipmapFilter","",j),this.desynchronized=n(nt,"desynchronized",!1,j),this.roundPixels=n(nt,"roundPixels",!0,j),this.pixelArt=n(nt,"pixelArt",this.zoom!==1,j),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(nt,"transparent",!1,j),this.clearBeforeRender=n(nt,"clearBeforeRender",!0,j),this.preserveDrawingBuffer=n(nt,"preserveDrawingBuffer",!1,j),this.premultipliedAlpha=n(nt,"premultipliedAlpha",!0,j),this.failIfMajorPerformanceCaveat=n(nt,"failIfMajorPerformanceCaveat",!1,j),this.powerPreference=n(nt,"powerPreference","default",j),this.batchSize=n(nt,"batchSize",4096,j),this.maxTextures=n(nt,"maxTextures",-1,j),this.maxLights=n(nt,"maxLights",10,j);var it=n(j,"backgroundColor",0);this.backgroundColor=p(it),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=n(j,"callbacks.preBoot",f),this.postBoot=n(j,"callbacks.postBoot",f),this.physics=n(j,"physics",{}),this.defaultPhysicsSystem=n(this.physics,"default",!1),this.loaderBaseURL=n(j,"loader.baseURL",""),this.loaderPath=n(j,"loader.path",""),this.loaderMaxParallelDownloads=n(j,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=n(j,"loader.crossOrigin",void 0),this.loaderResponseType=n(j,"loader.responseType",""),this.loaderAsync=n(j,"loader.async",!0),this.loaderUser=n(j,"loader.user",""),this.loaderPassword=n(j,"loader.password",""),this.loaderTimeout=n(j,"loader.timeout",0),this.loaderWithCredentials=n(j,"loader.withCredentials",!1),this.loaderImageLoadType=n(j,"loader.imageLoadType","XHR"),this.loaderLocalScheme=n(j,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=n(j,"fx.glow.quality",.1),this.glowFXDistance=n(j,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var rt=n(j,"plugins",null),st=h.DefaultScene;rt&&(Array.isArray(rt)?this.defaultPlugins=rt:l(rt)&&(this.installGlobalPlugins=o(rt,"global",[]),this.installScenePlugins=o(rt,"scene",[]),Array.isArray(rt.default)?st=rt.default:Array.isArray(rt.defaultMerge)&&(st=st.concat(rt.defaultMerge)))),this.defaultPlugins=st;var at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=n(j,"images.default",at+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=n(j,"images.missing",at+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=n(j,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=G.WEBGL:window.FORCE_CANVAS&&(this.renderType=G.CANVAS))}});i.exports=c},86054:(i,$,e)=>{var u=e(20623),G=e(27919),h=e(8054),r=e(89357),o=function(n){var l=n.config;if((l.customEnvironment||l.canvas)&&l.renderType===h.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!l.customEnvironment&&!l.canvas&&l.renderType!==h.HEADLESS)if(l.renderType===h.AUTO&&(l.renderType=r.webGL?h.WEBGL:h.CANVAS),l.renderType===h.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(l.renderType===h.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+l.renderType);l.antialias||G.disableSmoothing();var f=n.scale.baseSize,s=f.width,d=f.height;if(l.canvas?(n.canvas=l.canvas,n.canvas.width=s,n.canvas.height=d):n.canvas=G.create(n,s,d,l.renderType),l.canvasStyle&&(n.canvas.style=l.canvasStyle),l.antialias||u.setCrisp(n.canvas),l.renderType!==h.HEADLESS){var p,c;p=e(68627),c=e(74797),l.renderType===h.WEBGL?n.renderer=new c(n):(n.renderer=new p(n),n.context=n.renderer.gameContext)}};i.exports=o},96391:(i,$,e)=>{var u=e(8054),G=function(h){var r=h.config;if(!r.hideBanner){var o="WebGL";r.renderType===u.CANVAS?o="Canvas":r.renderType===u.HEADLESS&&(o="Headless");var n=r.audio,l=h.device.audio,f;if(l.webAudio&&!n.disableWebAudio?f="Web Audio":n.noAudio||!l.webAudio&&!l.audioData?f="No Audio":f="HTML5 Audio",h.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var s="",d=[s];if(Array.isArray(r.bannerBackgroundColor)){var p;r.bannerBackgroundColor.forEach(function(g){s=s.concat("%c "),d.push("background: "+g),p=g}),d[d.length-1]="color: "+r.bannerTextColor+"; background: "+p}else s=s.concat("%c "),d.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);d.push("background: transparent"),r.gameTitle&&(s=s.concat(r.gameTitle),r.gameVersion&&(s=s.concat(" v"+r.gameVersion)),r.hidePhaser||(s=s.concat(" / ")));var c="";r.hidePhaser||(s=s.concat("Phaser v"+u.VERSION+c+" ("+o+" | "+f+")")),s=s.concat(" %c "+r.gameURL),d[0]=s,console.log.apply(console,d)}}};i.exports=G},50127:(i,$,e)=>{var u=e(40366),G=e(60848),h=e(24047),r=e(27919),o=e(83419),n=e(69547),l=e(83719),f=e(86054),s=e(45893),d=e(96391),p=e(82264),c=e(57264),g=e(50792),j=e(8443),k=e(7003),tt=e(37277),_=e(77332),nt=e(76531),it=e(60903),rt=e(69442),st=e(17130),at=e(65898),ot=e(51085),ht=e(14747);if(0)var dt;var ut=new o({initialize:function(gt){this.config=new n(gt),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new g,this.anims=new G(this),this.textures=new st(this),this.cache=new h(this),this.registry=new s(this,new g),this.input=new k(this,this.config),this.scene=new it(this,this.config.sceneConfig),this.device=p,this.scale=new nt(this,this.config),this.sound=null,this.sound=ht.create(this),this.loop=new at(this,this.config.fps),this.plugins=new _(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!tt.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),l(this),d(this),u(this.canvas,this.config.parent),this.textures.once(rt.READY,this.texturesReady,this),this.events.emit(j.BOOT)},texturesReady:function(){this.events.emit(j.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),ot(this);var ft=this.events;ft.on(j.HIDDEN,this.onHidden,this),ft.on(j.VISIBLE,this.onVisible,this),ft.on(j.BLUR,this.onBlur,this),ft.on(j.FOCUS,this.onFocus,this)},step:function(ft,gt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var xt=this.events;xt.emit(j.PRE_STEP,ft,gt),xt.emit(j.STEP,ft,gt),this.scene.update(ft,gt),xt.emit(j.POST_STEP,ft,gt);var Et=this.renderer;Et.preRender(),xt.emit(j.PRE_RENDER,Et,ft,gt),this.scene.render(Et),Et.postRender(),xt.emit(j.POST_RENDER,Et,ft,gt)}},headlessStep:function(ft,gt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var xt=this.events;xt.emit(j.PRE_STEP,ft,gt),xt.emit(j.STEP,ft,gt),this.scene.update(ft,gt),xt.emit(j.POST_STEP,ft,gt),this.scene.isProcessing=!1,xt.emit(j.PRE_RENDER,null,ft,gt),xt.emit(j.POST_RENDER,null,ft,gt)}},onHidden:function(){this.loop.pause(),this.events.emit(j.PAUSE)},pause:function(){var ft=this.isPaused;this.isPaused=!0,ft||this.events.emit(j.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(j.RESUME)},resume:function(){var ft=this.isPaused;this.isPaused=!1,ft&&this.events.emit(j.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(ft,gt){gt===void 0&&(gt=!1),this.pendingDestroy=!0,this.removeCanvas=ft,this.noReturn=gt},runDestroy:function(){this.scene.destroy(),this.events.emit(j.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});i.exports=ut},65898:(i,$,e)=>{var u=e(83419),G=e(35154),h=e(29747),r=e(43092),o=new u({initialize:function(l,f){this.game=l,this.raf=new r,this.started=!1,this.running=!1,this.minFps=G(f,"min",5),this.targetFps=G(f,"target",60),this.fpsLimit=G(f,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=h,this.forceSetTimeOut=G(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=G(f,"deltaHistory",10),this.panicMax=G(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=G(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=Math.min(this._target,this.deltaHistory[l]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(n){var l=this.deltaIndex,f=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,n=Math.min(n,this._target)),n>this._min&&(n=f[l],n=Math.min(n,this._min)),f[l]=n,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var d=0,p=0;p<s;p++)d+=f[p];return d/=s,d},updateFPS:function(n){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0},stepLimitFPS:function(n){this.now=n;var l=Math.max(0,n-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta+=l,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(n,this.delta),this.delta=0),this.lastTime=n,this.frame++},step:function(n){this.now=n;var l=Math.max(0,n-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta=l,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.callback(n,l),this.lastTime=n,this.frame++},tick:function(){var n=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(n):this.step(n)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){n===void 0&&(n=!1);var l=window.performance.now();if(!this.running){n&&(this.startTime+=-this.lastTime+(this.lastTime+l));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});i.exports=o},51085:(i,$,e)=>{var u=e(8443),G=function(h){var r,o=h.events;if(document.hidden!==void 0)r="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},r=f+"visibilitychange")})}var l=function(f){document.hidden||f.type==="pause"?o.emit(u.HIDDEN):o.emit(u.VISIBLE)};r&&document.addEventListener(r,l,!1),window.onblur=function(){o.emit(u.BLUR)},window.onfocus=function(){o.emit(u.FOCUS)},window.focus&&h.config.autoFocus&&window.focus()};i.exports=G},97217:i=>{i.exports="blur"},47548:i=>{i.exports="boot"},19814:i=>{i.exports="contextlost"},68446:i=>{i.exports="destroy"},41700:i=>{i.exports="focus"},25432:i=>{i.exports="hidden"},65942:i=>{i.exports="pause"},59211:i=>{i.exports="postrender"},47789:i=>{i.exports="poststep"},39066:i=>{i.exports="prerender"},460:i=>{i.exports="prestep"},16175:i=>{i.exports="ready"},42331:i=>{i.exports="resume"},11966:i=>{i.exports="step"},32969:i=>{i.exports="systemready"},94830:i=>{i.exports="visible"},8443:(i,$,e)=>{i.exports={BLUR:e(97217),BOOT:e(47548),CONTEXT_LOST:e(19814),DESTROY:e(68446),FOCUS:e(41700),HIDDEN:e(25432),PAUSE:e(65942),POST_RENDER:e(59211),POST_STEP:e(47789),PRE_RENDER:e(39066),PRE_STEP:e(460),READY:e(16175),RESUME:e(42331),STEP:e(11966),SYSTEM_READY:e(32969),VISIBLE:e(94830)}},42857:(i,$,e)=>{i.exports={Config:e(69547),CreateRenderer:e(86054),DebugHeader:e(96391),Events:e(8443),TimeStep:e(65898),VisibilityHandler:e(51085)}},99584:(i,$,e)=>{var u=e(5290),G=e(27919),h=e(35154),r=function(o){var n=h(o,"data",[]),l=h(o,"canvas",null),f=h(o,"palette",u),s=h(o,"pixelWidth",1),d=h(o,"pixelHeight",s),p=h(o,"resizeCanvas",!0),c=h(o,"clearCanvas",!0),g=h(o,"preRender",null),j=h(o,"postRender",null),k=Math.floor(Math.abs(n[0].length*s)),tt=Math.floor(Math.abs(n.length*d));l||(l=G.create2D(this,k,tt),p=!1,c=!1),p&&(l.width=k,l.height=tt);var _=l.getContext("2d",{willReadFrequently:!0});c&&_.clearRect(0,0,k,tt),g&&g(l,_);for(var nt=0;nt<n.length;nt++)for(var it=n[nt],rt=0;rt<it.length;rt++){var st=it[rt];st!=="."&&st!==" "&&(_.fillStyle=f[st],_.fillRect(rt*s,nt*d,s,d))}return j&&j(l,_),l};i.exports=r},15822:(i,$,e)=>{i.exports={GenerateTexture:e(99584),Palettes:e(57763)}},5290:i=>{i.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:i=>{i.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:i=>{i.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:i=>{i.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:i=>{i.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(i,$,e)=>{i.exports={ARNE16:e(5290),C64:e(23816),CGA:e(9866),JMP:e(77552),MSX:e(92259)}},46728:(i,$,e)=>{var u=e(83419),G=e(36316),h=e(80021),r=e(26099),o=new u({Extends:h,initialize:function(l,f,s,d){h.call(this,"CubicBezierCurve"),Array.isArray(l)&&(d=new r(l[6],l[7]),s=new r(l[4],l[5]),f=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=f,this.p2=s,this.p3=d},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,l){l===void 0&&(l=new r);var f=this.p0,s=this.p1,d=this.p2,p=this.p3;return l.set(G(n,f.x,s.x,d.x,p.x),G(n,f.y,s.y,d.y,p.y))},draw:function(n,l){l===void 0&&(l=32);var f=this.getPoints(l);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var s=1;s<f.length;s++)n.lineTo(f[s].x,f[s].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(n){var l=n.points,f=new r(l[0],l[1]),s=new r(l[2],l[3]),d=new r(l[4],l[5]),p=new r(l[6],l[7]);return new o(f,s,d,p)},i.exports=o},80021:(i,$,e)=>{var u=e(83419),G=e(19217),h=e(87841),r=e(26099),o=new u({initialize:function(l){this.type=l,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(n,l){return l===void 0&&(l=32),n.strokePoints(this.getPoints(l))},getBounds:function(n,l){n||(n=new h),l===void 0&&(l=16);var f=this.getLength();l>f&&(l=f/2);var s=Math.max(1,Math.round(f/l));return G(this.getSpacedPoints(s),n)},getDistancePoints:function(n){var l=this.getLength(),f=Math.max(1,l/n);return this.getSpacedPoints(f)},getEndPoint:function(n){return n===void 0&&(n=new r),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var l=[],f,s=this.getPoint(0,this._tmpVec2A),d=0;l.push(0);for(var p=1;p<=n;p++)f=this.getPoint(p/n,this._tmpVec2B),d+=f.distance(s),l.push(d),s.copy(f);return this.cacheArcLengths=l,l},getPointAt:function(n,l){var f=this.getUtoTmapping(n);return this.getPoint(f,l)},getPoints:function(n,l,f){f===void 0&&(f=[]),n||(l?n=this.getLength()/l:n=this.defaultDivisions);for(var s=0;s<=n;s++)f.push(this.getPoint(s/n));return f},getRandomPoint:function(n){return n===void 0&&(n=new r),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,l,f){f===void 0&&(f=[]),n||(l?n=this.getLength()/l:n=this.defaultDivisions);for(var s=0;s<=n;s++){var d=this.getUtoTmapping(s/n,null,n);f.push(this.getPoint(d))}return f},getStartPoint:function(n){return n===void 0&&(n=new r),this.getPointAt(0,n)},getTangent:function(n,l){l===void 0&&(l=new r);var f=1e-4,s=n-f,d=n+f;return s<0&&(s=0),d>1&&(d=1),this.getPoint(s,this._tmpVec2A),this.getPoint(d,l),l.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,l){var f=this.getUtoTmapping(n);return this.getTangent(f,l)},getTFromDistance:function(n,l){return n<=0?0:this.getUtoTmapping(0,n,l)},getUtoTmapping:function(n,l,f){var s=this.getLengths(f),d=0,p=s.length,c;l?c=Math.min(l,s[p-1]):c=n*s[p-1];for(var g=0,j=p-1,k;g<=j;)if(d=Math.floor(g+(j-g)/2),k=s[d]-c,k<0)g=d+1;else if(k>0)j=d-1;else{j=d;break}if(d=j,s[d]===c)return d/(p-1);var tt=s[d],_=s[d+1],nt=_-tt,it=(c-tt)/nt;return(d+it)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});i.exports=o},73825:(i,$,e)=>{var u=e(83419),G=e(80021),h=e(39506),r=e(35154),o=e(43396),n=e(26099),l=new u({Extends:G,initialize:function(s,d,p,c,g,j,k,tt){if(typeof s=="object"){var _=s;s=r(_,"x",0),d=r(_,"y",0),p=r(_,"xRadius",0),c=r(_,"yRadius",p),g=r(_,"startAngle",0),j=r(_,"endAngle",360),k=r(_,"clockwise",!1),tt=r(_,"rotation",0)}else c===void 0&&(c=p),g===void 0&&(g=0),j===void 0&&(j=360),k===void 0&&(k=!1),tt===void 0&&(tt=0);G.call(this,"EllipseCurve"),this.p0=new n(s,d),this._xRadius=p,this._yRadius=c,this._startAngle=h(g),this._endAngle=h(j),this._clockwise=k,this._rotation=h(tt)},getStartPoint:function(f){return f===void 0&&(f=new n),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,s){s===void 0&&(s=new n);for(var d=Math.PI*2,p=this._endAngle-this._startAngle,c=Math.abs(p)<Number.EPSILON;p<0;)p+=d;for(;p>d;)p-=d;p<Number.EPSILON&&(c?p=0:p=d),this._clockwise&&!c&&(p===d?p=-d:p=p-d);var g=this._startAngle+f*p,j=this.p0.x+this._xRadius*Math.cos(g),k=this.p0.y+this._yRadius*Math.sin(g);if(this._rotation!==0){var tt=Math.cos(this._rotation),_=Math.sin(this._rotation),nt=j-this.p0.x,it=k-this.p0.y;j=nt*tt-it*_+this.p0.x,k=nt*_+it*tt+this.p0.y}return s.set(j,k)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return o(this._startAngle)},set:function(f){this._startAngle=h(f)}},endAngle:{get:function(){return o(this._endAngle)},set:function(f){this._endAngle=h(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return o(this._rotation)},set:function(f){this._rotation=h(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});l.fromJSON=function(f){return new l(f)},i.exports=l},33951:(i,$,e)=>{var u=e(83419),G=e(80021),h=e(19217),r=e(87841),o=e(26099),n=new u({Extends:G,initialize:function(f,s){G.call(this,"LineCurve"),Array.isArray(f)&&(s=new o(f[2],f[3]),f=new o(f[0],f[1])),this.p0=f,this.p1=s,this.arcLengthDivisions=1},getBounds:function(l){return l===void 0&&(l=new r),h([this.p0,this.p1],l)},getStartPoint:function(l){return l===void 0&&(l=new o),l.copy(this.p0)},getResolution:function(l){return l===void 0&&(l=1),l},getPoint:function(l,f){return f===void 0&&(f=new o),l===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(l).add(this.p0),f)},getPointAt:function(l,f){return this.getPoint(l,f)},getTangent:function(l,f){return f===void 0&&(f=new o),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(l,f,s){var d;if(f){var p=this.getLengths(s),c=p[p.length-1],g=Math.min(f,c);d=g/c}else d=l;return d},draw:function(l){return l.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(l){var f=l.points,s=new o(f[0],f[1]),d=new o(f[2],f[3]);return new n(s,d)},i.exports=n},14744:(i,$,e)=>{var u=e(83419),G=e(80021),h=e(32112),r=e(26099),o=new u({Extends:G,initialize:function(l,f,s){G.call(this,"QuadraticBezierCurve"),Array.isArray(l)&&(s=new r(l[4],l[5]),f=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=f,this.p2=s},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,l){l===void 0&&(l=new r);var f=this.p0,s=this.p1,d=this.p2;return l.set(h(n,f.x,s.x,d.x),h(n,f.y,s.y,d.y))},draw:function(n,l){l===void 0&&(l=32);var f=this.getPoints(l);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var s=1;s<f.length;s++)n.lineTo(f[s].x,f[s].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(n){var l=n.points,f=new r(l[0],l[1]),s=new r(l[2],l[3]),d=new r(l[4],l[5]);return new o(f,s,d)},i.exports=o},42534:(i,$,e)=>{var u=e(87842),G=e(83419),h=e(80021),r=e(26099),o=new G({Extends:h,initialize:function(l){l===void 0&&(l=[]),h.call(this,"SplineCurve"),this.points=[],this.addPoints(l)},addPoints:function(n){for(var l=0;l<n.length;l++){var f=new r;typeof n[l]=="number"?(f.x=n[l],f.y=n[l+1],l++):Array.isArray(n[l])?(f.x=n[l][0],f.y=n[l][1]):(f.x=n[l].x,f.y=n[l].y),this.points.push(f)}return this},addPoint:function(n,l){var f=new r(n,l);return this.points.push(f),f},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,l){l===void 0&&(l=new r);var f=this.points,s=(f.length-1)*n,d=Math.floor(s),p=s-d,c=f[d===0?d:d-1],g=f[d],j=f[d>f.length-2?f.length-1:d+1],k=f[d>f.length-3?f.length-1:d+2];return l.set(u(p,c.x,g.x,j.x,k.x),u(p,c.y,g.y,j.y,k.y))},toJSON:function(){for(var n=[],l=0;l<this.points.length;l++)n.push(this.points[l].x),n.push(this.points[l].y);return{type:this.type,points:n}}});o.fromJSON=function(n){return new o(n.points)},i.exports=o},25410:(i,$,e)=>{i.exports={Path:e(46669),MoveTo:e(68618),CubicBezier:e(46728),Curve:e(80021),Ellipse:e(73825),Line:e(33951),QuadraticBezier:e(14744),Spline:e(42534)}},68618:(i,$,e)=>{var u=e(83419),G=e(26099),h=new u({initialize:function(o,n){this.active=!1,this.p0=new G(o,n)},getPoint:function(r,o){return o===void 0&&(o=new G),o.copy(this.p0)},getPointAt:function(r,o){return this.getPoint(r,o)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});i.exports=h},46669:(i,$,e)=>{var u=e(83419),G=e(46728),h=e(73825),r=e(39429),o=e(33951),n=e(68618),l=e(14744),f=e(87841),s=e(42534),d=e(26099),p=e(36383),c=new u({initialize:function(j,k){j===void 0&&(j=0),k===void 0&&(k=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,typeof j=="object"?this.fromJSON(j):this.startPoint.set(j,k)},add:function(g){return this.curves.push(g),this},circleTo:function(g,j,k){return j===void 0&&(j=!1),this.ellipseTo(g,g,0,360,j,k)},closePath:function(){var g=this.curves[0].getPoint(0),j=this.curves[this.curves.length-1].getPoint(1);return g.equals(j)||this.curves.push(new o(j,g)),this},cubicBezierTo:function(g,j,k,tt,_,nt){var it=this.getEndPoint(),rt,st,at;return g instanceof d?(rt=g,st=j,at=k):(rt=new d(k,tt),st=new d(_,nt),at=new d(g,j)),this.add(new G(it,rt,st,at))},quadraticBezierTo:function(g,j,k,tt){var _=this.getEndPoint(),nt,it;return g instanceof d?(nt=g,it=j):(nt=new d(k,tt),it=new d(g,j)),this.add(new l(_,nt,it))},draw:function(g,j){for(var k=0;k<this.curves.length;k++){var tt=this.curves[k];tt.active&&tt.draw(g,j)}return g},ellipseTo:function(g,j,k,tt,_,nt){var it=new h(0,0,g,j,k,tt,_,nt),rt=this.getEndPoint(this._tmpVec2A),st=it.getStartPoint(this._tmpVec2B);return rt.subtract(st),it.x=rt.x,it.y=rt.y,this.add(it)},fromJSON:function(g){this.curves=[],this.cacheLengths=[],this.startPoint.set(g.x,g.y),this.autoClose=g.autoClose;for(var j=0;j<g.curves.length;j++){var k=g.curves[j];switch(k.type){case"LineCurve":this.add(o.fromJSON(k));break;case"EllipseCurve":this.add(h.fromJSON(k));break;case"SplineCurve":this.add(s.fromJSON(k));break;case"CubicBezierCurve":this.add(G.fromJSON(k));break;case"QuadraticBezierCurve":this.add(l.fromJSON(k));break}}return this},getBounds:function(g,j){g===void 0&&(g=new f),j===void 0&&(j=16),g.x=Number.MAX_VALUE,g.y=Number.MAX_VALUE;for(var k=new f,tt=p.MIN_SAFE_INTEGER,_=p.MIN_SAFE_INTEGER,nt=0;nt<this.curves.length;nt++){var it=this.curves[nt];it.active&&(it.getBounds(k,j),g.x=Math.min(g.x,k.x),g.y=Math.min(g.y,k.y),tt=Math.max(tt,k.right),_=Math.max(_,k.bottom))}return g.right=tt,g.bottom=_,g},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var g=[],j=0,k=0;k<this.curves.length;k++)j+=this.curves[k].getLength(),g.push(j);return this.cacheLengths=g,g},getCurveAt:function(g){for(var j=g*this.getLength(),k=this.getCurveLengths(),tt=0;tt<k.length;){if(k[tt]>=j)return this.curves[tt];tt++}return null},getEndPoint:function(g){return g===void 0&&(g=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,g):g.copy(this.startPoint),g},getLength:function(){var g=this.getCurveLengths();return g[g.length-1]},getPoint:function(g,j){j===void 0&&(j=new d);for(var k=g*this.getLength(),tt=this.getCurveLengths(),_=0;_<tt.length;){if(tt[_]>=k){var nt=tt[_]-k,it=this.curves[_],rt=it.getLength(),st=rt===0?0:1-nt/rt;return it.getPointAt(st,j)}_++}return null},getPoints:function(g,j){!g&&!j&&(g=this.defaultDivisions);for(var k=[],tt,_=0;_<this.curves.length;_++){var nt=this.curves[_];if(nt.active)for(var it=nt.getResolution(g),rt=nt.getPoints(it,j),st=0;st<rt.length;st++){var at=rt[st];tt&&tt.equals(at)||(k.push(at),tt=at)}}return this.autoClose&&k.length>1&&!k[k.length-1].equals(k[0])&&k.push(k[0]),k},getRandomPoint:function(g){return g===void 0&&(g=new d),this.getPoint(Math.random(),g)},getSpacedPoints:function(g){g===void 0&&(g=40);for(var j=[],k=0;k<=g;k++)j.push(this.getPoint(k/g));return this.autoClose&&j.push(j[0]),j},getStartPoint:function(g){return g===void 0&&(g=new d),g.copy(this.startPoint)},getTangent:function(g,j){j===void 0&&(j=new d);for(var k=g*this.getLength(),tt=this.getCurveLengths(),_=0;_<tt.length;){if(tt[_]>=k){var nt=tt[_]-k,it=this.curves[_],rt=it.getLength(),st=rt===0?0:1-nt/rt;return it.getTangentAt(st,j)}_++}return null},lineTo:function(g,j){g instanceof d?this._tmpVec2B.copy(g):typeof g=="object"?this._tmpVec2B.setFromObject(g):this._tmpVec2B.set(g,j);var k=this.getEndPoint(this._tmpVec2A);return this.add(new o([k.x,k.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(g){return g.unshift(this.getEndPoint()),this.add(new s(g))},moveTo:function(g,j){return g instanceof d?this.add(new n(g.x,g.y)):this.add(new n(g,j))},toJSON:function(){for(var g=[],j=0;j<this.curves.length;j++)g.push(this.curves[j].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:g}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(g,j){return new c(g,j)}),i.exports=c},45893:(i,$,e)=>{var u=e(83419),G=e(24882),h=new u({initialize:function(o,n){this.parent=o,this.events=n,n||(this.events=o.events?o.events:o),this.list={},this.values={},this._frozen=!1,!o.hasOwnProperty("sys")&&this.events&&this.events.once(G.DESTROY,this.destroy,this)},get:function(r){var o=this.list;if(Array.isArray(r)){for(var n=[],l=0;l<r.length;l++)n.push(o[r[l]]);return n}else return o[r]},getAll:function(){var r={};for(var o in this.list)this.list.hasOwnProperty(o)&&(r[o]=this.list[o]);return r},query:function(r){var o={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(r)&&(o[n]=this.list[n]);return o},set:function(r,o){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,o);for(var n in r)this.setValue(n,r[n]);return this},inc:function(r,o){if(this._frozen)return this;o===void 0&&(o=1);var n=this.get(r);return n===void 0&&(n=0),this.set(r,n+o),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,o){if(this._frozen)return this;if(this.has(r))this.values[r]=o;else{var n=this,l=this.list,f=this.events,s=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return l[r]},set:function(d){if(!n._frozen){var p=l[r];l[r]=d,f.emit(G.CHANGE_DATA,s,r,d,p),f.emit(G.CHANGE_DATA_KEY+r,s,d,p)}}}),l[r]=o,f.emit(G.SET_DATA,s,r,o)}return this},each:function(r,o){for(var n=[this.parent,null,void 0],l=1;l<arguments.length;l++)n.push(arguments[l]);for(var f in this.list)n[1]=f,n[2]=this.list[f],r.apply(o,n);return this},merge:function(r,o){o===void 0&&(o=!0);for(var n in r)r.hasOwnProperty(n)&&(o||!o&&!this.has(n))&&this.setValue(n,r[n]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var o=0;o<r.length;o++)this.removeValue(r[o]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var o=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(G.REMOVE_DATA,this.parent,r,o)}return this},pop:function(r){var o=void 0;return!this._frozen&&this.has(r)&&(o=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(G.REMOVE_DATA,this.parent,r,o)),o},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(G.CHANGE_DATA),this.events.off(G.SET_DATA),this.events.off(G.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var o in this.list)this.list[o]!==void 0&&r++;return r}}});i.exports=h},63646:(i,$,e)=>{var u=e(83419),G=e(45893),h=e(37277),r=e(44594),o=new u({Extends:G,initialize:function(l){G.call(this,l,l.sys.events),this.scene=l,this.systems=l.sys,l.sys.events.once(r.BOOT,this.boot,this),l.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){G.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});h.register("DataManagerPlugin",o,"data"),i.exports=o},10700:i=>{i.exports="changedata"},93608:i=>{i.exports="changedata-"},60883:i=>{i.exports="destroy"},69780:i=>{i.exports="removedata"},22166:i=>{i.exports="setdata"},24882:(i,$,e)=>{i.exports={CHANGE_DATA:e(10700),CHANGE_DATA_KEY:e(93608),DESTROY:e(60883),REMOVE_DATA:e(69780),SET_DATA:e(22166)}},44965:(i,$,e)=>{i.exports={DataManager:e(45893),DataManagerPlugin:e(63646),Events:e(24882)}},7098:(i,$,e)=>{var u=e(84148),G={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function h(){if(typeof importScripts=="function")return G;G.audioData=!!window.Audio,G.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),o=!!r.canPlayType;try{if(o){var n=function(s,d){var p=r.canPlayType("audio/"+s).replace(/^no$/,"");return d?!!(p||r.canPlayType("audio/"+d).replace(/^no$/,"")):!!p};if(G.ogg=n('ogg; codecs="vorbis"'),G.opus=n('ogg; codecs="opus"',"opus"),G.mp3=n("mpeg"),G.wav=n("wav"),G.m4a=n("x-m4a"),G.aac=n("aac"),G.flac=n("flac","x-flac"),G.webm=n('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)G.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var l=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(l===10&&f>=11||l>10)&&(G.dolby=!0)}}}}catch{}return G}i.exports=h()},84148:(i,$,e)=>{var u=e(25892),G={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function h(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(G.edge=!0,G.es2019=!0):/OPR/.test(r)?(G.opera=!0,G.es2019=!0):/Chrome\/(\d+)/.test(r)&&!u.windowsPhone?(G.chrome=!0,G.chromeVersion=parseInt(RegExp.$1,10),G.es2019=G.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(G.firefox=!0,G.firefoxVersion=parseInt(RegExp.$1,10),G.es2019=G.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&u.iOS?(G.mobileSafari=!0,G.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(G.ie=!0,G.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!u.windowsPhone?(G.safari=!0,G.safariVersion=parseInt(RegExp.$1,10),G.es2019=G.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(G.ie=!0,G.trident=!0,G.tridentVersion=parseInt(RegExp.$1,10),G.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(G.silk=!0),G}i.exports=h()},89289:(i,$,e)=>{var u=e(27919),G={supportInverseAlpha:!1,supportNewBlendModes:!1};function h(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",l="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var s=new Image;s.onload=function(){var d=u.create2D(s,6),p=d.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(f,0,0),p.drawImage(s,2,0),!p.getImageData(2,0,1,1))return!1;var c=p.getImageData(2,0,1,1).data;u.remove(s),G.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},s.src=n+"/wCKxvRF"+l},f.src=n+"AP804Oa6"+l,!1}function r(){var n=u.create2D(this,2),l=n.getContext("2d",{willReadFrequently:!0});l.fillStyle="rgba(10, 20, 30, 0.5)",l.fillRect(0,0,1,1);var f=l.getImageData(0,0,1,1);if(f===null)return!1;l.putImageData(f,1,0);var s=l.getImageData(1,0,1,1),d=s.data[0]===f.data[0]&&s.data[1]===f.data[1]&&s.data[2]===f.data[2]&&s.data[3]===f.data[3];return u.remove(this),d}function o(){return typeof importScripts!="function"&&document!==void 0&&(G.supportNewBlendModes=h(),G.supportInverseAlpha=r()),G}i.exports=o()},89357:(i,$,e)=>{var u=e(25892),G=e(84148),h=e(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function o(){var l=new ArrayBuffer(4),f=new Uint8Array(l),s=new Uint32Array(l);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var l=!1,f=function(){if(window.WebGLRenderingContext)try{var s=h.createWebGL(this),d=s.getContext("webgl")||s.getContext("experimental-webgl"),p=h.create2D(this),c=p.getContext("2d",{willReadFrequently:!0}),g=c.createImageData(1,1);return l=g.data instanceof Uint8ClampedArray,h.remove(s),h.remove(p),!!d}catch{return!1}return!1};return r.webGL=f(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,G.firefox&&G.firefoxVersion<21&&(r.getUserMedia=!1),!u.iOS&&(G.ie||G.firefox||G.chrome)&&(r.canvasBitBltShift=!0),(G.safari||G.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=o()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&l,r}i.exports=n()},91639:i=>{var $={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return $;var u,G="Fullscreen",h="FullScreen",r=["request"+G,"request"+h,"webkitRequest"+G,"webkitRequest"+h,"msRequest"+G,"msRequest"+h,"mozRequest"+h,"mozRequest"+G];for(u=0;u<r.length;u++)if(document.documentElement[r[u]]){$.available=!0,$.request=r[u];break}var o=["cancel"+h,"exit"+G,"webkitCancel"+h,"webkitExit"+G,"msCancel"+h,"msExit"+G,"mozCancel"+h,"mozExit"+G];if($.available){for(u=0;u<o.length;u++)if(document[o[u]]){$.cancel=o[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&($.keyboard=!0),Object.defineProperty($,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),$}i.exports=e()},31784:(i,$,e)=>{var u=e(84148),G={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function h(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(G.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(G.mspointer=!0),navigator.getGamepads&&(G.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?G.wheelEvent="wheel":"onmousewheel"in window?G.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(G.wheelEvent="DOMMouseScroll")),G}i.exports=h()},25892:i=>{var $={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return $;var u=navigator.userAgent;/Windows/.test(u)?$.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?($.iOS=!0,$.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),$.iOSVersion=parseInt(RegExp.$1,10)):$.macOS=!0:/Android/.test(u)?$.android=!0:/Linux/.test(u)?$.linux=!0:/iP[ao]d|iPhone/i.test(u)?($.iOS=!0,navigator.appVersion.match(/OS (\d+)/),$.iOSVersion=parseInt(RegExp.$1,10),$.iPhone=u.toLowerCase().indexOf("iphone")!==-1,$.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?$.kindle=!0:/CrOS/.test(u)&&($.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&($.android=!1,$.iOS=!1,$.macOS=!1,$.windows=!0,$.windowsPhone=!0);var G=/Silk/.test(u);return($.windows||$.macOS||$.linux&&!G||$.chromeOS)&&($.desktop=!0),($.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&($.desktop=!1),navigator.standalone&&($.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&($.cordova=!0),window.ejecta!==void 0&&($.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&($.node=!0),$.node&&typeof process.versions=="object"&&($.nodeWebkit=!!process.versions["node-webkit"],$.electron=!!process.versions.electron),/Crosswalk/.test(u)&&($.crosswalk=!0),$.pixelRatio=window.devicePixelRatio||1,$}i.exports=e()},43267:(i,$,e)=>{var u=e(95540),G={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function h(){if(typeof importScripts=="function")return G;var r=document.createElement("video"),o=!!r.canPlayType,n=/^no$/;try{o&&(r.canPlayType('video/ogg; codecs="theora"').replace(n,"")&&(G.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(n,"")&&(G.h264=!0,G.mp4=!0),r.canPlayType("video/x-m4v").replace(n,"")&&(G.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(n,"")&&(G.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(n,"")&&(G.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(n,"")&&(G.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),G.getVideoURL=function(l){Array.isArray(l)||(l=[l]);for(var f=0;f<l.length;f++){var s=u(l[f],"url",l[f]);if(s.indexOf("blob:")===0)return{url:s,type:""};var d;if(s.indexOf("data:")===0?d=s.split(",")[0].match(/\/(.*?);/):d=s.match(/\.([a-zA-Z0-9]+)($|\?)/),d=u(l[f],"type",d?d[1]:"").toLowerCase(),G[d])return{url:s,type:d}}return null},G}i.exports=h()},82264:(i,$,e)=>{i.exports={os:e(25892),browser:e(84148),features:e(89357),input:e(31784),audio:e(7098),video:e(43267),fullscreen:e(91639),canvasFeatures:e(89289)}},89422:(i,$,e)=>{var u=e(83419),G=new Float32Array(20),h=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var n=r;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],o)},saturate:function(r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var n=r*2/3+1,l=(n-1)*-.5;return this.multiply([n,l,l,0,0,l,n,l,0,0,l,l,n,0,0,0,0,0,1,0],o)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,o){r===void 0&&(r=0),o===void 0&&(o=!1),r=r/180*Math.PI;var n=Math.cos(r),l=Math.sin(r),f=.213,s=.715,d=.072;return this.multiply([f+n*(1-f)+l*-f,s+n*-s+l*-s,d+n*-d+l*(1-d),0,0,f+n*-f+l*.143,s+n*(1-s)+l*.14,d+n*-d+l*-.283,0,0,f+n*-f+l*-(1-f),s+n*-s+l*s,d+n*(1-d)+l*d,0,0,0,0,0,1,0],o)},grayscale:function(r,o){return r===void 0&&(r=1),o===void 0&&(o=!1),this.saturate(-r,o)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(h.BLACK_WHITE,r)},contrast:function(r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var n=r+1,l=-.5*(n-1);return this.multiply([n,0,0,0,l,0,n,0,0,l,0,0,n,0,l,0,0,0,1,0],o)},negative:function(r){return r===void 0&&(r=!1),this.multiply(h.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(h.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(h.SEPIA,r)},night:function(r,o){return r===void 0&&(r=.1),o===void 0&&(o=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],o)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(h.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(h.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(h.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(h.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(h.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(h.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(h.SHIFT_BGR,r)},multiply:function(r,o){o===void 0&&(o=!1),o||this.reset();var n=this._matrix,l=G;return l.set(n),n.set([l[0]*r[0]+l[1]*r[5]+l[2]*r[10]+l[3]*r[15],l[0]*r[1]+l[1]*r[6]+l[2]*r[11]+l[3]*r[16],l[0]*r[2]+l[1]*r[7]+l[2]*r[12]+l[3]*r[17],l[0]*r[3]+l[1]*r[8]+l[2]*r[13]+l[3]*r[18],l[0]*r[4]+l[1]*r[9]+l[2]*r[14]+l[3]*r[19]+l[4],l[5]*r[0]+l[6]*r[5]+l[7]*r[10]+l[8]*r[15],l[5]*r[1]+l[6]*r[6]+l[7]*r[11]+l[8]*r[16],l[5]*r[2]+l[6]*r[7]+l[7]*r[12]+l[8]*r[17],l[5]*r[3]+l[6]*r[8]+l[7]*r[13]+l[8]*r[18],l[5]*r[4]+l[6]*r[9]+l[7]*r[14]+l[8]*r[19]+l[9],l[10]*r[0]+l[11]*r[5]+l[12]*r[10]+l[13]*r[15],l[10]*r[1]+l[11]*r[6]+l[12]*r[11]+l[13]*r[16],l[10]*r[2]+l[11]*r[7]+l[12]*r[12]+l[13]*r[17],l[10]*r[3]+l[11]*r[8]+l[12]*r[13]+l[13]*r[18],l[10]*r[4]+l[11]*r[9]+l[12]*r[14]+l[13]*r[19]+l[14],l[15]*r[0]+l[16]*r[5]+l[17]*r[10]+l[18]*r[15],l[15]*r[1]+l[16]*r[6]+l[17]*r[11]+l[18]*r[16],l[15]*r[2]+l[16]*r[7]+l[17]*r[12]+l[18]*r[17],l[15]*r[3]+l[16]*r[8]+l[17]*r[13]+l[18]*r[18],l[15]*r[4]+l[16]*r[9]+l[17]*r[14]+l[18]*r[19]+l[19]]),this._dirty=!0,this}});h.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],h.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],h.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],h.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],h.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],h.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],h.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],h.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],h.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],h.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],h.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],i.exports=h},51767:(i,$,e)=>{var u=e(83419),G=e(29747),h=new u({initialize:function(o,n,l){this._rgb=[0,0,0],this.onChangeCallback=G,this.dirty=!1,this.set(o,n,l)},set:function(r,o,n){return r===void 0&&(r=0),o===void 0&&(o=0),n===void 0&&(n=0),this._rgb=[r,o,n],this.onChange(),this},equals:function(r,o,n){var l=this._rgb;return l[0]===r&&l[1]===o&&l[2]===n},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});i.exports=h},60461:i=>{var $={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};i.exports=$},54312:(i,$,e)=>{var u=e(62235),G=e(35893),h=e(86327),r=e(88417),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)+f),h(n,u(l)+s),n};i.exports=o},46768:(i,$,e)=>{var u=e(62235),G=e(26541),h=e(86327),r=e(385),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)-f),h(n,u(l)+s),n};i.exports=o},35827:(i,$,e)=>{var u=e(62235),G=e(54380),h=e(86327),r=e(40136),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)+f),h(n,u(l)+s),n};i.exports=o},46871:(i,$,e)=>{var u=e(66786),G=e(35893),h=e(7702),r=function(o,n,l,f){return l===void 0&&(l=0),f===void 0&&(f=0),u(o,G(n)+l,h(n)+f),o};i.exports=r},5198:(i,$,e)=>{var u=e(7702),G=e(26541),h=e(20786),r=e(385),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)-f),h(n,u(l)+s),n};i.exports=o},11879:(i,$,e)=>{var u=e(60461),G=[];G[u.BOTTOM_CENTER]=e(54312),G[u.BOTTOM_LEFT]=e(46768),G[u.BOTTOM_RIGHT]=e(35827),G[u.CENTER]=e(46871),G[u.LEFT_CENTER]=e(5198),G[u.RIGHT_CENTER]=e(80503),G[u.TOP_CENTER]=e(89698),G[u.TOP_LEFT]=e(922),G[u.TOP_RIGHT]=e(21373),G[u.LEFT_BOTTOM]=G[u.BOTTOM_LEFT],G[u.LEFT_TOP]=G[u.TOP_LEFT],G[u.RIGHT_BOTTOM]=G[u.BOTTOM_RIGHT],G[u.RIGHT_TOP]=G[u.TOP_RIGHT];var h=function(r,o,n,l,f){return G[n](r,o,l,f)};i.exports=h},80503:(i,$,e)=>{var u=e(7702),G=e(54380),h=e(20786),r=e(40136),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)+f),h(n,u(l)+s),n};i.exports=o},89698:(i,$,e)=>{var u=e(35893),G=e(17717),h=e(88417),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,u(l)+f),r(n,G(l)-s),n};i.exports=o},922:(i,$,e)=>{var u=e(26541),G=e(17717),h=e(385),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,u(l)-f),r(n,G(l)-s),n};i.exports=o},21373:(i,$,e)=>{var u=e(54380),G=e(17717),h=e(40136),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,u(l)+f),r(n,G(l)-s),n};i.exports=o},91660:(i,$,e)=>{i.exports={BottomCenter:e(54312),BottomLeft:e(46768),BottomRight:e(35827),Center:e(46871),LeftCenter:e(5198),QuickSet:e(11879),RightCenter:e(80503),TopCenter:e(89698),TopLeft:e(922),TopRight:e(21373)}},71926:(i,$,e)=>{var u=e(60461),G=e(79291),h={In:e(91660),To:e(16694)};h=G(!1,h,u),i.exports=h},21578:(i,$,e)=>{var u=e(62235),G=e(35893),h=e(88417),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,G(l)+f),r(n,u(l)+s),n};i.exports=o},10210:(i,$,e)=>{var u=e(62235),G=e(26541),h=e(385),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,G(l)-f),r(n,u(l)+s),n};i.exports=o},82341:(i,$,e)=>{var u=e(62235),G=e(54380),h=e(40136),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,G(l)+f),r(n,u(l)+s),n};i.exports=o},87958:(i,$,e)=>{var u=e(62235),G=e(26541),h=e(86327),r=e(40136),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)-f),h(n,u(l)+s),n};i.exports=o},40080:(i,$,e)=>{var u=e(7702),G=e(26541),h=e(20786),r=e(40136),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)-f),h(n,u(l)+s),n};i.exports=o},88466:(i,$,e)=>{var u=e(26541),G=e(17717),h=e(40136),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,u(l)-f),r(n,G(l)-s),n};i.exports=o},38829:(i,$,e)=>{var u=e(60461),G=[];G[u.BOTTOM_CENTER]=e(21578),G[u.BOTTOM_LEFT]=e(10210),G[u.BOTTOM_RIGHT]=e(82341),G[u.LEFT_BOTTOM]=e(87958),G[u.LEFT_CENTER]=e(40080),G[u.LEFT_TOP]=e(88466),G[u.RIGHT_BOTTOM]=e(19211),G[u.RIGHT_CENTER]=e(34609),G[u.RIGHT_TOP]=e(48741),G[u.TOP_CENTER]=e(49440),G[u.TOP_LEFT]=e(81288),G[u.TOP_RIGHT]=e(61323);var h=function(r,o,n,l,f){return G[n](r,o,l,f)};i.exports=h},19211:(i,$,e)=>{var u=e(62235),G=e(54380),h=e(86327),r=e(385),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)+f),h(n,u(l)+s),n};i.exports=o},34609:(i,$,e)=>{var u=e(7702),G=e(54380),h=e(20786),r=e(385),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,G(l)+f),h(n,u(l)+s),n};i.exports=o},48741:(i,$,e)=>{var u=e(54380),G=e(17717),h=e(385),r=e(66737),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),h(n,u(l)+f),r(n,G(l)-s),n};i.exports=o},49440:(i,$,e)=>{var u=e(35893),G=e(17717),h=e(86327),r=e(88417),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,u(l)+f),h(n,G(l)-s),n};i.exports=o},81288:(i,$,e)=>{var u=e(26541),G=e(17717),h=e(86327),r=e(385),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,u(l)-f),h(n,G(l)-s),n};i.exports=o},61323:(i,$,e)=>{var u=e(54380),G=e(17717),h=e(86327),r=e(40136),o=function(n,l,f,s){return f===void 0&&(f=0),s===void 0&&(s=0),r(n,u(l)+f),h(n,G(l)-s),n};i.exports=o},16694:(i,$,e)=>{i.exports={BottomCenter:e(21578),BottomLeft:e(10210),BottomRight:e(82341),LeftBottom:e(87958),LeftCenter:e(40080),LeftTop:e(88466),QuickSet:e(38829),RightBottom:e(19211),RightCenter:e(34609),RightTop:e(48741),TopCenter:e(49440),TopLeft:e(81288),TopRight:e(61323)}},66786:(i,$,e)=>{var u=e(88417),G=e(20786),h=function(r,o,n){return u(r,o),G(r,n)};i.exports=h},62235:i=>{var $=function(e){return e.y+e.height-e.height*e.originY};i.exports=$},72873:(i,$,e)=>{var u=e(62235),G=e(26541),h=e(54380),r=e(17717),o=e(87841),n=function(l,f){f===void 0&&(f=new o);var s=G(l),d=r(l);return f.x=s,f.y=d,f.width=h(l)-s,f.height=u(l)-d,f};i.exports=n},35893:i=>{var $=function(e){return e.x-e.width*e.originX+e.width*.5};i.exports=$},7702:i=>{var $=function(e){return e.y-e.height*e.originY+e.height*.5};i.exports=$},26541:i=>{var $=function(e){return e.x-e.width*e.originX};i.exports=$},87431:i=>{var $=function(e){return e.width*e.originX};i.exports=$},46928:i=>{var $=function(e){return e.height*e.originY};i.exports=$},54380:i=>{var $=function(e){return e.x+e.width-e.width*e.originX};i.exports=$},17717:i=>{var $=function(e){return e.y-e.height*e.originY};i.exports=$},86327:i=>{var $=function(e,u){return e.y=u-e.height+e.height*e.originY,e};i.exports=$},88417:i=>{var $=function(e,u){var G=e.width*e.originX;return e.x=u+G-e.width*.5,e};i.exports=$},20786:i=>{var $=function(e,u){var G=e.height*e.originY;return e.y=u+G-e.height*.5,e};i.exports=$},385:i=>{var $=function(e,u){return e.x=u+e.width*e.originX,e};i.exports=$},40136:i=>{var $=function(e,u){return e.x=u-e.width+e.width*e.originX,e};i.exports=$},66737:i=>{var $=function(e,u){return e.y=u+e.height*e.originY,e};i.exports=$},58724:(i,$,e)=>{i.exports={CenterOn:e(66786),GetBottom:e(62235),GetBounds:e(72873),GetCenterX:e(35893),GetCenterY:e(7702),GetLeft:e(26541),GetOffsetX:e(87431),GetOffsetY:e(46928),GetRight:e(54380),GetTop:e(17717),SetBottom:e(86327),SetCenterX:e(88417),SetCenterY:e(20786),SetLeft:e(385),SetRight:e(40136),SetTop:e(66737)}},20623:i=>{var $={setCrisp:function(e){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(G){e.style["image-rendering"]=G}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};i.exports=$},27919:(i,$,e)=>{var u=e(8054),G=e(68703),h=[],r=!1,o=function(){var n=function(k,tt,_,nt,it){tt===void 0&&(tt=1),_===void 0&&(_=1),nt===void 0&&(nt=u.CANVAS),it===void 0&&(it=!1);var rt,st=s(nt);return st===null?(st={parent:k,canvas:document.createElement("canvas"),type:nt},nt===u.CANVAS&&h.push(st),rt=st.canvas):(st.parent=k,rt=st.canvas),it&&(st.parent=rt),rt.width=tt,rt.height=_,r&&nt===u.CANVAS&&G.disable(rt.getContext("2d",{willReadFrequently:!1})),rt},l=function(k,tt,_){return n(k,tt,_,u.CANVAS)},f=function(k,tt,_){return n(k,tt,_,u.WEBGL)},s=function(k){if(k===void 0&&(k=u.CANVAS),k===u.WEBGL)return null;for(var tt=0;tt<h.length;tt++){var _=h[tt];if(!_.parent&&_.type===k)return _}return null},d=function(k){var tt=k instanceof HTMLCanvasElement;h.forEach(function(_){(tt&&_.canvas===k||!tt&&_.parent===k)&&(_.parent=null,_.canvas.width=1,_.canvas.height=1)})},p=function(){var k=0;return h.forEach(function(tt){tt.parent&&k++}),k},c=function(){return h.length-p()},g=function(){r=!0},j=function(){r=!1};return{create2D:l,create:n,createWebGL:f,disableSmoothing:g,enableSmoothing:j,first:s,free:c,pool:h,remove:d,total:p}};i.exports=o()},68703:i=>{var $="",e=function(){var u=function(o){for(var n=["i","webkitI","msI","mozI","oI"],l=0;l<n.length;l++){var f=n[l]+"mageSmoothingEnabled";if(f in o)return f}return null},G=function(o){return $===""&&($=u(o)),$&&(o[$]=!0),o},h=function(o){return $===""&&($=u(o)),$&&(o[$]=!1),o},r=function(o){return $!==null?o[$]:null};return{disable:h,enable:G,getPrefix:u,isEnabled:r}};i.exports=e()},65208:i=>{var $=function(e,u){return u===void 0&&(u="none"),e.style.msTouchAction=u,e.style["ms-touch-action"]=u,e.style["touch-action"]=u,e};i.exports=$},91610:i=>{var $=function(e,u){u===void 0&&(u="none");var G=["-webkit-","-khtml-","-moz-","-ms-",""];return G.forEach(function(h){e.style[h+"user-select"]=u}),e.style["-webkit-touch-callout"]=u,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};i.exports=$},26253:(i,$,e)=>{i.exports={CanvasInterpolation:e(20623),CanvasPool:e(27919),Smoothing:e(68703),TouchAction:e(65208),UserSelect:e(91610)}},40987:(i,$,e)=>{var u=e(83419),G=e(37589),h=e(1e3),r=e(7537),o=e(87837),n=new u({initialize:function(f,s,d,p){f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,s,d,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(l,f,s,d,p){return d===void 0&&(d=255),p===void 0&&(p=!0),this._locked=!0,this.red=l,this.green=f,this.blue=s,this.alpha=d,this._locked=!1,this.update(p)},setGLTo:function(l,f,s,d){return d===void 0&&(d=1),this._locked=!0,this.redGL=l,this.greenGL=f,this.blueGL=s,this.alphaGL=d,this._locked=!1,this.update(!0)},setFromRGB:function(l){return this._locked=!0,this.red=l.r,this.green=l.g,this.blue=l.b,l.hasOwnProperty("a")&&(this.alpha=l.a),this._locked=!1,this.update(!0)},setFromHSV:function(l,f,s){return r(l,f,s,this)},update:function(l){if(l===void 0&&(l=!1),this._locked)return this;var f=this.r,s=this.g,d=this.b,p=this.a;return this._color=G(f,s,d),this._color32=h(f,s,d,p),this._rgba="rgba("+f+","+s+","+d+","+p/255+")",l&&o(f,s,d,this),this},updateHSV:function(){var l=this.r,f=this.g,s=this.b;return o(l,f,s,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(l){return this.setTo(l,l,l)},random:function(l,f){l===void 0&&(l=0),f===void 0&&(f=255);var s=Math.floor(l+Math.random()*(f-l)),d=Math.floor(l+Math.random()*(f-l)),p=Math.floor(l+Math.random()*(f-l));return this.setTo(s,d,p)},randomGray:function(l,f){l===void 0&&(l=0),f===void 0&&(f=255);var s=Math.floor(l+Math.random()*(f-l));return this.setTo(s,s,s)},saturate:function(l){return this.s+=l/100,this},desaturate:function(l){return this.s-=l/100,this},lighten:function(l){return this.v+=l/100,this},darken:function(l){return this.v-=l/100,this},brighten:function(l){var f=this.r,s=this.g,d=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(l/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(l/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(l/100)))),this.setTo(f,s,d)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(l){this.gl[0]=Math.min(Math.abs(l),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(l){this.gl[1]=Math.min(Math.abs(l),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(l){this.gl[2]=Math.min(Math.abs(l),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(l){this.gl[3]=Math.min(Math.abs(l),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(l){l=Math.floor(Math.abs(l)),this.r=Math.min(l,255),this.gl[0]=l/255,this.update(!0)}},green:{get:function(){return this.g},set:function(l){l=Math.floor(Math.abs(l)),this.g=Math.min(l,255),this.gl[1]=l/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(l){l=Math.floor(Math.abs(l)),this.b=Math.min(l,255),this.gl[2]=l/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(l){l=Math.floor(Math.abs(l)),this.a=Math.min(l,255),this.gl[3]=l/255,this.update()}},h:{get:function(){return this._h},set:function(l){this._h=l,r(l,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(l){this._s=l,r(this._h,l,this._v,this)}},v:{get:function(){return this._v},set:function(l){this._v=l,r(this._h,this._s,l,this)}}});i.exports=n},92728:(i,$,e)=>{var u=e(37589),G=function(h){h===void 0&&(h=1024);var r=[],o=255,n,l=255,f=0,s=0;for(n=0;n<=o;n++)r.push({r:l,g:n,b:s,color:u(l,n,s)});for(f=255,n=o;n>=0;n--)r.push({r:n,g:f,b:s,color:u(n,f,s)});for(l=0,n=0;n<=o;n++,f--)r.push({r:l,g:f,b:n,color:u(l,f,n)});for(f=0,s=255,n=0;n<=o;n++,s--,l++)r.push({r:l,g:f,b:s,color:u(l,f,s)});if(h===1024)return r;var d=[],p=0,c=1024/h;for(n=0;n<h;n++)d.push(r[Math.floor(p)]),p+=c;return d};i.exports=G},91588:i=>{var $=function(e){var u={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(u.a=e>>>24),u};i.exports=$},62957:i=>{var $=function(e){var u=e.toString(16);return u.length===1?"0"+u:u};i.exports=$},37589:i=>{var $=function(e,u,G){return e<<16|u<<8|G};i.exports=$},1e3:i=>{var $=function(e,u,G,h){return h<<24|e<<16|u<<8|G};i.exports=$},62183:(i,$,e)=>{var u=e(40987),G=e(89528),h=function(r,o,n){var l=n,f=n,s=n;if(o!==0){var d=n<.5?n*(1+o):n+o-n*o,p=2*n-d;l=G(p,d,r+1/3),f=G(p,d,r),s=G(p,d,r-1/3)}var c=new u;return c.setGLTo(l,f,s,1)};i.exports=h},27939:(i,$,e)=>{var u=e(7537),G=function(h,r){h===void 0&&(h=1),r===void 0&&(r=1);for(var o=[],n=0;n<=359;n++)o.push(u(n/359,h,r));return o};i.exports=G},7537:(i,$,e)=>{var u=e(37589);function G(r,o,n,l){var f=(r+o*6)%6,s=Math.min(f,4-f,1);return Math.round(255*(l-l*n*Math.max(0,s)))}var h=function(r,o,n,l){o===void 0&&(o=1),n===void 0&&(n=1);var f=G(5,r,o,n),s=G(3,r,o,n),d=G(1,r,o,n);return l?l.setTo?l.setTo(f,s,d,l.alpha,!0):(l.r=f,l.g=s,l.b=d,l.color=u(f,s,d),l):{r:f,g:s,b:d,color:u(f,s,d)}};i.exports=h},70238:(i,$,e)=>{var u=e(40987),G=function(h){var r=new u;h=h.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,d,p,c){return d+d+p+p+c+c});var o=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);if(o){var n=parseInt(o[1],16),l=parseInt(o[2],16),f=parseInt(o[3],16);r.setTo(n,l,f)}return r};i.exports=G},89528:i=>{var $=function(e,u,G){return G<0&&(G+=1),G>1&&(G-=1),G<.16666666666666666?e+(u-e)*6*G:G<.5?u:G<.6666666666666666?e+(u-e)*(.6666666666666666-G)*6:e};i.exports=$},30100:(i,$,e)=>{var u=e(40987),G=e(90664),h=function(r){var o=G(r);return new u(o.r,o.g,o.b,o.a)};i.exports=h},90664:i=>{var $=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};i.exports=$},13699:(i,$,e)=>{var u=e(28915),G=function(o,n,l,f,s,d,p,c){p===void 0&&(p=100),c===void 0&&(c=0);var g=c/p;return{r:u(o,f,g),g:u(n,s,g),b:u(l,d,g)}},h=function(o,n,l,f){return l===void 0&&(l=100),f===void 0&&(f=0),G(o.r,o.g,o.b,n.r,n.g,n.b,l,f)},r=function(o,n,l,f,s,d){return s===void 0&&(s=100),d===void 0&&(d=0),G(o.r,o.g,o.b,n,l,f,s,d)};i.exports={RGBWithRGB:G,ColorWithRGB:r,ColorWithColor:h}},68957:(i,$,e)=>{var u=e(40987),G=function(h){return new u(h.r,h.g,h.b,h.a)};i.exports=G},87388:(i,$,e)=>{var u=e(40987),G=function(h){var r=new u,o=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(h.toLowerCase());if(o){var n=parseInt(o[1],10),l=parseInt(o[2],10),f=parseInt(o[3],10),s=o[4]!==void 0?parseFloat(o[4]):1;r.setTo(n,l,f,s*255)}return r};i.exports=G},87837:i=>{var $=function(e,u,G,h){h===void 0&&(h={h:0,s:0,v:0}),e/=255,u/=255,G/=255;var r=Math.min(e,u,G),o=Math.max(e,u,G),n=o-r,l=0,f=o===0?0:n/o,s=o;return o!==r&&(o===e?l=(u-G)/n+(u<G?6:0):o===u?l=(G-e)/n+2:o===G&&(l=(e-u)/n+4),l/=6),h.hasOwnProperty("_h")?(h._h=l,h._s=f,h._v=s):(h.h=l,h.s=f,h.v=s),h};i.exports=$},75723:(i,$,e)=>{var u=e(62957),G=function(h,r,o,n,l){return n===void 0&&(n=255),l===void 0&&(l="#"),l==="#"?"#"+((1<<24)+(h<<16)+(r<<8)+o).toString(16).slice(1,7):"0x"+u(n)+u(h)+u(r)+u(o)};i.exports=G},85386:(i,$,e)=>{var u=e(30976),G=e(40987),h=function(r,o){return r===void 0&&(r=0),o===void 0&&(o=255),new G(u(r,o),u(r,o),u(r,o))};i.exports=h},80333:(i,$,e)=>{var u=e(70238),G=e(30100),h=e(68957),r=e(87388),o=function(n){var l=typeof n;switch(l){case"string":return n.substr(0,3).toLowerCase()==="rgb"?r(n):u(n);case"number":return G(n);case"object":return h(n)}};i.exports=o},3956:(i,$,e)=>{var u=e(40987);u.ColorSpectrum=e(92728),u.ColorToRGBA=e(91588),u.ComponentToHex=e(62957),u.GetColor=e(37589),u.GetColor32=e(1e3),u.HexStringToColor=e(70238),u.HSLToColor=e(62183),u.HSVColorWheel=e(27939),u.HSVToRGB=e(7537),u.HueToComponent=e(89528),u.IntegerToColor=e(30100),u.IntegerToRGB=e(90664),u.Interpolate=e(13699),u.ObjectToColor=e(68957),u.RandomRGB=e(85386),u.RGBStringToColor=e(87388),u.RGBToHSV=e(87837),u.RGBToString=e(75723),u.ValueToColor=e(80333),i.exports=u},27460:(i,$,e)=>{i.exports={Align:e(71926),BaseShader:e(73894),Bounds:e(58724),Canvas:e(26253),Color:e(3956),ColorMatrix:e(89422),Masks:e(69781),RGB:e(51767)}},6858:(i,$,e)=>{var u=e(83419),G=e(39429),h=new u({initialize:function(o,n,l,f,s,d){n||(n=o.sys.make.image({x:l,y:f,key:s,frame:d,add:!1})),this.bitmapMask=n,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,o,n){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,n)},postRenderWebGL:function(r,o,n){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,o,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});G.register("bitmapMask",function(r,o,n,l,f){return new h(this.scene,r,o,n,l,f)}),i.exports=h},80661:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o){this.geometryMask=o,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(h){return this.geometryMask=h,this},setInvertAlpha:function(h){return h===void 0&&(h=!0),this.invertAlpha=h,this},preRenderWebGL:function(h,r,o){var n=h.gl;h.flush(),h.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),h.maskCount=0),h.currentCameraMask.mask!==this&&(h.currentMask.mask=this),h.maskStack.push({mask:this,camera:o}),this.applyStencil(h,o,!0),h.maskCount++},applyStencil:function(h,r,o){var n=h.gl,l=this.geometryMask,f=h.maskCount,s=255;n.colorMask(!1,!1,!1,!1),o?(n.stencilFunc(n.EQUAL,f,s),n.stencilOp(n.KEEP,n.KEEP,n.INCR),f++):(n.stencilFunc(n.EQUAL,f+1,s),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=f,l.renderWebGL(h,l,r),h.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,f,s):n.stencilFunc(n.EQUAL,f,s)},postRenderWebGL:function(h){var r=h.gl;h.maskStack.pop(),h.maskCount--,h.flush();var o=h.currentMask;if(h.maskStack.length===0)o.mask=null,r.disable(r.STENCIL_TEST);else{var n=h.maskStack[h.maskStack.length-1];n.mask.applyStencil(h,n.camera,!1),h.currentCameraMask.mask!==n.mask?(o.mask=n.mask,o.camera=n.camera):o.mask=null}},preRenderCanvas:function(h,r,o){var n=this.geometryMask;h.currentContext.save(),n.renderCanvas(h,n,o,null,null,!0),h.currentContext.clip()},postRenderCanvas:function(h){h.currentContext.restore()},destroy:function(){this.geometryMask=null}});i.exports=G},69781:(i,$,e)=>{i.exports={BitmapMask:e(6858),GeometryMask:e(80661)}},73894:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n,l){(!o||o==="")&&(o=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),l===void 0&&(l=null),this.key=r,this.fragmentSrc=o,this.vertexSrc=n,this.uniforms=l}});i.exports=G},40366:i=>{var $=function(e,u){var G;if(u)typeof u=="string"?G=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(G=u);else if(e.parentElement||u===null)return e;return G||(G=document.body),G.appendChild(e),e};i.exports=$},83719:(i,$,e)=>{var u=e(40366),G=function(h){var r=h.config;if(!(!r.parent||!r.domCreateContainer)){var o=document.createElement("div");o.style.cssText=["display: block;","width: "+h.scale.width+"px;","height: "+h.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),h.domContainer=o,u(o,r.parent)}};i.exports=G},57264:(i,$,e)=>{var u=e(25892),G=function(h){if(document.readyState==="complete"||document.readyState==="interactive"){h();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),h()};document.body?u.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};i.exports=G},57811:i=>{var $=function(e){if(!e)return window.innerHeight;var u=Math.abs(window.orientation),G={w:0,h:0},h=document.createElement("div");return h.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(h),G.w=u===90?h.offsetHeight:window.innerWidth,G.h=u===90?window.innerWidth:h.offsetHeight,document.documentElement.removeChild(h),h=null,Math.abs(window.orientation)!==90?G.h:G.w};i.exports=$},45818:(i,$,e)=>{var u=e(13560),G=function(h,r){var o=window.screen,n=o?o.orientation||o.mozOrientation||o.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return r>h?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};i.exports=G},74403:i=>{var $=function(e){var u;return e!==""&&(typeof e=="string"?u=document.getElementById(e):e&&e.nodeType===1&&(u=e)),u||(u=document.body),u};i.exports=$},56836:i=>{var $=function(e){var u="";try{if(window.DOMParser){var G=new DOMParser;u=G.parseFromString(e,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(e)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};i.exports=$},35846:i=>{var $=function(e){e.parentNode&&e.parentNode.removeChild(e)};i.exports=$},43092:(i,$,e)=>{var u=e(83419),G=e(29747),h=new u({initialize:function(){this.isRunning=!1,this.callback=G,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var o=this;this.step=function n(l){o.callback(l),o.isRunning&&(o.timeOutID=window.requestAnimationFrame(n))},this.stepTimeout=function n(){o.isRunning&&(o.timeOutID=window.setTimeout(n,o.delay)),o.callback(window.performance.now())}},start:function(r,o,n){this.isRunning||(this.callback=r,this.isSetTimeOut=o,this.delay=n,this.isRunning=!0,this.timeOutID=o?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=G}});i.exports=h},84902:(i,$,e)=>{var u={AddToDOM:e(40366),DOMContentLoaded:e(57264),GetInnerHeight:e(57811),GetScreenOrientation:e(45818),GetTarget:e(74403),ParseXML:e(56836),RemoveFromDOM:e(35846),RequestAnimationFrame:e(43092)};i.exports=u},47565:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(37277),r=new u({Extends:G,initialize:function(){G.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});h.register("EventEmitter",r,"events"),i.exports=r},93055:(i,$,e)=>{i.exports={EventEmitter:e(47565)}},20122:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l){l===void 0&&(l=1),G.call(this,h.BARREL,n),this.amount=l}});i.exports=r},32251:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d,p,c){f===void 0&&(f=1),s===void 0&&(s=1),d===void 0&&(d=1),p===void 0&&(p=1),c===void 0&&(c=4),G.call(this,h.BLOOM,n),this.steps=c,this.offsetX=f,this.offsetY=s,this.blurStrength=d,this.strength=p,this.glcolor=[1,1,1],l!=null&&(this.color=l)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});i.exports=r},9047:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d,p,c){l===void 0&&(l=0),f===void 0&&(f=2),s===void 0&&(s=2),d===void 0&&(d=1),c===void 0&&(c=4),G.call(this,h.BLUR,n),this.quality=l,this.x=f,this.y=s,this.steps=c,this.strength=d,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});i.exports=r},27885:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d,p,c,g){l===void 0&&(l=.5),f===void 0&&(f=1),s===void 0&&(s=.2),d===void 0&&(d=!1),p===void 0&&(p=1),c===void 0&&(c=1),g===void 0&&(g=1),G.call(this,h.BOKEH,n),this.radius=l,this.amount=f,this.contrast=s,this.isTiltShift=d,this.strength=g,this.blurX=p,this.blurY=c}});i.exports=r},12578:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d,p){l===void 0&&(l=8),d===void 0&&(d=1),p===void 0&&(p=.005),G.call(this,h.CIRCLE,n),this.scale=d,this.feather=p,this.thickness=l,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],f!=null&&(this.color=f),s!=null&&(this.backgroundColor=s)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundColor:{get:function(){var o=this.glcolor2;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor2;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(o){this.glcolor2[3]=o}}});i.exports=r},15802:(i,$,e)=>{var u=e(83419),G=e(89422),h=e(14811),r=new u({Extends:G,initialize:function(n){G.call(this),this.type=h.COLOR_MATRIX,this.gameObject=n,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});i.exports=r},72898:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o){this.type=r,this.gameObject=o,this.active=!0},setActive:function(h){return this.active=h,this},destroy:function(){this.gameObject=null,this.active=!1}});i.exports=G},44553:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s){l===void 0&&(l="__WHITE"),f===void 0&&(f=.005),s===void 0&&(s=.005),G.call(this,h.DISPLACEMENT,n),this.x=f,this.y=s,this.glTexture,this.setTexture(l)},setTexture:function(o){var n=this.gameObject.scene.sys.textures.getFrame(o);return n&&(this.glTexture=n.glTexture),this}});i.exports=r},68531:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d){f===void 0&&(f=4),s===void 0&&(s=0),d===void 0&&(d=!1),G.call(this,h.GLOW,n),this.outerStrength=f,this.innerStrength=s,this.knockout=d,this.glcolor=[1,1,1,1],l!==void 0&&(this.color=l)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});i.exports=r},37102:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d,p,c,g,j){s===void 0&&(s=.2),d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=1),j===void 0&&(j=0),G.call(this,h.GRADIENT,n),this.alpha=s,this.size=j,this.fromX=d,this.fromY=p,this.toX=c,this.toY=g,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],l!=null&&(this.color1=l),f!=null&&(this.color2=f)},color1:{get:function(){var o=this.glcolor1;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor1;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}},color2:{get:function(){var o=this.glcolor2;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor2;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}}});i.exports=r},86886:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l){l===void 0&&(l=1),G.call(this,h.PIXELATE,n),this.amount=l}});i.exports=r},92322:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d,p,c,g){l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=.1),d===void 0&&(d=1),c===void 0&&(c=6),g===void 0&&(g=1),G.call(this,h.SHADOW,n),this.x=l,this.y=f,this.decay=s,this.power=d,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=g,p!==void 0&&(this.color=p)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});i.exports=r},39563:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d){l===void 0&&(l=.5),f===void 0&&(f=.5),s===void 0&&(s=3),d===void 0&&(d=!1),G.call(this,h.SHINE,n),this.speed=l,this.lineWidth=f,this.gradient=s,this.reveal=d}});i.exports=r},56448:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d){l===void 0&&(l=.5),f===void 0&&(f=.5),s===void 0&&(s=.5),d===void 0&&(d=.5),G.call(this,h.VIGNETTE,n),this.x=l,this.y=f,this.radius=s,this.strength=d}});i.exports=r},38433:(i,$,e)=>{var u=e(83419),G=e(72898),h=e(14811),r=new u({Extends:G,initialize:function(n,l,f,s,d){l===void 0&&(l=.1),f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=!1),G.call(this,h.WIPE,n),this.progress=0,this.wipeWidth=l,this.direction=f,this.axis=s,this.reveal=d}});i.exports=r},14811:i=>{var $={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};i.exports=$},66064:(i,$,e)=>{var u=e(79291),G=e(14811),h={Barrel:e(20122),Controller:e(72898),Bloom:e(32251),Blur:e(9047),Bokeh:e(27885),Circle:e(12578),ColorMatrix:e(15802),Displacement:e(44553),Glow:e(68531),Gradient:e(37102),Pixelate:e(86886),Shadow:e(92322),Shine:e(39563),Vignette:e(56448),Wipe:e(38433)};h=u(!1,h,G),i.exports=h},25305:(i,$,e)=>{var u=e(10312),G=e(23568),h=function(r,o,n){o.x=G(n,"x",0),o.y=G(n,"y",0),o.depth=G(n,"depth",0),o.flipX=G(n,"flipX",!1),o.flipY=G(n,"flipY",!1);var l=G(n,"scale",null);typeof l=="number"?o.setScale(l):l!==null&&(o.scaleX=G(l,"x",1),o.scaleY=G(l,"y",1));var f=G(n,"scrollFactor",null);typeof f=="number"?o.setScrollFactor(f):f!==null&&(o.scrollFactorX=G(f,"x",1),o.scrollFactorY=G(f,"y",1)),o.rotation=G(n,"rotation",0);var s=G(n,"angle",null);s!==null&&(o.angle=s),o.alpha=G(n,"alpha",1);var d=G(n,"origin",null);if(typeof d=="number")o.setOrigin(d);else if(d!==null){var p=G(d,"x",.5),c=G(d,"y",.5);o.setOrigin(p,c)}o.blendMode=G(n,"blendMode",u.NORMAL),o.visible=G(n,"visible",!0);var g=G(n,"add",!0);return g&&r.sys.displayList.add(o),o.preUpdate&&r.sys.updateList.add(o),o};i.exports=h},13059:(i,$,e)=>{var u=e(23568),G=function(h,r){var o=u(r,"anims",null);if(o===null)return h;if(typeof o=="string")h.anims.play(o);else if(typeof o=="object"){var n=h.anims,l=u(o,"key",void 0);if(l){var f=u(o,"startFrame",void 0),s=u(o,"delay",0),d=u(o,"repeat",0),p=u(o,"repeatDelay",0),c=u(o,"yoyo",!1),g=u(o,"play",!1),j=u(o,"delayedPlay",0),k={key:l,delay:s,repeat:d,repeatDelay:p,yoyo:c,startFrame:f};g?n.play(k):j>0?n.playAfterDelay(k,j):n.load(k)}}return h};i.exports=G},8050:(i,$,e)=>{var u=e(83419),G=e(73162),h=e(37277),r=e(51708),o=e(44594),n=e(19186),l=new u({Extends:G,initialize:function(s){G.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.parentContainer&&f.parentContainer.remove(f),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(r.ADDED_TO_SCENE,f,this.scene),this.events.emit(o.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(r.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,s){return f._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list;f.length;)f[0].destroy(!0);this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});h.register("DisplayList",l,"displayList"),i.exports=l},95643:(i,$,e)=>{var u=e(83419),G=e(53774),h=e(45893),r=e(50792),o=e(51708),n=e(44594),l=new u({Extends:r,initialize:function(s,d){r.call(this),this.scene=s,this.displayList=null,this.type=d,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(f,s){return this.data||(this.data=new h(this)),this.data.set(f,s),this},incData:function(f,s){return this.data||(this.data=new h(this)),this.data.inc(f,s),this},toggleData:function(f){return this.data||(this.data=new h(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new h(this)),this.data.get(f)},setInteractive:function(f,s,d){return this.scene.sys.input.enable(this,f,s,d),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return G(this)},willRender:function(f){var s=this.displayList&&this.displayList.active?this.displayList.willRender(f):!0;return!(!s||l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,s=this.parentContainer,d=[];s&&(d.unshift(s.getIndex(f)),f=s,s.parentContainer);)s=s.parentContainer;return this.displayList?d.unshift(this.displayList.getIndex(f)):d.unshift(this.scene.sys.displayList.getIndex(f)),d},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),f.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f&&f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});l.RENDER_MASK=15,i.exports=l},44603:(i,$,e)=>{var u=e(83419),G=e(37277),h=e(44594),r=new u({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(o,n){r.prototype.hasOwnProperty(o)||(r.prototype[o]=n)},r.remove=function(o){r.prototype.hasOwnProperty(o)&&delete r.prototype[o]},G.register("GameObjectCreator",r,"make"),i.exports=r},39429:(i,$,e)=>{var u=e(83419),G=e(37277),h=e(44594),r=new u({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},existing:function(o){return(o.renderCanvas||o.renderWebGL)&&this.displayList.add(o),o.preUpdate&&this.updateList.add(o),o},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(o,n){r.prototype.hasOwnProperty(o)||(r.prototype[o]=n)},r.remove=function(o){r.prototype.hasOwnProperty(o)&&delete r.prototype[o]},G.register("GameObjectFactory",r,"add"),i.exports=r},91296:(i,$,e)=>{var u=e(61340),G=new u,h=new u,r=new u,o={camera:G,sprite:h,calc:r},n=function(l,f,s){var d=G,p=h,c=r;return p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),d.copyFrom(f.matrix),s?(d.multiplyWithOffset(s,-f.scrollX*l.scrollFactorX,-f.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y):(p.e-=f.scrollX*l.scrollFactorX,p.f-=f.scrollY*l.scrollFactorY),d.multiply(p,c),o};i.exports=n},45027:(i,$,e)=>{var u=e(83419),G=e(25774),h=e(37277),r=e(44594),o=new u({Extends:G,initialize:function(l){G.call(this),this.checkQueue=!0,this.scene=l,this.systems=l.sys,l.sys.events.once(r.BOOT,this.boot,this),l.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(r.PRE_UPDATE,this.update,this),n.on(r.UPDATE,this.sceneUpdate,this),n.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,l){for(var f=this._active,s=f.length,d=0;d<s;d++){var p=f[d];p.active&&p.preUpdate.call(p,n,l)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var l=this.systems.events;l.off(r.PRE_UPDATE,this.update,this),l.off(r.UPDATE,this.sceneUpdate,this),l.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});h.register("UpdateList",o,"updateList"),i.exports=o},3217:i=>{var $=function(e,u,G,h,r,o,n,l,f,s,d,p,c,g,j){var k=G.x-u.displayOriginX+r,tt=G.y-u.displayOriginY+o,_=k+G.w,nt=tt+G.h,it=n.getXRound(k,tt,l),rt=n.getYRound(k,tt,l),st=n.getXRound(k,nt,l),at=n.getYRound(k,nt,l),ot=n.getXRound(_,nt,l),ht=n.getYRound(_,nt,l),dt=n.getXRound(_,tt,l),ut=n.getYRound(_,tt,l);e.batchQuad(u,it,rt,st,at,ot,ht,dt,ut,h.u0,h.v0,h.u1,h.v1,f,s,d,p,c,g,j)};i.exports=$},53048:i=>{var $=function(e,u,G,h){if(G===void 0&&(G=!1),h===void 0)return h={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},h;var r=e.text,o=r.length,n=e.maxWidth,l=e.wordWrapCharCode,f=Number.MAX_VALUE,s=Number.MAX_VALUE,d=0,p=0,c=e.fontData.chars,g=e.fontData.lineHeight,j=e.letterSpacing,k=e.lineSpacing,tt=0,_=0,nt=0,it=null,rt=e._align,st=0,at=0,ot=e.fontSize/e.fontData.size,ht=ot*e.scaleX,dt=ot*e.scaleY,ut=null,ft=0,gt=[],xt=Number.MAX_VALUE,Et=0,pt=0,mt=0,lt,ct=[],vt=[],yt=null;if(n>0){for(lt=0;lt<o;lt++){if(nt=r.charCodeAt(lt),nt===10){yt!==null&&(ct.push({word:yt.word,i:yt.i,x:yt.x*ht,y:yt.y*dt,w:yt.w*ht,h:yt.h*dt,cr:!0}),yt=null),tt=0,_+=g+k,ut=null;continue}if(it=c[nt],!!it){if(ut!==null)var Tt=it.kerning[ft];nt===l?yt!==null&&(ct.push({word:yt.word,i:yt.i,x:yt.x*ht,y:yt.y*dt,w:yt.w*ht,h:yt.h*dt,cr:!1}),yt=null):(yt===null&&(yt={word:"",i:lt,x:tt,y:_,w:0,h:g,cr:!1}),yt.word=yt.word.concat(r[lt]),yt.w+=it.xOffset+it.xAdvance+(Tt!==void 0?Tt:0)),tt+=it.xAdvance+j,ut=it,ft=nt}}yt!==null&&ct.push({word:yt.word,i:yt.i,x:yt.x*ht,y:yt.y*dt,w:yt.w*ht,h:yt.h*dt,cr:!1}),tt=0,_=0,ut=null,ft=0;var Ct,St=0,Dt=[];for(lt=0;lt<ct.length;lt++){var Mt=ct[lt],At=Mt.x,wt=Mt.x+Mt.w;if(Ct){var It=At-(Ct.x+Ct.w);St=At-(It+Ct.w),Ct=null}var Pt=At-St,Ot=wt-St;Pt>n||Ot>n?(Dt.push(Mt.i-1),Mt.cr?(Dt.push(Mt.i+Mt.word.length),St=0,Ct=null):Ct=Mt):Mt.cr&&(Dt.push(Mt.i+Mt.word.length),St=0,Ct=null)}var bt=function(Oe,Qe,tn){return Oe.substr(0,Qe)+tn+Oe.substr(Qe+1)};for(lt=Dt.length-1;lt>=0;lt--)r=bt(r,Dt[lt],`
`);h.wrappedText=r,o=r.length,ct=[],yt=null}var Vt=0;for(lt=0;lt<o;lt++){if(nt=r.charCodeAt(lt),nt===10){yt!==null&&(ct.push({word:yt.word,i:yt.i,x:yt.x*ht,y:yt.y*dt,w:yt.w*ht,h:yt.h*dt}),yt=null),tt=0,_+=g+k,ut=null,gt[pt]=mt,mt>Et&&(Et=mt),mt<xt&&(xt=mt),pt++,mt=0;continue}if(it=c[nt],!!it){if(st=tt,at=_,ut!==null){var Ut=it.kerning[ft];st+=Ut!==void 0?Ut:0}f>st&&(f=st),s>at&&(s=at);var Ft=st+it.xAdvance,Nt=at+g;d<Ft&&(d=Ft),p<Nt&&(p=Nt);var Lt=it.xOffset+it.xAdvance+(Ut!==void 0?Ut:0);nt===l?yt!==null&&(ct.push({word:yt.word,i:yt.i,x:yt.x*ht,y:yt.y*dt,w:yt.w*ht,h:yt.h*dt}),yt=null):(yt===null&&(yt={word:"",i:Vt,x:tt,y:_,w:0,h:g}),yt.word=yt.word.concat(r[lt]),yt.w+=Lt),vt.push({i:Vt,idx:lt,char:r[lt],code:nt,x:(it.xOffset+st)*ot,y:(it.yOffset+_)*ot,w:it.width*ot,h:it.height*ot,t:_*ot,r:Ft*ot,b:g*ot,line:pt,glyph:it}),tt+=it.xAdvance+j+(Ut!==void 0?Ut:0),ut=it,ft=nt,mt=Ft*ot,Vt++}}if(yt!==null&&ct.push({word:yt.word,i:yt.i,x:yt.x*ht,y:yt.y*dt,w:yt.w*ht,h:yt.h*dt}),gt[pt]=mt,mt>Et&&(Et=mt),mt<xt&&(xt=mt),rt>0)for(var kt=0;kt<vt.length;kt++){var Kt=vt[kt];if(rt===1){var Ue=(Et-gt[Kt.line])/2;Kt.x+=Ue,Kt.r+=Ue}else if(rt===2){var Ne=Et-gt[Kt.line];Kt.x+=Ne,Kt.r+=Ne}}var Se=h.local,Jt=h.global,Ve=h.lines;return Se.x=f*ot,Se.y=s*ot,Se.width=d*ot,Se.height=p*ot,Jt.x=e.x-e._displayOriginX+f*ht,Jt.y=e.y-e._displayOriginY+s*dt,Jt.width=d*ht,Jt.height=p*dt,Ve.shortest=xt,Ve.longest=Et,Ve.lengths=gt,u&&(Se.x=Math.ceil(Se.x),Se.y=Math.ceil(Se.y),Se.width=Math.ceil(Se.width),Se.height=Math.ceil(Se.height),Jt.x=Math.ceil(Jt.x),Jt.y=Math.ceil(Jt.y),Jt.width=Math.ceil(Jt.width),Jt.height=Math.ceil(Jt.height),Ve.shortest=Math.ceil(xt),Ve.longest=Math.ceil(Et)),G&&(e._displayOriginX=e.originX*Se.width,e._displayOriginY=e.originY*Se.height,Jt.x=e.x-e._displayOriginX*e.scaleX,Jt.y=e.y-e._displayOriginY*e.scaleY,u&&(Jt.x=Math.ceil(Jt.x),Jt.y=Math.ceil(Jt.y))),h.words=ct,h.characters=vt,h.lines.height=g,h.scale=ot,h.scaleX=e.scaleX,h.scaleY=e.scaleY,h};i.exports=$},61327:(i,$,e)=>{var u=e(21859),G=function(h,r,o,n,l,f,s){var d=h.sys.textures.get(o),p=d.get(n),c=h.sys.cache.xml.get(l);if(p&&c){var g=u(c,p,f,s,d);return h.sys.cache.bitmapFont.add(r,{data:g,texture:o,frame:n,fromAtlas:!0}),!0}else return!1};i.exports=G},6925:(i,$,e)=>{var u=e(35154),G=function(h,r){var o=r.width,n=r.height,l=Math.floor(o/2),f=Math.floor(n/2),s=u(r,"chars","");if(s!==""){var d=u(r,"image",""),p=h.sys.textures.getFrame(d),c=p.cutX,g=p.cutY,j=p.source.width,k=p.source.height,tt=u(r,"offset.x",0),_=u(r,"offset.y",0),nt=u(r,"spacing.x",0),it=u(r,"spacing.y",0),rt=u(r,"lineSpacing",0),st=u(r,"charsPerRow",null);st===null&&(st=j/o,st>s.length&&(st=s.length));for(var at=tt,ot=_,ht={retroFont:!0,font:d,size:o,lineHeight:n+rt,chars:{}},dt=0,ut=0;ut<s.length;ut++){var ft=s.charCodeAt(ut),gt=(c+at)/j,xt=(g+ot)/k,Et=(c+at+o)/j,pt=(g+ot+n)/k;ht.chars[ft]={x:at,y:ot,width:o,height:n,centerX:l,centerY:f,xOffset:0,yOffset:0,xAdvance:o,data:{},kerning:{},u0:gt,v0:xt,u1:Et,v1:pt},dt++,dt===st?(dt=0,at=tt,ot+=n+it):at+=o+nt}var mt={data:ht,frame:null,texture:d};return mt}};i.exports=G},21859:i=>{function $(u,G){return parseInt(u.getAttribute(G),10)}var e=function(u,G,h,r,o){h===void 0&&(h=0),r===void 0&&(r=0);var n=G.cutX,l=G.cutY,f=G.source.width,s=G.source.height,d=G.sourceIndex,p={},c=u.getElementsByTagName("info")[0],g=u.getElementsByTagName("common")[0];p.font=c.getAttribute("face"),p.size=$(c,"size"),p.lineHeight=$(g,"lineHeight")+r,p.chars={};var j=u.getElementsByTagName("char"),k=G!==void 0&&G.trimmed;if(k)var tt=G.height,_=G.width;for(var nt=0;nt<j.length;nt++){var it=j[nt],rt=$(it,"id"),st=String.fromCharCode(rt),at=$(it,"x"),ot=$(it,"y"),ht=$(it,"width"),dt=$(it,"height");k&&(at<_&&(_=at),ot<tt&&(tt=ot)),k&&tt!==0&&_!==0&&(at-=G.x,ot-=G.y);var ut=(n+at)/f,ft=(l+ot)/s,gt=(n+at+ht)/f,xt=(l+ot+dt)/s;if(p.chars[rt]={x:at,y:ot,width:ht,height:dt,centerX:Math.floor(ht/2),centerY:Math.floor(dt/2),xOffset:$(it,"xoffset"),yOffset:$(it,"yoffset"),xAdvance:$(it,"xadvance")+h,data:{},kerning:{},u0:ut,v0:ft,u1:gt,v1:xt},o&&ht!==0&&dt!==0){var Et=o.add(st,d,at,ot,ht,dt);Et&&Et.setUVs(ht,dt,ut,ft,gt,xt)}}var pt=u.getElementsByTagName("kerning");for(nt=0;nt<pt.length;nt++){var mt=pt[nt],lt=$(mt,"first"),ct=$(mt,"second"),vt=$(mt,"amount");p.chars[ct].kerning[lt]=vt}return p};i.exports=e},196:(i,$,e)=>{var u=e(87662),G=e(79291),h={Parse:e(6925)};h=G(!1,h,u),i.exports=h},87662:i=>{var $={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};i.exports=$},2638:(i,$,e)=>{var u=e(22186),G=e(83419),h=e(12310),r=new G({Extends:u,Mixins:[h],initialize:function(n,l,f,s,d,p,c){u.call(this,n,l,f,s,d,p,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(o,n){return this.cropWidth=o,this.cropHeight=n,this},setDisplayCallback:function(o){return this.displayCallback=o,this},setScrollX:function(o){return this.scrollX=o,this},setScrollY:function(o){return this.scrollY=o,this}});i.exports=r},86741:(i,$,e)=>{var u=e(20926),G=function(h,r,o,n){var l=r._text,f=l.length,s=h.currentContext;if(!(f===0||!u(h,s,r,o,n))){o.addToRenderList(r);var d=r.fromAtlas?r.frame:r.texture.frames.__BASE,p=r.displayCallback,c=r.callbackData,g=r.fontData.chars,j=r.fontData.lineHeight,k=r._letterSpacing,tt=0,_=0,nt=0,it=null,rt=0,st=0,at=0,ot=0,ht=0,dt=0,ut=null,ft=0,gt=r.frame.source.image,xt=d.cutX,Et=d.cutY,pt=0,mt=0,lt=r._fontSize/r.fontData.size,ct=r._align,vt=0,yt=0;r.getTextBounds(!1);var Tt=r._bounds.lines;ct===1?yt=(Tt.longest-Tt.lengths[0])/2:ct===2&&(yt=Tt.longest-Tt.lengths[0]),s.translate(-r.displayOriginX,-r.displayOriginY);var Ct=o.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(s.beginPath(),s.rect(0,0,r.cropWidth,r.cropHeight),s.clip());for(var St=0;St<f;St++){if(mt=lt,pt=0,nt=l.charCodeAt(St),nt===10){vt++,ct===1?yt=(Tt.longest-Tt.lengths[vt])/2:ct===2&&(yt=Tt.longest-Tt.lengths[vt]),tt=0,_+=j,ut=null;continue}if(it=g[nt],!!it){if(rt=xt+it.x,st=Et+it.y,at=it.width,ot=it.height,ht=it.xOffset+tt-r.scrollX,dt=it.yOffset+_-r.scrollY,ut!==null){var Dt=it.kerning[ft];ht+=Dt!==void 0?Dt:0}if(p){c.index=St,c.charCode=nt,c.x=ht,c.y=dt,c.scale=mt,c.rotation=pt,c.data=it.data;var Mt=p(c);ht=Mt.x,dt=Mt.y,mt=Mt.scale,pt=Mt.rotation}ht*=mt,dt*=mt,ht+=yt,tt+=it.xAdvance+k+(Dt!==void 0?Dt:0),ut=it,ft=nt,!(at===0||ot===0||nt===32)&&(Ct&&(ht=Math.round(ht),dt=Math.round(dt)),s.save(),s.translate(ht,dt),s.rotate(pt),s.scale(mt,mt),s.drawImage(gt,rt,st,at,ot,0,0,at,ot),s.restore())}}s.restore()}};i.exports=G},11164:(i,$,e)=>{var u=e(2638),G=e(25305),h=e(44603),r=e(23568);h.register("dynamicBitmapText",function(o,n){o===void 0&&(o={});var l=r(o,"font",""),f=r(o,"text",""),s=r(o,"size",!1),d=new u(this.scene,0,0,l,f,s);return n!==void 0&&(o.add=n),G(this.scene,d,o),d})},72566:(i,$,e)=>{var u=e(2638),G=e(39429);G.register("dynamicBitmapText",function(h,r,o,n,l){return this.displayList.add(new u(this.scene,h,r,o,n,l))})},12310:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(73482),h=e(86741),i.exports={renderWebGL:G,renderCanvas:h}},73482:(i,$,e)=>{var u=e(91296),G=e(61340),h=e(70554),r=new G,o=function(n,l,f,s){var d=l.text,p=d.length;if(p!==0){f.addToRenderList(l);var c=n.pipelines.set(l.pipeline,l),g=u(l,f,s);n.pipelines.preBatch(l);var j=g.sprite,k=g.calc,tt=r,_=l.cropWidth>0||l.cropHeight>0;_&&(c.flush(),n.pushScissor(k.tx,k.ty,l.cropWidth*k.scaleX,l.cropHeight*k.scaleY));var nt=l.frame,it=nt.glTexture,rt=l.tintFill,st=h.getTintAppendFloatAlpha(l.tintTopLeft,f.alpha*l._alphaTL),at=h.getTintAppendFloatAlpha(l.tintTopRight,f.alpha*l._alphaTR),ot=h.getTintAppendFloatAlpha(l.tintBottomLeft,f.alpha*l._alphaBL),ht=h.getTintAppendFloatAlpha(l.tintBottomRight,f.alpha*l._alphaBR),dt=c.setGameObject(l),ut=0,ft=0,gt=0,xt=0,Et=l.letterSpacing,pt,mt=0,lt=0,ct,vt=l.scrollX,yt=l.scrollY,Tt=l.fontData,Ct=Tt.chars,St=Tt.lineHeight,Dt=l.fontSize/Tt.size,Mt=0,At=l._align,wt=0,It=0,Pt=l.getTextBounds(!1);l.maxWidth>0&&(d=Pt.wrappedText,p=d.length);var Ot=l._bounds.lines;At===1?It=(Ot.longest-Ot.lengths[0])/2:At===2&&(It=Ot.longest-Ot.lengths[0]);for(var bt=f.roundPixels,Vt=l.displayCallback,Ut=l.callbackData,Ft=0;Ft<p;Ft++){if(gt=d.charCodeAt(Ft),gt===10){wt++,At===1?It=(Ot.longest-Ot.lengths[wt])/2:At===2&&(It=Ot.longest-Ot.lengths[wt]),ut=0,ft+=St,ct=null;continue}if(pt=Ct[gt],!!pt){mt=pt.width,lt=pt.height;var Nt=pt.xOffset+ut-vt,Lt=pt.yOffset+ft-yt;if(ct!==null){var kt=pt.kerning[xt];Nt+=kt!==void 0?kt:0}if(ut+=pt.xAdvance+Et,ct=pt,xt=gt,!(mt===0||lt===0||gt===32)){if(Dt=l.fontSize/l.fontData.size,Mt=0,Vt){Ut.color=0,Ut.tint.topLeft=st,Ut.tint.topRight=at,Ut.tint.bottomLeft=ot,Ut.tint.bottomRight=ht,Ut.index=Ft,Ut.charCode=gt,Ut.x=Nt,Ut.y=Lt,Ut.scale=Dt,Ut.rotation=Mt,Ut.data=pt.data;var Kt=Vt(Ut);Nt=Kt.x,Lt=Kt.y,Dt=Kt.scale,Mt=Kt.rotation,Kt.color?(st=Kt.color,at=Kt.color,ot=Kt.color,ht=Kt.color):(st=Kt.tint.topLeft,at=Kt.tint.topRight,ot=Kt.tint.bottomLeft,ht=Kt.tint.bottomRight),st=h.getTintAppendFloatAlpha(st,f.alpha*l._alphaTL),at=h.getTintAppendFloatAlpha(at,f.alpha*l._alphaTR),ot=h.getTintAppendFloatAlpha(ot,f.alpha*l._alphaBL),ht=h.getTintAppendFloatAlpha(ht,f.alpha*l._alphaBR)}Nt*=Dt,Lt*=Dt,Nt-=l.displayOriginX,Lt-=l.displayOriginY,Nt+=It,tt.applyITRS(Nt,Lt,Mt,Dt,Dt),k.multiply(tt,j);var Ue=pt.u0,Ne=pt.v0,Se=pt.u1,Jt=pt.v1,Ve=mt,Oe=lt,Qe=j.e,tn=j.f,fn=Oe*j.c+j.e,Ei=Oe*j.d+j.f,Ci=Ve*j.a+Oe*j.c+j.e,Si=Ve*j.b+Oe*j.d+j.f,Di=Ve*j.a+j.e,Mi=Ve*j.b+j.f;bt&&(Qe=Math.round(Qe),tn=Math.round(tn),fn=Math.round(fn),Ei=Math.round(Ei),Ci=Math.round(Ci),Si=Math.round(Si),Di=Math.round(Di),Mi=Math.round(Mi)),c.shouldFlush(6)&&(c.flush(),dt=c.setGameObject(l)),c.batchQuad(l,Qe,tn,fn,Ei,Ci,Si,Di,Mi,Ue,Ne,Se,Jt,st,at,ot,ht,rt,it,dt)}}}_&&(c.flush(),n.popScissor()),n.pipelines.postBatch(l)}};i.exports=o},22186:(i,$,e)=>{var u=e(83419),G=e(45319),h=e(31401),r=e(95643),o=e(53048),n=e(61327),l=e(21859),f=e(87841),s=e(18658),d=new u({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Texture,h.Tint,h.Transform,h.Visible,s],initialize:function(c,g,j,k,tt,_,nt){tt===void 0&&(tt=""),nt===void 0&&(nt=0),r.call(this,c,"BitmapText"),this.font=k;var it=this.scene.sys.cache.bitmapFont.get(k);it||console.warn("Invalid BitmapText key: "+k),this.fontData=it.data,this._text="",this._fontSize=_||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=nt,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=it.fromAtlas,this.setTexture(it.texture,it.frame),this.setPosition(g,j),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(tt)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,c,g,j){return p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),j===void 0&&(j=.5),this.dropShadowX=p,this.dropShadowY=c,this.dropShadowColor=g,this.dropShadowAlpha=j,this},setCharacterTint:function(p,c,g,j,k,tt,_){p===void 0&&(p=0),c===void 0&&(c=1),g===void 0&&(g=!1),j===void 0&&(j=-1),k===void 0&&(k=j,tt=j,_=j);var nt=this.text.length;c===-1&&(c=nt),p<0&&(p=nt+p),p=G(p,0,nt-1);for(var it=G(p+c,p,nt),rt=this.charColors,st=p;st<it;st++){var at=rt[st];if(j===-1)rt[st]=null;else{var ot=g?1:0;at?(at.tintEffect=ot,at.tintTL=j,at.tintTR=k,at.tintBL=tt,at.tintBR=_):rt[st]={tintEffect:ot,tintTL:j,tintTR:k,tintBL:tt,tintBR:_}}}return this},setWordTint:function(p,c,g,j,k,tt,_){c===void 0&&(c=1);for(var nt=this.getTextBounds(),it=nt.words,rt=typeof p=="number",st=0,at=0;at<it.length;at++){var ot=it[at];if((rt&&at===p||!rt&&ot.word===p)&&(this.setCharacterTint(ot.i,ot.word.length,g,j,k,tt,_),st++,st===c))return this}return this},getTextBounds:function(p){var c=this._bounds;return(this._dirty||p||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(o(this,p,!0,c),this._dirty=!1),c},getCharacterAt:function(p,c,g){for(var j=this.getLocalPoint(p,c,null,g),k=this.getTextBounds(),tt=k.characters,_=new f,nt=0;nt<tt.length;nt++){var it=tt[nt];if(_.setTo(it.x,it.t,it.r-it.x,it.b),_.contains(j.x,j.y))return it}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,c,g){c===void 0&&(c=this._fontSize),g===void 0&&(g=this._align);var j=this.scene.sys.cache.bitmapFont.get(p);return j&&(this.font=p,this.fontData=j.data,this._fontSize=c,this._align=g,this.fromAtlas=j.fromAtlas===!0,this.setTexture(j.texture,j.frame),o(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,c){return this._maxWidth=p,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=h.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=c,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=n,d.ParseXMLBitmapFont=l,i.exports=d},37289:(i,$,e)=>{var u=e(20926),G=function(h,r,o,n){var l=r._text,f=l.length,s=h.currentContext;if(!(f===0||!u(h,s,r,o,n))){o.addToRenderList(r);var d=r.fromAtlas?r.frame:r.texture.frames.__BASE,p=r.fontData.chars,c=r.fontData.lineHeight,g=r._letterSpacing,j=r._lineSpacing,k=0,tt=0,_=0,nt=null,it=0,rt=0,st=0,at=0,ot=0,ht=0,dt=null,ut=0,ft=d.source.image,gt=d.cutX,xt=d.cutY,Et=r._fontSize/r.fontData.size,pt=r._align,mt=0,lt=0,ct=r.getTextBounds(!1);r.maxWidth>0&&(l=ct.wrappedText,f=l.length);var vt=r._bounds.lines;pt===1?lt=(vt.longest-vt.lengths[0])/2:pt===2&&(lt=vt.longest-vt.lengths[0]),s.translate(-r.displayOriginX,-r.displayOriginY);for(var yt=o.roundPixels,Tt=0;Tt<f;Tt++){if(_=l.charCodeAt(Tt),_===10){mt++,pt===1?lt=(vt.longest-vt.lengths[mt])/2:pt===2&&(lt=vt.longest-vt.lengths[mt]),k=0,tt+=c+j,dt=null;continue}if(nt=p[_],!!nt){if(it=gt+nt.x,rt=xt+nt.y,st=nt.width,at=nt.height,ot=nt.xOffset+k,ht=nt.yOffset+tt,dt!==null){var Ct=nt.kerning[ut];ot+=Ct!==void 0?Ct:0}ot*=Et,ht*=Et,ot+=lt,k+=nt.xAdvance+g+(Ct!==void 0?Ct:0),dt=nt,ut=_,!(st===0||at===0||_===32)&&(yt&&(ot=Math.round(ot),ht=Math.round(ht)),s.save(),s.translate(ot,ht),s.scale(Et,Et),s.drawImage(ft,it,rt,st,at,0,0,st,at),s.restore())}}s.restore()}};i.exports=G},57336:(i,$,e)=>{var u=e(22186),G=e(25305),h=e(44603),r=e(23568),o=e(35154);h.register("bitmapText",function(n,l){n===void 0&&(n={});var f=o(n,"font",""),s=r(n,"text",""),d=r(n,"size",!1),p=o(n,"align",0),c=new u(this.scene,0,0,f,s,d,p);return l!==void 0&&(n.add=l),G(this.scene,c,n),c})},34914:(i,$,e)=>{var u=e(22186),G=e(39429);G.register("bitmapText",function(h,r,o,n,l,f){return this.displayList.add(new u(this.scene,h,r,o,n,l,f))})},18658:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(33590),h=e(37289),i.exports={renderWebGL:G,renderCanvas:h}},33590:(i,$,e)=>{var u=e(3217),G=e(91296),h=e(70554),r=function(o,n,l,f){var s=n._text,d=s.length;if(d!==0){l.addToRenderList(n);var p=o.pipelines.set(n.pipeline,n),c=G(n,l,f).calc;o.pipelines.preBatch(n);var g=l.roundPixels,j=l.alpha,k=n.charColors,tt=n.tintFill,_=h.getTintAppendFloatAlpha,nt=_(n.tintTopLeft,j*n._alphaTL),it=_(n.tintTopRight,j*n._alphaTR),rt=_(n.tintBottomLeft,j*n._alphaBL),st=_(n.tintBottomRight,j*n._alphaBR),at=n.frame.glTexture,ot=p.setGameObject(n),ht=n.getTextBounds(!1),dt,ut,ft,gt=ht.characters,xt=n.dropShadowX,Et=n.dropShadowY,pt=xt!==0||Et!==0;if(pt){var mt=n.dropShadowColor,lt=n.dropShadowAlpha,ct=_(mt,j*lt*n._alphaTL),vt=_(mt,j*lt*n._alphaTR),yt=_(mt,j*lt*n._alphaBL),Tt=_(mt,j*lt*n._alphaBR);for(dt=0;dt<gt.length;dt++)ut=gt[dt],ft=ut.glyph,!(ut.code===32||ft.width===0||ft.height===0)&&u(p,n,ut,ft,xt,Et,c,g,ct,vt,yt,Tt,1,at,ot)}for(dt=0;dt<gt.length;dt++)if(ut=gt[dt],ft=ut.glyph,!(ut.code===32||ft.width===0||ft.height===0))if(p.shouldFlush(6)&&(p.flush(),ot=p.setGameObject(n)),k[ut.i]){var Ct=k[ut.i],St=Ct.tintEffect,Dt=_(Ct.tintTL,j*n._alphaTL),Mt=_(Ct.tintTR,j*n._alphaTR),At=_(Ct.tintBL,j*n._alphaBL),wt=_(Ct.tintBR,j*n._alphaBR);u(p,n,ut,ft,0,0,c,g,Dt,Mt,At,wt,St,at,ot)}else u(p,n,ut,ft,0,0,c,g,nt,it,rt,st,tt,at,ot);o.pipelines.postBatch(n)}};i.exports=r},6107:(i,$,e)=>{var u=e(48011),G=e(46590),h=e(83419),r=e(31401),o=e(4327),n=e(95643),l=e(73162),f=new h({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,u],initialize:function(d,p,c,g,j){n.call(this,d,"Blitter"),this.setTexture(g,j),this.setPosition(p,c),this.initPipeline(),this.initPostPipeline(),this.children=new l,this.renderList=[],this.dirty=!1},create:function(s,d,p,c,g){c===void 0&&(c=!0),g===void 0&&(g=this.children.length),p===void 0?p=this.frame:p instanceof o||(p=this.texture.get(p));var j=new G(this,s,d,p,c);return this.children.addAt(j,g,!1),this.dirty=!0,j},createFromCallback:function(s,d,p,c){for(var g=this.createMultiple(d,p,c),j=0;j<g.length;j++){var k=g[j];s.call(this,k,j)}return g},createMultiple:function(s,d,p){d===void 0&&(d=this.frame.name),p===void 0&&(p=!0),Array.isArray(d)||(d=[d]);var c=[],g=this;return d.forEach(function(j){for(var k=0;k<s;k++)c.push(g.create(0,0,j,p))}),c},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});i.exports=f},72396:i=>{var $=function(e,u,G,h){var r=u.getRenderList();if(r.length!==0){var o=e.currentContext,n=G.alpha*u.alpha;if(n!==0){G.addToRenderList(u),o.globalCompositeOperation=e.blendModes[u.blendMode],o.imageSmoothingEnabled=!u.frame.source.scaleMode;var l=u.x-G.scrollX*u.scrollFactorX,f=u.y-G.scrollY*u.scrollFactorY;o.save(),h&&h.copyToContext(o);for(var s=G.roundPixels,d=0;d<r.length;d++){var p=r[d],c=p.flipX||p.flipY,g=p.frame,j=g.canvasData,k=g.x,tt=g.y,_=1,nt=1,it=p.alpha*n;it!==0&&(o.globalAlpha=it,c?(p.flipX&&(_=-1,k-=j.width),p.flipY&&(nt=-1,tt-=j.height),j.width>0&&j.height>0&&(o.save(),o.translate(p.x+l,p.y+f),o.scale(_,nt),o.drawImage(g.source.image,j.x,j.y,j.width,j.height,k,tt,j.width,j.height),o.restore())):(s&&(k=Math.round(k),tt=Math.round(tt)),j.width>0&&j.height>0&&o.drawImage(g.source.image,j.x,j.y,j.width,j.height,k+p.x+l,tt+p.y+f,j.width,j.height)))}o.restore()}}};i.exports=$},9403:(i,$,e)=>{var u=e(6107),G=e(25305),h=e(44603),r=e(23568);h.register("blitter",function(o,n){o===void 0&&(o={});var l=r(o,"key",null),f=r(o,"frame",null),s=new u(this.scene,0,0,l,f);return n!==void 0&&(o.add=n),G(this.scene,s,o),s})},12709:(i,$,e)=>{var u=e(6107),G=e(39429);G.register("blitter",function(h,r,o,n){return this.displayList.add(new u(this.scene,h,r,o,n))})},48011:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(99485),h=e(72396),i.exports={renderWebGL:G,renderCanvas:h}},99485:(i,$,e)=>{var u=e(61340),G=e(70554),h=new u,r=function(o,n,l,f){var s=n.getRenderList(),d=l.alpha*n.alpha;if(!(s.length===0||d===0)){l.addToRenderList(n);var p=o.pipelines.set(this.pipeline,n),c=l.scrollX*n.scrollFactorX,g=l.scrollY*n.scrollFactorY,j=h.copyFrom(l.matrix);f&&(j.multiplyWithOffset(f,-c,-g),c=0,g=0);var k=n.x-c,tt=n.y-g,_=-1,nt=!1;o.pipelines.preBatch(n);for(var it=0;it<s.length;it++){var rt=s[it],st=rt.frame,at=rt.alpha*d;if(at!==0){var ot=st.width,ht=st.height,dt=k+rt.x+st.x,ut=tt+rt.y+st.y;rt.flipX&&(ot*=-1,dt+=st.width),rt.flipY&&(ht*=-1,ut+=st.height);var ft=j.setQuad(dt,ut,dt+ot,ut+ht),gt=G.getTintAppendFloatAlpha(rt.tint,at);if(st.sourceIndex!==_){var xt=p.setGameObject(n,st);_=st.sourceIndex}p.batchQuad(n,ft[0],ft[1],ft[2],ft[3],ft[4],ft[5],ft[6],ft[7],st.u0,st.v0,st.u1,st.v1,gt,gt,gt,gt,nt,st.glTexture,xt)&&(_=-1)}}o.pipelines.postBatch(n)}};i.exports=r},46590:(i,$,e)=>{var u=e(83419),G=e(4327),h=new u({initialize:function(o,n,l,f,s){this.parent=o,this.x=n,this.y=l,this.frame=f,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof G&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,o,n){return this.x=r,this.y=o,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(r,o){return this.x=r,this.y=o,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,o){return this.flipX=r,this.flipY=o,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});i.exports=h},16005:(i,$,e)=>{var u=e(45319),G=2,h={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,o,n,l){return r===void 0&&(r=1),o===void 0?this.alpha=r:(this._alphaTL=u(r,0,1),this._alphaTR=u(o,0,1),this._alphaBL=u(n,0,1),this._alphaBR=u(l,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var o=u(r,0,1);this._alpha=o,this._alphaTL=o,this._alphaTR=o,this._alphaBL=o,this._alphaBR=o,o===0?this.renderFlags&=~G:this.renderFlags|=G}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var o=u(r,0,1);this._alphaTL=o,o!==0&&(this.renderFlags|=G)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var o=u(r,0,1);this._alphaTR=o,o!==0&&(this.renderFlags|=G)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var o=u(r,0,1);this._alphaBL=o,o!==0&&(this.renderFlags|=G)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var o=u(r,0,1);this._alphaBR=o,o!==0&&(this.renderFlags|=G)}}};i.exports=h},88509:(i,$,e)=>{var u=e(45319),G=2,h={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var o=u(r,0,1);this._alpha=o,o===0?this.renderFlags&=~G:this.renderFlags|=G}}};i.exports=h},90065:(i,$,e)=>{var u=e(10312),G={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(h){typeof h=="string"&&(h=u[h]),h|=0,h>=-1&&(this._blendMode=h)}},setBlendMode:function(h){return this.blendMode=h,this}};i.exports=G},94215:i=>{var $={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};i.exports=$},61683:i=>{var $={texture:null,frame:null,isCropped:!1,setCrop:function(e,u,G,h){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,u,G,h,this.flipX,this.flipY);else{var r=e;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};i.exports=$},89272:i=>{var $={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};i.exports=$},47059:(i,$,e)=>{var u=e(83419),G=e(66064),h=e(19133),r=new u({initialize:function(n,l){this.gameObject=n,this.isPost=l,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(o){return o===void 0&&(o=0),this.padding=o,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(o){if(!this.isPost){var n=this.gameObject.scene.sys.renderer;n&&n.pipelines?(this.gameObject.pipeline=n.pipelines.FX_PIPELINE,o!==void 0&&(this.padding=o),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var o=this.list,n=0;n<o.length;n++)o[n].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(o){var n;if(this.isPost){var l=this.gameObject.getPostPipeline(String(o.type));for(Array.isArray(l)||(l=[l]),n=0;n<l.length;n++){var f=l[n];if(f.controller===o){this.gameObject.removePostPipeline(f),o.destroy();break}}}else{var s=this.list;for(n=0;n<s.length;n++)s[n]===o&&(h(s,n),o.destroy())}return this.gameObject},disable:function(o){return o===void 0&&(o=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,o&&this.clear(),this.gameObject},add:function(o,n){if(this.isPost){var l=String(o.type);this.gameObject.setPostPipeline(l,n);var f=this.gameObject.getPostPipeline(l);if(f)return Array.isArray(f)&&(f=f.pop()),f.controller=o,o}else return this.enabled||this.enable(),this.list.push(o),o},addGlow:function(o,n,l,f,s,d){return this.add(new G.Glow(this.gameObject,o,n,l,f),{quality:s,distance:d})},addShadow:function(o,n,l,f,s,d,p){return this.add(new G.Shadow(this.gameObject,o,n,l,f,s,d,p))},addPixelate:function(o){return this.add(new G.Pixelate(this.gameObject,o))},addVignette:function(o,n,l,f){return this.add(new G.Vignette(this.gameObject,o,n,l,f))},addShine:function(o,n,l,f){return this.add(new G.Shine(this.gameObject,o,n,l,f))},addBlur:function(o,n,l,f,s,d){return this.add(new G.Blur(this.gameObject,o,n,l,f,s,d))},addGradient:function(o,n,l,f,s,d,p,c){return this.add(new G.Gradient(this.gameObject,o,n,l,f,s,d,p,c))},addBloom:function(o,n,l,f,s,d){return this.add(new G.Bloom(this.gameObject,o,n,l,f,s,d))},addColorMatrix:function(){return this.add(new G.ColorMatrix(this.gameObject))},addCircle:function(o,n,l,f,s){return this.add(new G.Circle(this.gameObject,o,n,l,f,s))},addBarrel:function(o){return this.add(new G.Barrel(this.gameObject,o))},addDisplacement:function(o,n,l){return this.add(new G.Displacement(this.gameObject,o,n,l))},addWipe:function(o,n,l){return this.add(new G.Wipe(this.gameObject,o,n,l))},addReveal:function(o,n,l){return this.add(new G.Wipe(this.gameObject,o,n,l,!0))},addBokeh:function(o,n,l){return this.add(new G.Bokeh(this.gameObject,o,n,l))},addTiltShift:function(o,n,l,f,s,d){return this.add(new G.Bokeh(this.gameObject,o,n,l,!0,f,s,d))},destroy:function(){this.clear(),this.gameObject=null}});i.exports=r},54434:i=>{var $={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,u){return this.flipX=e,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};i.exports=$},8004:(i,$,e)=>{var u=e(87841),G=e(11520),h=e(26099),r={prepareBoundsOutput:function(o,n){if(n===void 0&&(n=!1),this.rotation!==0&&G(o,this.x,this.y,this.rotation),n&&this.parentContainer){var l=this.parentContainer.getBoundsTransformMatrix();l.transformPoint(o.x,o.y,o)}return o},getCenter:function(o,n){return o===void 0&&(o=new h),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getTopLeft:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getTopCenter:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getTopRight:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getLeftCenter:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getRightCenter:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getBottomLeft:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBottomCenter:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBottomRight:function(o,n){return o||(o=new h),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBounds:function(o){o===void 0&&(o=new u);var n,l,f,s,d,p,c,g;if(this.parentContainer){var j=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(o),j.transformPoint(o.x,o.y,o),n=o.x,l=o.y,this.getTopRight(o),j.transformPoint(o.x,o.y,o),f=o.x,s=o.y,this.getBottomLeft(o),j.transformPoint(o.x,o.y,o),d=o.x,p=o.y,this.getBottomRight(o),j.transformPoint(o.x,o.y,o),c=o.x,g=o.y}else this.getTopLeft(o),n=o.x,l=o.y,this.getTopRight(o),f=o.x,s=o.y,this.getBottomLeft(o),d=o.x,p=o.y,this.getBottomRight(o),c=o.x,g=o.y;return o.x=Math.min(n,f,d,c),o.y=Math.min(l,s,p,g),o.width=Math.max(n,f,d,c)-o.x,o.height=Math.max(l,s,p,g)-o.y,o}};i.exports=r},8573:(i,$,e)=>{var u=e(6858),G=e(80661),h={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,o,n,l,f){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new u(this.scene,r,o,n,l,f)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new G(this.scene,r)}};i.exports=h},27387:i=>{var $={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,u){return e===void 0&&(e=.5),u===void 0&&(u=e),this.originX=e,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,u){return e===void 0&&(e=0),u===void 0&&(u=e),this.displayOriginX=e,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};i.exports=$},37640:(i,$,e)=>{var u=e(39506),G=e(57355),h=e(35154),r=e(86353),o=e(26099),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(l,f){f===void 0&&(f=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=l,f&&this.startFollow(f),this},setRotateToPath:function(l,f){return f===void 0&&(f=0),this.rotateToPath=l,this.pathRotationOffset=f,this},isFollowing:function(){var l=this.pathTween;return l&&l.isPlaying()},startFollow:function(l,f){l===void 0&&(l={}),f===void 0&&(f=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof l=="number"&&(l={duration:l}),l.from=h(l,"from",0),l.to=h(l,"to",1);var d=G(l,"positionOnPath",!1);this.rotateToPath=G(l,"rotateToPath",!1),this.pathRotationOffset=h(l,"rotationOffset",0);var p=h(l,"startAt",f);if(p&&(l.onStart=function(g){var j=g.data[0];j.progress=p,j.elapsed=j.duration*p;var k=j.ease(j.progress);j.current=j.start+(j.end-j.start)*k,j.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),l.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(l),this.path.getStartPoint(this.pathOffset),d&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=l,this},pauseFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.pause(),this},resumeFollow:function(){var l=this.pathTween;return l&&l.isPaused()&&l.resume(),this},stopFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this},pathUpdate:function(){var l=this.pathTween;if(l&&l.data){var f=l.data[0],s=this.pathDelta,d=this.pathVector;if(s.copy(d).negate(),f.state===r.COMPLETE){this.path.getPoint(f.end,d),s.add(d),d.add(this.pathOffset),this.setPosition(d.x,d.y);return}else if(f.state!==r.PLAYING_FORWARD&&f.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(l.getValue(),d),s.add(d),d.add(this.pathOffset);var p=this.x,c=this.y;this.setPosition(d.x,d.y);var g=this.x-p,j=this.y-c;if(g===0&&j===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(j,g)+u(this.pathRotationOffset))}}};i.exports=n},72699:(i,$,e)=>{var u=e(62644),G={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(h){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var o=r.pipelines;if(o){h===void 0&&(h=o.default);var n=o.get(h);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(h,r,o){var n=this.scene.sys.renderer;if(!n)return this;var l=n.pipelines;if(l){var f=l.get(h);f&&(this.pipeline=f),r&&(this.pipelineData=o?u(r):r)}return this},setPipelineData:function(h,r){var o=this.pipelineData;return r===void 0?delete o[h]:o[h]=r,this},resetPipeline:function(h){return h===void 0&&(h=!1),this.pipeline=this.defaultPipeline,h&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};i.exports=G},17581:(i,$,e)=>{var u=e(62644),G=e(47059),h=e(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(o){this.postPipelines=[],this.postPipelineData={},this.postFX=new G(this,!0),o&&(this.preFX=new G(this,!1))},setPostPipeline:function(o,n,l){var f=this.scene.sys.renderer;if(!f)return this;var s=f.pipelines;if(s){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var p=s.getPostPipeline(o[d],this,n);p&&this.postPipelines.push(p)}n&&(this.postPipelineData=l?u(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(o,n){var l=this.postPipelineData;return n===void 0?delete l[o]:l[o]=n,this},getPostPipeline:function(o){for(var n=typeof o=="string",l=this.postPipelines,f=[],s=0;s<l.length;s++){var d=l[s];(n&&d.name===o||!n&&d instanceof o)&&f.push(d)}return f.length===1?f[0]:f},resetPostPipeline:function(o){o===void 0&&(o=!1);for(var n=this.postPipelines,l=0;l<n.length;l++)n[l].destroy();this.postPipelines=[],this.hasPostPipeline=!1,o&&(this.postPipelineData={})},removePostPipeline:function(o){for(var n=typeof o=="string",l=this.postPipelines,f=l.length-1;f>=0;f--){var s=l[f];(n&&s.name===o||!n&&s===o)&&(s.destroy(),h(l,f))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};i.exports=r},80227:i=>{var $={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,u){return u===void 0&&(u=e),this.scrollFactorX=e,this.scrollFactorY=u,this}};i.exports=$},16736:i=>{var $={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};i.exports=$},37726:(i,$,e)=>{var u=e(4327),G=8,h={texture:null,frame:null,isCropped:!1,setTexture:function(r,o,n,l){return this.texture=this.scene.sys.textures.get(r),this.setFrame(o,n,l)},setFrame:function(r,o,n){return o===void 0&&(o=!0),n===void 0&&(n=!0),r instanceof u?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~G:this.renderFlags|=G,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};i.exports=h},79812:(i,$,e)=>{var u=e(4327),G=8,h={texture:null,frame:null,isCropped:!1,setCrop:function(r,o,n,l){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,o,n,l,this.flipX,this.flipY);else{var f=r;this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,o){return this.texture=this.scene.sys.textures.get(r),this.setFrame(o)},setFrame:function(r,o,n){return o===void 0&&(o=!0),n===void 0&&(n=!0),r instanceof u?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~G:this.renderFlags|=G,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};i.exports=h},27472:i=>{var $={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,u,G,h){return e===void 0&&(e=16777215),u===void 0&&(u=e,G=e,h=e),this.tintTopLeft=e,this.tintTopRight=u,this.tintBottomLeft=G,this.tintBottomRight=h,this.tintFill=!1,this},setTintFill:function(e,u,G,h){return this.setTint(e,u,G,h),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};i.exports=$},53774:i=>{var $=function(e){var u={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(u.textureKey=e.texture.key,u.frameKey=e.frame.name),u};i.exports=$},16901:(i,$,e)=>{var u=e(36383),G=e(61340),h=e(85955),r=e(86554),o=e(30954),n=e(26099),l=4,f={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=~l:this.renderFlags|=l}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=~l:this._scaleY!==0&&(this.renderFlags|=l)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=~l:this._scaleX!==0&&(this.renderFlags|=l)}},angle:{get:function(){return o(this._rotation*u.RAD_TO_DEG)},set:function(s){this.rotation=o(s)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=r(s)}},setPosition:function(s,d,p,c){return s===void 0&&(s=0),d===void 0&&(d=s),p===void 0&&(p=0),c===void 0&&(c=0),this.x=s,this.y=d,this.z=p,this.w=c,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,d,p,c){return s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=s+Math.random()*p,this.y=d+Math.random()*c,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,d){return s===void 0&&(s=1),d===void 0&&(d=s),this.scaleX=s,this.scaleY=d,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new G),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,d){s===void 0&&(s=new G);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(s);for(d||(d=new G),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)d.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),d.multiply(s,s),p=p.parentContainer;return s},getLocalPoint:function(s,d,p,c){p||(p=new n),c||(c=this.scene.sys.cameras.main);var g=c.scrollX,j=c.scrollY,k=s+g*this.scrollFactorX-g,tt=d+j*this.scrollFactorY-j;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(k,tt,p):h(k,tt,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var s=0,d=this.parentContainer;d;)s+=d.rotation,d=d.parentContainer;return s}};i.exports=f},61340:(i,$,e)=>{var u=e(83419),G=e(36383),h=e(26099),r=new u({initialize:function(n,l,f,s,d,p){n===void 0&&(n=1),l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=1),d===void 0&&(d=0),p===void 0&&(p=0),this.matrix=new Float32Array([n,l,f,s,d,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(o){this.matrix[0]=o}},b:{get:function(){return this.matrix[1]},set:function(o){this.matrix[1]=o}},c:{get:function(){return this.matrix[2]},set:function(o){this.matrix[2]=o}},d:{get:function(){return this.matrix[3]},set:function(o){this.matrix[3]=o}},e:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},f:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},tx:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},ty:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var o=this.matrix,n=o[0],l=o[1],f=o[2],s=o[3];return n||l?l>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):f||s?G.TAU-(s>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var o=this.matrix;return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o[4]=0,o[5]=0,this},translate:function(o,n){var l=this.matrix;return l[4]=l[0]*o+l[2]*n+l[4],l[5]=l[1]*o+l[3]*n+l[5],this},scale:function(o,n){var l=this.matrix;return l[0]*=o,l[1]*=o,l[2]*=n,l[3]*=n,this},rotate:function(o){var n=Math.sin(o),l=Math.cos(o),f=this.matrix,s=f[0],d=f[1],p=f[2],c=f[3];return f[0]=s*l+p*n,f[1]=d*l+c*n,f[2]=s*-n+p*l,f[3]=d*-n+c*l,this},multiply:function(o,n){var l=this.matrix,f=o.matrix,s=l[0],d=l[1],p=l[2],c=l[3],g=l[4],j=l[5],k=f[0],tt=f[1],_=f[2],nt=f[3],it=f[4],rt=f[5],st=n===void 0?l:n.matrix;return st[0]=k*s+tt*p,st[1]=k*d+tt*c,st[2]=_*s+nt*p,st[3]=_*d+nt*c,st[4]=it*s+rt*p+g,st[5]=it*d+rt*c+j,st},multiplyWithOffset:function(o,n,l){var f=this.matrix,s=o.matrix,d=f[0],p=f[1],c=f[2],g=f[3],j=f[4],k=f[5],tt=n*d+l*c+j,_=n*p+l*g+k,nt=s[0],it=s[1],rt=s[2],st=s[3],at=s[4],ot=s[5];return f[0]=nt*d+it*c,f[1]=nt*p+it*g,f[2]=rt*d+st*c,f[3]=rt*p+st*g,f[4]=at*d+ot*c+tt,f[5]=at*p+ot*g+_,this},transform:function(o,n,l,f,s,d){var p=this.matrix,c=p[0],g=p[1],j=p[2],k=p[3],tt=p[4],_=p[5];return p[0]=o*c+n*j,p[1]=o*g+n*k,p[2]=l*c+f*j,p[3]=l*g+f*k,p[4]=s*c+d*j+tt,p[5]=s*g+d*k+_,this},transformPoint:function(o,n,l){l===void 0&&(l={x:0,y:0});var f=this.matrix,s=f[0],d=f[1],p=f[2],c=f[3],g=f[4],j=f[5];return l.x=o*s+n*p+g,l.y=o*d+n*c+j,l},invert:function(){var o=this.matrix,n=o[0],l=o[1],f=o[2],s=o[3],d=o[4],p=o[5],c=n*s-l*f;return o[0]=s/c,o[1]=-l/c,o[2]=-f/c,o[3]=n/c,o[4]=(f*p-s*d)/c,o[5]=-(n*p-l*d)/c,this},copyFrom:function(o){var n=this.matrix;return n[0]=o.a,n[1]=o.b,n[2]=o.c,n[3]=o.d,n[4]=o.e,n[5]=o.f,this},copyFromArray:function(o){var n=this.matrix;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],this},copyToContext:function(o){var n=this.matrix;return o.transform(n[0],n[1],n[2],n[3],n[4],n[5]),o},setToContext:function(o){return o.setTransform(this),o},copyToArray:function(o){var n=this.matrix;return o===void 0?o=[n[0],n[1],n[2],n[3],n[4],n[5]]:(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5]),o},setTransform:function(o,n,l,f,s,d){var p=this.matrix;return p[0]=o,p[1]=n,p[2]=l,p[3]=f,p[4]=s,p[5]=d,this},decomposeMatrix:function(){var o=this.decomposedMatrix,n=this.matrix,l=n[0],f=n[1],s=n[2],d=n[3],p=l*d-f*s;if(o.translateX=n[4],o.translateY=n[5],l||f){var c=Math.sqrt(l*l+f*f);o.rotation=f>0?Math.acos(l/c):-Math.acos(l/c),o.scaleX=c,o.scaleY=p/c}else if(s||d){var g=Math.sqrt(s*s+d*d);o.rotation=Math.PI*.5-(d>0?Math.acos(-s/g):-Math.acos(s/g)),o.scaleX=p/g,o.scaleY=g}else o.rotation=0,o.scaleX=0,o.scaleY=0;return o},applyITRS:function(o,n,l,f,s){var d=this.matrix,p=Math.sin(l),c=Math.cos(l);return d[4]=o,d[5]=n,d[0]=c*f,d[1]=p*f,d[2]=-p*s,d[3]=c*s,this},applyInverse:function(o,n,l){l===void 0&&(l=new h);var f=this.matrix,s=f[0],d=f[1],p=f[2],c=f[3],g=f[4],j=f[5],k=1/(s*c+p*-d);return l.x=c*k*o+-p*k*n+(j*p-g*c)*k,l.y=s*k*n+-d*k*o+(-j*s+g*d)*k,l},setQuad:function(o,n,l,f,s,d){s===void 0&&(s=!1),d===void 0&&(d=this.quad);var p=this.matrix,c=p[0],g=p[1],j=p[2],k=p[3],tt=p[4],_=p[5];return s?(d[0]=Math.round(o*c+n*j+tt),d[1]=Math.round(o*g+n*k+_),d[2]=Math.round(o*c+f*j+tt),d[3]=Math.round(o*g+f*k+_),d[4]=Math.round(l*c+f*j+tt),d[5]=Math.round(l*g+f*k+_),d[6]=Math.round(l*c+n*j+tt),d[7]=Math.round(l*g+n*k+_)):(d[0]=o*c+n*j+tt,d[1]=o*g+n*k+_,d[2]=o*c+f*j+tt,d[3]=o*g+f*k+_,d[4]=l*c+f*j+tt,d[5]=l*g+f*k+_,d[6]=l*c+n*j+tt,d[7]=l*g+n*k+_),d},getX:function(o,n){return o*this.a+n*this.c+this.e},getY:function(o,n){return o*this.b+n*this.d+this.f},getXRound:function(o,n,l){var f=this.getX(o,n);return l&&(f=Math.round(f)),f},getYRound:function(o,n,l){var f=this.getY(o,n);return l&&(f=Math.round(f)),f},getCSSMatrix:function(){var o=this.matrix;return"matrix("+o[0]+","+o[1]+","+o[2]+","+o[3]+","+o[4]+","+o[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});i.exports=r},59715:i=>{var $=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=$):(this._visible=!1,this.renderFlags&=~$)}},setVisible:function(u){return this.visible=u,this}};i.exports=e},31401:(i,$,e)=>{i.exports={Alpha:e(16005),AlphaSingle:e(88509),BlendMode:e(90065),ComputedSize:e(94215),Crop:e(61683),Depth:e(89272),Flip:e(54434),FX:e(47059),GetBounds:e(8004),Mask:e(8573),Origin:e(27387),PathFollower:e(37640),Pipeline:e(72699),PostPipeline:e(17581),ScrollFactor:e(80227),Size:e(16736),Texture:e(37726),TextureCrop:e(79812),Tint:e(27472),ToJSON:e(53774),Transform:e(16901),TransformMatrix:e(61340),Visible:e(59715)}},31559:(i,$,e)=>{var u=e(37105),G=e(10312),h=e(83419),r=e(31401),o=e(51708),n=e(95643),l=e(87841),f=e(29959),s=e(36899),d=e(26099),p=new h({Extends:n,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,f],initialize:function(g,j,k,tt){n.call(this,g,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=g.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(j,k),this.setBlendMode(G.SKIP_CHECK),tt&&this.add(tt)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(c){return c===void 0&&(c=!0),this.exclusive=c,this},getBounds:function(c){if(c===void 0&&(c=new l),c.setTo(this.x,this.y,0,0),this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix(),j=g.transformPoint(this.x,this.y);c.setTo(j.x,j.y,0,0)}if(this.list.length>0){var k=this.list,tt=new l,_=!1;c.setEmpty();for(var nt=0;nt<k.length;nt++){var it=k[nt];it.getBounds&&(it.getBounds(tt),_?s(tt,c,c):(c.setTo(tt.x,tt.y,tt.width,tt.height),_=!0))}}return c},addHandler:function(c){c.once(o.DESTROY,this.onChildDestroyed,this),this.exclusive&&(c.parentContainer&&c.parentContainer.remove(c),c.parentContainer=this,c.removeFromDisplayList(),c.addedToScene())},removeHandler:function(c){c.off(o.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer=null,c.removedFromScene(),c.addToDisplayList())},pointToContainer:function(c,g){g===void 0&&(g=new d),this.parentContainer?this.parentContainer.pointToContainer(c,g):(g.x=c.x,g.y=c.y);var j=this.tempTransformMatrix;return j.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),j.invert(),j.transformPoint(c.x,c.y,g),g},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(c){return u.Add(this.list,c,this.maxSize,this.addHandler,this),this},addAt:function(c,g){return u.AddAt(this.list,c,g,this.maxSize,this.addHandler,this),this},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,g){return c?(g===void 0&&(g=function(j,k){return j[c]-k[c]}),u.StableSort(this.list,g),this):this},getByName:function(c){return u.GetFirst(this.list,"name",c)},getRandom:function(c,g){return u.GetRandom(this.list,c,g)},getFirst:function(c,g,j,k){return u.GetFirst(this.list,c,g,j,k)},getAll:function(c,g,j,k){return u.GetAll(this.list,c,g,j,k)},count:function(c,g,j,k){return u.CountAllMatching(this.list,c,g,j,k)},swap:function(c,g){return u.Swap(this.list,c,g),this},moveTo:function(c,g){return u.MoveTo(this.list,c,g),this},moveAbove:function(c,g){return u.MoveAbove(this.list,c,g),this},moveBelow:function(c,g){return u.MoveBelow(this.list,c,g),this},remove:function(c,g){var j=u.Remove(this.list,c,this.removeHandler,this);if(g&&j){Array.isArray(j)||(j=[j]);for(var k=0;k<j.length;k++)j[k].destroy()}return this},removeAt:function(c,g){var j=u.RemoveAt(this.list,c,this.removeHandler,this);return g&&j&&j.destroy(),this},removeBetween:function(c,g,j){var k=u.RemoveBetween(this.list,c,g,this.removeHandler,this);if(j)for(var tt=0;tt<k.length;tt++)k[tt].destroy();return this},removeAll:function(c){var g=this.list;if(c){for(var j=0;j<g.length;j++)g[j]&&g[j].scene&&(g[j].off(o.DESTROY,this.onChildDestroyed,this),g[j].destroy());this.list=[]}else u.RemoveBetween(g,0,g.length,this.removeHandler,this);return this},bringToTop:function(c){return u.BringToTop(this.list,c),this},sendToBack:function(c){return u.SendToBack(this.list,c),this},moveUp:function(c){return u.MoveUp(this.list,c),this},moveDown:function(c){return u.MoveDown(this.list,c),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(c,g,j){var k=u.Replace(this.list,c,g);return k&&(this.addHandler(g),this.removeHandler(c),j&&c.destroy()),this},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,g,j,k){return u.SetAll(this.list,c,g,j,k),this},each:function(c,g){var j=[null],k,tt=this.list.slice(),_=tt.length;for(k=2;k<arguments.length;k++)j.push(arguments[k]);for(k=0;k<_;k++)j[0]=tt[k],c.apply(g,j);return this},iterate:function(c,g){var j=[null],k;for(k=2;k<arguments.length;k++)j.push(arguments[k]);for(k=0;k<this.list.length;k++)j[0]=this.list[k],c.apply(g,j);return this},setScrollFactor:function(c,g,j){return g===void 0&&(g=c),j===void 0&&(j=!1),this.scrollFactorX=c,this.scrollFactorY=g,j&&(u.SetAll(this.list,"scrollFactorX",c),u.SetAll(this.list,"scrollFactorY",g)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(c){u.Remove(this.list,c),this.exclusive&&(c.parentContainer=null,c.removedFromScene())}});i.exports=p},53584:i=>{var $=function(e,u,G,h){G.addToRenderList(u);var r=u.list;if(r.length!==0){var o=u.localTransform;h?(o.loadIdentity(),o.multiply(h),o.translate(u.x,u.y),o.rotate(u.rotation),o.scale(u.scaleX,u.scaleY)):o.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var n=u.blendMode!==-1;n||e.setBlendMode(0);var l=u._alpha,f=u.scrollFactorX,s=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(e,null,G);for(var d=0;d<r.length;d++){var p=r[d];if(p.willRender(G)){var c=p.alpha,g=p.scrollFactorX,j=p.scrollFactorY;!n&&p.blendMode!==e.currentBlendMode&&e.setBlendMode(p.blendMode),p.setScrollFactor(g*f,j*s),p.setAlpha(c*l),p.renderCanvas(e,p,G,o),p.setAlpha(c),p.setScrollFactor(g,j)}}u.mask&&u.mask.postRenderCanvas(e)}};i.exports=$},77143:(i,$,e)=>{var u=e(25305),G=e(31559),h=e(44603),r=e(23568),o=e(95540);h.register("container",function(n,l){n===void 0&&(n={});var f=r(n,"x",0),s=r(n,"y",0),d=o(n,"children",null),p=new G(this.scene,f,s,d);return l!==void 0&&(n.add=l),u(this.scene,p,n),p})},24961:(i,$,e)=>{var u=e(31559),G=e(39429);G.register("container",function(h,r,o){return this.displayList.add(new u(this.scene,h,r,o))})},29959:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(72249),h=e(53584),i.exports={renderWebGL:G,renderCanvas:h}},72249:i=>{var $=function(e,u,G,h){G.addToRenderList(u);var r=u.list,o=r.length;if(o!==0){var n=u.localTransform;h?(n.loadIdentity(),n.multiply(h),n.translate(u.x,u.y),n.rotate(u.rotation),n.scale(u.scaleX,u.scaleY)):n.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),e.pipelines.preBatch(u);var l=u.blendMode!==-1;l||e.setBlendMode(0);for(var f=u.alpha,s=u.scrollFactorX,d=u.scrollFactorY,p=0;p<o;p++){var c=r[p];if(c.willRender(G)){var g,j,k,tt;if(c.alphaTopLeft!==void 0)g=c.alphaTopLeft,j=c.alphaTopRight,k=c.alphaBottomLeft,tt=c.alphaBottomRight;else{var _=c.alpha;g=_,j=_,k=_,tt=_}var nt=c.scrollFactorX,it=c.scrollFactorY;!l&&c.blendMode!==e.currentBlendMode&&e.setBlendMode(c.blendMode);var rt=c.mask;rt&&rt.preRenderWebGL(e,c,G);var st=c.type;st!==e.currentType&&(e.newType=!0,e.currentType=st),e.nextTypeMatch=p<o-1?r[p+1].type===e.currentType:!1,c.setScrollFactor(nt*s,it*d),c.setAlpha(g*f,j*f,k*f,tt*f),c.renderWebGL(e,c,G,n,u),c.setAlpha(g,j,k,tt),c.setScrollFactor(nt,it),rt&&rt.postRenderWebGL(e,G),e.newType=!1}}e.pipelines.postBatch(u)}};i.exports=$},47407:i=>{i.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(441),r=e(95643),o=e(41212),n=e(35846),l=e(44594),f=e(61369),s=new u({Extends:r,Mixins:[G.AlphaSingle,G.BlendMode,G.Depth,G.Origin,G.ScrollFactor,G.Transform,G.Visible,h],initialize:function(p,c,g,j,k,tt){r.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,g),typeof j=="string"?j[0]==="#"?this.setElement(j.substr(1),k,tt):this.createElement(j,k,tt):j&&this.setElement(j,k,tt),p.sys.events.on(l.SLEEP,this.handleSceneEvent,this),p.sys.events.on(l.WAKE,this.handleSceneEvent,this),p.sys.events.on(l.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(d){var p=this.node,c=p.style;p&&(c.display=d.settings.visible?"block":"none")},setSkew:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this.skewX=d,this.skewY=p,this},setPerspective:function(d){return this.parent.style.perspective=d+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(d){this.parent.style.perspective=d+"px"}},addListener:function(d){if(this.node){d=d.split(" ");for(var p=0;p<d.length;p++)this.node.addEventListener(d[p],this.handler,!1)}return this},removeListener:function(d){if(this.node){d=d.split(" ");for(var p=0;p<d.length;p++)this.node.removeEventListener(d[p],this.handler)}return this},dispatchNativeEvent:function(d){this.emit(d.type,d)},createElement:function(d,p,c){return this.setElement(document.createElement(d),p,c)},setElement:function(d,p,c){this.removeElement();var g;if(typeof d=="string"?(d[0]==="#"&&(d=d.substr(1)),g=document.getElementById(d)):typeof d=="object"&&d.nodeType===1&&(g=d),!g)return this;if(this.node=g,p&&o(p))for(var j in p)g.style[j]=p[j];else typeof p=="string"&&(g.style=p);return g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),c&&(g.innerText=c),this.updateSize()},createFromCache:function(d,p){var c=this.cache.get(d);return c&&this.createFromHTML(c,p),this},createFromHTML:function(d,p){p===void 0&&(p="div"),this.removeElement();var c=document.createElement(p);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=d,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var d=this.node,p=d.getBoundingClientRect();return this.width=d.clientWidth,this.height=d.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(d,p){if(this.node){for(var c=this.node.querySelectorAll("*"),g=0;g<c.length;g++)if(c[g][d]===p)return c[g]}return null},getChildByID:function(d){return this.getChildByProperty("id",d)},getChildByName:function(d){return this.getChildByProperty("name",d)},setClassName:function(d){return this.node&&(this.node.className=d,this.updateSize()),this},setText:function(d){return this.node&&(this.node.innerText=d,this.updateSize()),this},setHTML:function(d){return this.node&&(this.node.innerHTML=d,this.updateSize()),this},preRender:function(){var d=this.parentContainer,p=this.node;p&&d&&!d.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(l.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(l.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(l.PRE_RENDER,this.preRender,this)}});i.exports=s},49381:(i,$,e)=>{var u=e(47407),G=e(95643),h=e(61340),r=new h,o=new h,n=new h,l=function(f,s,d,p){if(s.node){var c=s.node.style,g=s.scene.sys.settings;if(!c||!g.visible||G.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&d.id||s.parentContainer&&!s.parentContainer.willRender()){c.display="none";return}var j=s.parentContainer,k=d.alpha*s.alpha;j&&(k*=j.alpha);var tt=r,_=o,nt=n,it=0,rt=0,st="0%",at="0%";p?(it=s.width*s.scaleX*s.originX,rt=s.height*s.scaleY*s.originY,_.applyITRS(s.x-it,s.y-rt,s.rotation,s.scaleX,s.scaleY),tt.copyFrom(d.matrix),tt.multiplyWithOffset(p,-d.scrollX*s.scrollFactorX,-d.scrollY*s.scrollFactorY),_.e=s.x-it,_.f=s.y-rt,tt.multiply(_,nt)):(it=s.width*s.originX,rt=s.height*s.originY,_.applyITRS(s.x-it,s.y-rt,s.rotation,s.scaleX,s.scaleY),tt.copyFrom(d.matrix),st=100*s.originX+"%",at=100*s.originY+"%",_.e-=d.scrollX*s.scrollFactorX,_.f-=d.scrollY*s.scrollFactorY,tt.multiply(_,nt)),s.transformOnly||(c.display="block",c.opacity=k,c.zIndex=s._depth,c.pointerEvents=s.pointerEvents,c.mixBlendMode=u[s._blendMode]),c.transform=nt.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",c.transformOrigin=st+" "+at}};i.exports=l},2611:(i,$,e)=>{var u=e(3069),G=e(39429);G.register("dom",function(h,r,o,n,l){var f=new u(this.scene,h,r,o,n,l);return this.displayList.add(f),f})},441:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(49381),h=e(49381),i.exports={renderWebGL:G,renderCanvas:h}},62980:i=>{i.exports="addedtoscene"},41337:i=>{i.exports="destroy"},44947:i=>{i.exports="removedfromscene"},49358:i=>{i.exports="complete"},35163:i=>{i.exports="created"},97249:i=>{i.exports="error"},19483:i=>{i.exports="locked"},56059:i=>{i.exports="loop"},26772:i=>{i.exports="metadata"},64437:i=>{i.exports="playing"},83411:i=>{i.exports="play"},75780:i=>{i.exports="seeked"},67799:i=>{i.exports="seeking"},63500:i=>{i.exports="stalled"},55541:i=>{i.exports="stop"},53208:i=>{i.exports="textureready"},4992:i=>{i.exports="unlocked"},12:i=>{i.exports="unsupported"},51708:(i,$,e)=>{i.exports={ADDED_TO_SCENE:e(62980),DESTROY:e(41337),REMOVED_FROM_SCENE:e(44947),VIDEO_COMPLETE:e(49358),VIDEO_CREATED:e(35163),VIDEO_ERROR:e(97249),VIDEO_LOCKED:e(19483),VIDEO_LOOP:e(56059),VIDEO_METADATA:e(26772),VIDEO_PLAY:e(83411),VIDEO_PLAYING:e(64437),VIDEO_SEEKED:e(75780),VIDEO_SEEKING:e(67799),VIDEO_STALLED:e(63500),VIDEO_STOP:e(55541),VIDEO_TEXTURE:e(53208),VIDEO_UNLOCKED:e(4992),VIDEO_UNSUPPORTED:e(12)}},42421:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(95643),r=e(64993),o=new u({Extends:h,Mixins:[G.Alpha,G.BlendMode,G.Depth,G.Flip,G.Origin,G.ScrollFactor,G.Size,G.Texture,G.Tint,G.Transform,G.Visible,r],initialize:function(l){h.call(this,l,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});i.exports=o},70217:()=>{},56315:(i,$,e)=>{var u=e(42421),G=e(39429);G.register("extern",function(){var h=new u(this.scene);return this.displayList.add(h),h})},64993:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(80287),h=e(70217),i.exports={renderWebGL:G,renderCanvas:h}},80287:(i,$,e)=>{var u=e(91296),G=function(h,r,o,n){h.pipelines.clear();var l=u(r,o,n).calc;r.render.call(r,h,o,l),h.pipelines.rebind()};i.exports=G},85592:i=>{i.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(i,$,e)=>{var u=e(71911),G=e(83419),h=e(85592),r=e(31401),o=e(8497),n=e(95643),l=e(95540),f=e(35154),s=e(36383),d=e(84503),p=new G({Extends:n,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,d],initialize:function(g,j){var k=f(j,"x",0),tt=f(j,"y",0);n.call(this,g,"Graphics"),this.setPosition(k,tt),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(j)},setDefaultStyles:function(c){return f(c,"lineStyle",null)&&(this.defaultStrokeWidth=f(c,"lineStyle.width",1),this.defaultStrokeColor=f(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=f(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),f(c,"fillStyle",null)&&(this.defaultFillColor=f(c,"fillStyle.color",16777215),this.defaultFillAlpha=f(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,g,j){return j===void 0&&(j=1),this.commandBuffer.push(h.LINE_STYLE,c,g,j),this._lineWidth=c,this},fillStyle:function(c,g){return g===void 0&&(g=1),this.commandBuffer.push(h.FILL_STYLE,c,g),this},fillGradientStyle:function(c,g,j,k,tt,_,nt,it){return tt===void 0&&(tt=1),_===void 0&&(_=tt),nt===void 0&&(nt=tt),it===void 0&&(it=tt),this.commandBuffer.push(h.GRADIENT_FILL_STYLE,tt,_,nt,it,c,g,j,k),this},lineGradientStyle:function(c,g,j,k,tt,_){return _===void 0&&(_=1),this.commandBuffer.push(h.GRADIENT_LINE_STYLE,c,_,g,j,k,tt),this},beginPath:function(){return this.commandBuffer.push(h.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(h.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(h.FILL_PATH),this},fill:function(){return this.commandBuffer.push(h.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(h.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(h.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,g,j){return this.beginPath(),this.arc(c,g,j,0,s.PI2),this.fillPath(),this},strokeCircle:function(c,g,j){return this.beginPath(),this.arc(c,g,j,0,s.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,g,j,k){return this.commandBuffer.push(h.FILL_RECT,c,g,j,k),this},strokeRect:function(c,g,j,k){var tt=this._lineWidth/2,_=c-tt,nt=c+tt;return this.beginPath(),this.moveTo(c,g),this.lineTo(c,g+k),this.strokePath(),this.beginPath(),this.moveTo(c+j,g),this.lineTo(c+j,g+k),this.strokePath(),this.beginPath(),this.moveTo(_,g),this.lineTo(nt+j,g),this.strokePath(),this.beginPath(),this.moveTo(_,g+k),this.lineTo(nt+j,g+k),this.strokePath(),this},fillRoundedRect:function(c,g,j,k,tt){tt===void 0&&(tt=20);var _=tt,nt=tt,it=tt,rt=tt;typeof tt!="number"&&(_=l(tt,"tl",20),nt=l(tt,"tr",20),it=l(tt,"bl",20),rt=l(tt,"br",20));var st=_>=0,at=nt>=0,ot=it>=0,ht=rt>=0;return _=Math.abs(_),nt=Math.abs(nt),it=Math.abs(it),rt=Math.abs(rt),this.beginPath(),this.moveTo(c+_,g),this.lineTo(c+j-nt,g),at?this.arc(c+j-nt,g+nt,nt,-s.TAU,0):this.arc(c+j,g,nt,Math.PI,s.TAU,!0),this.lineTo(c+j,g+k-rt),ht?this.arc(c+j-rt,g+k-rt,rt,0,s.TAU):this.arc(c+j,g+k,rt,-s.TAU,Math.PI,!0),this.lineTo(c+it,g+k),ot?this.arc(c+it,g+k-it,it,s.TAU,Math.PI):this.arc(c,g+k,it,0,-s.TAU,!0),this.lineTo(c,g+_),st?this.arc(c+_,g+_,_,-Math.PI,-s.TAU):this.arc(c,g,_,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,g,j,k,tt){tt===void 0&&(tt=20);var _=tt,nt=tt,it=tt,rt=tt,st=Math.min(j,k)/2;typeof tt!="number"&&(_=l(tt,"tl",20),nt=l(tt,"tr",20),it=l(tt,"bl",20),rt=l(tt,"br",20));var at=_>=0,ot=nt>=0,ht=it>=0,dt=rt>=0;return _=Math.min(Math.abs(_),st),nt=Math.min(Math.abs(nt),st),it=Math.min(Math.abs(it),st),rt=Math.min(Math.abs(rt),st),this.beginPath(),this.moveTo(c+_,g),this.lineTo(c+j-nt,g),this.moveTo(c+j-nt,g),ot?this.arc(c+j-nt,g+nt,nt,-s.TAU,0):this.arc(c+j,g,nt,Math.PI,s.TAU,!0),this.lineTo(c+j,g+k-rt),this.moveTo(c+j,g+k-rt),dt?this.arc(c+j-rt,g+k-rt,rt,0,s.TAU):this.arc(c+j,g+k,rt,-s.TAU,Math.PI,!0),this.lineTo(c+it,g+k),this.moveTo(c+it,g+k),ht?this.arc(c+it,g+k-it,it,s.TAU,Math.PI):this.arc(c,g+k,it,0,-s.TAU,!0),this.lineTo(c,g+_),this.moveTo(c,g+_),at?this.arc(c+_,g+_,_,-Math.PI,-s.TAU):this.arc(c,g,_,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,g){return this.fillPoint(c.x,c.y,g)},fillPoint:function(c,g,j){return!j||j<1?j=1:(c-=j/2,g-=j/2),this.commandBuffer.push(h.FILL_RECT,c,g,j,j),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,g,j,k,tt,_){return this.commandBuffer.push(h.FILL_TRIANGLE,c,g,j,k,tt,_),this},strokeTriangle:function(c,g,j,k,tt,_){return this.commandBuffer.push(h.STROKE_TRIANGLE,c,g,j,k,tt,_),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,g,j,k){return this.beginPath(),this.moveTo(c,g),this.lineTo(j,k),this.strokePath(),this},lineTo:function(c,g){return this.commandBuffer.push(h.LINE_TO,c,g),this},moveTo:function(c,g){return this.commandBuffer.push(h.MOVE_TO,c,g),this},strokePoints:function(c,g,j,k){g===void 0&&(g=!1),j===void 0&&(j=!1),k===void 0&&(k=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var tt=1;tt<k;tt++)this.lineTo(c[tt].x,c[tt].y);return g&&this.lineTo(c[0].x,c[0].y),j&&this.closePath(),this.strokePath(),this},fillPoints:function(c,g,j,k){g===void 0&&(g=!1),j===void 0&&(j=!1),k===void 0&&(k=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var tt=1;tt<k;tt++)this.lineTo(c[tt].x,c[tt].y);return g&&this.lineTo(c[0].x,c[0].y),j&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,g){g===void 0&&(g=32);var j=c.getPoints(g);return this.strokePoints(j,!0)},strokeEllipse:function(c,g,j,k,tt){tt===void 0&&(tt=32);var _=new o(c,g,j,k),nt=_.getPoints(tt);return this.strokePoints(nt,!0)},fillEllipseShape:function(c,g){g===void 0&&(g=32);var j=c.getPoints(g);return this.fillPoints(j,!0)},fillEllipse:function(c,g,j,k,tt){tt===void 0&&(tt=32);var _=new o(c,g,j,k),nt=_.getPoints(tt);return this.fillPoints(nt,!0)},arc:function(c,g,j,k,tt,_,nt){return _===void 0&&(_=!1),nt===void 0&&(nt=0),this.commandBuffer.push(h.ARC,c,g,j,k,tt,_,nt),this},slice:function(c,g,j,k,tt,_,nt){return _===void 0&&(_=!1),nt===void 0&&(nt=0),this.commandBuffer.push(h.BEGIN_PATH),this.commandBuffer.push(h.MOVE_TO,c,g),this.commandBuffer.push(h.ARC,c,g,j,k,tt,_,nt),this.commandBuffer.push(h.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(h.SAVE),this},restore:function(){return this.commandBuffer.push(h.RESTORE),this},translateCanvas:function(c,g){return this.commandBuffer.push(h.TRANSLATE,c,g),this},scaleCanvas:function(c,g){return this.commandBuffer.push(h.SCALE,c,g),this},rotateCanvas:function(c){return this.commandBuffer.push(h.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,g,j){var k=this.scene.sys,tt=k.game.renderer;g===void 0&&(g=k.scale.width),j===void 0&&(j=k.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,g,j),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var _,nt,it={willReadFrequently:!0};if(typeof c=="string")if(k.textures.exists(c)){_=k.textures.get(c);var rt=_.getSourceImage();rt instanceof HTMLCanvasElement&&(nt=rt.getContext("2d",it))}else _=k.textures.createCanvas(c,g,j),nt=_.getSourceImage().getContext("2d",it);else c instanceof HTMLCanvasElement&&(nt=c.getContext("2d",it));return nt&&(this.renderCanvas(tt,this,p.TargetCamera,null,nt,!1),_&&_.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new u,i.exports=p},32768:(i,$,e)=>{var u=e(85592),G=e(20926),h=function(r,o,n,l,f,s){var d=o.commandBuffer,p=d.length,c=f||r.currentContext;if(!(p===0||!G(r,c,o,n,l))){n.addToRenderList(o);var g=1,j=1,k=0,tt=0,_=1,nt=0,it=0,rt=0;c.beginPath();for(var st=0;st<p;++st){var at=d[st];switch(at){case u.ARC:c.arc(d[st+1],d[st+2],d[st+3],d[st+4],d[st+5],d[st+6]),st+=7;break;case u.LINE_STYLE:_=d[st+1],k=d[st+2],g=d[st+3],nt=(k&16711680)>>>16,it=(k&65280)>>>8,rt=k&255,c.strokeStyle="rgba("+nt+","+it+","+rt+","+g+")",c.lineWidth=_,st+=3;break;case u.FILL_STYLE:tt=d[st+1],j=d[st+2],nt=(tt&16711680)>>>16,it=(tt&65280)>>>8,rt=tt&255,c.fillStyle="rgba("+nt+","+it+","+rt+","+j+")",st+=2;break;case u.BEGIN_PATH:c.beginPath();break;case u.CLOSE_PATH:c.closePath();break;case u.FILL_PATH:s||c.fill();break;case u.STROKE_PATH:s||c.stroke();break;case u.FILL_RECT:s?c.rect(d[st+1],d[st+2],d[st+3],d[st+4]):c.fillRect(d[st+1],d[st+2],d[st+3],d[st+4]),st+=4;break;case u.FILL_TRIANGLE:c.beginPath(),c.moveTo(d[st+1],d[st+2]),c.lineTo(d[st+3],d[st+4]),c.lineTo(d[st+5],d[st+6]),c.closePath(),s||c.fill(),st+=6;break;case u.STROKE_TRIANGLE:c.beginPath(),c.moveTo(d[st+1],d[st+2]),c.lineTo(d[st+3],d[st+4]),c.lineTo(d[st+5],d[st+6]),c.closePath(),s||c.stroke(),st+=6;break;case u.LINE_TO:c.lineTo(d[st+1],d[st+2]),st+=2;break;case u.MOVE_TO:c.moveTo(d[st+1],d[st+2]),st+=2;break;case u.LINE_FX_TO:c.lineTo(d[st+1],d[st+2]),st+=5;break;case u.MOVE_FX_TO:c.moveTo(d[st+1],d[st+2]),st+=5;break;case u.SAVE:c.save();break;case u.RESTORE:c.restore();break;case u.TRANSLATE:c.translate(d[st+1],d[st+2]),st+=2;break;case u.SCALE:c.scale(d[st+1],d[st+2]),st+=2;break;case u.ROTATE:c.rotate(d[st+1]),st+=1;break;case u.GRADIENT_FILL_STYLE:st+=5;break;case u.GRADIENT_LINE_STYLE:st+=6;break}}c.restore()}};i.exports=h},87079:(i,$,e)=>{var u=e(44603),G=e(43831);u.register("graphics",function(h,r){h===void 0&&(h={}),r!==void 0&&(h.add=r);var o=new G(this.scene,h);return h.add&&this.scene.sys.displayList.add(o),o})},1201:(i,$,e)=>{var u=e(43831),G=e(39429);G.register("graphics",function(h){return this.displayList.add(new u(this.scene,h))})},84503:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(77545),h=e(32768),h=e(32768),i.exports={renderWebGL:G,renderCanvas:h}},77545:(i,$,e)=>{var u=e(85592),G=e(91296),h=e(61340),r=e(70554),o=function(d,p,c){this.x=d,this.y=p,this.width=c},n=function(d,p,c){this.points=[],this.pointsLength=1,this.points[0]=new o(d,p,c)},l=[],f=new h,s=function(d,p,c,g){if(p.commandBuffer.length!==0){c.addToRenderList(p);var j=d.pipelines.set(p.pipeline,p);d.pipelines.preBatch(p);for(var k=G(p,c,g).calc,tt=f.loadIdentity(),_=p.commandBuffer,nt=c.alpha*p.alpha,it=1,rt=j.fillTint,st=j.strokeTint,at=0,ot=0,ht=0,dt=.01,ut=Math.PI*2,ft,gt=[],xt=0,Et=!0,pt=null,mt=r.getTintAppendFloatAlpha,lt=0;lt<_.length;lt++)switch(ft=_[lt],ft){case u.BEGIN_PATH:{gt.length=0,pt=null,Et=!0;break}case u.CLOSE_PATH:{Et=!1,pt&&pt.points.length&&pt.points.push(pt.points[0]);break}case u.FILL_PATH:{for(xt=0;xt<gt.length;xt++)j.batchFillPath(gt[xt].points,tt,k);break}case u.STROKE_PATH:{for(xt=0;xt<gt.length;xt++)j.batchStrokePath(gt[xt].points,it,Et,tt,k);break}case u.LINE_STYLE:{it=_[++lt];var ct=_[++lt],vt=_[++lt]*nt,yt=mt(ct,vt);st.TL=yt,st.TR=yt,st.BL=yt,st.BR=yt;break}case u.FILL_STYLE:{var Tt=_[++lt],Ct=_[++lt]*nt,St=mt(Tt,Ct);rt.TL=St,rt.TR=St,rt.BL=St,rt.BR=St;break}case u.GRADIENT_FILL_STYLE:{var Dt=_[++lt]*nt,Mt=_[++lt]*nt,At=_[++lt]*nt,wt=_[++lt]*nt;rt.TL=mt(_[++lt],Dt),rt.TR=mt(_[++lt],Mt),rt.BL=mt(_[++lt],At),rt.BR=mt(_[++lt],wt);break}case u.GRADIENT_LINE_STYLE:{it=_[++lt];var It=_[++lt]*nt;st.TL=mt(_[++lt],It),st.TR=mt(_[++lt],It),st.BL=mt(_[++lt],It),st.BR=mt(_[++lt],It);break}case u.ARC:{var Pt=0,Ot=_[++lt],bt=_[++lt],Vt=_[++lt],Ut=_[++lt],Ft=_[++lt],Nt=_[++lt],Lt=_[++lt];for(Ft-=Ut,Nt?Ft<-ut?Ft=-ut:Ft>0&&(Ft=-ut+Ft%ut):Ft>ut?Ft=ut:Ft<0&&(Ft=ut+Ft%ut),pt===null&&(pt=new n(Ot+Math.cos(Ut)*Vt,bt+Math.sin(Ut)*Vt,it),gt.push(pt),Pt+=dt);Pt<1+Lt;)ht=Ft*Pt+Ut,at=Ot+Math.cos(ht)*Vt,ot=bt+Math.sin(ht)*Vt,pt.points.push(new o(at,ot,it)),Pt+=dt;ht=Ft+Ut,at=Ot+Math.cos(ht)*Vt,ot=bt+Math.sin(ht)*Vt,pt.points.push(new o(at,ot,it));break}case u.FILL_RECT:{j.batchFillRect(_[++lt],_[++lt],_[++lt],_[++lt],tt,k);break}case u.FILL_TRIANGLE:{j.batchFillTriangle(_[++lt],_[++lt],_[++lt],_[++lt],_[++lt],_[++lt],tt,k);break}case u.STROKE_TRIANGLE:{j.batchStrokeTriangle(_[++lt],_[++lt],_[++lt],_[++lt],_[++lt],_[++lt],it,tt,k);break}case u.LINE_TO:{pt!==null?pt.points.push(new o(_[++lt],_[++lt],it)):(pt=new n(_[++lt],_[++lt],it),gt.push(pt));break}case u.MOVE_TO:{pt=new n(_[++lt],_[++lt],it),gt.push(pt);break}case u.SAVE:{l.push(tt.copyToArray());break}case u.RESTORE:{tt.copyFromArray(l.pop());break}case u.TRANSLATE:{Ot=_[++lt],bt=_[++lt],tt.translate(Ot,bt);break}case u.SCALE:{Ot=_[++lt],bt=_[++lt],tt.scale(Ot,bt);break}case u.ROTATE:{tt.rotate(_[++lt]);break}}d.pipelines.postBatch(p)}};i.exports=s},26479:(i,$,e)=>{var u=e(61061),G=e(83419),h=e(51708),r=e(50792),o=e(46710),n=e(95540),l=e(35154),f=e(97022),s=e(41212),d=e(88492),p=e(35072),c=e(68287),g=new G({Extends:r,initialize:function(k,tt,_){r.call(this),_?tt&&!Array.isArray(tt)&&(tt=[tt]):Array.isArray(tt)?s(tt[0])&&(_=tt,tt=null):s(tt)&&(_=tt,tt=null),this.scene=k,this.children=new p,this.isParent=!0,this.type="Group",this.classType=n(_,"classType",c),this.name=n(_,"name",""),this.active=n(_,"active",!0),this.maxSize=n(_,"maxSize",-1),this.defaultKey=n(_,"defaultKey",null),this.defaultFrame=n(_,"defaultFrame",null),this.runChildUpdate=n(_,"runChildUpdate",!1),this.createCallback=n(_,"createCallback",null),this.removeCallback=n(_,"removeCallback",null),this.createMultipleCallback=n(_,"createMultipleCallback",null),this.internalCreateCallback=n(_,"internalCreateCallback",null),this.internalRemoveCallback=n(_,"internalRemoveCallback",null),tt&&this.addMultiple(tt),_&&this.createMultiple(_),this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(j,k,tt,_,nt,it){if(j===void 0&&(j=0),k===void 0&&(k=0),tt===void 0&&(tt=this.defaultKey),_===void 0&&(_=this.defaultFrame),nt===void 0&&(nt=!0),it===void 0&&(it=!0),this.isFull())return null;var rt=new this.classType(this.scene,j,k,tt,_);return rt.addToDisplayList(this.scene.sys.displayList),rt.addToUpdateList(),rt.visible=nt,rt.setActive(it),this.add(rt),rt},createMultiple:function(j){if(this.isFull())return[];Array.isArray(j)||(j=[j]);var k=[];if(j[0].key)for(var tt=0;tt<j.length;tt++){var _=this.createFromConfig(j[tt]);k=k.concat(_)}return k},createFromConfig:function(j){if(this.isFull())return[];this.classType=n(j,"classType",this.classType);var k=n(j,"key",void 0),tt=n(j,"frame",null),_=n(j,"visible",!0),nt=n(j,"active",!0),it=[];if(k===void 0)return it;Array.isArray(k)||(k=[k]),Array.isArray(tt)||(tt=[tt]);var rt=n(j,"repeat",0),st=n(j,"randomKey",!1),at=n(j,"randomFrame",!1),ot=n(j,"yoyo",!1),ht=n(j,"quantity",!1),dt=n(j,"frameQuantity",1),ut=n(j,"max",0),ft=d(k,tt,{max:ut,qty:ht||dt,random:st,randomB:at,repeat:rt,yoyo:ot});j.createCallback&&(this.createCallback=j.createCallback),j.removeCallback&&(this.removeCallback=j.removeCallback),j.internalCreateCallback&&(this.internalCreateCallback=j.internalCreateCallback),j.internalRemoveCallback&&(this.internalRemoveCallback=j.internalRemoveCallback);for(var gt=0;gt<ft.length;gt++){var xt=this.create(0,0,ft[gt].a,ft[gt].b,_,nt);if(!xt)break;it.push(xt)}if(f(j,"setXY")){var Et=l(j,"setXY.x",0),pt=l(j,"setXY.y",0),mt=l(j,"setXY.stepX",0),lt=l(j,"setXY.stepY",0);u.SetXY(it,Et,pt,mt,lt)}if(f(j,"setRotation")){var ct=l(j,"setRotation.value",0),vt=l(j,"setRotation.step",0);u.SetRotation(it,ct,vt)}if(f(j,"setScale")){var yt=l(j,"setScale.x",1),Tt=l(j,"setScale.y",yt),Ct=l(j,"setScale.stepX",0),St=l(j,"setScale.stepY",0);u.SetScale(it,yt,Tt,Ct,St)}if(f(j,"setOrigin")){var Dt=l(j,"setOrigin.x",.5),Mt=l(j,"setOrigin.y",Dt),At=l(j,"setOrigin.stepX",0),wt=l(j,"setOrigin.stepY",0);u.SetOrigin(it,Dt,Mt,At,wt)}if(f(j,"setAlpha")){var It=l(j,"setAlpha.value",1),Pt=l(j,"setAlpha.step",0);u.SetAlpha(it,It,Pt)}if(f(j,"setDepth")){var Ot=l(j,"setDepth.value",0),bt=l(j,"setDepth.step",0);u.SetDepth(it,Ot,bt)}if(f(j,"setScrollFactor")){var Vt=l(j,"setScrollFactor.x",1),Ut=l(j,"setScrollFactor.y",Vt),Ft=l(j,"setScrollFactor.stepX",0),Nt=l(j,"setScrollFactor.stepY",0);u.SetScrollFactor(it,Vt,Ut,Ft,Nt)}var Lt=n(j,"hitArea",null),kt=n(j,"hitAreaCallback",null);Lt&&u.SetHitArea(it,Lt,kt);var Kt=n(j,"gridAlign",!1);return Kt&&u.GridAlign(it,Kt),this.createMultipleCallback&&this.createMultipleCallback.call(this,it),it},preUpdate:function(j,k){if(!(!this.runChildUpdate||this.children.size===0))for(var tt=this.children.entries.slice(),_=0;_<tt.length;_++){var nt=tt[_];nt.active&&nt.update(j,k)}},add:function(j,k){return k===void 0&&(k=!1),this.isFull()?this:(this.children.set(j),this.internalCreateCallback&&this.internalCreateCallback.call(this,j),this.createCallback&&this.createCallback.call(this,j),k&&(j.addToDisplayList(this.scene.sys.displayList),j.addToUpdateList()),j.on(h.DESTROY,this.remove,this),this)},addMultiple:function(j,k){if(k===void 0&&(k=!1),Array.isArray(j))for(var tt=0;tt<j.length;tt++)this.add(j[tt],k);return this},remove:function(j,k,tt){return k===void 0&&(k=!1),tt===void 0&&(tt=!1),this.children.contains(j)?(this.children.delete(j),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,j),this.removeCallback&&this.removeCallback.call(this,j),j.off(h.DESTROY,this.remove,this),tt?j.destroy():k&&(j.removeFromDisplayList(),j.removeFromUpdateList()),this):this},clear:function(j,k){j===void 0&&(j=!1),k===void 0&&(k=!1);for(var tt=this.children,_=0;_<tt.size;_++){var nt=tt.entries[_];nt.off(h.DESTROY,this.remove,this),k?nt.destroy():j&&(nt.removeFromDisplayList(),nt.removeFromUpdateList())}return this.children.clear(),this},contains:function(j){return this.children.contains(j)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(j,k,tt,_){return o(this.children.entries,j,k,tt,_)},getFirst:function(j,k,tt,_,nt,it,rt){return this.getHandler(!0,1,j,k,tt,_,nt,it,rt)},getFirstNth:function(j,k,tt,_,nt,it,rt,st){return this.getHandler(!0,j,k,tt,_,nt,it,rt,st)},getLast:function(j,k,tt,_,nt,it,rt){return this.getHandler(!1,1,j,k,tt,_,nt,it,rt)},getLastNth:function(j,k,tt,_,nt,it,rt,st){return this.getHandler(!1,j,k,tt,_,nt,it,rt,st)},getHandler:function(j,k,tt,_,nt,it,rt,st,at){tt===void 0&&(tt=!1),_===void 0&&(_=!1);var ot,ht,dt=0,ut=this.children.entries;if(j)for(ht=0;ht<ut.length;ht++)if(ot=ut[ht],ot.active===tt){if(dt++,dt===k)break}else ot=null;else for(ht=ut.length-1;ht>=0;ht--)if(ot=ut[ht],ot.active===tt){if(dt++,dt===k)break}else ot=null;return ot?(typeof nt=="number"&&(ot.x=nt),typeof it=="number"&&(ot.y=it),ot):_?this.create(nt,it,rt,st,at):null},get:function(j,k,tt,_,nt){return this.getFirst(!1,!0,j,k,tt,_,nt)},getFirstAlive:function(j,k,tt,_,nt,it){return this.getFirst(!0,j,k,tt,_,nt,it)},getFirstDead:function(j,k,tt,_,nt,it){return this.getFirst(!1,j,k,tt,_,nt,it)},playAnimation:function(j,k){return u.PlayAnimation(this.children.entries,j,k),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(j){j===void 0&&(j=!0);for(var k=0,tt=0;tt<this.children.size;tt++)this.children.entries[tt].active===j&&k++;return k},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var j=this.getTotalUsed(),k=this.maxSize===-1?999999999999:this.maxSize;return k-j},setActive:function(j){return this.active=j,this},setName:function(j){return this.name=j,this},propertyValueSet:function(j,k,tt,_,nt){return u.PropertyValueSet(this.children.entries,j,k,tt,_,nt),this},propertyValueInc:function(j,k,tt,_,nt){return u.PropertyValueInc(this.children.entries,j,k,tt,_,nt),this},setX:function(j,k){return u.SetX(this.children.entries,j,k),this},setY:function(j,k){return u.SetY(this.children.entries,j,k),this},setXY:function(j,k,tt,_){return u.SetXY(this.children.entries,j,k,tt,_),this},incX:function(j,k){return u.IncX(this.children.entries,j,k),this},incY:function(j,k){return u.IncY(this.children.entries,j,k),this},incXY:function(j,k,tt,_){return u.IncXY(this.children.entries,j,k,tt,_),this},shiftPosition:function(j,k,tt){return u.ShiftPosition(this.children.entries,j,k,tt),this},angle:function(j,k){return u.Angle(this.children.entries,j,k),this},rotate:function(j,k){return u.Rotate(this.children.entries,j,k),this},rotateAround:function(j,k){return u.RotateAround(this.children.entries,j,k),this},rotateAroundDistance:function(j,k,tt){return u.RotateAroundDistance(this.children.entries,j,k,tt),this},setAlpha:function(j,k){return u.SetAlpha(this.children.entries,j,k),this},setTint:function(j,k,tt,_){return u.SetTint(this.children.entries,j,k,tt,_),this},setOrigin:function(j,k,tt,_){return u.SetOrigin(this.children.entries,j,k,tt,_),this},scaleX:function(j,k){return u.ScaleX(this.children.entries,j,k),this},scaleY:function(j,k){return u.ScaleY(this.children.entries,j,k),this},scaleXY:function(j,k,tt,_){return u.ScaleXY(this.children.entries,j,k,tt,_),this},setDepth:function(j,k){return u.SetDepth(this.children.entries,j,k),this},setBlendMode:function(j){return u.SetBlendMode(this.children.entries,j),this},setHitArea:function(j,k){return u.SetHitArea(this.children.entries,j,k),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(j){this.children.contains(j)&&j.setActive(!1)},killAndHide:function(j){this.children.contains(j)&&(j.setActive(!1),j.setVisible(!1))},setVisible:function(j,k,tt){return u.SetVisible(this.children.entries,j,k,tt),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(j,k){j===void 0&&(j=!1),k===void 0&&(k=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(h.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(k,j),this.scene=void 0,this.children=void 0)}});i.exports=g},94975:(i,$,e)=>{var u=e(44603),G=e(26479);u.register("group",function(h){return new G(this.scene,null,h)})},3385:(i,$,e)=>{var u=e(26479),G=e(39429);G.register("group",function(h,r){return this.updateList.add(new u(this.scene,h,r))})},88571:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(95643),r=e(59819),o=new u({Extends:h,Mixins:[G.Alpha,G.BlendMode,G.Depth,G.Flip,G.GetBounds,G.Mask,G.Origin,G.Pipeline,G.PostPipeline,G.ScrollFactor,G.Size,G.TextureCrop,G.Tint,G.Transform,G.Visible,r],initialize:function(l,f,s,d,p){h.call(this,l,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setPosition(f,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});i.exports=o},40652:i=>{var $=function(e,u,G,h){G.addToRenderList(u),e.batchSprite(u,u.frame,G,h)};i.exports=$},82459:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(88571);G.register("image",function(o,n){o===void 0&&(o={});var l=h(o,"key",null),f=h(o,"frame",null),s=new r(this.scene,0,0,l,f);return n!==void 0&&(o.add=n),u(this.scene,s,o),s})},2117:(i,$,e)=>{var u=e(88571),G=e(39429);G.register("image",function(h,r,o,n){return this.displayList.add(new u(this.scene,h,r,o,n))})},59819:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(99517),h=e(40652),i.exports={renderWebGL:G,renderCanvas:h}},99517:i=>{var $=function(e,u,G,h){G.addToRenderList(u),this.pipeline.batchSprite(u,G,h)};i.exports=$},77856:(i,$,e)=>{var u={Events:e(51708),DisplayList:e(8050),GameObjectCreator:e(44603),GameObjectFactory:e(39429),UpdateList:e(45027),Components:e(31401),GetCalcMatrix:e(91296),BuildGameObject:e(25305),BuildGameObjectAnimation:e(13059),GameObject:e(95643),BitmapText:e(22186),Blitter:e(6107),Bob:e(46590),Container:e(31559),DOMElement:e(3069),DynamicBitmapText:e(2638),Extern:e(42421),Graphics:e(43831),Group:e(26479),Image:e(88571),Layer:e(93595),Particles:e(18404),PathFollower:e(1159),RenderTexture:e(591),RetroFont:e(196),Rope:e(77757),Sprite:e(68287),Text:e(50171),GetTextSize:e(14220),MeasureText:e(79557),TextStyle:e(35762),TileSprite:e(20839),Zone:e(41481),Video:e(18471),Shape:e(17803),Arc:e(23629),Curve:e(89),Ellipse:e(19921),Grid:e(30479),IsoBox:e(61475),IsoTriangle:e(16933),Line:e(57847),Polygon:e(24949),Rectangle:e(74561),Star:e(55911),Triangle:e(36931),Factories:{Blitter:e(12709),Container:e(24961),DOMElement:e(2611),DynamicBitmapText:e(72566),Extern:e(56315),Graphics:e(1201),Group:e(3385),Image:e(2117),Layer:e(20005),Particles:e(676),PathFollower:e(90145),RenderTexture:e(60505),Rope:e(96819),Sprite:e(46409),StaticBitmapText:e(34914),Text:e(68005),TileSprite:e(91681),Zone:e(84175),Video:e(89025),Arc:e(42563),Curve:e(40511),Ellipse:e(1543),Grid:e(34137),IsoBox:e(3933),IsoTriangle:e(49803),Line:e(2481),Polygon:e(64827),Rectangle:e(87959),Star:e(93697),Triangle:e(45245)},Creators:{Blitter:e(9403),Container:e(77143),DynamicBitmapText:e(11164),Graphics:e(87079),Group:e(94975),Image:e(82459),Layer:e(25179),Particles:e(92730),RenderTexture:e(34495),Rope:e(26209),Sprite:e(15567),StaticBitmapText:e(57336),Text:e(71259),TileSprite:e(14167),Zone:e(95261),Video:e(11511)}};u.Shader=e(20071),u.Mesh=e(4703),u.NineSlice=e(28103),u.PointLight=e(80321),u.Plane=e(33663),u.Factories.Shader=e(74177),u.Factories.Mesh=e(9225),u.Factories.NineSlice=e(47521),u.Factories.PointLight=e(71255),u.Factories.Plane=e(30985),u.Creators.Shader=e(54935),u.Creators.Mesh=e(20527),u.Creators.NineSlice=e(28279),u.Creators.PointLight=e(39829),u.Creators.Plane=e(56015),u.Light=e(41432),u.LightsManager=e(61356),u.LightsPlugin=e(88992),i.exports=u},93595:(i,$,e)=>{var u=e(10312),G=e(83419),h=e(31401),r=e(53774),o=e(45893),n=e(50792),l=e(51708),f=e(73162),s=e(33963),d=e(44594),p=e(19186),c=new G({Extends:f,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.PostPipeline,h.Visible,n,s],initialize:function(j,k){f.call(this,j),n.call(this),this.scene=j,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=j.sys,this.events=j.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),k&&this.add(k),j.sys.queueDepthSort()},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},setState:function(g){return this.state=g,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(g,j){return this.data||(this.data=new o(this)),this.data.set(g,j),this},incData:function(g,j){return this.data||(this.data=new o(this)),this.data.inc(g,j),this},toggleData:function(g){return this.data||(this.data=new o(this)),this.data.toggle(g),this},getData:function(g){return this.data||(this.data=new o(this)),this.data.get(g)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(g){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&g.id)},getIndexList:function(){for(var g=this,j=this.parentContainer,k=[];j&&(k.unshift(j.getIndex(g)),g=j,j.parentContainer);)j=j.parentContainer;return k.unshift(this.displayList.getIndex(g)),k},addChildCallback:function(g){var j=g.displayList;j&&j!==this&&g.removeFromDisplayList(),g.displayList||(this.queueDepthSort(),g.displayList=this,g.emit(l.ADDED_TO_SCENE,g,this.scene),this.events.emit(d.ADDED_TO_SCENE,g,this.scene))},removeChildCallback:function(g){this.queueDepthSort(),g.displayList=null,g.emit(l.REMOVED_FROM_SCENE,g,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,g,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(g,j){return g._depth-j._depth},getChildren:function(){return this.list},addToDisplayList:function(g){return g===void 0&&(g=this.scene.sys.displayList),this.displayList&&this.displayList!==g&&this.removeFromDisplayList(),g.exists(this)||(this.displayList=g,g.add(this,!0),g.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),g.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var g=this.displayList||this.scene.sys.displayList;return g.exists(this)&&(g.remove(this,!0),g.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),g.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(g){if(!(!this.scene||this.ignoreDestroy)){this.emit(l.DESTROY,this);for(var j=this.list;j.length;)j[0].destroy(g);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});i.exports=c},2956:i=>{var $=function(e,u,G){var h=u.list;if(h.length!==0){u.depthSort();var r=u.blendMode!==-1;r||e.setBlendMode(0);var o=u._alpha;u.mask&&u.mask.preRenderCanvas(e,null,G);for(var n=0;n<h.length;n++){var l=h[n];if(l.willRender(G)){var f=l.alpha;!r&&l.blendMode!==e.currentBlendMode&&e.setBlendMode(l.blendMode),l.setAlpha(f*o),l.renderCanvas(e,l,G),l.setAlpha(f)}}u.mask&&u.mask.postRenderCanvas(e)}};i.exports=$},25179:(i,$,e)=>{var u=e(25305),G=e(93595),h=e(44603),r=e(23568);h.register("layer",function(o,n){o===void 0&&(o={});var l=r(o,"children",null),f=new G(this.scene,l);return n!==void 0&&(o.add=n),u(this.scene,f,o),f})},20005:(i,$,e)=>{var u=e(93595),G=e(39429);G.register("layer",function(h){return this.displayList.add(new u(this.scene,h))})},33963:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(15869),h=e(2956),i.exports={renderWebGL:G,renderCanvas:h}},15869:i=>{var $=function(e,u,G){var h=u.list,r=h.length;if(r!==0){u.depthSort(),e.pipelines.preBatch(u);var o=u.blendMode!==-1;o||e.setBlendMode(0);for(var n=u.alpha,l=0;l<r;l++){var f=h[l];if(f.willRender(G)){var s,d,p,c;if(f.alphaTopLeft!==void 0)s=f.alphaTopLeft,d=f.alphaTopRight,p=f.alphaBottomLeft,c=f.alphaBottomRight;else{var g=f.alpha;s=g,d=g,p=g,c=g}!o&&f.blendMode!==e.currentBlendMode&&e.setBlendMode(f.blendMode);var j=f.mask;j&&j.preRenderWebGL(e,f,G);var k=f.type;k!==e.currentType&&(e.newType=!0,e.currentType=k),e.nextTypeMatch=l<r-1?h[l+1].type===e.currentType:!1,f.setAlpha(s*n,d*n,p*n,c*n),f.renderWebGL(e,f,G),f.setAlpha(s,d,p,c),j&&j.postRenderWebGL(e,G),e.newType=!1}}e.pipelines.postBatch(u)}};i.exports=$},41432:(i,$,e)=>{var u=e(96503),G=e(83419),h=e(31401),r=e(51767),o=e(70554),n=new G({Extends:u,Mixins:[h.Origin,h.ScrollFactor,h.Visible],initialize:function(f,s,d,p,c,g,j){u.call(this,f,s,d),this.color=new r(p,c,g),this.intensity=j,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(d)},displayWidth:{get:function(){return this.diameter},set:function(l){this.diameter=l}},displayHeight:{get:function(){return this.diameter},set:function(l){this.diameter=l}},width:{get:function(){return this.diameter},set:function(l){this.diameter=l}},height:{get:function(){return this.diameter},set:function(l){this.diameter=l}},willRender:function(l){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},setColor:function(l){var f=o.getFloatsFromUintRGB(l);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(l){return this.intensity=l,this},setRadius:function(l){return this.radius=l,this}});n.RENDER_MASK=15,i.exports=n},61356:(i,$,e)=>{var u=e(81491),G=e(83419),h=e(20339),r=e(41432),o=e(80321),n=e(51767),l=e(19133),f=e(19186),s=e(70554),d=new G({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,c,g,j,k,tt){return this.systems.displayList.add(new o(this.scene,p,c,g,j,k,tt))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var c=this.lights,g=p.worldView,j=[],k=0;k<c.length;k++){var tt=c[k];tt.willRender(p)&&u(tt,g)&&j.push({light:tt,distance:h(tt.x,tt.y,g.centerX,g.centerY)})}return j.length>this.maxLights&&(f(j,this.sortByDistance),j=j.slice(0,this.maxLights)),this.visibleLights=j.length,j},sortByDistance:function(p,c){return p.distance>=c.distance},setAmbientColor:function(p){var c=s.getFloatsFromUintRGB(p);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,c,g,j,k){p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=128),j===void 0&&(j=16777215),k===void 0&&(k=1);var tt=s.getFloatsFromUintRGB(j),_=new r(p,c,g,tt[0],tt[1],tt[2],k);return this.lights.push(_),_},removeLight:function(p){var c=this.lights.indexOf(p);return c>=0&&l(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});i.exports=d},88992:(i,$,e)=>{var u=e(83419),G=e(61356),h=e(37277),r=e(44594),o=new u({Extends:G,initialize:function(l){this.scene=l,this.systems=l.sys,l.sys.settings.isBooted||l.sys.events.once(r.BOOT,this.boot,this),G.call(this)},boot:function(){var n=this.systems.events;n.on(r.SHUTDOWN,this.shutdown,this),n.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});h.register("LightsPlugin",o,"lights"),i.exports=o},4703:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(39506),r=e(83997),o=e(95643),n=e(34684),l=e(92515),f=e(91296),s=e(37867),d=e(29807),p=e(43396),c=e(19186),g=e(25836),j=e(39318),k=new u({Extends:o,Mixins:[G.AlphaSingle,G.BlendMode,G.Depth,G.Mask,G.Pipeline,G.PostPipeline,G.ScrollFactor,G.Size,G.Texture,G.Transform,G.Visible,d],initialize:function(_,nt,it,rt,st,at,ot,ht,dt,ut,ft,gt){nt===void 0&&(nt=0),it===void 0&&(it=0),rt===void 0&&(rt="__WHITE"),o.call(this,_,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new g,this.modelScale=new g(1,1,1),this.modelRotation=new g,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new g,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var xt=_.sys.renderer;this.setPosition(nt,it),this.setTexture(rt,st),this.setSize(xt.width,xt.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(xt.width,xt.height),at&&this.addVertices(at,ot,ht,dt,ut,ft,gt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(tt){return this.viewPosition.addScale(g.LEFT,tt),this.dirtyCache[10]=1,this},panY:function(tt){return this.viewPosition.y+=g.DOWN.y*tt,this.dirtyCache[10]=1,this},panZ:function(tt){return this.viewPosition.z+=tt,this.dirtyCache[10]=1,this},setPerspective:function(tt,_,nt,it,rt){return nt===void 0&&(nt=45),it===void 0&&(it=.01),rt===void 0&&(rt=1e3),this.fov=nt,this.projectionMatrix.perspective(h(nt),tt/_,it,rt),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(tt,_,nt,it){return tt===void 0&&(tt=this.scene.sys.renderer.getAspectRatio()),_===void 0&&(_=1),nt===void 0&&(nt=-1e3),it===void 0&&(it=1e3),this.fov=0,this.projectionMatrix.ortho(-tt,tt,-_,_,nt,it),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(tt){tt.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(tt,_,nt,it,rt,st,at,ot,ht){var dt=this.scene.sys.cache.obj.get(tt),ut;return dt&&(ut=n(dt,this,_,nt,it,rt,st,at,ot,ht)),(!ut||ut.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",tt),this},sortByDepth:function(tt,_){return tt.depth-_.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(tt,_,nt,it,rt,st,at){var ot=new j(tt,_,nt,it,rt,st,at);return this.vertices.push(ot),ot},addFace:function(tt,_,nt){var it=new r(tt,_,nt);return this.faces.push(it),this.dirtyCache[9]=-1,it},addVertices:function(tt,_,nt,it,rt,st,at){var ot=l(tt,_,nt,it,rt,st,at);return ot?(this.faces=this.faces.concat(ot.faces),this.vertices=this.vertices.concat(ot.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(tt){return this.faces[tt]},hasFaceAt:function(tt,_,nt){nt===void 0&&(nt=this.scene.sys.cameras.main);for(var it=f(this,nt).calc,rt=this.faces,st=0;st<rt.length;st++){var at=rt[st];if(at.contains(tt,_,it))return!0}return!1},getFaceAt:function(tt,_,nt){nt===void 0&&(nt=this.scene.sys.cameras.main);for(var it=f(this,nt).calc,rt=this.faces,st=[],at=0;at<rt.length;at++){var ot=rt[at];ot.contains(tt,_,it)&&st.push(ot)}return c(st,this.sortByDepth)},setDebug:function(tt,_){return this.debugGraphic=tt,!tt&&!_?this.debugCallback=null:_?this.debugCallback=_:this.debugCallback=this.renderDebug,this},isDirty:function(){var tt=this.modelPosition,_=this.modelRotation,nt=this.modelScale,it=this.dirtyCache,rt=tt.x,st=tt.y,at=tt.z,ot=_.x,ht=_.y,dt=_.z,ut=nt.x,ft=nt.y,gt=nt.z,xt=this.getFaceCount(),Et=it[0],pt=it[1],mt=it[2],lt=it[3],ct=it[4],vt=it[5],yt=it[6],Tt=it[7],Ct=it[8],St=it[9];return it[0]=rt,it[1]=st,it[2]=at,it[3]=ot,it[4]=ht,it[5]=dt,it[6]=ut,it[7]=ft,it[8]=gt,it[9]=xt,Et!==rt||pt!==st||mt!==at||lt!==ot||ct!==ht||vt!==dt||yt!==ut||Tt!==ft||Ct!==gt||St!==xt},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var tt=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!tt[10]&&!this.isDirty())){var _=this.width,nt=this.height,it=this.viewMatrix,rt=this.viewPosition;tt[10]&&(it.identity(),it.translate(rt),it.invert(),tt[10]=0);var st=this.transformMatrix;st.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var at=rt.z,ot=this.faces,ht=0;ht<ot.length;ht++)ot[ht].transformCoordinatesLocal(st,_,nt,at);this.depthSort()}},renderDebug:function(tt,_){for(var nt=tt.debugGraphic,it=0;it<_.length;it++){var rt=_[it],st=rt.vertex1.tx,at=rt.vertex1.ty,ot=rt.vertex2.tx,ht=rt.vertex2.ty,dt=rt.vertex3.tx,ut=rt.vertex3.ty;nt.strokeTriangle(st,at,ot,ht,dt,ut)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(tt){tt===void 0&&(tt={});var _=(function(nt,it,rt){for(var st=this.faces,at=0;at<st.length;at++){var ot=st[at];if(ot.contains(it,rt))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,tt,_),this},setTint:function(tt){tt===void 0&&(tt=16777215);for(var _=this.vertices,nt=0;nt<_.length;nt++)_[nt].color=tt;return this},uvScroll:function(tt,_){for(var nt=this.faces,it=0;it<nt.length;it++)nt[it].scrollUV(tt,_);return this},uvScale:function(tt,_){for(var nt=this.faces,it=0;it<nt.length;it++)nt[it].scaleUV(tt,_);return this},tint:{set:function(tt){this.setTint(tt)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(tt){this.modelRotation.x=h(tt)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(tt){this.modelRotation.y=h(tt)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(tt){this.modelRotation.z=h(tt)}}});i.exports=k},36488:i=>{var $=function(){};i.exports=$},20527:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(35154),o=e(4703);G.register("mesh",function(n,l){n===void 0&&(n={});var f=h(n,"key",null),s=h(n,"frame",null),d=r(n,"vertices",[]),p=r(n,"uvs",[]),c=r(n,"indicies",[]),g=r(n,"containsZ",!1),j=r(n,"normals",[]),k=r(n,"colors",16777215),tt=r(n,"alphas",1),_=new o(this.scene,0,0,f,s,d,p,c,g,j,k,tt);return l!==void 0&&(n.add=l),u(this.scene,_,n),_})},9225:(i,$,e)=>{var u=e(4703),G=e(39429);G.register("mesh",function(h,r,o,n,l,f,s,d,p,c,g){return this.displayList.add(new u(this.scene,h,r,o,n,l,f,s,d,p,c,g))})},29807:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(48833),h=e(36488),i.exports={renderWebGL:G,renderCanvas:h}},48833:(i,$,e)=>{var u=e(91296),G=function(h,r,o,n){var l=r.faces,f=l.length;if(f!==0){o.addToRenderList(r);var s=h.pipelines.set(r.pipeline,r),d=u(r,o,n).calc;h.pipelines.preBatch(r);for(var p=s.setGameObject(r),c=s.vertexViewF32,g=s.vertexViewU32,j=s.vertexCount*s.currentShader.vertexComponentCount-1,k=r.tintFill,tt=[],_=r.debugCallback,nt=d.a,it=d.b,rt=d.c,st=d.d,at=d.e,ot=d.f,ht=r.viewPosition.z,dt=r.hideCCW,ut=o.roundPixels,ft=o.alpha*r.alpha,gt=0,xt=0;xt<f;xt++){var Et=l[xt];Et.isInView(o,dt,ht,ft,nt,it,rt,st,at,ot,ut)&&(s.shouldFlush(3)&&(s.flush(),p=s.setGameObject(r),j=0),j=Et.load(c,g,j,p,k),gt++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,_&&tt.push(Et))}r.totalFrame+=gt,_&&_.call(r,r,tt),h.pipelines.postBatch(r)}};i.exports=G},28103:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(95643),r=e(78023),o=e(39318),n=new u({Extends:h,Mixins:[G.AlphaSingle,G.BlendMode,G.Depth,G.GetBounds,G.Mask,G.Origin,G.Pipeline,G.PostPipeline,G.ScrollFactor,G.Texture,G.Transform,G.Visible,r],initialize:function(f,s,d,p,c,g,j,k,tt,_,nt){h.call(this,f,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var it=f.textures.getFrame(p,c);this.is3Slice=!_&&!nt,it.scale9&&(this.is3Slice=it.is3Slice);for(var rt=this.is3Slice?18:54,st=0;st<rt;st++)this.vertices.push(new o);this.setPosition(s,d),this.setTexture(p,c),this.setSlices(g,j,k,tt,_,nt,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(l,f,s,d,p,c,g){s===void 0&&(s=10),d===void 0&&(d=10),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=!1);var j=this.frame,k=!1;if(this.is3Slice&&g&&p!==0&&c!==0&&(k=!0),k)console.warn("Cannot change 9 slice to 3 slice");else{if(j.scale9&&!g){var tt=j.data.scale9Borders,_=tt.x,nt=tt.y;s=_,d=j.width-tt.w-_,p=nt,c=j.height-tt.h-nt,l===void 0&&(l=j.width),f===void 0&&(f=j.height)}else l===void 0&&(l=256),f===void 0&&(f=256);this._width=l,this._height=f,this.leftWidth=s,this.rightWidth=d,this.topHeight=p,this.bottomHeight=c,this.is3Slice&&(f=j.height,this._height=f,this.topHeight=f,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var l=this.leftWidth,f=this.rightWidth,s=this.topHeight,d=this.bottomHeight,p=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,l/p,s/c),this.updateQuadUVs(6,l/p,0,1-f/p,s/c),this.updateQuadUVs(12,1-f/p,0,1,s/c),this.is3Slice||(this.updateQuadUVs(18,0,s/c,l/p,1-d/c),this.updateQuadUVs(24,l/p,s/c,1-f/p,1-d/c),this.updateQuadUVs(30,1-f/p,s/c,1,1-d/c),this.updateQuadUVs(36,0,1-d/c,l/p,1),this.updateQuadUVs(42,l/p,1-d/c,1-f/p,1),this.updateQuadUVs(48,1-f/p,1-d/c,1,1))},updateVertices:function(){var l=this.leftWidth,f=this.rightWidth,s=this.topHeight,d=this.bottomHeight,p=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+l/p,.5-s/c),this.updateQuad(6,-.5+l/p,.5,.5-f/p,.5-s/c),this.updateQuad(12,.5-f/p,.5,.5,.5-s/c),this.is3Slice||(this.updateQuad(18,-.5,.5-s/c,-.5+l/p,-.5+d/c),this.updateQuad(24,-.5+l/p,.5-s/c,.5-f/p,-.5+d/c),this.updateQuad(30,.5-f/p,.5-s/c,.5,-.5+d/c),this.updateQuad(36,-.5,-.5+d/c,-.5+l/p,-.5),this.updateQuad(42,-.5+l/p,-.5+d/c,.5-f/p,-.5),this.updateQuad(48,.5-f/p,-.5+d/c,.5,-.5))},updateQuad:function(l,f,s,d,p){var c=this.width,g=this.height,j=this.originX,k=this.originY,tt=this.vertices;tt[l+0].resize(f,s,c,g,j,k),tt[l+1].resize(f,p,c,g,j,k),tt[l+2].resize(d,s,c,g,j,k),tt[l+3].resize(f,p,c,g,j,k),tt[l+4].resize(d,p,c,g,j,k),tt[l+5].resize(d,s,c,g,j,k)},updateQuadUVs:function(l,f,s,d,p){var c=this.vertices,g=this.frame,j=g.u0,k=g.v0,tt=g.u1,_=g.v1;if(j!==0||tt!==1){var nt=tt-j;f=j+f*nt,d=j+d*nt}if(k!==0||_!==1){var it=_-k;s=k+s*it,p=k+p*it}c[l+0].setUVs(f,s),c[l+1].setUVs(f,p),c[l+2].setUVs(d,s),c[l+3].setUVs(f,p),c[l+4].setUVs(d,p),c[l+5].setUVs(d,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(l){return l===void 0&&(l=16777215),this.tint=l,this.tintFill=!1,this},setTintFill:function(l){return this.setTint(l),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(l){this._width=Math.max(l,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(l){this.is3Slice||(this._height=Math.max(l,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,f){this.width=l,this.height=f,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(l,f){return this.displayWidth=l,this.displayHeight=f,this},originX:{get:function(){return this._originX},set:function(l){this._originX=l,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(l){this._originY=l,this.updateVertices()}},setOrigin:function(l,f){return l===void 0&&(l=.5),f===void 0&&(f=l),this._originX=l,this._originY=f,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var l=this.frame.height;this._height=l,this.topHeight=l,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});i.exports=n},28279:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(35154),o=e(28103);G.register("nineslice",function(n,l){n===void 0&&(n={});var f=h(n,"key",null),s=h(n,"frame",null),d=r(n,"width",256),p=r(n,"height",256),c=r(n,"leftWidth",10),g=r(n,"rightWidth",10),j=r(n,"topHeight",0),k=r(n,"bottomHeight",0),tt=new o(this.scene,0,0,f,s,d,p,c,g,j,k);return l!==void 0&&(n.add=l),u(this.scene,tt,n),tt})},47521:(i,$,e)=>{var u=e(28103),G=e(39429);G.register("nineslice",function(h,r,o,n,l,f,s,d,p,c){return this.displayList.add(new u(this.scene,h,r,o,n,l,f,s,d,p,c))})},78023:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(52230),i.exports={renderWebGL:G,renderCanvas:h}},52230:(i,$,e)=>{var u=e(91296),G=e(70554),h=function(r,o,n,l){var f=o.vertices,s=f.length;if(s!==0){n.addToRenderList(o);var d=r.pipelines.set(o.pipeline,o),p=u(o,n,l,!1).calc;r.pipelines.preBatch(o);var c=d.setGameObject(o),g=d.vertexViewF32,j=d.vertexViewU32,k=d.vertexCount*d.currentShader.vertexComponentCount-1,tt=n.roundPixels,_=o.tintFill,nt=n.alpha*o.alpha,it=G.getTintAppendFloatAlpha(o.tint,nt),rt=d.vertexAvailable(),st=-1;rt<s&&(st=rt);for(var at=0;at<s;at++){var ot=f[at];at===st&&(d.flush(),c=d.setGameObject(o),k=0),g[++k]=p.getXRound(ot.vx,ot.vy,tt),g[++k]=p.getYRound(ot.vx,ot.vy,tt),g[++k]=ot.u,g[++k]=ot.v,g[++k]=c,g[++k]=_,j[++k]=it,d.vertexCount++,d.currentBatch.count=d.vertexCount-d.currentBatch.start}r.pipelines.postBatch(o)}};i.exports=h},76472:(i,$,e)=>{var u=e(83419),G=e(44777),h=e(37589),r=e(6113),o=e(91389),n=e(90664),l=new u({Extends:G,initialize:function(s){G.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var f=this.propertyValue,s=f,d=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=f[0],this.ease=r("Linear"),this.interpolation=o("linear"),d=this.easedValueEmit,p=this.easeValueUpdate,s=f[0],this.active=!0;for(var c=0;c<f.length;c++){var g=n(f[c]);this.r.push(g.r),this.g.push(g.g),this.b.push(g.b)}}return this.onEmit=d,this.onUpdate=p,this.current=s,this},setEase:function(f){this.easeName=f,this.ease=r(f)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(f,s,d){var p=this.ease(d),c=this.interpolation(this.r,p),g=this.interpolation(this.g,p),j=this.interpolation(this.b,p),k=h(c,g,j);return this.current=k,k}});i.exports=l},44777:(i,$,e)=>{var u=e(30976),G=e(45319),h=e(83419),r=e(99472),o=e(6113),n=e(95540),l=e(91389),f=e(77720),s=e(15994),d=new h({initialize:function(c,g,j){j===void 0&&(j=!1),this.propertyKey=c,this.propertyValue=g,this.defaultValue=g,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=j,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,c){p===void 0&&(p={}),c&&(this.propertyKey=c),this.propertyValue=n(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var c;switch(this.method){case 1:case 3:case 8:c=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(c=p);break;case 4:var g=(this.end-this.start)/this.steps;c=f(p,g),this.counter=c;break;case 5:case 6:case 7:c=G(p,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var c=typeof p;if(c==="number")return 1;if(Array.isArray(p))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,c=p,g=this.defaultEmit,j=this.defaultUpdate;switch(this.method){case 1:g=this.staticValueEmit;break;case 2:g=this.randomStaticValueEmit,c=p[0];break;case 3:this._onEmit=p,g=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,g=this.steppedEmit,c=this.start;break;case 5:this.start=p.start,this.end=p.end;var k=this.has(p,"ease")?p.ease:"Linear";this.ease=o(k,p.easeParams),g=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,j=this.easeValueUpdate,c=this.start;break;case 6:this.start=p.min,this.end=p.max,g=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var tt=p.random;Array.isArray(tt)&&(this.start=tt[0],this.end=tt[1]),g=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,g=this.proxyEmit,j=this.proxyUpdate;break;case 9:this.start=p.values;var _=this.has(p,"ease")?p.ease:"Linear";this.ease=o(_,p.easeParams),this.interpolation=l(p.interpolation),g=this.easedValueEmit,j=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=g,this.onUpdate=j,this.current=c,this},has:function(p,c){return p.hasOwnProperty(c)},hasBoth:function(p,c,g){return p.hasOwnProperty(c)&&p.hasOwnProperty(g)},hasEither:function(p,c,g){return p.hasOwnProperty(c)||p.hasOwnProperty(g)},defaultEmit:function(p,c,g){return g},defaultUpdate:function(p,c,g,j){return j},proxyEmit:function(p,c,g){var j=this._onEmit(p,c,g);return this.current=j,j},proxyUpdate:function(p,c,g,j){var k=this._onUpdate(p,c,g,j);return this.current=k,k},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,c){var g=r(this.start,this.end);return p&&p.data[c]&&(p.data[c].min=g,p.data[c].max=this.end),this.current=g,g},randomRangedIntEmit:function(p,c){var g=u(this.start,this.end);return p&&p.data[c]&&(p.data[c].min=g,p.data[c].max=this.end),this.current=g,g},steppedEmit:function(){var p=this.counter,c=p,g=(this.end-this.start)/this.steps;if(this.yoyo){var j;this.direction===0?(c+=g,c>=this.end&&(j=c-this.end,c=this.end-j,this.direction=1)):(c-=g,c<=this.start&&(j=this.start-c,c=this.start+j,this.direction=0)),this.counter=c}else this.counter=s(c+g,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,c){if(p&&p.data[c]){var g=p.data[c];g.min=this.start,g.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,c,g){var j=p.data[c],k,tt=this.ease(g);return this.interpolation?k=this.interpolation(this.start,tt):k=(j.max-j.min)*tt+j.min,this.current=k,k},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});i.exports=d},24502:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(20286),r=new u({Extends:h,initialize:function(n,l,f,s,d){if(typeof n=="object"){var p=n;n=G(p,"x",0),l=G(p,"y",0),f=G(p,"power",0),s=G(p,"epsilon",100),d=G(p,"gravity",50)}else n===void 0&&(n=0),l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=100),d===void 0&&(d=50);h.call(this,n,l,!0),this._gravity=d,this._power=f*d,this._epsilon=s*s},update:function(o,n){var l=this.x-o.x,f=this.y-o.y,s=l*l+f*f;if(s!==0){var d=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var p=this._power*n/(s*d)*100;o.velocityX+=l*p,o.velocityY+=f*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(o){this._epsilon=o*o}},power:{get:function(){return this._power/this._gravity},set:function(o){this._power=o*this._gravity}},gravity:{get:function(){return this._gravity},set:function(o){var n=this.power;this._gravity=o,this.power=n}}});i.exports=r},56480:(i,$,e)=>{var u=e(9674),G=e(45319),h=e(83419),r=e(39506),o=e(87841),n=e(11520),l=e(26099),f=new h({initialize:function(d){this.emitter=d,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new l,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=d.scene,this.anims=new u(this),this.bounds=new o},emit:function(s,d,p,c,g,j){return this.emitter.emit(s,d,p,c,g,j)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,d){s===void 0&&(s=0),d===void 0&&(d=0),this.x=s,this.y=d},fire:function(s,d){var p=this.emitter,c=p.ops,g=p.getAnim();if(g?this.anims.play(g):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),s===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=s+c.x.onEmit(this,"x"):this.x+=s,d===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=d+c.y.onEmit(this,"y"):this.y+=d,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var j=c.speedX.onEmit(this,"speedX"),k=c.speedY.active?c.speedY.onEmit(this,"speedY"):j;if(p.radial){var tt=r(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(tt)*Math.abs(j),this.velocityY=Math.sin(tt)*Math.abs(k)}else if(p.moveTo){var _=c.moveToX.onEmit(this,"moveToX"),nt=c.moveToY.onEmit(this,"moveToY"),it=this.life/1e3;this.velocityX=(_-this.x)/it,this.velocityY=(nt-this.y)/it}else this.velocityX=j,this.velocityY=k;return p.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(s,d,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims.update(0,s);var c=this.emitter,g=c.ops,j=1-this.lifeCurrent/this.life;if(this.lifeT=j,this.x=g.x.onUpdate(this,"x",j,this.x),this.y=g.y.onUpdate(this,"y",j,this.y),c.moveTo){var k=g.moveToX.onUpdate(this,"moveToX",j,c.moveToX),tt=g.moveToY.onUpdate(this,"moveToY",j,c.moveToY),_=this.lifeCurrent/1e3;this.velocityX=(k-this.x)/_,this.velocityY=(tt-this.y)/_}return this.computeVelocity(c,s,d,p,j),this.scaleX=g.scaleX.onUpdate(this,"scaleX",j,this.scaleX),g.scaleY.active?this.scaleY=g.scaleY.onUpdate(this,"scaleY",j,this.scaleY):this.scaleY=this.scaleX,this.angle=g.rotate.onUpdate(this,"rotate",j,this.angle),this.rotation=r(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=G(g.alpha.onUpdate(this,"alpha",j,this.alpha),0,1),g.color.active?this.tint=g.color.onUpdate(this,"color",j,this.tint):this.tint=g.tint.onUpdate(this,"tint",j,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,d,p,c,g){var j=s.ops,k=this.velocityX,tt=this.velocityY,_=j.accelerationX.onUpdate(this,"accelerationX",g,this.accelerationX),nt=j.accelerationY.onUpdate(this,"accelerationY",g,this.accelerationY),it=j.maxVelocityX.onUpdate(this,"maxVelocityX",g,this.maxVelocityX),rt=j.maxVelocityY.onUpdate(this,"maxVelocityY",g,this.maxVelocityY);this.bounce=j.bounce.onUpdate(this,"bounce",g,this.bounce),k+=s.gravityX*p+_*p,tt+=s.gravityY*p+nt*p,k=G(k,-it,it),tt=G(tt,-rt,rt),this.velocityX=k,this.velocityY=tt,this.x+=k*p,this.y+=tt*p,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var st=0;st<c.length;st++){var at=c[st];at.active&&at.update(this,d,p,g)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var d=Math.abs(s.scaleX)*this.scaleX,p=Math.abs(s.scaleY)*this.scaleY,c=this.x,g=this.y,j=this.rotation,k=this.frame.width*d/2,tt=this.frame.height*p/2,_=this.bounds,nt=new l(c-k,g-tt),it=new l(c+k,g-tt),rt=new l(c-k,g+tt),st=new l(c+k,g+tt);return j!==0&&(n(nt,c,g,j),n(it,c,g,j),n(rt,c,g,j),n(st,c,g,j)),s.transformPoint(nt.x,nt.y,nt),s.transformPoint(it.x,it.y,it),s.transformPoint(rt.x,rt.y,rt),s.transformPoint(st.x,st.y,st),_.x=Math.min(nt.x,it.x,rt.x,st.x),_.y=Math.min(nt.y,it.y,rt.y,st.y),_.width=Math.max(nt.x,it.x,rt.x,st.x)-_.x,_.height=Math.max(nt.y,it.y,rt.y,st.y)-_.y,_},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});i.exports=f},69601:(i,$,e)=>{var u=e(83419),G=e(20286),h=e(87841),r=new u({Extends:G,initialize:function(n,l,f,s,d,p,c,g){d===void 0&&(d=!0),p===void 0&&(p=!0),c===void 0&&(c=!0),g===void 0&&(g=!0),G.call(this,n,l,!0),this.bounds=new h(n,l,f,s),this.collideLeft=d,this.collideRight=p,this.collideTop=c,this.collideBottom=g},update:function(o){var n=this.bounds,l=-o.bounce,f=o.worldPosition;f.x<n.x&&this.collideLeft?(o.x+=n.x-f.x,o.velocityX*=l):f.x>n.right&&this.collideRight&&(o.x-=f.x-n.right,o.velocityX*=l),f.y<n.y&&this.collideTop?(o.y+=n.y-f.y,o.velocityY*=l):f.y>n.bottom&&this.collideBottom&&(o.y-=f.y-n.bottom,o.velocityY*=l)}});i.exports=r},31600:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(53774),r=e(43459),o=e(26388),n=e(19909),l=e(76472),f=e(44777),s=e(20696),d=e(95643),p=e(95540),c=e(26546),g=e(24502),j=e(1985),k=e(97022),tt=e(86091),_=e(73162),nt=e(20074),it=e(56480),rt=e(68875),st=e(87841),at=e(59996),ot=e(72905),ht=e(90668),dt=e(19186),ut=e(61340),ft=e(26099),gt=e(15994),xt=e(69601),Et=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],pt=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],mt=new u({Extends:d,Mixins:[G.AlphaSingle,G.BlendMode,G.Depth,G.Mask,G.Pipeline,G.PostPipeline,G.ScrollFactor,G.Texture,G.Transform,G.Visible,ht],initialize:function(ct,vt,yt,Tt,Ct){d.call(this,ct,"ParticleEmitter"),this.particleClass=it,this.ops={accelerationX:new f("accelerationX",0),accelerationY:new f("accelerationY",0),alpha:new f("alpha",1),angle:new f("angle",{min:0,max:360},!0),bounce:new f("bounce",0),color:new l("color"),delay:new f("delay",0,!0),hold:new f("hold",0,!0),lifespan:new f("lifespan",1e3,!0),maxVelocityX:new f("maxVelocityX",1e4),maxVelocityY:new f("maxVelocityY",1e4),moveToX:new f("moveToX",0),moveToY:new f("moveToY",0),quantity:new f("quantity",1,!0),rotate:new f("rotate",0),scaleX:new f("scaleX",1),scaleY:new f("scaleY",1),speedX:new f("speedX",0,!0),speedY:new f("speedY",0,!0),tint:new f("tint",16777215),x:new f("x",0),y:new f("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new ft,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new ut,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new _(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(vt,yt),this.setTexture(Tt),Ct&&this.setConfig(Ct)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(lt){if(!lt)return this;var ct=0,vt="",yt=this.ops;for(ct=0;ct<pt.length;ct++)vt=pt[ct],yt[vt].loadConfig(lt);for(ct=0;ct<Et.length;ct++)vt=Et[ct],k(lt,vt)&&(this[vt]=p(lt,vt));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,k(lt,"speed")&&(yt.speedX.loadConfig(lt,"speed"),yt.speedY.active=!1),(j(lt,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),k(lt,"scale")&&(yt.scaleX.loadConfig(lt,"scale"),yt.scaleY.active=!1),k(lt,"callbackScope")){var Tt=p(lt,"callbackScope",null);this.emitCallbackScope=Tt,this.deathCallbackScope=Tt}if(k(lt,"emitZone")&&this.addEmitZone(lt.emitZone),k(lt,"deathZone")&&this.addDeathZone(lt.deathZone),k(lt,"bounds")){var Ct=this.addParticleBounds(lt.bounds);Ct.collideLeft=p(lt,"collideLeft",!0),Ct.collideRight=p(lt,"collideRight",!0),Ct.collideTop=p(lt,"collideTop",!0),Ct.collideBottom=p(lt,"collideBottom",!0)}return k(lt,"followOffset")&&this.followOffset.setFromObject(p(lt,"followOffset",0)),k(lt,"texture")&&this.setTexture(lt.texture),k(lt,"frame")?this.setEmitterFrame(lt.frame):k(lt,"anim")&&this.setAnim(lt.anim),k(lt,"reserve")&&this.reserve(lt.reserve),k(lt,"advance")&&this.fastForward(lt.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},toJSON:function(){var lt=h(this),ct=0,vt="";for(ct=0;ct<Et.length;ct++)vt=Et[ct],lt[vt]=this[vt];var yt=this.ops;for(ct=0;ct<pt.length;ct++)vt=pt[ct],yt[vt]&&(lt[vt]=yt[vt].toJSON());return yt.speedY.active||(delete lt.speedX,lt.speed=yt.speedX.toJSON()),this.scaleX===this.scaleY&&(delete lt.scaleX,delete lt.scaleY,lt.scale=yt.scaleX.toJSON()),lt},resetCounters:function(lt,ct){var vt=this.counters;vt.fill(0),vt[0]=lt,ct&&(vt[5]=1)},startFollow:function(lt,ct,vt,yt){return ct===void 0&&(ct=0),vt===void 0&&(vt=0),yt===void 0&&(yt=!1),this.follow=lt,this.followOffset.set(ct,vt),this.trackVisible=yt,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var lt=this.frames,ct=lt.length,vt;return ct===1?vt=lt[0]:this.randomFrame?vt=c(lt):(vt=lt[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===ct&&(this.currentFrame=0))),this.texture.get(vt)},setEmitterFrame:function(lt,ct,vt){ct===void 0&&(ct=!0),vt===void 0&&(vt=1),this.randomFrame=ct,this.frameQuantity=vt,this.currentFrame=0;var yt=typeof lt;if(this.frames.length=0,Array.isArray(lt))this.frames=this.frames.concat(lt);else if(yt==="string"||yt==="number")this.frames.push(lt);else if(yt==="object"){var Tt=lt;lt=p(Tt,"frames",null),lt&&(this.frames=this.frames.concat(lt));var Ct=p(Tt,"cycle",!1);this.randomFrame=!Ct,this.frameQuantity=p(Tt,"quantity",vt)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var lt=this.anims,ct=lt.length;if(ct===0)return null;if(ct===1)return lt[0];if(this.randomAnim)return c(lt);var vt=lt[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=gt(this.currentAnim+1,0,ct)),vt},setAnim:function(lt,ct,vt){ct===void 0&&(ct=!0),vt===void 0&&(vt=1),this.randomAnim=ct,this.animQuantity=vt,this.currentAnim=0;var yt=typeof lt;if(this.anims.length=0,Array.isArray(lt))this.anims=this.anims.concat(lt);else if(yt==="string")this.anims.push(lt);else if(yt==="object"){var Tt=lt;lt=p(Tt,"anims",null),lt&&(this.anims=this.anims.concat(lt));var Ct=p(Tt,"cycle",!1);this.randomAnim=!Ct,this.animQuantity=p(Tt,"quantity",vt)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(lt){return lt===void 0&&(lt=!0),this.radial=lt,this},addParticleBounds:function(lt,ct,vt,yt,Tt,Ct,St,Dt){if(typeof lt=="object"){var Mt=lt;lt=Mt.x,ct=Mt.y,vt=k(Mt,"w")?Mt.w:Mt.width,yt=k(Mt,"h")?Mt.h:Mt.height}return this.addParticleProcessor(new xt(lt,ct,vt,yt,Tt,Ct,St,Dt))},setParticleSpeed:function(lt,ct){return ct===void 0&&(ct=lt),this.ops.speedX.onChange(lt),lt===ct?this.ops.speedY.active=!1:this.ops.speedY.onChange(ct),this.radial=!0,this},setParticleScale:function(lt,ct){return lt===void 0&&(lt=1),ct===void 0&&(ct=lt),this.ops.scaleX.onChange(lt),this.ops.scaleY.onChange(ct),this},setParticleGravity:function(lt,ct){return this.gravityX=lt,this.gravityY=ct,this},setParticleAlpha:function(lt){return this.ops.alpha.onChange(lt),this},setParticleTint:function(lt){return this.ops.tint.onChange(lt),this},setEmitterAngle:function(lt){return this.ops.angle.onChange(lt),this},setParticleLifespan:function(lt){return this.ops.lifespan.onChange(lt),this},setQuantity:function(lt){return this.quantity=lt,this},setFrequency:function(lt,ct){return this.frequency=lt,this.flowCounter=lt>0?lt:0,ct&&(this.quantity=ct),this},addDeathZone:function(lt){Array.isArray(lt)||(lt=[lt]);for(var ct,vt=[],yt=0;yt<lt.length;yt++)if(ct=lt[yt],ct instanceof o)vt.push(ct);else if(typeof ct.contains=="function")ct=new o(ct,!0),vt.push(ct);else{var Tt=p(ct,"type","onEnter"),Ct=p(ct,"source",null);if(Ct&&typeof Ct.contains=="function"){var St=Tt==="onEnter";ct=new o(Ct,St),vt.push(ct)}}return this.deathZones=this.deathZones.concat(vt),vt},removeDeathZone:function(lt){return ot(this.deathZones,lt),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(lt){Array.isArray(lt)||(lt=[lt]);for(var ct,vt=[],yt=0;yt<lt.length;yt++)if(ct=lt[yt],ct instanceof rt||ct instanceof n)vt.push(ct);else{var Tt=p(ct,"source",null);if(Tt){var Ct=p(ct,"type","random");if(Ct==="random"&&typeof Tt.getRandomPoint=="function")ct=new rt(Tt),vt.push(ct);else if(Ct==="edge"&&typeof Tt.getPoints=="function"){var St=p(ct,"quantity",1),Dt=p(ct,"stepRate",0),Mt=p(ct,"yoyo",!1),At=p(ct,"seamless",!0),wt=p(ct,"total",-1);ct=new n(Tt,St,Dt,Mt,At,wt),vt.push(ct)}}}return this.emitZones=this.emitZones.concat(vt),vt},removeEmitZone:function(lt){return ot(this.emitZones,lt),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(lt){var ct=this.emitZones,vt=ct.length;if(vt!==0){var yt=ct[this.zoneIndex];yt.getPoint(lt),yt.total>-1&&(this.zoneTotal++,this.zoneTotal===yt.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===vt&&(this.zoneIndex=0)))}},getDeathZone:function(lt){for(var ct=this.deathZones,vt=0;vt<ct.length;vt++){var yt=ct[vt];if(yt.willKill(lt))return this.emit(s.DEATH_ZONE,this,lt,yt),!0}return!1},setEmitZone:function(lt){var ct;return isFinite(lt)?ct=lt:ct=this.emitZones.indexOf(lt),ct>=0&&(this.zoneIndex=ct),this},addParticleProcessor:function(lt){return this.processors.exists(lt)||(lt.emitter&&lt.emitter.removeParticleProcessor(lt),this.processors.add(lt),lt.emitter=this),lt},removeParticleProcessor:function(lt){return this.processors.exists(lt)&&(this.processors.remove(lt,!0),lt.emitter=null),lt},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(lt){return this.addParticleProcessor(new g(lt))},reserve:function(lt){var ct=this.dead;if(this.maxParticles>0){var vt=this.getParticleCount();vt+lt>this.maxParticles&&(lt=this.maxParticles-(vt+lt))}for(var yt=0;yt<lt;yt++)ct.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(lt,ct){return lt===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof lt=="function"&&(this.emitCallback=lt,ct&&(this.emitCallbackScope=ct)),this},onParticleDeath:function(lt,ct){return lt===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof lt=="function"&&(this.deathCallback=lt,ct&&(this.deathCallbackScope=ct)),this},killAll:function(){for(var lt=this.dead,ct=this.alive;ct.length>0;)lt.push(ct.pop());return this},forEachAlive:function(lt,ct){for(var vt=this.alive,yt=vt.length,Tt=0;Tt<yt;Tt++)lt.call(ct,vt[Tt],this);return this},forEachDead:function(lt,ct){for(var vt=this.dead,yt=vt.length,Tt=0;Tt<yt;Tt++)lt.call(ct,vt[Tt],this);return this},start:function(lt,ct){return lt===void 0&&(lt=0),this.emitting||(lt>0&&this.fastForward(lt),this.emitting=!0,this.resetCounters(this.frequency,!0),ct!==void 0&&(this.duration=Math.abs(ct)),this.emit(s.START,this)),this},stop:function(lt){return lt===void 0&&(lt=!1),this.emitting&&(this.emitting=!1,lt&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(lt,ct){return lt===void 0&&(lt=""),ct===void 0&&(ct=this.true),this.sortProperty=lt,this.sortOrderAsc=ct,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(lt){return this.sortProperty!==""?lt=this.depthSortCallback:lt=null,this.sortCallback=lt,this},depthSort:function(){return dt(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(lt,ct){var vt=this.sortProperty;return this.sortOrderAsc?lt[vt]-ct[vt]:ct[vt]-lt[vt]},flow:function(lt,ct,vt){return ct===void 0&&(ct=1),this.emitting=!1,this.frequency=lt,this.quantity=ct,vt!==void 0&&(this.stopAfter=vt),this.start()},explode:function(lt,ct,vt){this.frequency=-1,this.resetCounters(-1,!0);var yt=this.emitParticle(lt,ct,vt);return this.emit(s.EXPLODE,this,yt),yt},emitParticleAt:function(lt,ct,vt){return this.emitParticle(vt,lt,ct)},emitParticle:function(lt,ct,vt){if(!this.atLimit()){lt===void 0&&(lt=this.ops.quantity.onEmit());for(var yt=this.dead,Tt=this.stopAfter,Ct=this.follow?this.follow.x+this.followOffset.x:ct,St=this.follow?this.follow.y+this.followOffset.y:vt,Dt=0;Dt<lt;Dt++){var Mt=yt.pop();if(Mt||(Mt=new this.particleClass(this)),Mt.fire(Ct,St)?(this.particleBringToTop?this.alive.push(Mt):this.alive.unshift(Mt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Mt,this)):this.dead.push(Mt),Tt>0&&(this.stopCounter++,this.stopCounter>=Tt)||this.atLimit())break}return Mt}},fastForward:function(lt,ct){ct===void 0&&(ct=1e3/60);var vt=0;for(this.skipping=!0;vt<Math.abs(lt);)this.preUpdate(0,ct),vt+=ct;return this.skipping=!1,this},preUpdate:function(lt,ct){ct*=this.timeScale;var vt=ct/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var yt=this.getProcessors(),Tt=this.alive,Ct=this.dead,St=0,Dt=[],Mt=Tt.length;for(St=0;St<Mt;St++){var At=Tt[St];At.update(ct,vt,yt)&&Dt.push({index:St,particle:At})}if(Mt=Dt.length,Mt>0){var wt=this.deathCallback,It=this.deathCallbackScope;for(St=Mt-1;St>=0;St--){var Pt=Dt[St];Tt.splice(Pt.index,1),Ct.push(Pt.particle),wt&&wt.call(It,Pt.particle),Pt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Tt.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=ct;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=ct,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(lt){for(var ct=this.getWorldTransformMatrix(),vt=this.alive,yt=vt.length,Tt=[],Ct=0;Ct<yt;Ct++){var St=vt[Ct];at(lt,St.getBounds(ct))&&Tt.push(St)}return Tt},getBounds:function(lt,ct,vt,yt){lt===void 0&&(lt=0),ct===void 0&&(ct=0),vt===void 0&&(vt=1e3/60),yt===void 0&&(yt=new st);var Tt=this.getWorldTransformMatrix(),Ct,St,Dt=this.alive,Mt=!1;if(yt.setTo(0,0,0,0),ct>0){var At=0;for(this.skipping=!0;At<Math.abs(ct);){for(this.preUpdate(0,vt),Ct=0;Ct<Dt.length;Ct++)St=Dt[Ct].getBounds(Tt),Mt?nt(yt,St):(Mt=!0,r(St,yt));At+=vt}this.skipping=!1}else for(Ct=0;Ct<Dt.length;Ct++)St=Dt[Ct].getBounds(Tt),Mt?nt(yt,St):(Mt=!0,r(St,yt));return lt>0&&tt(yt,lt,lt),yt},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(lt){this.ops.x.onChange(lt)}},particleY:{get:function(){return this.ops.y.current},set:function(lt){this.ops.y.onChange(lt)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(lt){this.ops.accelerationX.onChange(lt)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(lt){this.ops.accelerationY.onChange(lt)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(lt){this.ops.maxVelocityX.onChange(lt)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(lt){this.ops.maxVelocityY.onChange(lt)}},speed:{get:function(){return this.ops.speedX.current},set:function(lt){this.ops.speedX.onChange(lt),this.ops.speedY.onChange(lt)}},speedX:{get:function(){return this.ops.speedX.current},set:function(lt){this.ops.speedX.onChange(lt)}},speedY:{get:function(){return this.ops.speedY.current},set:function(lt){this.ops.speedY.onChange(lt)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(lt){this.ops.moveToX.onChange(lt)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(lt){this.ops.moveToY.onChange(lt)}},bounce:{get:function(){return this.ops.bounce.current},set:function(lt){this.ops.bounce.onChange(lt)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(lt){this.ops.scaleX.onChange(lt)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(lt){this.ops.scaleY.onChange(lt)}},particleColor:{get:function(){return this.ops.color.current},set:function(lt){this.ops.color.onChange(lt)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(lt){this.ops.color.setEase(lt)}},particleTint:{get:function(){return this.ops.tint.current},set:function(lt){this.ops.tint.onChange(lt)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(lt){this.ops.alpha.onChange(lt)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(lt){this.ops.lifespan.onChange(lt)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(lt){this.ops.angle.onChange(lt)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(lt){this.ops.rotate.onChange(lt)}},quantity:{get:function(){return this.ops.quantity.current},set:function(lt){this.ops.quantity.onChange(lt)}},delay:{get:function(){return this.ops.delay.current},set:function(lt){this.ops.delay.onChange(lt)}},hold:{get:function(){return this.ops.hold.current},set:function(lt){this.ops.hold.onChange(lt)}},flowCounter:{get:function(){return this.counters[0]},set:function(lt){this.counters[0]=lt}},frameCounter:{get:function(){return this.counters[1]},set:function(lt){this.counters[1]=lt}},animCounter:{get:function(){return this.counters[2]},set:function(lt){this.counters[2]=lt}},elapsed:{get:function(){return this.counters[3]},set:function(lt){this.counters[3]=lt}},stopCounter:{get:function(){return this.counters[4]},set:function(lt){this.counters[4]=lt}},completeFlag:{get:function(){return this.counters[5]},set:function(lt){this.counters[5]=lt}},zoneIndex:{get:function(){return this.counters[6]},set:function(lt){this.counters[6]=lt}},zoneTotal:{get:function(){return this.counters[7]},set:function(lt){this.counters[7]=lt}},currentFrame:{get:function(){return this.counters[8]},set:function(lt){this.counters[8]=lt}},currentAnim:{get:function(){return this.counters[9]},set:function(lt){this.counters[9]=lt}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var lt,ct=this.ops;for(lt=0;lt<pt.length;lt++){var vt=pt[lt];ct[vt].destroy()}for(lt=0;lt<this.alive.length;lt++)this.alive[lt].destroy();for(lt=0;lt<this.dead.length;lt++)this.dead[lt].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});i.exports=mt},9871:(i,$,e)=>{var u=e(59996),G=e(61340),h=new G,r=new G,o=new G,n=new G,l=function(f,s,d,p){var c=h,g=r,j=o,k=n;p?(k.loadIdentity(),k.multiply(p),k.translate(s.x,s.y),k.rotate(s.rotation),k.scale(s.scaleX,s.scaleY)):k.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var tt=f.currentContext,_=d.roundPixels,nt=d.alpha,it=s.alpha,rt=s.alive,st=rt.length,at=s.viewBounds;if(!(!s.visible||st===0||at&&!u(at,d.worldView))){s.sortCallback&&s.depthSort(),d.addToRenderList(s);var ot=s.scrollFactorX,ht=s.scrollFactorY;tt.save(),tt.globalCompositeOperation=f.blendModes[s.blendMode];for(var dt=0;dt<st;dt++){var ut=rt[dt],ft=ut.alpha*it*nt;if(!(ft<=0||ut.scaleX===0||ut.scaleY===0)){j.applyITRS(ut.x,ut.y,ut.rotation,ut.scaleX,ut.scaleY),c.copyFrom(d.matrix),c.multiplyWithOffset(k,-d.scrollX*ot,-d.scrollY*ht),j.e=ut.x,j.f=ut.y,c.multiply(j,g);var gt=ut.frame,xt=gt.canvasData;if(xt.width>0&&xt.height>0){var Et=-gt.halfWidth,pt=-gt.halfHeight;tt.globalAlpha=ft,tt.save(),g.setToContext(tt),_&&(Et=Math.round(Et),pt=Math.round(pt)),tt.imageSmoothingEnabled=!gt.source.scaleMode,tt.drawImage(gt.source.image,xt.x,xt.y,xt.width,xt.height,Et,pt,xt.width,xt.height),tt.restore()}}}tt.restore()}};i.exports=l},92730:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(95540),o=e(31600);G.register("particles",function(n,l){n===void 0&&(n={});var f=h(n,"key",null),s=r(n,"config",null),d=new o(this.scene,0,0,f);return l!==void 0&&(n.add=l),u(this.scene,d,n),s&&d.setConfig(s),d})},676:(i,$,e)=>{var u=e(39429),G=e(31600);u.register("particles",function(h,r,o,n){return h!==void 0&&typeof h=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new G(this.scene,h,r,o,n))})},90668:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(21188),h=e(9871),i.exports={renderWebGL:G,renderCanvas:h}},21188:(i,$,e)=>{var u=e(59996),G=e(61340),h=e(70554),r=new G,o=new G,n=new G,l=new G,f=function(s,d,p,c){var g=s.pipelines.set(d.pipeline),j=r,k=o,tt=n,_=l;c?(_.loadIdentity(),_.multiply(c),_.translate(d.x,d.y),_.rotate(d.rotation),_.scale(d.scaleX,d.scaleY)):_.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var nt=h.getTintAppendFloatAlpha,it=p.alpha,rt=d.alpha;s.pipelines.preBatch(d);var st=d.alive,at=st.length,ot=d.viewBounds;if(!(at===0||ot&&!u(ot,p.worldView))){d.sortCallback&&d.depthSort(),p.addToRenderList(d),j.copyFrom(p.matrix),j.multiplyWithOffset(_,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),s.setBlendMode(d.blendMode),d.mask&&(d.mask.preRenderWebGL(s,d,p),s.pipelines.set(d.pipeline));for(var ht=d.tintFill,dt,ut,ft=0;ft<at;ft++){var gt=st[ft],xt=gt.alpha*rt*it;if(!(xt<=0||gt.scaleX===0||gt.scaleY===0)){tt.applyITRS(gt.x,gt.y,gt.rotation,gt.scaleX,gt.scaleY),tt.e=gt.x,tt.f=gt.y,j.multiply(tt,k);var Et=gt.frame;Et.glTexture!==ut&&(ut=Et.glTexture,dt=g.setGameObject(d,Et));var pt=-Et.halfWidth,mt=-Et.halfHeight,lt=k.setQuad(pt,mt,pt+Et.width,mt+Et.height),ct=nt(gt.tint,xt);g.shouldFlush(6)&&(g.flush(),dt=g.setGameObject(d,Et)),g.batchQuad(d,lt[0],lt[1],lt[2],lt[3],lt[4],lt[5],lt[6],lt[7],Et.u0,Et.v0,Et.u1,Et.v1,ct,ct,ct,ct,ht,ut,dt)}}d.mask&&d.mask.postRenderWebGL(s,p),s.pipelines.postBatch(d)}};i.exports=f},20286:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n){r===void 0&&(r=0),o===void 0&&(o=0),n===void 0&&(n=!0),this.emitter,this.x=r,this.y=o,this.active=n},update:function(){},destroy:function(){this.emitter=null}});i.exports=G},9774:i=>{i.exports="complete"},812:i=>{i.exports="deathzone"},30522:i=>{i.exports="explode"},96695:i=>{i.exports="start"},18677:i=>{i.exports="stop"},20696:(i,$,e)=>{i.exports={COMPLETE:e(9774),DEATH_ZONE:e(812),EXPLODE:e(30522),START:e(96695),STOP:e(18677)}},18404:(i,$,e)=>{i.exports={EmitterColorOp:e(76472),EmitterOp:e(44777),Events:e(20696),GravityWell:e(24502),Particle:e(56480),ParticleBounds:e(69601),ParticleEmitter:e(31600),ParticleProcessor:e(20286),Zones:e(21024)}},26388:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o){this.source=r,this.killOnEnter=o},willKill:function(h){var r=h.worldPosition,o=this.source.contains(r.x,r.y);return o&&this.killOnEnter||!o&&!this.killOnEnter}});i.exports=G},19909:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n,l,f,s){l===void 0&&(l=!1),f===void 0&&(f=!0),s===void 0&&(s=-1),this.source=r,this.points=[],this.quantity=o,this.stepRate=n,this.yoyo=l,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var h=this.points[0],r=this.points[this.points.length-1];h.x===r.x&&h.y===r.y&&this.points.pop()}var o=this._length;return this._length=this.points.length,this._length<o&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(h){return this.source=h,this.updateSource()},getPoint:function(h){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(h.x=r.x,h.y=r.y)}});i.exports=G},68875:(i,$,e)=>{var u=e(83419),G=e(26099),h=new u({initialize:function(o){this.source=o,this._tempVec=new G,this.total=-1},getPoint:function(r){var o=this._tempVec;this.source.getRandomPoint(o),r.x=o.x,r.y=o.y}});i.exports=h},21024:(i,$,e)=>{i.exports={DeathZone:e(26388),EdgeZone:e(19909),RandomZone:e(68875)}},1159:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(68287),r=new u({Extends:h,Mixins:[G.PathFollower],initialize:function(n,l,f,s,d,p){h.call(this,n,f,s,d,p),this.path=l},preUpdate:function(o,n){this.anims.update(o,n),this.pathUpdate(o)}});i.exports=r},90145:(i,$,e)=>{var u=e(39429),G=e(1159);u.register("follower",function(h,r,o,n,l){var f=new G(this.scene,h,r,o,n,l);return this.displayList.add(f),this.updateList.add(f),f})},33663:(i,$,e)=>{var u=e(9674),G=e(83419),h=e(48803),r=e(90664),o=e(4703),n=e(45650),l=new G({Extends:o,initialize:function(s,d,p,c,g,j,k,tt){c||(c="__DEFAULT"),o.call(this,s,d,p,c,g),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(j,k,tt),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(f,s,d){f===void 0&&(f=8),s===void 0&&(s=8),d===void 0&&(d=!1);var p=!1;return d&&(p=!0),this.gridWidth=f,this.gridHeight=s,this.isTiled=d,this.clear(),h({mesh:this,widthSegments:f,heightSegments:s,isOrtho:!1,tile:d,flipY:p}),this},setSizeToFrame:function(f){f===void 0&&(f=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!f)return this;var d=this.gridWidth,p=this.gridHeight,c=this.vertices,g=s.u0,j=s.u1,k=s.v0,tt=s.v1,_,nt,it=0;if(this.isTiled)for(k=s.v1,tt=s.v0,nt=0;nt<p;nt++)for(_=0;_<d;_++)c[it++].setUVs(g,tt),c[it++].setUVs(g,k),c[it++].setUVs(j,tt),c[it++].setUVs(g,k),c[it++].setUVs(j,k),c[it++].setUVs(j,tt);else{var rt=d+1,st=p+1,at=j-g,ot=tt-k,ht=[];for(nt=0;nt<st;nt++)for(_=0;_<rt;_++){var dt=g+at*(_/d),ut=k+ot*(nt/p);ht.push(dt,ut)}for(nt=0;nt<p;nt++)for(_=0;_<d;_++){var ft=(_+rt*nt)*2,gt=(_+rt*(nt+1))*2,xt=(_+1+rt*(nt+1))*2,Et=(_+1+rt*nt)*2;c[it++].setUVs(ht[ft],ht[ft+1]),c[it++].setUVs(ht[gt],ht[gt+1]),c[it++].setUVs(ht[Et],ht[Et+1]),c[it++].setUVs(ht[gt],ht[gt+1]),c[it++].setUVs(ht[xt],ht[xt+1]),c[it++].setUVs(ht[Et],ht[Et+1])}}return this},setViewHeight:function(f){f===void 0&&(f=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/f/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(f,s,d,p,c){f===void 0&&(f=16777215),s===void 0&&(s=255),d===void 0&&(d=255),p===void 0&&(p=255),c===void 0&&(c=128);for(var g=r(f),j=r(s),k=[],tt=0;tt<16;tt++)for(var _=0;_<16;_++)tt<8&&_<8||tt>7&&_>7?k.push(g.r,g.g,g.b,d):k.push(j.r,j.g,j.b,p);var nt=this.scene.sys.textures.addUint8Array(n(),new Uint8Array(k),16,16);return this.removeCheckerboard(),this.setTexture(nt),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(f,s){return this.anims.play(f,s)},playReverse:function(f,s){return this.anims.playReverse(f,s)},playAfterDelay:function(f,s){return this.anims.playAfterDelay(f,s)},playAfterRepeat:function(f,s){return this.anims.playAfterRepeat(f,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},preUpdate:function(f,s){o.prototype.preUpdate.call(this,f,s),this.anims.update(f,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});i.exports=l},56015:(i,$,e)=>{var u=e(25305),G=e(13059),h=e(44603),r=e(23568),o=e(35154),n=e(33663);h.register("plane",function(l,f){l===void 0&&(l={});var s=r(l,"key",null),d=r(l,"frame",null),p=o(l,"width",8),c=o(l,"height",8),g=o(l,"tile",!1),j=new n(this.scene,0,0,s,d,p,c,g);f!==void 0&&(l.add=f);var k=o(l,"checkerboard",null);if(k){var tt=o(k,"color1",16777215),_=o(k,"color2",255),nt=o(k,"alpha1",255),it=o(k,"alpha2",255),rt=o(k,"height",128);j.createCheckerboard(tt,_,nt,it,rt)}return u(this.scene,j,l),G(j,l),j})},30985:(i,$,e)=>{var u=e(33663),G=e(39429);G.register("plane",function(h,r,o,n,l,f,s){return this.displayList.add(new u(this.scene,h,r,o,n,l,f,s))})},80321:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(95643),r=e(30100),o=e(36060),n=e(67277),l=new u({Extends:h,Mixins:[G.AlphaSingle,G.BlendMode,G.Depth,G.Mask,G.Pipeline,G.PostPipeline,G.ScrollFactor,G.Transform,G.Visible,n],initialize:function(s,d,p,c,g,j,k){c===void 0&&(c=16777215),g===void 0&&(g=128),j===void 0&&(j=1),k===void 0&&(k=.1),h.call(this,s,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(d,p),this.color=r(c),this.intensity=j,this.attenuation=k,this.width=g*2,this.height=g*2,this._radius=g},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});i.exports=l},39829:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(80321);G.register("pointlight",function(o,n){o===void 0&&(o={});var l=h(o,"color",16777215),f=h(o,"radius",128),s=h(o,"intensity",1),d=h(o,"attenuation",.1),p=new r(this.scene,0,0,l,f,s,d);return n!==void 0&&(o.add=n),u(this.scene,p,o),p})},71255:(i,$,e)=>{var u=e(39429),G=e(80321);u.register("pointlight",function(h,r,o,n,l,f){return this.displayList.add(new G(this.scene,h,r,o,n,l,f))})},67277:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(57787),i.exports={renderWebGL:G,renderCanvas:h}},57787:(i,$,e)=>{var u=e(91296),G=function(h,r,o,n){o.addToRenderList(r);var l=h.pipelines.set(r.pipeline),f=u(r,o,n).calc,s=r.width,d=r.height,p=-r._radius,c=-r._radius,g=p+s,j=c+d,k=f.getX(0,0),tt=f.getY(0,0),_=f.getX(p,c),nt=f.getY(p,c),it=f.getX(p,j),rt=f.getY(p,j),st=f.getX(g,j),at=f.getY(g,j),ot=f.getX(g,c),ht=f.getY(g,c);h.pipelines.preBatch(r),l.batchPointLight(r,o,_,nt,it,rt,st,at,ot,ht,k,tt),h.pipelines.postBatch(r)};i.exports=G},591:(i,$,e)=>{var u=e(83419),G=e(81320),h=e(88571),r=new u({Extends:h,initialize:function(n,l,f,s,d){l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=32),d===void 0&&(d=32);var p=new G(n.sys.textures,"",s,d);h.call(this,n,l,f,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(o,n){this.width=o,this.height=n,this.texture.setSize(o,n),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=o,l.hitArea.height=n),this},resize:function(o,n){return this.setSize(o,n),this},saveTexture:function(o){var n=this.texture;return n.key=o,n.manager.addDynamicTexture(n)&&(this._saved=!0),n},fill:function(o,n,l,f,s,d){return this.texture.fill(o,n,l,f,s,d),this},clear:function(){return this.texture.clear(),this},stamp:function(o,n,l,f,s){return this.texture.stamp(o,n,l,f,s),this},erase:function(o,n,l){return this.texture.erase(o,n,l),this},draw:function(o,n,l,f,s){return this.texture.draw(o,n,l,f,s),this},drawFrame:function(o,n,l,f,s,d){return this.texture.drawFrame(o,n,l,f,s,d),this},repeat:function(o,n,l,f,s,d,p,c,g){return this.texture.repeat(o,n,l,f,s,d,p,c,g),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(o,n,l,f,s){return this.texture.batchDraw(o,n,l,f,s),this},batchDrawFrame:function(o,n,l,f,s,d){return this.texture.batchDrawFrame(o,n,l,f,s,d),this},endDraw:function(o){return this.texture.endDraw(o),this},snapshotArea:function(o,n,l,f,s,d,p){return this.texture.snapshotArea(o,n,l,f,s,d,p),this},snapshot:function(o,n,l){return this.snapshotArea(0,0,this.width,this.height,o,n,l)},snapshotPixel:function(o,n,l){return this.snapshotArea(o,n,1,1,l,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});i.exports=r},34495:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(591);G.register("renderTexture",function(o,n){o===void 0&&(o={});var l=h(o,"x",0),f=h(o,"y",0),s=h(o,"width",32),d=h(o,"height",32),p=new r(this.scene,l,f,s,d);return n!==void 0&&(o.add=n),u(this.scene,p,o),p})},60505:(i,$,e)=>{var u=e(39429),G=e(591);u.register("renderTexture",function(h,r,o,n){return this.displayList.add(new G(this.scene,h,r,o,n))})},77757:(i,$,e)=>{var u=e(9674),G=e(83419),h=e(31401),r=e(95643),o=e(36060),n=e(38745),l=e(26099),f=new G({Extends:r,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Flip,h.Mask,h.Pipeline,h.PostPipeline,h.Size,h.Texture,h.Transform,h.Visible,h.ScrollFactor,n],initialize:function(d,p,c,g,j,k,tt,_,nt){g===void 0&&(g="__DEFAULT"),k===void 0&&(k=2),tt===void 0&&(tt=!0),r.call(this,d,"Rope"),this.anims=new u(this),this.points=k,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=g==="__DEFAULT",this.dirty=!1,this.horizontal=tt,this._flipX=!1,this._flipY=!1,this._perp=new l,this.debugCallback=null,this.debugGraphic=null,this.setTexture(g,j),this.setPosition(p,c),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(k)&&this.resizeArrays(k.length),this.setPoints(k,_,nt),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,d){var p=this.anims.currentFrame;this.anims.update(s,d),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(s,d,p){return this.anims.play(s,d,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,d,p){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,d,p))},setVertical:function(s,d,p){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,d,p)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,d){var p=this.points.length;if(p<1)return this;var c=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&d===void 0&&(s=[s]);var g,j=0;if(d!==void 0)for(g=0;g<p;g++)j=g*2,c[j]=s,c[j+1]=d;else if(s.length===p)for(g=0;g<p;g++)j=g*2,c[j]=s[g],c[j+1]=s[g];else{var k=s[0];for(g=0;g<p;g++)j=g*2,s.length>j&&(k=s[j]),c[j]=k,s.length>j+1&&(k=s[j+1]),c[j+1]=k}return this},setColors:function(s){var d=this.points.length;if(d<1)return this;var p=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var c,g=0;if(s.length===d)for(c=0;c<d;c++)g=c*2,p[g]=s[c],p[g+1]=s[c];else{var j=s[0];for(c=0;c<d;c++)g=c*2,s.length>g&&(j=s[g]),p[g]=j,s.length>g+1&&(j=s[g+1]),p[g+1]=j}return this},setPoints:function(s,d,p){if(s===void 0&&(s=2),typeof s=="number"){var c=s;c<2&&(c=2),s=[];var g,j,k;if(this.horizontal)for(k=-this.frame.halfWidth,j=this.frame.width/(c-1),g=0;g<c;g++)s.push({x:k+g*j,y:0});else for(k=-this.frame.halfHeight,j=this.frame.height/(c-1),g=0;g<c;g++)s.push({x:0,y:k+g*j})}var tt=s.length,_=this.points.length;return tt<1?(console.warn("Rope: Not enough points given"),this):(tt===1&&(s.unshift({x:0,y:0}),tt++),_!==tt&&this.resizeArrays(tt),this.dirty=!0,this.points=s,this.updateUVs(),d!=null&&this.setColors(d),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var s=this.uv,d=this.points.length,p=this.frame.u0,c=this.frame.v0,g=this.frame.u1,j=this.frame.v1,k=(g-p)/(d-1),tt=(j-c)/(d-1),_=0;_<d;_++){var nt=_*4,it,rt,st,at;this.horizontal?(this._flipX?(it=g-_*k,st=g-_*k):(it=p+_*k,st=p+_*k),this._flipY?(rt=j,at=c):(rt=c,at=j)):(this._flipX?(it=p,st=g):(it=g,st=p),this._flipY?(rt=j-_*tt,at=j-_*tt):(rt=c+_*tt,at=c+_*tt)),s[nt+0]=it,s[nt+1]=rt,s[nt+2]=st,s[nt+3]=at}return this},resizeArrays:function(s){var d=this.colors,p=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),d=new Uint32Array(s*2),p=new Float32Array(s*2);for(var c=0;c<s*2;c++)d[c]=16777215,p[c]=1;return this.colors=d,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var s=this._perp,d=this.points,p=this.vertices,c=d.length;if(this.dirty=!1,!(c<1)){for(var g,j=d[0],k=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,tt=0;tt<c;tt++){var _=d[tt],nt=tt*4;tt<c-1?g=d[tt+1]:g=_,s.x=g.y-j.y,s.y=-(g.x-j.x);var it=s.length();s.x/=it,s.y/=it,s.x*=k,s.y*=k,p[nt]=_.x+s.x,p[nt+1]=_.y+s.y,p[nt+2]=_.x-s.x,p[nt+3]=_.y-s.y,j=_}return this}},setDebug:function(s,d){return this.debugGraphic=s,!s&&!d?this.debugCallback=null:d?this.debugCallback=d:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,d,p){var c=s.debugGraphic,g=p[0],j=p[1],k=p[2],tt=p[3];c.lineBetween(g,j,k,tt);for(var _=4;_<d;_+=4){var nt=p[_+0],it=p[_+1],rt=p[_+2],st=p[_+3];c.lineBetween(g,j,nt,it),c.lineBetween(k,tt,rt,st),c.lineBetween(k,tt,nt,it),c.lineBetween(nt,it,rt,st),g=nt,j=it,k=rt,tt=st}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});i.exports=f},95262:i=>{var $=function(){};i.exports=$},26209:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(35154),o=e(77757);G.register("rope",function(n,l){n===void 0&&(n={});var f=h(n,"key",null),s=h(n,"frame",null),d=h(n,"horizontal",!0),p=r(n,"points",void 0),c=r(n,"colors",void 0),g=r(n,"alphas",void 0),j=new o(this.scene,0,0,f,s,p,d,c,g);return l!==void 0&&(n.add=l),u(this.scene,j,n),j})},96819:(i,$,e)=>{var u=e(77757),G=e(39429);G.register("rope",function(h,r,o,n,l,f,s,d){return this.displayList.add(new u(this.scene,h,r,o,n,l,f,s,d))})},38745:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(20439),h=e(95262),i.exports={renderWebGL:G,renderCanvas:h}},20439:(i,$,e)=>{var u=e(91296),G=e(70554),h=function(r,o,n,l){n.addToRenderList(o);var f=r.pipelines.set(o.pipeline,o),s=u(o,n,l).calc,d=o.vertices,p=o.uv,c=o.colors,g=o.alphas,j=o.alpha,k=G.getTintAppendFloatAlpha,tt=n.roundPixels,_=d.length,nt=Math.floor(_*.5);f.flush(),r.pipelines.preBatch(o);var it=f.setGameObject(o),rt=f.vertexViewF32,st=f.vertexViewU32,at=f.vertexCount*f.currentShader.vertexComponentCount-1,ot=0,ht=o.tintFill;o.dirty&&o.updateVertices();for(var dt=o.debugCallback,ut=[],ft=0;ft<_;ft+=2){var gt=d[ft+0],xt=d[ft+1],Et=gt*s.a+xt*s.c+s.e,pt=gt*s.b+xt*s.d+s.f;tt&&(Et=Math.round(Et),pt=Math.round(pt)),rt[++at]=Et,rt[++at]=pt,rt[++at]=p[ft+0],rt[++at]=p[ft+1],rt[++at]=it,rt[++at]=ht,st[++at]=k(c[ot],n.alpha*(g[ot]*j)),ot++,dt&&(ut[ft+0]=Et,ut[ft+1]=pt)}dt&&dt.call(o,o,_,ut),f.vertexCount+=nt,f.currentBatch.count=f.vertexCount-f.currentBatch.start,r.pipelines.postBatch(o)};i.exports=h},20071:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(95643),r=e(95540),o=e(79291),n=e(61622),l=e(25479),f=e(61340),s=e(95428),d=e(92503),p=new u({Extends:h,Mixins:[G.ComputedSize,G.Depth,G.GetBounds,G.Mask,G.Origin,G.ScrollFactor,G.Transform,G.Visible,l],initialize:function(g,j,k,tt,_,nt,it,rt){k===void 0&&(k=0),tt===void 0&&(tt=0),_===void 0&&(_=128),nt===void 0&&(nt=128),h.call(this,g,"Shader"),this.blendMode=-1,this.shader;var st=g.sys.renderer;this.renderer=st,this.gl=st.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=st.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=st.width,this._rendererHeight=st.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(k,tt),this.setSize(_,nt),this.setOrigin(.5,.5),this.setShader(j,it,rt),this.renderer.on(d.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,g){if(g===void 0&&(g=!1),!this.renderToTexture){var j=this.width,k=this.height,tt=this.renderer;this.glTexture=tt.createTextureFromSource(null,j,k,0),this.framebuffer=tt.createFramebuffer(j,k,this.glTexture,!1),this._rendererWidth=j,this._rendererHeight=k,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(tt.pipelines.clear(),this.load(),this.flush(),tt.pipelines.rebind()),this},setShader:function(c,g,j){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:g,textureData:j},this;if(g===void 0&&(g=[]),typeof c=="string"){var k=this.scene.sys.cache.shader;if(!k.has(c))return console.warn("Shader missing: "+c),this;this.shader=k.get(c)}else this.shader=c;var tt=this.gl,_=this.renderer;this.program&&_.deleteProgram(this.program);var nt=_.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);tt.uniformMatrix4fv(tt.getUniformLocation(nt.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),tt.uniformMatrix4fv(tt.getUniformLocation(nt.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),tt.uniform2f(tt.getUniformLocation(nt.webGLProgram,"uResolution"),this.width,this.height),this.program=nt;var it=new Date,rt={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[it.getFullYear(),it.getMonth(),it.getDate(),it.getHours()*60*60+it.getMinutes()*60+it.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,rt):this.uniforms=rt;for(var st=0;st<4;st++)g[st]&&this.setSampler2D("iChannel"+st,g[st],st,j);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,g,j,k){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:g,bottom:j,top:k};return}var tt=-1e3,_=1e3,nt=1/(c-g),it=1/(j-k),rt=1/(tt-_),st=this.projectionMatrix;st[0]=-2*nt,st[5]=-2*it,st[10]=2*rt,st[12]=(c+g)*nt,st[13]=(k+j)*it,st[14]=(_+tt)*rt;var at=this.program,ot=this.gl,ht=this.renderer;ht.setProgram(at),ot.uniformMatrix4fv(ot.getUniformLocation(at.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=g,this._rendererHeight=j},initUniforms:function(){var c=this.renderer.glFuncMap,g=this.program;this._textureCount=0;for(var j in this.uniforms){var k=this.uniforms[j],tt=k.type,_=c[tt];k.uniformLocation=this.renderer.createUniformLocation(g,j),tt!=="sampler2D"&&(k.glMatrix=_.matrix,k.glValueLength=_.length,k.glFunc=_.func)}},setSampler2DBuffer:function(c,g,j,k,tt,_){tt===void 0&&(tt=0),_===void 0&&(_={});var nt=this.uniforms[c];return nt.value=g,_.width=j,_.height=k,nt.textureData=_,this._textureCount=tt,this.initSampler2D(nt),this},setSampler2D:function(c,g,j,k){j===void 0&&(j=0);var tt=this.scene.sys.textures;if(tt.exists(g)){var _=tt.getFrame(g);if(_.glTexture&&_.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,_.glTexture,_.width,_.height,j,k);var nt=this.uniforms[c],it=_.source;nt.textureKey=g,nt.source=it.image,nt.value=_.glTexture,it.isGLTexture&&(k||(k={}),k.width=it.width,k.height=it.height),k&&(nt.textureData=k),this._textureCount=j,this.initSampler2D(nt)}return this},setUniform:function(c,g){return n(this.uniforms,c,g),this},getUniform:function(c){return r(this.uniforms,c,null)},setChannel0:function(c,g){return this.setSampler2D("iChannel0",c,0,g)},setChannel1:function(c,g){return this.setSampler2D("iChannel1",c,1,g)},setChannel2:function(c,g){return this.setSampler2D("iChannel2",c,2,g)},setChannel3:function(c,g){return this.setSampler2D("iChannel3",c,3,g)},initSampler2D:function(c){if(c.value){var g=c.textureData;if(g&&!c.value.isRenderTexture){var j=this.gl,k=c.value,tt=j[r(g,"magFilter","linear").toUpperCase()],_=j[r(g,"minFilter","linear").toUpperCase()],nt=j[r(g,"wrapS","repeat").toUpperCase()],it=j[r(g,"wrapT","repeat").toUpperCase()],rt=j[r(g,"format","rgba").toUpperCase()],st=r(g,"flipY",!1),at=r(g,"width",k.width),ot=r(g,"height",k.height),ht=r(g,"source",k.pixels);g.repeat&&(nt=j.REPEAT,it=j.REPEAT),g.width&&(ht=null),k.update(ht,at,ot,st,nt,it,_,tt,rt)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,g=this.uniforms,j,k,tt,_,nt,it=0;for(var rt in g)j=g[rt],tt=j.glFunc,k=j.glValueLength,_=j.uniformLocation,nt=j.value,nt!==null&&(k===1?j.glMatrix?tt.call(c,_.webGLUniformLocation,j.transpose,nt):tt.call(c,_.webGLUniformLocation,nt):k===2?tt.call(c,_.webGLUniformLocation,nt.x,nt.y):k===3?tt.call(c,_.webGLUniformLocation,nt.x,nt.y,nt.z):k===4?tt.call(c,_.webGLUniformLocation,nt.x,nt.y,nt.z,nt.w):j.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+it),c.bindTexture(c.TEXTURE_2D,nt.webGLTexture),c.uniform1i(_.webGLUniformLocation,it),it++))},load:function(c){var g=this.gl,j=this.width,k=this.height,tt=this.renderer,_=this.program,nt=this.viewMatrix;if(!this.renderToTexture){var it=-this._displayOriginX,rt=-this._displayOriginY;nt[0]=c[0],nt[1]=c[1],nt[4]=c[2],nt[5]=c[3],nt[8]=c[4],nt[9]=c[5],nt[12]=nt[0]*it+nt[4]*rt,nt[13]=nt[1]*it+nt[5]*rt}g.useProgram(_.webGLProgram),g.uniformMatrix4fv(g.getUniformLocation(_.webGLProgram,"uViewMatrix"),!1,nt),g.uniformMatrix4fv(g.getUniformLocation(_.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),g.uniform2f(g.getUniformLocation(_.webGLProgram,"uResolution"),this.width,this.height);var st=this.uniforms,at=st.resolution;at.value.x=j,at.value.y=k,st.time.value=tt.game.loop.getDuration();var ot=this.pointer;if(ot){var ht=st.mouse,dt=ot.x/j,ut=1-ot.y/k;ht.value.x=dt.toFixed(2),ht.value.y=ut.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,g=this.height,j=this.program,k=this.gl,tt=this.vertexBuffer,_=this.renderer,nt=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(_.setFramebuffer(this.framebuffer),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT)),k.bindBuffer(k.ARRAY_BUFFER,tt.webGLBuffer);var it=k.getAttribLocation(j.webGLProgram,"inPosition");it!==-1&&(k.enableVertexAttribArray(it),k.vertexAttribPointer(it,2,k.FLOAT,!1,nt,0));var rt=this.vertexViewF32;rt[3]=g,rt[4]=c,rt[5]=g,rt[8]=c,rt[9]=g,rt[10]=c;var st=6;k.bufferSubData(k.ARRAY_BUFFER,0,this.bytes.subarray(0,st*nt)),k.drawArrays(k.TRIANGLES,0,st),this.renderToTexture&&_.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,g=this._deferSetShader.textures,j=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,g,j)}if(this._deferProjOrtho!==null){var k=this._deferProjOrtho.left,tt=this._deferProjOrtho.right,_=this._deferProjOrtho.bottom,nt=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(k,tt,_,nt)}},preDestroy:function(){var c=this.renderer;c.off(d.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(g){c.deleteUniformLocation(g.uniformLocation),g.uniformLocation=null})}});i.exports=p},80464:i=>{var $=function(){};i.exports=$},54935:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(20071);G.register("shader",function(o,n){o===void 0&&(o={});var l=h(o,"key",null),f=h(o,"x",0),s=h(o,"y",0),d=h(o,"width",128),p=h(o,"height",128),c=new r(this.scene,l,f,s,d,p);return n!==void 0&&(o.add=n),u(this.scene,c,o),c})},74177:(i,$,e)=>{var u=e(20071),G=e(39429);G.register("shader",function(h,r,o,n,l,f,s){return this.displayList.add(new u(this.scene,h,r,o,n,l,f,s))})},25479:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(19257),h=e(80464),i.exports={renderWebGL:G,renderCanvas:h}},19257:(i,$,e)=>{var u=e(91296),G=function(h,r,o,n){if(r.shader){if(o.addToRenderList(r),h.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var l=u(r,o,n).calc;(h.width!==r._rendererWidth||h.height!==r._rendererHeight)&&r.projOrtho(0,h.width,h.height,0),r.load(l.matrix),r.flush()}h.pipelines.rebind()}};i.exports=G},10441:(i,$,e)=>{var u=e(70554),G=function(h,r,o,n,l,f){for(var s=u.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*n),d=o.pathData,p=o.pathIndexes,c=0;c<p.length;c+=3){var g=p[c]*2,j=p[c+1]*2,k=p[c+2]*2,tt=d[g+0]-l,_=d[g+1]-f,nt=d[j+0]-l,it=d[j+1]-f,rt=d[k+0]-l,st=d[k+1]-f,at=r.getX(tt,_),ot=r.getY(tt,_),ht=r.getX(nt,it),dt=r.getY(nt,it),ut=r.getX(rt,st),ft=r.getY(rt,st);h.batchTri(o,at,ot,ht,dt,ut,ft,0,0,1,1,s,s,s,2)}};i.exports=G},65960:i=>{var $=function(e,u,G,h){var r=G||u.fillColor,o=h||u.fillAlpha,n=(r&16711680)>>>16,l=(r&65280)>>>8,f=r&255;e.fillStyle="rgba("+n+","+l+","+f+","+o+")"};i.exports=$},75177:i=>{var $=function(e,u,G,h){var r=G||u.strokeColor,o=h||u.strokeAlpha,n=(r&16711680)>>>16,l=(r&65280)>>>8,f=r&255;e.strokeStyle="rgba("+n+","+l+","+f+","+o+")",e.lineWidth=u.lineWidth};i.exports=$},17803:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(95643),r=e(23031),o=new u({Extends:h,Mixins:[G.AlphaSingle,G.BlendMode,G.Depth,G.GetBounds,G.Mask,G.Origin,G.Pipeline,G.PostPipeline,G.ScrollFactor,G.Transform,G.Visible],initialize:function(l,f,s){f===void 0&&(f="Shape"),h.call(this,l,f),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(n,l){return l===void 0&&(l=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=l,this.isFilled=!0),this},setStrokeStyle:function(n,l,f){return f===void 0&&(f=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=l,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,l){return this.width=n,this.height=l,this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});i.exports=o},34682:(i,$,e)=>{var u=e(70554),G=function(h,r,o,n,l){var f=h.strokeTint,s=u.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*o);f.TL=s,f.TR=s,f.BL=s,f.BR=s;var d=r.pathData,p=d.length-1,c=r.lineWidth,g=c/2,j=d[0]-n,k=d[1]-l;r.closePath||(p-=2);for(var tt=2;tt<p;tt+=2){var _=d[tt]-n,nt=d[tt+1]-l;h.batchLine(j,k,_,nt,g,g,c,tt-2,r.closePath?tt===p-1:!1),j=_,k=nt}};i.exports=G},23629:(i,$,e)=>{var u=e(13609),G=e(83419),h=e(39506),r=e(94811),o=e(96503),n=e(36383),l=e(17803),f=new G({Extends:l,Mixins:[u],initialize:function(d,p,c,g,j,k,tt,_,nt){p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=128),j===void 0&&(j=0),k===void 0&&(k=360),tt===void 0&&(tt=!1),l.call(this,d,"Arc",new o(0,0,g)),this._startAngle=j,this._endAngle=k,this._anticlockwise=tt,this._iterations=.01,this.setPosition(p,c);var it=this.geom.radius*2;this.setSize(it,it),_!==void 0&&this.setFillStyle(_,nt),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var d=s*2;this.setSize(d,d),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,d){return this._startAngle=s,d!==void 0&&(this._anticlockwise=d),this.updateData()},setEndAngle:function(s,d){return this._endAngle=s,d!==void 0&&(this._anticlockwise=d),this.updateData()},updateData:function(){var s=this._iterations,d=s,p=this.geom.radius,c=h(this._startAngle),g=h(this._endAngle),j=this._anticlockwise,k=p,tt=p;g-=c,j?g<-n.PI2?g=-n.PI2:g>0&&(g=-n.PI2+g%n.PI2):g>n.PI2?g=n.PI2:g<0&&(g=n.PI2+g%n.PI2);for(var _=[k+Math.cos(c)*p,tt+Math.sin(c)*p],nt;d<1;)nt=g*d+c,_.push(k+Math.cos(nt)*p,tt+Math.sin(nt)*p),d+=s;return nt=g+c,_.push(k+Math.cos(nt)*p,tt+Math.sin(nt)*p),_.push(k+Math.cos(c)*p,tt+Math.sin(c)*p),this.pathIndexes=r(_),this.pathData=_,this}});i.exports=f},42542:(i,$,e)=>{var u=e(39506),G=e(65960),h=e(75177),r=e(20926),o=function(n,l,f,s){f.addToRenderList(l);var d=n.currentContext;if(r(n,d,l,f,s)){var p=l.radius;d.beginPath(),d.arc(p-l.originX*(p*2),p-l.originY*(p*2),p,u(l._startAngle),u(l._endAngle),l.anticlockwise),l.closePath&&d.closePath(),l.isFilled&&(G(d,l),d.fill()),l.isStroked&&(h(d,l),d.stroke()),d.restore()}};i.exports=o},42563:(i,$,e)=>{var u=e(23629),G=e(39429);G.register("arc",function(h,r,o,n,l,f,s,d){return this.displayList.add(new u(this.scene,h,r,o,n,l,f,s,d))}),G.register("circle",function(h,r,o,n,l){return this.displayList.add(new u(this.scene,h,r,o,0,360,!1,n,l))})},13609:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(41447),h=e(42542),i.exports={renderWebGL:G,renderCanvas:h}},41447:(i,$,e)=>{var u=e(91296),G=e(10441),h=e(34682),r=function(o,n,l,f){l.addToRenderList(n);var s=o.pipelines.set(n.pipeline),d=u(n,l,f),p=s.calcMatrix.copyFrom(d.calc),c=n._displayOriginX,g=n._displayOriginY,j=l.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&G(s,p,n,j,c,g),n.isStroked&&h(s,n,j,c,g),o.pipelines.postBatch(n)};i.exports=r},89:(i,$,e)=>{var u=e(83419),G=e(33141),h=e(94811),r=e(87841),o=e(17803),n=new u({Extends:o,Mixins:[G],initialize:function(f,s,d,p,c,g){s===void 0&&(s=0),d===void 0&&(d=0),o.call(this,f,"Curve",p),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(s,d),c!==void 0&&this.setFillStyle(c,g),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){var l=this._curveBounds,f=this._smoothness;this.geom.getBounds(l,f),this.setSize(l.width,l.height),this.updateDisplayOrigin();for(var s=[],d=this.geom.getPoints(f),p=0;p<d.length;p++)s.push(d[p].x,d[p].y);return s.push(d[0].x,d[0].y),this.pathIndexes=h(s),this.pathData=s,this}});i.exports=n},3170:(i,$,e)=>{var u=e(65960),G=e(75177),h=e(20926),r=function(o,n,l,f){l.addToRenderList(n);var s=o.currentContext;if(h(o,s,n,l,f)){var d=n._displayOriginX+n._curveBounds.x,p=n._displayOriginY+n._curveBounds.y,c=n.pathData,g=c.length-1,j=c[0]-d,k=c[1]-p;s.beginPath(),s.moveTo(j,k),n.closePath||(g-=2);for(var tt=2;tt<g;tt+=2){var _=c[tt]-d,nt=c[tt+1]-p;s.lineTo(_,nt)}n.closePath&&s.closePath(),n.isFilled&&(u(s,n),s.fill()),n.isStroked&&(G(s,n),s.stroke()),s.restore()}};i.exports=r},40511:(i,$,e)=>{var u=e(39429),G=e(89);u.register("curve",function(h,r,o,n,l){return this.displayList.add(new G(this.scene,h,r,o,n,l))})},33141:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(53987),h=e(3170),i.exports={renderWebGL:G,renderCanvas:h}},53987:(i,$,e)=>{var u=e(10441),G=e(91296),h=e(34682),r=function(o,n,l,f){l.addToRenderList(n);var s=o.pipelines.set(n.pipeline),d=G(n,l,f),p=s.calcMatrix.copyFrom(d.calc),c=n._displayOriginX+n._curveBounds.x,g=n._displayOriginY+n._curveBounds.y,j=l.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&u(s,p,n,j,c,g),n.isStroked&&h(s,n,j,c,g),o.pipelines.postBatch(n)};i.exports=r},19921:(i,$,e)=>{var u=e(83419),G=e(94811),h=e(54205),r=e(8497),o=e(17803),n=new u({Extends:o,Mixins:[h],initialize:function(f,s,d,p,c,g,j){s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=128),c===void 0&&(c=128),o.call(this,f,"Ellipse",new r(p/2,c/2,p,c)),this._smoothness=64,this.setPosition(s,d),this.width=p,this.height=c,g!==void 0&&this.setFillStyle(g,j),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSize:function(l,f){return this.width=l,this.height=f,this.geom.setPosition(l/2,f/2),this.geom.setSize(l,f),this.updateData()},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){for(var l=[],f=this.geom.getPoints(this._smoothness),s=0;s<f.length;s++)l.push(f[s].x,f[s].y);return l.push(f[0].x,f[0].y),this.pathIndexes=G(l),this.pathData=l,this}});i.exports=n},7930:(i,$,e)=>{var u=e(65960),G=e(75177),h=e(20926),r=function(o,n,l,f){l.addToRenderList(n);var s=o.currentContext;if(h(o,s,n,l,f)){var d=n._displayOriginX,p=n._displayOriginY,c=n.pathData,g=c.length-1,j=c[0]-d,k=c[1]-p;s.beginPath(),s.moveTo(j,k),n.closePath||(g-=2);for(var tt=2;tt<g;tt+=2){var _=c[tt]-d,nt=c[tt+1]-p;s.lineTo(_,nt)}s.closePath(),n.isFilled&&(u(s,n),s.fill()),n.isStroked&&(G(s,n),s.stroke()),s.restore()}};i.exports=r},1543:(i,$,e)=>{var u=e(19921),G=e(39429);G.register("ellipse",function(h,r,o,n,l,f){return this.displayList.add(new u(this.scene,h,r,o,n,l,f))})},54205:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(19467),h=e(7930),i.exports={renderWebGL:G,renderCanvas:h}},19467:(i,$,e)=>{var u=e(10441),G=e(91296),h=e(34682),r=function(o,n,l,f){l.addToRenderList(n);var s=o.pipelines.set(n.pipeline),d=G(n,l,f),p=s.calcMatrix.copyFrom(d.calc),c=n._displayOriginX,g=n._displayOriginY,j=l.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&u(s,p,n,j,c,g),n.isStroked&&h(s,n,j,c,g),o.pipelines.postBatch(n)};i.exports=r},30479:(i,$,e)=>{var u=e(83419),G=e(17803),h=e(26015),r=new u({Extends:G,Mixins:[h],initialize:function(n,l,f,s,d,p,c,g,j,k,tt){l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=128),d===void 0&&(d=128),p===void 0&&(p=32),c===void 0&&(c=32),G.call(this,n,"Grid",null),this.cellWidth=p,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(l,f),this.setSize(s,d),this.setFillStyle(g,j),k!==void 0&&this.setOutlineStyle(k,tt),this.updateDisplayOrigin()},setFillStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showCells=!1:(this.fillColor=o,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showAltCells=!1:(this.altFillColor=o,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showOutline=!1:(this.outlineFillColor=o,this.outlineFillAlpha=n,this.showOutline=!0),this}});i.exports=r},49912:(i,$,e)=>{var u=e(65960),G=e(75177),h=e(20926),r=function(o,n,l,f){l.addToRenderList(n);var s=o.currentContext;if(h(o,s,n,l,f)){var d=-n._displayOriginX,p=-n._displayOriginY,c=l.alpha*n.alpha,g=n.width,j=n.height,k=n.cellWidth,tt=n.cellHeight,_=Math.ceil(g/k),nt=Math.ceil(j/tt),it=k,rt=tt,st=k-(_*k-g),at=tt-(nt*tt-j),ot=n.showCells,ht=n.showAltCells,dt=n.showOutline,ut=0,ft=0,gt=0,xt=0,Et=0;if(dt&&(it--,rt--,st===k&&st--,at===tt&&at--),ot&&n.fillAlpha>0)for(u(s,n),ft=0;ft<nt;ft++)for(ht&&(gt=ft%2),ut=0;ut<_;ut++){if(ht&&gt){gt=0;continue}gt++,xt=ut<_-1?it:st,Et=ft<nt-1?rt:at,s.fillRect(d+ut*k,p+ft*tt,xt,Et)}if(ht&&n.altFillAlpha>0)for(u(s,n,n.altFillColor,n.altFillAlpha*c),ft=0;ft<nt;ft++)for(ht&&(gt=ft%2),ut=0;ut<_;ut++){if(ht&&!gt){gt=1;continue}gt=0,xt=ut<_-1?it:st,Et=ft<nt-1?rt:at,s.fillRect(d+ut*k,p+ft*tt,xt,Et)}if(dt&&n.outlineFillAlpha>0){for(G(s,n,n.outlineFillColor,n.outlineFillAlpha*c),ut=1;ut<_;ut++){var pt=ut*k;s.beginPath(),s.moveTo(pt+d,p),s.lineTo(pt+d,j+p),s.stroke()}for(ft=1;ft<nt;ft++){var mt=ft*tt;s.beginPath(),s.moveTo(d,mt+p),s.lineTo(d+g,mt+p),s.stroke()}}s.restore()}};i.exports=r},34137:(i,$,e)=>{var u=e(39429),G=e(30479);u.register("grid",function(h,r,o,n,l,f,s,d,p,c){return this.displayList.add(new G(this.scene,h,r,o,n,l,f,s,d,p,c))})},26015:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(46161),h=e(49912),i.exports={renderWebGL:G,renderCanvas:h}},46161:(i,$,e)=>{var u=e(91296),G=e(70554),h=function(r,o,n,l){n.addToRenderList(o);var f=r.pipelines.set(o.pipeline),s=u(o,n,l),d=f.calcMatrix.copyFrom(s.calc);d.translate(-o._displayOriginX,-o._displayOriginY);var p=n.alpha*o.alpha,c=o.width,g=o.height,j=o.cellWidth,k=o.cellHeight,tt=Math.ceil(c/j),_=Math.ceil(g/k),nt=j,it=k,rt=j-(tt*j-c),st=k-(_*k-g),at,ot,ht=o.showCells,dt=o.showAltCells,ut=o.showOutline,ft=0,gt=0,xt=0,Et=0,pt=0;if(ut&&(nt--,it--,rt===j&&rt--,st===k&&st--),r.pipelines.preBatch(o),ht&&o.fillAlpha>0)for(at=f.fillTint,ot=G.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*p),at.TL=ot,at.TR=ot,at.BL=ot,at.BR=ot,gt=0;gt<_;gt++)for(dt&&(xt=gt%2),ft=0;ft<tt;ft++){if(dt&&xt){xt=0;continue}xt++,Et=ft<tt-1?nt:rt,pt=gt<_-1?it:st,f.batchFillRect(ft*j,gt*k,Et,pt)}if(dt&&o.altFillAlpha>0)for(at=f.fillTint,ot=G.getTintAppendFloatAlpha(o.altFillColor,o.altFillAlpha*p),at.TL=ot,at.TR=ot,at.BL=ot,at.BR=ot,gt=0;gt<_;gt++)for(dt&&(xt=gt%2),ft=0;ft<tt;ft++){if(dt&&!xt){xt=1;continue}xt=0,Et=ft<tt-1?nt:rt,pt=gt<_-1?it:st,f.batchFillRect(ft*j,gt*k,Et,pt)}if(ut&&o.outlineFillAlpha>0){var mt=f.strokeTint,lt=G.getTintAppendFloatAlpha(o.outlineFillColor,o.outlineFillAlpha*p);for(mt.TL=lt,mt.TR=lt,mt.BL=lt,mt.BR=lt,ft=1;ft<tt;ft++){var ct=ft*j;f.batchLine(ct,0,ct,g,1,1,1,0,!1)}for(gt=1;gt<_;gt++){var vt=gt*k;f.batchLine(0,vt,c,vt,1,1,1,0,!1)}}r.pipelines.postBatch(o)};i.exports=h},61475:(i,$,e)=>{var u=e(99651),G=e(83419),h=e(17803),r=new G({Extends:h,Mixins:[u],initialize:function(n,l,f,s,d,p,c,g){l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=48),d===void 0&&(d=32),p===void 0&&(p=15658734),c===void 0&&(c=10066329),g===void 0&&(g=13421772),h.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=c,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(l,f),this.setSize(s,d),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setFaces:function(o,n,l){return o===void 0&&(o=!0),n===void 0&&(n=!0),l===void 0&&(l=!0),this.showTop=o,this.showLeft=n,this.showRight=l,this},setFillStyle:function(o,n,l){return this.fillTop=o,this.fillLeft=n,this.fillRight=l,this.isFilled=!0,this}});i.exports=r},11508:(i,$,e)=>{var u=e(65960),G=e(20926),h=function(r,o,n,l){n.addToRenderList(o);var f=r.currentContext;if(G(r,f,o,n,l)&&o.isFilled){var s=o.width,d=o.height,p=s/2,c=s/o.projection;o.showTop&&(u(f,o,o.fillTop),f.beginPath(),f.moveTo(-p,-d),f.lineTo(0,-c-d),f.lineTo(p,-d),f.lineTo(p,-1),f.lineTo(0,c-1),f.lineTo(-p,-1),f.lineTo(-p,-d),f.fill()),o.showLeft&&(u(f,o,o.fillLeft),f.beginPath(),f.moveTo(-p,0),f.lineTo(0,c),f.lineTo(0,c-d),f.lineTo(-p,-d),f.lineTo(-p,0),f.fill()),o.showRight&&(u(f,o,o.fillRight),f.beginPath(),f.moveTo(p,0),f.lineTo(0,c),f.lineTo(0,c-d),f.lineTo(p,-d),f.lineTo(p,0),f.fill()),f.restore()}};i.exports=h},3933:(i,$,e)=>{var u=e(39429),G=e(61475);u.register("isobox",function(h,r,o,n,l,f,s){return this.displayList.add(new G(this.scene,h,r,o,n,l,f,s))})},99651:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(68149),h=e(11508),i.exports={renderWebGL:G,renderCanvas:h}},68149:(i,$,e)=>{var u=e(91296),G=e(70554),h=function(r,o,n,l){n.addToRenderList(o);var f=r.pipelines.set(o.pipeline),s=u(o,n,l),d=f.calcMatrix.copyFrom(s.calc),p=o.width,c=o.height,g=p/2,j=p/o.projection,k=n.alpha*o.alpha;if(o.isFilled){var tt,_,nt,it,rt,st,at,ot,ht;r.pipelines.preBatch(o),o.showTop&&(tt=G.getTintAppendFloatAlpha(o.fillTop,k),_=d.getX(-g,-c),nt=d.getY(-g,-c),it=d.getX(0,-j-c),rt=d.getY(0,-j-c),st=d.getX(g,-c),at=d.getY(g,-c),ot=d.getX(0,j-c),ht=d.getY(0,j-c),f.batchQuad(o,_,nt,it,rt,st,at,ot,ht,0,0,1,1,tt,tt,tt,tt,2)),o.showLeft&&(tt=G.getTintAppendFloatAlpha(o.fillLeft,k),_=d.getX(-g,0),nt=d.getY(-g,0),it=d.getX(0,j),rt=d.getY(0,j),st=d.getX(0,j-c),at=d.getY(0,j-c),ot=d.getX(-g,-c),ht=d.getY(-g,-c),f.batchQuad(o,_,nt,it,rt,st,at,ot,ht,0,0,1,1,tt,tt,tt,tt,2)),o.showRight&&(tt=G.getTintAppendFloatAlpha(o.fillRight,k),_=d.getX(g,0),nt=d.getY(g,0),it=d.getX(0,j),rt=d.getY(0,j),st=d.getX(0,j-c),at=d.getY(0,j-c),ot=d.getX(g,-c),ht=d.getY(g,-c),f.batchQuad(o,_,nt,it,rt,st,at,ot,ht,0,0,1,1,tt,tt,tt,tt,2)),r.pipelines.postBatch(o)}};i.exports=h},16933:(i,$,e)=>{var u=e(83419),G=e(60561),h=e(17803),r=new u({Extends:h,Mixins:[G],initialize:function(n,l,f,s,d,p,c,g,j){l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s=48),d===void 0&&(d=32),p===void 0&&(p=!1),c===void 0&&(c=15658734),g===void 0&&(g=10066329),j===void 0&&(j=13421772),h.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=g,this.fillRight=j,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(l,f),this.setSize(s,d),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setReversed:function(o){return this.isReversed=o,this},setFaces:function(o,n,l){return o===void 0&&(o=!0),n===void 0&&(n=!0),l===void 0&&(l=!0),this.showTop=o,this.showLeft=n,this.showRight=l,this},setFillStyle:function(o,n,l){return this.fillTop=o,this.fillLeft=n,this.fillRight=l,this.isFilled=!0,this}});i.exports=r},79590:(i,$,e)=>{var u=e(65960),G=e(20926),h=function(r,o,n,l){n.addToRenderList(o);var f=r.currentContext;if(G(r,f,o,n,l)&&o.isFilled){var s=o.width,d=o.height,p=s/2,c=s/o.projection,g=o.isReversed;o.showTop&&g&&(u(f,o,o.fillTop),f.beginPath(),f.moveTo(-p,-d),f.lineTo(0,-c-d),f.lineTo(p,-d),f.lineTo(0,c-d),f.fill()),o.showLeft&&(u(f,o,o.fillLeft),f.beginPath(),g?(f.moveTo(-p,-d),f.lineTo(0,c),f.lineTo(0,c-d)):(f.moveTo(-p,0),f.lineTo(0,c),f.lineTo(0,c-d)),f.fill()),o.showRight&&(u(f,o,o.fillRight),f.beginPath(),g?(f.moveTo(p,-d),f.lineTo(0,c),f.lineTo(0,c-d)):(f.moveTo(p,0),f.lineTo(0,c),f.lineTo(0,c-d)),f.fill()),f.restore()}};i.exports=h},49803:(i,$,e)=>{var u=e(39429),G=e(16933);u.register("isotriangle",function(h,r,o,n,l,f,s,d){return this.displayList.add(new G(this.scene,h,r,o,n,l,f,s,d))})},60561:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(51503),h=e(79590),i.exports={renderWebGL:G,renderCanvas:h}},51503:(i,$,e)=>{var u=e(91296),G=e(70554),h=function(r,o,n,l){n.addToRenderList(o);var f=r.pipelines.set(o.pipeline),s=u(o,n,l),d=f.calcMatrix.copyFrom(s.calc),p=o.width,c=o.height,g=p/2,j=p/o.projection,k=o.isReversed,tt=n.alpha*o.alpha;if(o.isFilled){r.pipelines.preBatch(o);var _,nt,it,rt,st,at,ot;if(o.showTop&&k){_=G.getTintAppendFloatAlpha(o.fillTop,tt),nt=d.getX(-g,-c),it=d.getY(-g,-c),rt=d.getX(0,-j-c),st=d.getY(0,-j-c),at=d.getX(g,-c),ot=d.getY(g,-c);var ht=d.getX(0,j-c),dt=d.getY(0,j-c);f.batchQuad(o,nt,it,rt,st,at,ot,ht,dt,0,0,1,1,_,_,_,_,2)}o.showLeft&&(_=G.getTintAppendFloatAlpha(o.fillLeft,tt),k?(nt=d.getX(-g,-c),it=d.getY(-g,-c),rt=d.getX(0,j),st=d.getY(0,j),at=d.getX(0,j-c),ot=d.getY(0,j-c)):(nt=d.getX(-g,0),it=d.getY(-g,0),rt=d.getX(0,j),st=d.getY(0,j),at=d.getX(0,j-c),ot=d.getY(0,j-c)),f.batchTri(o,nt,it,rt,st,at,ot,0,0,1,1,_,_,_,2)),o.showRight&&(_=G.getTintAppendFloatAlpha(o.fillRight,tt),k?(nt=d.getX(g,-c),it=d.getY(g,-c),rt=d.getX(0,j),st=d.getY(0,j),at=d.getX(0,j-c),ot=d.getY(0,j-c)):(nt=d.getX(g,0),it=d.getY(g,0),rt=d.getX(0,j),st=d.getY(0,j),at=d.getX(0,j-c),ot=d.getY(0,j-c)),f.batchTri(o,nt,it,rt,st,at,ot,0,0,1,1,_,_,_,2)),r.pipelines.postBatch(o)}};i.exports=h},57847:(i,$,e)=>{var u=e(83419),G=e(17803),h=e(23031),r=e(36823),o=new u({Extends:G,Mixins:[r],initialize:function(l,f,s,d,p,c,g,j,k){f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=128),g===void 0&&(g=0),G.call(this,l,"Line",new h(d,p,c,g));var tt=Math.max(1,this.geom.right-this.geom.left),_=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,s),this.setSize(tt,_),j!==void 0&&this.setStrokeStyle(1,j,k),this.updateDisplayOrigin()},setLineWidth:function(n,l){return l===void 0&&(l=n),this._startWidth=n,this._endWidth=l,this.lineWidth=n,this},setTo:function(n,l,f,s){return this.geom.setTo(n,l,f,s),this}});i.exports=o},17440:(i,$,e)=>{var u=e(75177),G=e(20926),h=function(r,o,n,l){n.addToRenderList(o);var f=r.currentContext;if(G(r,f,o,n,l)){var s=o._displayOriginX,d=o._displayOriginY;o.isStroked&&(u(f,o),f.beginPath(),f.moveTo(o.geom.x1-s,o.geom.y1-d),f.lineTo(o.geom.x2-s,o.geom.y2-d),f.stroke()),f.restore()}};i.exports=h},2481:(i,$,e)=>{var u=e(39429),G=e(57847);u.register("line",function(h,r,o,n,l,f,s,d){return this.displayList.add(new G(this.scene,h,r,o,n,l,f,s,d))})},36823:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(77385),h=e(17440),i.exports={renderWebGL:G,renderCanvas:h}},77385:(i,$,e)=>{var u=e(91296),G=e(70554),h=function(r,o,n,l){n.addToRenderList(o);var f=r.pipelines.set(o.pipeline),s=u(o,n,l);f.calcMatrix.copyFrom(s.calc);var d=o._displayOriginX,p=o._displayOriginY,c=n.alpha*o.alpha;if(r.pipelines.preBatch(o),o.isStroked){var g=f.strokeTint,j=G.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*c);g.TL=j,g.TR=j,g.BL=j,g.BR=j,f.batchLine(o.geom.x1-d,o.geom.y1-p,o.geom.x2-d,o.geom.y2-p,o._startWidth/2,o._endWidth/2,1,0,!1,s.sprite,s.camera)}r.pipelines.postBatch(o)};i.exports=h},24949:(i,$,e)=>{var u=e(90273),G=e(83419),h=e(94811),r=e(13829),o=e(25717),n=e(17803),l=e(5469),f=new G({Extends:n,Mixins:[u],initialize:function(d,p,c,g,j,k){p===void 0&&(p=0),c===void 0&&(c=0),n.call(this,d,"Polygon",new o(g));var tt=r(this.geom);this.setPosition(p,c),this.setSize(tt.width,tt.height),j!==void 0&&this.setFillStyle(j,k),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var d=0;d<s;d++)l(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var d=r(this.geom);return this.setSize(d.width,d.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],d=this.geom.points,p=0;p<d.length;p++)s.push(d[p].x,d[p].y);return s.push(d[0].x,d[0].y),this.pathIndexes=h(s),this.pathData=s,this}});i.exports=f},38710:(i,$,e)=>{var u=e(65960),G=e(75177),h=e(20926),r=function(o,n,l,f){l.addToRenderList(n);var s=o.currentContext;if(h(o,s,n,l,f)){var d=n._displayOriginX,p=n._displayOriginY,c=n.pathData,g=c.length-1,j=c[0]-d,k=c[1]-p;s.beginPath(),s.moveTo(j,k),n.closePath||(g-=2);for(var tt=2;tt<g;tt+=2){var _=c[tt]-d,nt=c[tt+1]-p;s.lineTo(_,nt)}n.closePath&&s.closePath(),n.isFilled&&(u(s,n),s.fill()),n.isStroked&&(G(s,n),s.stroke()),s.restore()}};i.exports=r},64827:(i,$,e)=>{var u=e(39429),G=e(24949);u.register("polygon",function(h,r,o,n,l){return this.displayList.add(new G(this.scene,h,r,o,n,l))})},90273:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(73695),h=e(38710),i.exports={renderWebGL:G,renderCanvas:h}},73695:(i,$,e)=>{var u=e(10441),G=e(91296),h=e(34682),r=function(o,n,l,f){l.addToRenderList(n);var s=o.pipelines.set(n.pipeline),d=G(n,l,f),p=s.calcMatrix.copyFrom(d.calc),c=n._displayOriginX,g=n._displayOriginY,j=l.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&u(s,p,n,j,c,g),n.isStroked&&h(s,n,j,c,g),o.pipelines.postBatch(n)};i.exports=r},74561:(i,$,e)=>{var u=e(83419),G=e(87841),h=e(17803),r=e(95597),o=new u({Extends:h,Mixins:[r],initialize:function(l,f,s,d,p,c,g){f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=128),p===void 0&&(p=128),h.call(this,l,"Rectangle",new G(0,0,d,p)),this.setPosition(f,s),this.setSize(d,p),c!==void 0&&this.setFillStyle(c,g),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,l){this.width=n,this.height=l,this.geom.setSize(n,l),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=n,f.hitArea.height=l),this},updateData:function(){var n=[],l=this.geom,f=this._tempLine;return l.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),l.getLineB(f),n.push(f.x2,f.y2),l.getLineC(f),n.push(f.x2,f.y2),l.getLineD(f),n.push(f.x2,f.y2),this.pathData=n,this}});i.exports=o},48682:(i,$,e)=>{var u=e(65960),G=e(75177),h=e(20926),r=function(o,n,l,f){l.addToRenderList(n);var s=o.currentContext;if(h(o,s,n,l,f)){var d=n._displayOriginX,p=n._displayOriginY;n.isFilled&&(u(s,n),s.fillRect(-d,-p,n.width,n.height)),n.isStroked&&(G(s,n),s.beginPath(),s.rect(-d,-p,n.width,n.height),s.stroke()),s.restore()}};i.exports=r},87959:(i,$,e)=>{var u=e(39429),G=e(74561);u.register("rectangle",function(h,r,o,n,l,f){return this.displayList.add(new G(this.scene,h,r,o,n,l,f))})},95597:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(52059),h=e(48682),i.exports={renderWebGL:G,renderCanvas:h}},52059:(i,$,e)=>{var u=e(91296),G=e(34682),h=e(70554),r=function(o,n,l,f){l.addToRenderList(n);var s=o.pipelines.set(n.pipeline),d=u(n,l,f);s.calcMatrix.copyFrom(d.calc);var p=n._displayOriginX,c=n._displayOriginY,g=l.alpha*n.alpha;if(o.pipelines.preBatch(n),n.isFilled){var j=s.fillTint,k=h.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*g);j.TL=k,j.TR=k,j.BL=k,j.BR=k,s.batchFillRect(-p,-c,n.width,n.height)}n.isStroked&&G(s,n,g,p,c),o.pipelines.postBatch(n)};i.exports=r},55911:(i,$,e)=>{var u=e(81991),G=e(83419),h=e(94811),r=e(17803),o=new G({Extends:r,Mixins:[u],initialize:function(l,f,s,d,p,c,g,j){f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=5),p===void 0&&(p=32),c===void 0&&(c=64),r.call(this,l,"Star",null),this._points=d,this._innerRadius=p,this._outerRadius=c,this.setPosition(f,s),this.setSize(c*2,c*2),g!==void 0&&this.setFillStyle(g,j),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],l=this._points,f=this._innerRadius,s=this._outerRadius,d=Math.PI/2*3,p=Math.PI/l,c=s,g=s;n.push(c,g+-s);for(var j=0;j<l;j++)n.push(c+Math.cos(d)*s,g+Math.sin(d)*s),d+=p,n.push(c+Math.cos(d)*f,g+Math.sin(d)*f),d+=p;return n.push(c,g+-s),this.pathIndexes=h(n),this.pathData=n,this}});i.exports=o},64272:(i,$,e)=>{var u=e(65960),G=e(75177),h=e(20926),r=function(o,n,l,f){l.addToRenderList(n);var s=o.currentContext;if(h(o,s,n,l,f)){var d=n._displayOriginX,p=n._displayOriginY,c=n.pathData,g=c.length-1,j=c[0]-d,k=c[1]-p;s.beginPath(),s.moveTo(j,k),n.closePath||(g-=2);for(var tt=2;tt<g;tt+=2){var _=c[tt]-d,nt=c[tt+1]-p;s.lineTo(_,nt)}s.closePath(),n.isFilled&&(u(s,n),s.fill()),n.isStroked&&(G(s,n),s.stroke()),s.restore()}};i.exports=r},93697:(i,$,e)=>{var u=e(55911),G=e(39429);G.register("star",function(h,r,o,n,l,f,s){return this.displayList.add(new u(this.scene,h,r,o,n,l,f,s))})},81991:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(57017),h=e(64272),i.exports={renderWebGL:G,renderCanvas:h}},57017:(i,$,e)=>{var u=e(10441),G=e(91296),h=e(34682),r=function(o,n,l,f){l.addToRenderList(n);var s=o.pipelines.set(n.pipeline),d=G(n,l,f),p=s.calcMatrix.copyFrom(d.calc),c=n._displayOriginX,g=n._displayOriginY,j=l.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&u(s,p,n,j,c,g),n.isStroked&&h(s,n,j,c,g),o.pipelines.postBatch(n)};i.exports=r},36931:(i,$,e)=>{var u=e(83419),G=e(17803),h=e(16483),r=e(96195),o=new u({Extends:G,Mixins:[r],initialize:function(l,f,s,d,p,c,g,j,k,tt,_){f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=128),c===void 0&&(c=64),g===void 0&&(g=0),j===void 0&&(j=128),k===void 0&&(k=128),G.call(this,l,"Triangle",new h(d,p,c,g,j,k));var nt=this.geom.right-this.geom.left,it=this.geom.bottom-this.geom.top;this.setPosition(f,s),this.setSize(nt,it),tt!==void 0&&this.setFillStyle(tt,_),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,l,f,s,d,p){return this.geom.setTo(n,l,f,s,d,p),this.updateData()},updateData:function(){var n=[],l=this.geom,f=this._tempLine;return l.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),l.getLineB(f),n.push(f.x2,f.y2),l.getLineC(f),n.push(f.x2,f.y2),this.pathData=n,this}});i.exports=o},85172:(i,$,e)=>{var u=e(65960),G=e(75177),h=e(20926),r=function(o,n,l,f){l.addToRenderList(n);var s=o.currentContext;if(h(o,s,n,l,f)){var d=n._displayOriginX,p=n._displayOriginY,c=n.geom.x1-d,g=n.geom.y1-p,j=n.geom.x2-d,k=n.geom.y2-p,tt=n.geom.x3-d,_=n.geom.y3-p;s.beginPath(),s.moveTo(c,g),s.lineTo(j,k),s.lineTo(tt,_),s.closePath(),n.isFilled&&(u(s,n),s.fill()),n.isStroked&&(G(s,n),s.stroke()),s.restore()}};i.exports=r},45245:(i,$,e)=>{var u=e(39429),G=e(36931);u.register("triangle",function(h,r,o,n,l,f,s,d,p,c){return this.displayList.add(new G(this.scene,h,r,o,n,l,f,s,d,p,c))})},96195:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(83253),h=e(85172),i.exports={renderWebGL:G,renderCanvas:h}},83253:(i,$,e)=>{var u=e(91296),G=e(34682),h=e(70554),r=function(o,n,l,f){l.addToRenderList(n);var s=o.pipelines.set(n.pipeline),d=u(n,l,f);s.calcMatrix.copyFrom(d.calc);var p=n._displayOriginX,c=n._displayOriginY,g=l.alpha*n.alpha;if(o.pipelines.preBatch(n),n.isFilled){var j=s.fillTint,k=h.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*g);j.TL=k,j.TR=k,j.BL=k,j.BR=k;var tt=n.geom.x1-p,_=n.geom.y1-c,nt=n.geom.x2-p,it=n.geom.y2-c,rt=n.geom.x3-p,st=n.geom.y3-c;s.batchFillTriangle(tt,_,nt,it,rt,st,d.sprite,d.camera)}n.isStroked&&G(s,n,g,p,c),o.pipelines.postBatch(n)};i.exports=r},68287:(i,$,e)=>{var u=e(9674),G=e(83419),h=e(31401),r=e(95643),o=e(92751),n=new G({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,o],initialize:function(f,s,d,p,c){r.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(p,c),this.setPosition(s,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(l,f){this.anims.update(l,f)},play:function(l,f){return this.anims.play(l,f)},playReverse:function(l,f){return this.anims.playReverse(l,f)},playAfterDelay:function(l,f){return this.anims.playAfterDelay(l,f)},playAfterRepeat:function(l,f){return this.anims.playAfterRepeat(l,f)},chain:function(l){return this.anims.chain(l)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},toJSON:function(){return h.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});i.exports=n},76552:i=>{var $=function(e,u,G,h){G.addToRenderList(u),e.batchSprite(u,u.frame,G,h)};i.exports=$},15567:(i,$,e)=>{var u=e(25305),G=e(13059),h=e(44603),r=e(23568),o=e(68287);h.register("sprite",function(n,l){n===void 0&&(n={});var f=r(n,"key",null),s=r(n,"frame",null),d=new o(this.scene,0,0,f,s);return l!==void 0&&(n.add=l),u(this.scene,d,n),G(d,n),d})},46409:(i,$,e)=>{var u=e(39429),G=e(68287);u.register("sprite",function(h,r,o,n){return this.displayList.add(new G(this.scene,h,r,o,n))})},92751:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(9409),h=e(76552),i.exports={renderWebGL:G,renderCanvas:h}},9409:i=>{var $=function(e,u,G,h){G.addToRenderList(u),u.pipeline.batchSprite(u,G,h)};i.exports=$},14220:i=>{var $=function(e,u,G){var h=e.canvas,r=e.context,o=e.style,n=[],l=0,f=G.length;o.maxLines>0&&o.maxLines<G.length&&(f=o.maxLines),o.syncFont(h,r);for(var s=0;s<f;s++){var d=o.strokeThickness;d+=r.measureText(G[s]).width,G[s].length>1&&(d+=e.letterSpacing*(G[s].length-1)),o.wordWrap&&(d-=r.measureText(" ").width),n[s]=Math.ceil(d),l=Math.max(l,n[s])}var p=u.fontSize+o.strokeThickness,c=p*f,g=e.lineSpacing;return f>1&&(c+=g*(f-1)),{width:l,height:c,lines:f,lineWidths:n,lineSpacing:g,lineHeight:p}};i.exports=$},79557:(i,$,e)=>{var u=e(27919),G=function(h){var r=u.create(this),o=r.getContext("2d",{willReadFrequently:!0});h.syncFont(r,o);var n=o.measureText(h.testString);if("actualBoundingBoxAscent"in n){var l=n.actualBoundingBoxAscent,f=n.actualBoundingBoxDescent;return u.remove(r),{ascent:l,descent:f,fontSize:l+f}}var s=Math.ceil(n.width*h.baselineX),d=s,p=2*d;d=d*h.baselineY|0,r.width=s,r.height=p,o.fillStyle="#f00",o.fillRect(0,0,s,p),o.font=h._font,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(h.testString,0,d);var c={ascent:0,descent:0,fontSize:0},g=o.getImageData(0,0,s,p);if(!g)return c.ascent=d,c.descent=d+6,c.fontSize=c.ascent+c.descent,u.remove(r),c;var j=g.data,k=j.length,tt=s*4,_,nt,it=0,rt=!1;for(_=0;_<d;_++){for(nt=0;nt<tt;nt+=4)if(j[it+nt]!==255){rt=!0;break}if(!rt)it+=tt;else break}for(c.ascent=d-_,it=k-tt,rt=!1,_=p;_>d;_--){for(nt=0;nt<tt;nt+=4)if(j[it+nt]!==255){rt=!0;break}if(!rt)it-=tt;else break}return c.descent=_-d,c.fontSize=c.ascent+c.descent,u.remove(r),c};i.exports=G},50171:(i,$,e)=>{var u=e(40366),G=e(27919),h=e(83419),r=e(31401),o=e(95643),n=e(14220),l=e(35154),f=e(35846),s=e(61771),d=e(35762),p=e(45650),c=new h({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,s],initialize:function(j,k,tt,_,nt){k===void 0&&(k=0),tt===void 0&&(tt=0),o.call(this,j,"Text"),this.renderer=j.sys.renderer,this.setPosition(k,tt),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=G.create(this),this.context,this.style=new d(this,nt),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=j.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(_),nt&&nt.padding&&this.setPadding(nt.padding),nt&&nt.lineSpacing&&this.setLineSpacing(nt.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(g){var j=this.style;if(j.wordWrapCallback){var k=j.wordWrapCallback.call(j.wordWrapCallbackScope,g,this);return Array.isArray(k)&&(k=k.join(`
`)),k}else return j.wordWrapWidth?j.wordWrapUseAdvanced?this.advancedWordWrap(g,this.context,this.style.wordWrapWidth):this.basicWordWrap(g,this.context,this.style.wordWrapWidth):g},advancedWordWrap:function(g,j,k){for(var tt="",_=g.replace(/ +/gi," ").split(this.splitRegExp),nt=_.length,it=0;it<nt;it++){var rt=_[it],st="";rt=rt.replace(/^ *|\s*$/gi,"");var at=j.measureText(rt).width;if(at<k){tt+=rt+`
`;continue}for(var ot=k,ht=rt.split(" "),dt=0;dt<ht.length;dt++){var ut=ht[dt],ft=ut+" ",gt=j.measureText(ft).width;if(gt>ot){if(dt===0){for(var xt=ft;xt.length&&(xt=xt.slice(0,-1),gt=j.measureText(xt).width,!(gt<=ot)););if(!xt.length)throw new Error("wordWrapWidth < a single character");var Et=ut.substr(xt.length);ht[dt]=Et,st+=xt}var pt=ht[dt].length?dt:dt+1,mt=ht.slice(pt).join(" ").replace(/[ \n]*$/gi,"");_.splice(it+1,0,mt),nt=_.length;break}else st+=ft,ot-=gt}tt+=st.replace(/[ \n]*$/gi,"")+`
`}return tt=tt.replace(/[\s|\n]*$/gi,""),tt},basicWordWrap:function(g,j,k){for(var tt="",_=g.split(this.splitRegExp),nt=_.length-1,it=j.measureText(" ").width,rt=0;rt<=nt;rt++){for(var st=k,at=_[rt].split(" "),ot=at.length-1,ht=0;ht<=ot;ht++){var dt=at[ht],ut=j.measureText(dt).width,ft=ut;ht<ot&&(ft+=it),ft>st&&ht>0&&(tt+=`
`,st=k),tt+=dt,ht<ot?(tt+=" ",st-=ft):st-=ut}rt<nt&&(tt+=`
`)}return tt},getWrappedText:function(g){g===void 0&&(g=this._text),this.style.syncFont(this.canvas,this.context);var j=this.runWordWrap(g);return j.split(this.splitRegExp)},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this._text&&(this._text=g.toString(),this.updateText()),this},appendText:function(g,j){j===void 0&&(j=!0),!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g=g.toString();var k=this._text.concat(j?`
`+g:g);return k!==this._text&&(this._text=k,this.updateText()),this},setStyle:function(g){return this.style.setStyle(g)},setFont:function(g){return this.style.setFont(g)},setFontFamily:function(g){return this.style.setFontFamily(g)},setFontSize:function(g){return this.style.setFontSize(g)},setFontStyle:function(g){return this.style.setFontStyle(g)},setFixedSize:function(g,j){return this.style.setFixedSize(g,j)},setBackgroundColor:function(g){return this.style.setBackgroundColor(g)},setFill:function(g){return this.style.setFill(g)},setColor:function(g){return this.style.setColor(g)},setStroke:function(g,j){return this.style.setStroke(g,j)},setShadow:function(g,j,k,tt,_,nt){return this.style.setShadow(g,j,k,tt,_,nt)},setShadowOffset:function(g,j){return this.style.setShadowOffset(g,j)},setShadowColor:function(g){return this.style.setShadowColor(g)},setShadowBlur:function(g){return this.style.setShadowBlur(g)},setShadowStroke:function(g){return this.style.setShadowStroke(g)},setShadowFill:function(g){return this.style.setShadowFill(g)},setWordWrapWidth:function(g,j){return this.style.setWordWrapWidth(g,j)},setWordWrapCallback:function(g,j){return this.style.setWordWrapCallback(g,j)},setAlign:function(g){return this.style.setAlign(g)},setResolution:function(g){return this.style.setResolution(g)},setLineSpacing:function(g){return this.lineSpacing=g,this.updateText()},setLetterSpacing:function(g){return this.letterSpacing=g,this.updateText()},setPadding:function(g,j,k,tt){if(typeof g=="object"){var _=g,nt=l(_,"x",null);nt!==null?(g=nt,k=nt):(g=l(_,"left",0),k=l(_,"right",g));var it=l(_,"y",null);it!==null?(j=it,tt=it):(j=l(_,"top",0),tt=l(_,"bottom",j))}else g===void 0&&(g=0),j===void 0&&(j=g),k===void 0&&(k=g),tt===void 0&&(tt=j);return this.padding.left=g,this.padding.top=j,this.padding.right=k,this.padding.bottom=tt,this.updateText()},setMaxLines:function(g){return this.style.setMaxLines(g)},setRTL:function(g){g===void 0&&(g=!0);var j=this.style;return j.rtl===g?this:(j.rtl=g,g?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),j.align==="left"?j.align="right":j.align==="right"&&(j.align="left"),this)},updateText:function(){var g=this.canvas,j=this.context,k=this.style,tt=k.resolution,_=k.metrics;k.syncFont(g,j);var nt=this._text;(k.wordWrapWidth||k.wordWrapCallback)&&(nt=this.runWordWrap(this._text));var it=nt.split(this.splitRegExp),rt=n(this,_,it),st=this.padding,at;k.fixedWidth===0?(this.width=rt.width+st.left+st.right,at=rt.width):(this.width=k.fixedWidth,at=this.width-st.left-st.right,at<rt.width&&(at=rt.width)),k.fixedHeight===0?this.height=rt.height+st.top+st.bottom:this.height=k.fixedHeight;var ot=this.width,ht=this.height;this.updateDisplayOrigin(),ot*=tt,ht*=tt,ot=Math.max(ot,1),ht=Math.max(ht,1),g.width!==ot||g.height!==ht?(g.width=ot,g.height=ht,this.frame.setSize(ot,ht),k.syncFont(g,j),k.rtl&&(j.direction="rtl")):j.clearRect(0,0,ot,ht),j.save(),j.scale(tt,tt),k.backgroundColor&&(j.fillStyle=k.backgroundColor,j.fillRect(0,0,ot,ht)),k.syncStyle(g,j),j.translate(st.left,st.top);for(var dt,ut,ft=0;ft<rt.lines;ft++){if(dt=k.strokeThickness/2,ut=k.strokeThickness/2+ft*rt.lineHeight+_.ascent,ft>0&&(ut+=rt.lineSpacing*ft),k.rtl)dt=ot-dt-st.left-st.right;else if(k.align==="right")dt+=at-rt.lineWidths[ft];else if(k.align==="center")dt+=(at-rt.lineWidths[ft])/2;else if(k.align==="justify"){var gt=.85;if(rt.lineWidths[ft]/rt.width>=gt){var xt=rt.width-rt.lineWidths[ft],Et=j.measureText(" ").width,pt=it[ft].trim(),mt=pt.split(" ");xt+=(it[ft].length-pt.length)*Et;for(var lt=Math.floor(xt/Et),ct=0;lt>0;)mt[ct]+=" ",ct=(ct+1)%(mt.length-1||1),--lt;it[ft]=mt.join(" ")}}if(this.autoRound&&(dt=Math.round(dt),ut=Math.round(ut)),k.strokeThickness&&(k.syncShadow(j,k.shadowStroke),j.strokeText(it[ft],dt,ut)),k.color){k.syncShadow(j,k.shadowFill);var vt=this.letterSpacing;if(vt!==0)for(var yt=0,Tt=it[ft].split(""),Ct=0;Ct<Tt.length;Ct++)j.fillText(Tt[Ct],dt+yt,ut),yt+=j.measureText(Tt[Ct]).width+vt;else j.fillText(it[ft],dt,ut)}}j.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(g,this.frame.source.glTexture,!0));var St=this.input;return St&&!St.customHitArea&&(St.hitArea.width=this.width,St.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(g){this.setText(g)}},toJSON:function(){var g=r.ToJSON(this),j={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return g.data=j,g},preDestroy:function(){f(this.canvas),G.remove(this.canvas);var g=this.texture;g&&g.destroy()}});i.exports=c},79724:i=>{var $=function(e,u,G,h){u.width===0||u.height===0||(G.addToRenderList(u),e.batchSprite(u,u.frame,G,h))};i.exports=$},71259:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(50171);G.register("text",function(o,n){o===void 0&&(o={});var l=h(o,"text",""),f=h(o,"style",null),s=h(o,"padding",null);s!==null&&(f.padding=s);var d=new r(this.scene,0,0,l,f);return n!==void 0&&(o.add=n),u(this.scene,d,o),d.autoRound=h(o,"autoRound",!0),d.resolution=h(o,"resolution",1),d})},68005:(i,$,e)=>{var u=e(50171),G=e(39429);G.register("text",function(h,r,o,n){return this.displayList.add(new u(this.scene,h,r,o,n))})},61771:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(34397),h=e(79724),i.exports={renderWebGL:G,renderCanvas:h}},35762:(i,$,e)=>{var u=e(83419),G=e(23568),h=e(35154),r=e(79557),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new u({initialize:function(f,s){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(l,f,s){f===void 0&&(f=!0),s===void 0&&(s=!1),l&&l.hasOwnProperty("fontSize")&&typeof l.fontSize=="number"&&(l.fontSize=l.fontSize.toString()+"px");for(var d in o){var p=s?o[d][1]:this[d];d==="wordWrapCallback"||d==="wordWrapCallbackScope"?this[d]=h(l,o[d][0],p):this[d]=G(l,o[d][0],p)}var c=h(l,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var g=h(l,"fill",null);g!==null&&(this.color=g);var j=h(l,"metrics",!1);return j?this.metrics={ascent:h(j,"ascent",0),descent:h(j,"descent",0),fontSize:h(j,"fontSize",0)}:(f||!this.metrics)&&(this.metrics=r(this)),f?this.parent.updateText():this.parent},syncFont:function(l,f){f.font=this._font},syncStyle:function(l,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(l,f){f?(l.shadowOffsetX=this.shadowOffsetX,l.shadowOffsetY=this.shadowOffsetY,l.shadowColor=this.shadowColor,l.shadowBlur=this.shadowBlur):(l.shadowOffsetX=0,l.shadowOffsetY=0,l.shadowColor=0,l.shadowBlur=0)},update:function(l){return l&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(l,f){f===void 0&&(f=!0);var s=l,d="",p="";if(typeof l!="string")s=h(l,"fontFamily","Courier"),d=h(l,"fontSize","16px"),p=h(l,"fontStyle","");else{var c=l.split(" "),g=0;p=c.length>2?c[g++]:"",d=c[g++]||"16px",s=c[g++]||"Courier"}return(s!==this.fontFamily||d!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=d,this.fontStyle=p,f&&this.update(!0)),this.parent},setFontFamily:function(l){return this.fontFamily!==l&&(this.fontFamily=l,this.update(!0)),this.parent},setFontStyle:function(l){return this.fontStyle!==l&&(this.fontStyle=l,this.update(!0)),this.parent},setFontSize:function(l){return typeof l=="number"&&(l=l.toString()+"px"),this.fontSize!==l&&(this.fontSize=l,this.update(!0)),this.parent},setTestString:function(l){return this.testString=l,this.update(!0)},setFixedSize:function(l,f){return this.fixedWidth=l,this.fixedHeight=f,l&&(this.parent.width=l),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(l){return this.backgroundColor=l,this.update(!1)},setFill:function(l){return this.color=l,this.update(!1)},setColor:function(l){return this.color=l,this.update(!1)},setResolution:function(l){return this.resolution=l,this.update(!1)},setStroke:function(l,f){return f===void 0&&(f=this.strokeThickness),l===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==l||this.strokeThickness!==f)&&(this.stroke=l,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(l,f,s,d,p,c){return l===void 0&&(l=0),f===void 0&&(f=0),s===void 0&&(s="#000"),d===void 0&&(d=0),p===void 0&&(p=!1),c===void 0&&(c=!0),this.shadowOffsetX=l,this.shadowOffsetY=f,this.shadowColor=s,this.shadowBlur=d,this.shadowStroke=p,this.shadowFill=c,this.update(!1)},setShadowOffset:function(l,f){return l===void 0&&(l=0),f===void 0&&(f=l),this.shadowOffsetX=l,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(l){return l===void 0&&(l="#000"),this.shadowColor=l,this.update(!1)},setShadowBlur:function(l){return l===void 0&&(l=0),this.shadowBlur=l,this.update(!1)},setShadowStroke:function(l){return this.shadowStroke=l,this.update(!1)},setShadowFill:function(l){return this.shadowFill=l,this.update(!1)},setWordWrapWidth:function(l,f){return f===void 0&&(f=!1),this.wordWrapWidth=l,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(l,f){return f===void 0&&(f=null),this.wordWrapCallback=l,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(l){return l===void 0&&(l="left"),this.align=l,this.update(!1)},setMaxLines:function(l){return l===void 0&&(l=0),this.maxLines=l,this.update(!1)},getTextMetrics:function(){var l=this.metrics;return{ascent:l.ascent,descent:l.descent,fontSize:l.fontSize}},toJSON:function(){var l={};for(var f in o)l[f]=this[f];return l.metrics=this.getTextMetrics(),l},destroy:function(){this.parent=void 0}});i.exports=n},34397:(i,$,e)=>{var u=e(70554),G=function(h,r,o,n){if(!(r.width===0||r.height===0)){o.addToRenderList(r);var l=r.frame,f=l.width,s=l.height,d=u.getTintAppendFloatAlpha,p=h.pipelines.set(r.pipeline,r),c=p.setTexture2D(l.glTexture,r);p.batchTexture(r,l.glTexture,f,s,r.x,r.y,f/r.style.resolution,s/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,f,s,d(r.tintTopLeft,o.alpha*r._alphaTL),d(r.tintTopRight,o.alpha*r._alphaTR),d(r.tintBottomLeft,o.alpha*r._alphaBL),d(r.tintBottomRight,o.alpha*r._alphaBR),r.tintFill,0,0,o,n,!1,c)}};i.exports=G},20839:(i,$,e)=>{var u=e(27919),G=e(83419),h=e(31401),r=e(95643),o=e(98439),n=e(68703),l=e(56295),f=e(45650),s=e(26099),d=8,p=new G({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,l],initialize:function(g,j,k,tt,_,nt,it){var rt=g.sys.renderer;r.call(this,g,"TileSprite");var st=g.sys.textures.get(nt),at=st.get(it);at.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),st=g.sys.textures.get("__MISSING"),at=st.get()),st.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),st=g.sys.textures.get("__MISSING"),at=st.get()),!tt||!_?(tt=at.width,_=at.height):(tt=Math.floor(tt),_=Math.floor(_)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=rt,this.canvas=u.create(this,tt,_),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=st,this.displayFrame=at,this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=g.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=o(at.width),this.potHeight=o(at.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(j,k),this.setSize(tt,_),this.setFrame(it),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,g){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(g)},setFrame:function(c){var g=this.displayTexture.get(c);return this.potWidth=o(g.width),this.potHeight=o(g.height),this.canvas.width=0,!g.cutWidth||!g.cutHeight?this.renderFlags&=~d:this.renderFlags|=d,this.displayFrame=g,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,g){return c!==void 0&&(this.tilePositionX=c),g!==void 0&&(this.tilePositionY=g),this},setTileScale:function(c,g){return c===void 0&&(c=this.tileScaleX),g===void 0&&(g=c),this.tileScaleX=c,this.tileScaleY=g,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var g=this.fillContext,j=this.fillCanvas,k=this.potWidth,tt=this.potHeight;(!this.renderer||!this.renderer.gl)&&(k=c.cutWidth,tt=c.cutHeight),g.clearRect(0,0,k,tt),j.width=k,j.height=tt,g.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,k,tt),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(j,this.fillPattern):this.fillPattern=g.createPattern(j,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var g=this.context;this.scene.sys.game.config.antialias||n.disable(g);var j=this._tileScale.x,k=this._tileScale.y,tt=this._tilePosition.x,_=this._tilePosition.y;g.clearRect(0,0,this.width,this.height),g.save(),g.scale(j,k),g.translate(-tt,-_),g.fillStyle=this.fillPattern,g.fillRect(tt,_,this.width/j,this.height/k),g.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});i.exports=p},46992:i=>{var $=function(e,u,G,h){u.updateCanvas(),G.addToRenderList(u),e.batchSprite(u,u.frame,G,h)};i.exports=$},14167:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(20839);G.register("tileSprite",function(o,n){o===void 0&&(o={});var l=h(o,"x",0),f=h(o,"y",0),s=h(o,"width",512),d=h(o,"height",512),p=h(o,"key",""),c=h(o,"frame",""),g=new r(this.scene,l,f,s,d,p,c);return n!==void 0&&(o.add=n),u(this.scene,g,o),g})},91681:(i,$,e)=>{var u=e(20839),G=e(39429);G.register("tileSprite",function(h,r,o,n,l,f){return this.displayList.add(new u(this.scene,h,r,o,n,l,f))})},56295:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(18553),h=e(46992),i.exports={renderWebGL:G,renderCanvas:h}},18553:(i,$,e)=>{var u=e(70554),G=function(h,r,o,n){r.updateCanvas();var l=r.width,f=r.height;if(!(l===0||f===0)){o.addToRenderList(r);var s=u.getTintAppendFloatAlpha,d=h.pipelines.set(r.pipeline,r),p=d.setTexture2D(r.fillPattern,r);d.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,l,f,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*l,r.originY*f,0,0,l,f,s(r.tintTopLeft,o.alpha*r._alphaTL),s(r.tintTopRight,o.alpha*r._alphaTR),s(r.tintBottomLeft,o.alpha*r._alphaBL),s(r.tintBottomRight,o.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,o,n,!1,p)}};i.exports=G},18471:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(31401),r=e(51708),o=e(8443),n=e(95643),l=e(36383),f=e(14463),s=e(45650),d=e(10247),p=new G({Extends:n,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.TextureCrop,h.Tint,h.Transform,h.Visible,d],initialize:function(g,j,k,tt){n.call(this,g,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var _=g.sys.game;this._device=_.device.video,this.setPosition(j,k),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),_.events.on(o.PAUSE,this.globalPause,this),_.events.on(o.RESUME,this.globalResume,this);var nt=g.sys.sound;nt&&nt.on(f.GLOBAL_MUTE,this.globalMute,this),tt&&this.load(tt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var g=this.scene.sys.cache.video.get(c);return g?(this.cacheKey=c,this.loadHandler(g.url,g.noAudio,g.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,g,j,k,tt){g===void 0&&(g=!0),j===void 0&&(j=!1),this.cacheKey!==c&&(this.load(c),g&&this.play(j,k,tt))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,g,j){g===void 0&&(g=!1);var k=this._device.getVideoURL(c);return k?(this.cacheKey="",this.loadHandler(k.url,g,j)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,g,j){return this.loadHandler(null,g,j,c)},loadHandler:function(c,g,j,k){g||(g=!1);var tt=this.video;if(tt?(this.removeLoadEventHandlers(),this.stop()):(tt=document.createElement("video"),tt.controls=!1,tt.setAttribute("playsinline","playsinline"),tt.setAttribute("preload","auto"),tt.setAttribute("disablePictureInPicture","true")),g?(tt.muted=!0,tt.defaultMuted=!0,tt.setAttribute("autoplay","autoplay")):(tt.muted=!1,tt.defaultMuted=!1,tt.removeAttribute("autoplay")),j?tt.setAttribute("crossorigin",j):tt.removeAttribute("crossorigin"),k)if("srcObject"in tt)try{tt.srcObject=k}catch(nt){if(nt.name!=="TypeError")throw nt;tt.src=URL.createObjectURL(k)}else tt.src=URL.createObjectURL(k);else tt.src=c;this.retry=0,this.video=tt,this._playCalled=!1,tt.load(),this.addLoadEventHandlers();var _=this.scene.sys.textures.get(this._key);return this.setTexture(_),this},requestVideoFrame:function(c,g){var j=this.video;if(j){var k=g.width,tt=g.height,_=this.videoTexture,nt=this.videoTextureSource,it=!_||nt.source!==j;it?(this._codePaused=j.paused,this._codeMuted=j.muted,_?(nt.source=j,nt.width=k,nt.height=tt,_.get().setSize(k,tt)):(_=this.scene.sys.textures.create(this._key,j,k,tt),_.add("__BASE",0,0,0,k,tt),this.setTexture(_),this.videoTexture=_,this.videoTextureSource=_.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,_)),this.setSizeToFrame(),this.updateDisplayOrigin()):nt.update(),this.isStalled=!1,this.metadata=g;var rt=g.mediaTime;it&&(this._lastUpdate=rt,this.emit(r.VIDEO_CREATED,this,k,tt),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?rt>=this._markerOut&&(j.loop?(j.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):rt<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=rt,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,g,j){g===void 0&&(g=-1),j===void 0&&(j=l.MAX_SAFE_INTEGER);var k=this.video;return!k||this.isPlaying()?(k||console.warn("Video not loaded"),this):(c===void 0&&(c=k.loop),k.loop=c,this._markerIn=g,this._markerOut=j,this._playingMarker=g>-1&&j>g&&j<l.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=k.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var g=this._callbacks;for(var j in g)c.addEventListener(j,g[j])}},removeEventHandlers:function(){var c=this.video;if(c){var g=this._callbacks;for(var j in g)c.removeEventListener(j,g[j])}},createPlayPromise:function(c){c===void 0&&(c=!0);var g=this.video,j=g.play();if(j!==void 0){var k=this.playSuccess.bind(this),tt=this.playError.bind(this);if(!c){var _=this;tt=function(){_.failedPlayAttempts++}}j.then(k).catch(tt)}else g.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,g,j){return!isNaN(g)&&g>=0&&!isNaN(j)&&j>g&&(this.markers[c]=[g,j]),this},playMarker:function(c,g){var j=this.markers[c];return j&&this.play(g,j[0],j[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,g){return c===void 0&&(c=this.width),g===void 0&&(g=this.height),this.snapshotArea(0,0,this.width,this.height,c,g)},snapshotArea:function(c,g,j,k,tt,_){c===void 0&&(c=0),g===void 0&&(g=0),j===void 0&&(j=this.width),k===void 0&&(k=this.height),tt===void 0&&(tt=j),_===void 0&&(_=k);var nt=this.video,it=this.snapshotTexture;return it?(it.setSize(tt,_),nt&&it.context.drawImage(nt,c,g,j,k,0,0,tt,_)):(it=this.scene.sys.textures.createCanvas(s(),tt,_),this.snapshotTexture=it,nt&&it.context.drawImage(nt,c,g,j,k,0,0,tt,_)),it.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var g=c.name;g==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):g==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(r.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(r.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var g=this.input;return g&&!g.customHitArea&&(g.hitArea.width=this.width,g.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(c,g){var j=this.video;!j||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=g,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var g=this.video;if(g){var j=g.duration;if(j!==1/0&&!isNaN(j)){var k=j*c;this.setCurrentTime(k)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var g=this.video;if(g){if(typeof c=="string"){var j=c[0],k=parseFloat(c.substr(1));j==="+"?c=g.currentTime+k:j==="-"&&(c=g.currentTime-k)}g.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var g=c.duration;if(g!==1/0&&!isNaN(g))return c.currentTime/g}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var g=this.video;return g&&(g.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,g){this._systemMuted=g;var j=this.video;j&&(j.muted=this._codeMuted?!0:g)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var g=this.video;return this._codePaused=c,g&&!g.ended&&(c?g.paused||(this.removeEventHandlers(),g.pause()):c||(this._playCalled?g.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=u(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,g){return g===void 0&&(g=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(g)),this._key=c,this.flipY=g,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var g=this.video;return g&&(this.removeEventHandlers(),g.cancelVideoFrameCallback(this._rfvCallbackId),g.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(o.PAUSE,this.globalPause,this),c.off(o.RESUME,this.globalResume,this);var g=this.scene.sys.sound;g&&g.off(f.GLOBAL_MUTE,this.globalMute,this)}});i.exports=p},58352:i=>{var $=function(e,u,G,h){u.videoTexture&&(G.addToRenderList(u),e.batchSprite(u,u.frame,G,h))};i.exports=$},11511:(i,$,e)=>{var u=e(25305),G=e(44603),h=e(23568),r=e(18471);G.register("video",function(o,n){o===void 0&&(o={});var l=h(o,"key",null),f=new r(this.scene,0,0,l);return n!==void 0&&(o.add=n),u(this.scene,f,o),f})},89025:(i,$,e)=>{var u=e(18471),G=e(39429);G.register("video",function(h,r,o){return this.displayList.add(new u(this.scene,h,r,o))})},10247:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(29849),h=e(58352),i.exports={renderWebGL:G,renderCanvas:h}},29849:i=>{var $=function(e,u,G,h){u.videoTexture&&(G.addToRenderList(u),u.pipeline.batchSprite(u,G,h))};i.exports=$},41481:(i,$,e)=>{var u=e(10312),G=e(96503),h=e(87902),r=e(83419),o=e(31401),n=e(95643),l=e(87841),f=e(37303),s=new r({Extends:n,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(p,c,g,j,k){j===void 0&&(j=1),k===void 0&&(k=j),n.call(this,p,"Zone"),this.setPosition(c,g),this.width=j,this.height=k,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,p,c){c===void 0&&(c=!0),this.width=d,this.height=p,this.updateDisplayOrigin();var g=this.input;return c&&g&&!g.customHitArea&&(g.hitArea.width=d,g.hitArea.height=p),this},setDisplaySize:function(d,p){return this.displayWidth=d,this.displayHeight=p,this},setCircleDropZone:function(d){return this.setDropZone(new G(0,0,d),h)},setRectangleDropZone:function(d,p){return this.setDropZone(new l(0,0,d,p),f)},setDropZone:function(d,p){return this.input||this.setInteractive(d,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(d,p,c){c.addToRenderList(p)},renderWebGL:function(d,p,c){c.addToRenderList(p)}});i.exports=s},95261:(i,$,e)=>{var u=e(44603),G=e(23568),h=e(41481);u.register("zone",function(r){var o=G(r,"x",0),n=G(r,"y",0),l=G(r,"width",1),f=G(r,"height",l);return new h(this.scene,o,n,l,f)})},84175:(i,$,e)=>{var u=e(41481),G=e(39429);G.register("zone",function(h,r,o,n){return this.displayList.add(new u(this.scene,h,r,o,n))})},95166:i=>{var $=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};i.exports=$},96503:(i,$,e)=>{var u=e(83419),G=e(87902),h=e(26241),r=e(79124),o=e(23777),n=e(28176),l=new u({initialize:function(s,d,p){s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=0),this.type=o.CIRCLE,this.x=s,this.y=d,this._radius=p,this._diameter=p*2},contains:function(f,s){return G(this,f,s)},getPoint:function(f,s){return h(this,f,s)},getPoints:function(f,s,d){return r(this,f,s,d)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,s,d){return this.x=f,this.y=s,this._radius=d,this._diameter=d*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,s){return s===void 0&&(s=f),this.x=f,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});i.exports=l},71562:i=>{var $=function(e){return 2*(Math.PI*e.radius)};i.exports=$},92110:(i,$,e)=>{var u=e(2141),G=function(h,r,o){return o===void 0&&(o=new u),o.x=h.x+h.radius*Math.cos(r),o.y=h.y+h.radius*Math.sin(r),o};i.exports=G},42250:(i,$,e)=>{var u=e(96503),G=function(h){return new u(h.x,h.y,h.radius)};i.exports=G},87902:i=>{var $=function(e,u,G){if(e.radius>0&&u>=e.left&&u<=e.right&&G>=e.top&&G<=e.bottom){var h=(e.x-u)*(e.x-u),r=(e.y-G)*(e.y-G);return h+r<=e.radius*e.radius}else return!1};i.exports=$},5698:(i,$,e)=>{var u=e(87902),G=function(h,r){return u(h,r.x,r.y)};i.exports=G},70588:(i,$,e)=>{var u=e(87902),G=function(h,r){return u(h,r.x,r.y)&&u(h,r.right,r.y)&&u(h,r.x,r.bottom)&&u(h,r.right,r.bottom)};i.exports=G},26394:i=>{var $=function(e,u){return u.setTo(e.x,e.y,e.radius)};i.exports=$},76278:i=>{var $=function(e,u){return e.x===u.x&&e.y===u.y&&e.radius===u.radius};i.exports=$},2074:(i,$,e)=>{var u=e(87841),G=function(h,r){return r===void 0&&(r=new u),r.x=h.left,r.y=h.top,r.width=h.diameter,r.height=h.diameter,r};i.exports=G},26241:(i,$,e)=>{var u=e(92110),G=e(62945),h=e(36383),r=e(2141),o=function(n,l,f){f===void 0&&(f=new r);var s=G(l,0,h.PI2);return u(n,s,f)};i.exports=o},79124:(i,$,e)=>{var u=e(71562),G=e(92110),h=e(62945),r=e(36383),o=function(n,l,f,s){s===void 0&&(s=[]),!l&&f>0&&(l=u(n)/f);for(var d=0;d<l;d++){var p=h(d/l,0,r.PI2);s.push(G(n,p))}return s};i.exports=o},50884:i=>{var $=function(e,u,G){return e.x+=u,e.y+=G,e};i.exports=$},39212:i=>{var $=function(e,u){return e.x+=u.x,e.y+=u.y,e};i.exports=$},28176:(i,$,e)=>{var u=e(2141),G=function(h,r){r===void 0&&(r=new u);var o=2*Math.PI*Math.random(),n=Math.random()+Math.random(),l=n>1?2-n:n,f=l*Math.cos(o),s=l*Math.sin(o);return r.x=h.x+f*h.radius,r.y=h.y+s*h.radius,r};i.exports=G},88911:(i,$,e)=>{var u=e(96503);u.Area=e(95166),u.Circumference=e(71562),u.CircumferencePoint=e(92110),u.Clone=e(42250),u.Contains=e(87902),u.ContainsPoint=e(5698),u.ContainsRect=e(70588),u.CopyFrom=e(26394),u.Equals=e(76278),u.GetBounds=e(2074),u.GetPoint=e(26241),u.GetPoints=e(79124),u.Offset=e(50884),u.OffsetPoint=e(39212),u.Random=e(28176),i.exports=u},23777:i=>{var $={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};i.exports=$},78874:i=>{var $=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};i.exports=$},92990:i=>{var $=function(e){var u=e.width/2,G=e.height/2,h=Math.pow(u-G,2)/Math.pow(u+G,2);return Math.PI*(u+G)*(1+3*h/(10+Math.sqrt(4-3*h)))};i.exports=$},79522:(i,$,e)=>{var u=e(2141),G=function(h,r,o){o===void 0&&(o=new u);var n=h.width/2,l=h.height/2;return o.x=h.x+n*Math.cos(r),o.y=h.y+l*Math.sin(r),o};i.exports=G},58102:(i,$,e)=>{var u=e(8497),G=function(h){return new u(h.x,h.y,h.width,h.height)};i.exports=G},81154:i=>{var $=function(e,u,G){if(e.width<=0||e.height<=0)return!1;var h=(u-e.x)/e.width,r=(G-e.y)/e.height;return h*=h,r*=r,h+r<.25};i.exports=$},46662:(i,$,e)=>{var u=e(81154),G=function(h,r){return u(h,r.x,r.y)};i.exports=G},1632:(i,$,e)=>{var u=e(81154),G=function(h,r){return u(h,r.x,r.y)&&u(h,r.right,r.y)&&u(h,r.x,r.bottom)&&u(h,r.right,r.bottom)};i.exports=G},65534:i=>{var $=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};i.exports=$},8497:(i,$,e)=>{var u=e(83419),G=e(81154),h=e(90549),r=e(48320),o=e(23777),n=e(24820),l=new u({initialize:function(s,d,p,c){s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=0),this.type=o.ELLIPSE,this.x=s,this.y=d,this.width=p,this.height=c},contains:function(f,s){return G(this,f,s)},getPoint:function(f,s){return h(this,f,s)},getPoints:function(f,s,d){return r(this,f,s,d)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,s,d,p){return this.x=f,this.y=s,this.width=d,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,s){return s===void 0&&(s=f),this.x=f,this.y=s,this},setSize:function(f,s){return s===void 0&&(s=f),this.width=f,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});i.exports=l},36146:i=>{var $=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};i.exports=$},23694:(i,$,e)=>{var u=e(87841),G=function(h,r){return r===void 0&&(r=new u),r.x=h.left,r.y=h.top,r.width=h.width,r.height=h.height,r};i.exports=G},90549:(i,$,e)=>{var u=e(79522),G=e(62945),h=e(36383),r=e(2141),o=function(n,l,f){f===void 0&&(f=new r);var s=G(l,0,h.PI2);return u(n,s,f)};i.exports=o},48320:(i,$,e)=>{var u=e(92990),G=e(79522),h=e(62945),r=e(36383),o=function(n,l,f,s){s===void 0&&(s=[]),!l&&f>0&&(l=u(n)/f);for(var d=0;d<l;d++){var p=h(d/l,0,r.PI2);s.push(G(n,p))}return s};i.exports=o},73424:i=>{var $=function(e,u,G){return e.x+=u,e.y+=G,e};i.exports=$},44808:i=>{var $=function(e,u){return e.x+=u.x,e.y+=u.y,e};i.exports=$},24820:(i,$,e)=>{var u=e(2141),G=function(h,r){r===void 0&&(r=new u);var o=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return r.x=h.x+n*Math.cos(o)*h.width/2,r.y=h.y+n*Math.sin(o)*h.height/2,r};i.exports=G},49203:(i,$,e)=>{var u=e(8497);u.Area=e(78874),u.Circumference=e(92990),u.CircumferencePoint=e(79522),u.Clone=e(58102),u.Contains=e(81154),u.ContainsPoint=e(46662),u.ContainsRect=e(1632),u.CopyFrom=e(65534),u.Equals=e(36146),u.GetBounds=e(23694),u.GetPoint=e(90549),u.GetPoints=e(48320),u.Offset=e(73424),u.OffsetPoint=e(44808),u.Random=e(24820),i.exports=u},55738:(i,$,e)=>{var u=e(23777),G=e(79291),h={Circle:e(88911),Ellipse:e(49203),Intersects:e(91865),Line:e(2529),Mesh:e(73090),Point:e(43711),Polygon:e(58423),Rectangle:e(93232),Triangle:e(84435)};h=G(!1,h,u),i.exports=h},2044:(i,$,e)=>{var u=e(20339),G=function(h,r){return u(h.x,h.y,r.x,r.y)<=h.radius+r.radius};i.exports=G},81491:i=>{var $=function(e,u){var G=u.width/2,h=u.height/2,r=Math.abs(e.x-u.x-G),o=Math.abs(e.y-u.y-h),n=G+e.radius,l=h+e.radius;if(r>n||o>l)return!1;if(r<=G||o<=h)return!0;var f=r-G,s=o-h,d=f*f,p=s*s,c=e.radius*e.radius;return d+p<=c};i.exports=$},63376:(i,$,e)=>{var u=e(2141),G=e(2044),h=function(r,o,n){if(n===void 0&&(n=[]),G(r,o)){var l=r.x,f=r.y,s=r.radius,d=o.x,p=o.y,c=o.radius,g,j,k,tt,_;if(f===p)_=(c*c-s*s-d*d+l*l)/(2*(l-d)),g=1,j=-2*p,k=d*d+_*_-2*d*_+p*p-c*c,tt=j*j-4*g*k,tt===0?n.push(new u(_,-j/(2*g))):tt>0&&(n.push(new u(_,(-j+Math.sqrt(tt))/(2*g))),n.push(new u(_,(-j-Math.sqrt(tt))/(2*g))));else{var nt=(l-d)/(f-p),it=(c*c-s*s-d*d+l*l-p*p+f*f)/(2*(f-p));g=nt*nt+1,j=2*f*nt-2*it*nt-2*l,k=l*l+f*f+it*it-s*s-2*f*it,tt=j*j-4*g*k,tt===0?(_=-j/(2*g),n.push(new u(_,it-_*nt))):tt>0&&(_=(-j+Math.sqrt(tt))/(2*g),n.push(new u(_,it-_*nt)),_=(-j-Math.sqrt(tt))/(2*g),n.push(new u(_,it-_*nt)))}}return n};i.exports=h},97439:(i,$,e)=>{var u=e(4042),G=e(81491),h=function(r,o,n){if(n===void 0&&(n=[]),G(r,o)){var l=o.getLineA(),f=o.getLineB(),s=o.getLineC(),d=o.getLineD();u(l,r,n),u(f,r,n),u(s,r,n),u(d,r,n)}return n};i.exports=h},4042:(i,$,e)=>{var u=e(2141),G=e(80462),h=function(r,o,n){if(n===void 0&&(n=[]),G(r,o)){var l=r.x1,f=r.y1,s=r.x2,d=r.y2,p=o.x,c=o.y,g=o.radius,j=s-l,k=d-f,tt=l-p,_=f-c,nt=j*j+k*k,it=2*(j*tt+k*_),rt=tt*tt+_*_-g*g,st=it*it-4*nt*rt,at,ot;if(st===0){var ht=-it/(2*nt);at=l+ht*j,ot=f+ht*k,ht>=0&&ht<=1&&n.push(new u(at,ot))}else if(st>0){var dt=(-it-Math.sqrt(st))/(2*nt);at=l+dt*j,ot=f+dt*k,dt>=0&&dt<=1&&n.push(new u(at,ot));var ut=(-it+Math.sqrt(st))/(2*nt);at=l+ut*j,ot=f+ut*k,ut>=0&&ut<=1&&n.push(new u(at,ot))}}return n};i.exports=h},36100:(i,$,e)=>{var u=e(25836),G=function(h,r,o,n){o===void 0&&(o=!1);var l=h.x1,f=h.y1,s=h.x2,d=h.y2,p=r.x1,c=r.y1,g=r.x2,j=r.y2,k=s-l,tt=d-f,_=g-p,nt=j-c,it=k*nt-tt*_;if(it===0)return null;var rt,st,at;if(o){if(rt=(k*(c-f)+tt*(l-p))/(_*tt-nt*k),st=(p+_*rt-l)/k,st<0||rt<0||rt>1)return null;at=st}else{if(rt=((p-l)*nt-(c-f)*_)/it,st=((f-c)*k-(l-p)*tt)/it,rt<0||rt>1||st<0||st>1)return null;at=rt}return n===void 0&&(n=new u),n.set(l+k*at,f+tt*at,at)};i.exports=G},3073:(i,$,e)=>{var u=e(36100),G=e(23031),h=e(25836),r=new G,o=new h,n=function(l,f,s,d){s===void 0&&(s=!1),d===void 0&&(d=new h);var p=!1;d.set(),o.set();for(var c=f[f.length-1],g=0;g<f.length;g++){var j=f[g];r.setTo(c.x,c.y,j.x,j.y),c=j,u(l,r,s,o)&&(!p||o.z<d.z)&&(d.copy(o),p=!0)}return p?d:null};i.exports=n},56362:(i,$,e)=>{var u=e(25836),G=e(61369),h=e(3073),r=new u,o=function(n,l,f,s){s===void 0&&(s=new G),Array.isArray(l)||(l=[l]);var d=!1;s.set(),r.set();for(var p=0;p<l.length;p++)h(n,l[p].points,f,r)&&(!d||r.z<s.z)&&(s.set(r.x,r.y,r.z,p),d=!0);return d?s:null};i.exports=o},60646:(i,$,e)=>{var u=e(2141),G=e(76112),h=e(92773),r=function(o,n,l){if(l===void 0&&(l=[]),h(o,n))for(var f=n.getLineA(),s=n.getLineB(),d=n.getLineC(),p=n.getLineD(),c=[new u,new u,new u,new u],g=[G(f,o,c[0]),G(s,o,c[1]),G(d,o,c[2]),G(p,o,c[3])],j=0;j<4;j++)g[j]&&l.push(c[j]);return l};i.exports=r},71147:(i,$,e)=>{var u=e(61369),G=e(56362),h=e(23031),r=new h;function o(f,s,d,p,c){var g=Math.cos(f),j=Math.sin(f);r.setTo(s,d,s+g,d+j);var k=G(r,p,!0);k&&c.push(new u(k.x,k.y,f,k.w))}function n(f,s){return f.z-s.z}var l=function(f,s,d){Array.isArray(d)||(d=[d]);for(var p=[],c=[],g=0;g<d.length;g++)for(var j=d[g].points,k=0;k<j.length;k++){var tt=Math.atan2(j[k].y-s,j[k].x-f);c.indexOf(tt)===-1&&(o(tt,f,s,d,p),o(tt-1e-5,f,s,d,p),o(tt+1e-5,f,s,d,p),c.push(tt))}return p.sort(n)};i.exports=l},68389:(i,$,e)=>{var u=e(87841),G=e(59996),h=function(r,o,n){return n===void 0&&(n=new u),G(r,o)&&(n.x=Math.max(r.x,o.x),n.y=Math.max(r.y,o.y),n.width=Math.min(r.right,o.right)-n.x,n.height=Math.min(r.bottom,o.bottom)-n.y),n};i.exports=h},52784:(i,$,e)=>{var u=e(60646),G=e(59996),h=function(r,o,n){if(n===void 0&&(n=[]),G(r,o)){var l=r.getLineA(),f=r.getLineB(),s=r.getLineC(),d=r.getLineD();u(l,o,n),u(f,o,n),u(s,o,n),u(d,o,n)}return n};i.exports=h},26341:(i,$,e)=>{var u=e(89265),G=e(60646),h=function(r,o,n){if(n===void 0&&(n=[]),u(r,o)){var l=o.getLineA(),f=o.getLineB(),s=o.getLineC();G(l,r,n),G(f,r,n),G(s,r,n)}return n};i.exports=h},38720:(i,$,e)=>{var u=e(4042),G=e(67636),h=function(r,o,n){if(n===void 0&&(n=[]),G(r,o)){var l=r.getLineA(),f=r.getLineB(),s=r.getLineC();u(l,o,n),u(f,o,n),u(s,o,n)}return n};i.exports=h},13882:(i,$,e)=>{var u=e(2141),G=e(2822),h=e(76112),r=function(o,n,l){if(l===void 0&&(l=[]),G(o,n))for(var f=o.getLineA(),s=o.getLineB(),d=o.getLineC(),p=[new u,new u,new u],c=[h(f,n,p[0]),h(s,n,p[1]),h(d,n,p[2])],g=0;g<3;g++)c[g]&&l.push(p[g]);return l};i.exports=r},75636:(i,$,e)=>{var u=e(82944),G=e(13882),h=function(r,o,n){if(n===void 0&&(n=[]),u(r,o)){var l=o.getLineA(),f=o.getLineB(),s=o.getLineC();G(r,l,n),G(r,f,n),G(r,s,n)}return n};i.exports=h},80462:(i,$,e)=>{var u=e(87902),G=e(2141),h=new G,r=function(o,n,l){if(l===void 0&&(l=h),u(n,o.x1,o.y1))return l.x=o.x1,l.y=o.y1,!0;if(u(n,o.x2,o.y2))return l.x=o.x2,l.y=o.y2,!0;var f=o.x2-o.x1,s=o.y2-o.y1,d=n.x-o.x1,p=n.y-o.y1,c=f*f+s*s,g=f,j=s;if(c>0){var k=(d*f+p*s)/c;g*=k,j*=k}l.x=o.x1+g,l.y=o.y1+j;var tt=g*g+j*j;return tt<=c&&g*f+j*s>=0&&u(n,l.x,l.y)};i.exports=r},76112:i=>{var $=function(e,u,G){var h=e.x1,r=e.y1,o=e.x2,n=e.y2,l=u.x1,f=u.y1,s=u.x2,d=u.y2;if(h===o&&r===n||l===s&&f===d)return!1;var p=(d-f)*(o-h)-(s-l)*(n-r);if(p===0)return!1;var c=((s-l)*(r-f)-(d-f)*(h-l))/p,g=((o-h)*(r-f)-(n-r)*(h-l))/p;return c<0||c>1||g<0||g>1?!1:(G&&(G.x=h+c*(o-h),G.y=r+c*(n-r)),!0)};i.exports=$},92773:i=>{var $=function(e,u){var G=e.x1,h=e.y1,r=e.x2,o=e.y2,n=u.x,l=u.y,f=u.right,s=u.bottom,d=0;if(G>=n&&G<=f&&h>=l&&h<=s||r>=n&&r<=f&&o>=l&&o<=s)return!0;if(G<n&&r>=n){if(d=h+(o-h)*(n-G)/(r-G),d>l&&d<=s)return!0}else if(G>f&&r<=f&&(d=h+(o-h)*(f-G)/(r-G),d>=l&&d<=s))return!0;if(h<l&&o>=l){if(d=G+(r-G)*(l-h)/(o-h),d>=n&&d<=f)return!0}else if(h>s&&o<=s&&(d=G+(r-G)*(s-h)/(o-h),d>=n&&d<=f))return!0;return!1};i.exports=$},16204:i=>{var $=function(e,u,G){G===void 0&&(G=1);var h=u.x1,r=u.y1,o=u.x2,n=u.y2,l=e.x,f=e.y,s=(o-h)*(o-h)+(n-r)*(n-r);if(s===0)return!1;var d=((l-h)*(o-h)+(f-r)*(n-r))/s;if(d<0)return Math.sqrt((h-l)*(h-l)+(r-f)*(r-f))<=G;if(d>=0&&d<=1){var p=((r-f)*(o-h)-(h-l)*(n-r))/s;return Math.abs(p)*Math.sqrt(s)<=G}else return Math.sqrt((o-l)*(o-l)+(n-f)*(n-f))<=G};i.exports=$},14199:(i,$,e)=>{var u=e(16204),G=function(h,r){if(!u(h,r))return!1;var o=Math.min(r.x1,r.x2),n=Math.max(r.x1,r.x2),l=Math.min(r.y1,r.y2),f=Math.max(r.y1,r.y2);return h.x>=o&&h.x<=n&&h.y>=l&&h.y<=f};i.exports=G},59996:i=>{var $=function(e,u){return e.width<=0||e.height<=0||u.width<=0||u.height<=0?!1:!(e.right<u.x||e.bottom<u.y||e.x>u.right||e.y>u.bottom)};i.exports=$},89265:(i,$,e)=>{var u=e(76112),G=e(37303),h=e(48653),r=e(77493),o=function(n,l){if(l.left>n.right||l.right<n.left||l.top>n.bottom||l.bottom<n.top)return!1;var f=l.getLineA(),s=l.getLineB(),d=l.getLineC();if(G(n,f.x1,f.y1)||G(n,f.x2,f.y2)||G(n,s.x1,s.y1)||G(n,s.x2,s.y2)||G(n,d.x1,d.y1)||G(n,d.x2,d.y2))return!0;var p=n.getLineA(),c=n.getLineB(),g=n.getLineC(),j=n.getLineD();if(u(f,p)||u(f,c)||u(f,g)||u(f,j)||u(s,p)||u(s,c)||u(s,g)||u(s,j)||u(d,p)||u(d,c)||u(d,g)||u(d,j))return!0;var k=r(n),tt=h(l,k,!0);return tt.length>0};i.exports=o},84411:i=>{var $=function(e,u,G,h,r,o){return o===void 0&&(o=0),!(u>e.right+o||G<e.left-o||h>e.bottom+o||r<e.top-o)};i.exports=$},67636:(i,$,e)=>{var u=e(80462),G=e(10690),h=function(r,o){return r.left>o.right||r.right<o.left||r.top>o.bottom||r.bottom<o.top?!1:!!(G(r,o.x,o.y)||u(r.getLineA(),o)||u(r.getLineB(),o)||u(r.getLineC(),o))};i.exports=h},2822:(i,$,e)=>{var u=e(76112),G=function(h,r){return!!(h.contains(r.x1,r.y1)||h.contains(r.x2,r.y2)||u(h.getLineA(),r)||u(h.getLineB(),r)||u(h.getLineC(),r))};i.exports=G},82944:(i,$,e)=>{var u=e(48653),G=e(71694),h=e(76112),r=function(o,n){if(o.left>n.right||o.right<n.left||o.top>n.bottom||o.bottom<n.top)return!1;var l=o.getLineA(),f=o.getLineB(),s=o.getLineC(),d=n.getLineA(),p=n.getLineB(),c=n.getLineC();if(h(l,d)||h(l,p)||h(l,c)||h(f,d)||h(f,p)||h(f,c)||h(s,d)||h(s,p)||h(s,c))return!0;var g=G(o),j=u(n,g,!0);return j.length>0||(g=G(n),j=u(o,g,!0),j.length>0)};i.exports=r},91865:(i,$,e)=>{i.exports={CircleToCircle:e(2044),CircleToRectangle:e(81491),GetCircleToCircle:e(63376),GetCircleToRectangle:e(97439),GetLineToCircle:e(4042),GetLineToLine:e(36100),GetLineToPoints:e(3073),GetLineToPolygon:e(56362),GetLineToRectangle:e(60646),GetRaysFromPointToPolygon:e(71147),GetRectangleIntersection:e(68389),GetRectangleToRectangle:e(52784),GetRectangleToTriangle:e(26341),GetTriangleToCircle:e(38720),GetTriangleToLine:e(13882),GetTriangleToTriangle:e(75636),LineToCircle:e(80462),LineToLine:e(76112),LineToRectangle:e(92773),PointToLine:e(16204),PointToLineSegment:e(14199),RectangleToRectangle:e(59996),RectangleToTriangle:e(89265),RectangleToValues:e(84411),TriangleToCircle:e(67636),TriangleToLine:e(2822),TriangleToTriangle:e(82944)}},91938:i=>{var $=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};i.exports=$},84993:i=>{var $=function(e,u,G){u===void 0&&(u=1),G===void 0&&(G=[]);var h=Math.round(e.x1),r=Math.round(e.y1),o=Math.round(e.x2),n=Math.round(e.y2),l=Math.abs(o-h),f=Math.abs(n-r),s=h<o?1:-1,d=r<n?1:-1,p=l-f;G.push({x:h,y:r});for(var c=1;!(h===o&&r===n);){var g=p<<1;g>-f&&(p-=f,h+=s),g<l&&(p+=l,r+=d),c%u===0&&G.push({x:h,y:r}),c++}return G};i.exports=$},36469:i=>{var $=function(e,u,G){var h=u-(e.x1+e.x2)/2,r=G-(e.y1+e.y2)/2;return e.x1+=h,e.y1+=r,e.x2+=h,e.y2+=r,e};i.exports=$},31116:(i,$,e)=>{var u=e(23031),G=function(h){return new u(h.x1,h.y1,h.x2,h.y2)};i.exports=G},59944:i=>{var $=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2)};i.exports=$},59220:i=>{var $=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2};i.exports=$},78177:(i,$,e)=>{var u=e(35001),G=function(h,r,o){o===void 0&&(o=r);var n=u(h),l=h.x2-h.x1,f=h.y2-h.y1;return r&&(h.x1=h.x1-l/n*r,h.y1=h.y1-f/n*r),o&&(h.x2=h.x2+l/n*o,h.y2=h.y2+f/n*o),h};i.exports=G},26708:(i,$,e)=>{var u=e(52816),G=e(6113),h=e(2141),r=function(o,n,l,f,s){f===void 0&&(f=0),s===void 0&&(s=[]);var d=[],p=o.x1,c=o.y1,g=o.x2-p,j=o.y2-c,k=G(n,s),tt,_,nt=l-1;for(tt=0;tt<nt;tt++)_=k(tt/nt),d.push(new h(p+g*_,c+j*_));if(_=k(1),d.push(new h(p+g*_,c+j*_)),f>0){var it=d[0],rt=[it];for(tt=1;tt<d.length-1;tt++){var st=d[tt];u(it,st)>=f&&(rt.push(st),it=st)}var at=d[d.length-1];return u(it,at)<f&&rt.pop(),rt.push(at),rt}else return d};i.exports=r},32125:(i,$,e)=>{var u=e(2141),G=function(h,r){return r===void 0&&(r=new u),r.x=(h.x1+h.x2)/2,r.y=(h.y1+h.y2)/2,r};i.exports=G},99569:(i,$,e)=>{var u=e(2141),G=function(h,r,o){o===void 0&&(o=new u);var n=h.x1,l=h.y1,f=h.x2,s=h.y2,d=(f-n)*(f-n)+(s-l)*(s-l);if(d===0)return o;var p=((r.x-n)*(f-n)+(r.y-l)*(s-l))/d;return o.x=n+p*(f-n),o.y=l+p*(s-l),o};i.exports=G},34638:(i,$,e)=>{var u=e(36383),G=e(91938),h=e(2141),r=function(o,n){n===void 0&&(n=new h);var l=G(o)-u.TAU;return n.x=Math.cos(l),n.y=Math.sin(l),n};i.exports=r},13151:(i,$,e)=>{var u=e(2141),G=function(h,r,o){return o===void 0&&(o=new u),o.x=h.x1+(h.x2-h.x1)*r,o.y=h.y1+(h.y2-h.y1)*r,o};i.exports=G},15258:(i,$,e)=>{var u=e(35001),G=e(2141),h=function(r,o,n,l){l===void 0&&(l=[]),!o&&n>0&&(o=u(r)/n);for(var f=r.x1,s=r.y1,d=r.x2,p=r.y2,c=0;c<o;c++){var g=c/o,j=f+(d-f)*g,k=s+(p-s)*g;l.push(new G(j,k))}return l};i.exports=h},26408:i=>{var $=function(e,u){var G=e.x1,h=e.y1,r=e.x2,o=e.y2,n=(r-G)*(r-G)+(o-h)*(o-h);if(n===0)return!1;var l=((h-u.y)*(r-G)-(G-u.x)*(o-h))/n;return Math.abs(l)*Math.sqrt(n)};i.exports=$},98770:i=>{var $=function(e){return Math.abs(e.y1-e.y2)};i.exports=$},35001:i=>{var $=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};i.exports=$},23031:(i,$,e)=>{var u=e(83419),G=e(13151),h=e(15258),r=e(23777),o=e(65822),n=e(26099),l=new u({initialize:function(s,d,p,c){s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=0),this.type=r.LINE,this.x1=s,this.y1=d,this.x2=p,this.y2=c},getPoint:function(f,s){return G(this,f,s)},getPoints:function(f,s,d){return h(this,f,s,d)},getRandomPoint:function(f){return o(this,f)},setTo:function(f,s,d,p){return f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=f,this.y1=s,this.x2=d,this.y2=p,this},setFromObjects:function(f,s){return this.x1=f.x,this.y1=f.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(f){return f===void 0&&(f=new n),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new n),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});i.exports=l},64795:(i,$,e)=>{var u=e(36383),G=e(15994),h=e(91938),r=function(o){var n=h(o)-u.TAU;return G(n,-Math.PI,Math.PI)};i.exports=r},52616:(i,$,e)=>{var u=e(36383),G=e(91938),h=function(r){return Math.cos(G(r)-u.TAU)};i.exports=h},87231:(i,$,e)=>{var u=e(36383),G=e(91938),h=function(r){return Math.sin(G(r)-u.TAU)};i.exports=h},89662:i=>{var $=function(e,u,G){return e.x1+=u,e.y1+=G,e.x2+=u,e.y2+=G,e};i.exports=$},71165:i=>{var $=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};i.exports=$},65822:(i,$,e)=>{var u=e(2141),G=function(h,r){r===void 0&&(r=new u);var o=Math.random();return r.x=h.x1+o*(h.x2-h.x1),r.y=h.y1+o*(h.y2-h.y1),r};i.exports=G},69777:(i,$,e)=>{var u=e(91938),G=e(64795),h=function(r,o){return 2*G(o)-Math.PI-u(r)};i.exports=h},39706:(i,$,e)=>{var u=e(64400),G=function(h,r){var o=(h.x1+h.x2)/2,n=(h.y1+h.y2)/2;return u(h,o,n,r)};i.exports=G},82585:(i,$,e)=>{var u=e(64400),G=function(h,r,o){return u(h,r.x,r.y,o)};i.exports=G},64400:i=>{var $=function(e,u,G,h){var r=Math.cos(h),o=Math.sin(h),n=e.x1-u,l=e.y1-G;return e.x1=n*r-l*o+u,e.y1=n*o+l*r+G,n=e.x2-u,l=e.y2-G,e.x2=n*r-l*o+u,e.y2=n*o+l*r+G,e};i.exports=$},62377:i=>{var $=function(e,u,G,h,r){return e.x1=u,e.y1=G,e.x2=u+Math.cos(h)*r,e.y2=G+Math.sin(h)*r,e};i.exports=$},71366:i=>{var $=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};i.exports=$},10809:i=>{var $=function(e){return Math.abs(e.x1-e.x2)};i.exports=$},2529:(i,$,e)=>{var u=e(23031);u.Angle=e(91938),u.BresenhamPoints=e(84993),u.CenterOn=e(36469),u.Clone=e(31116),u.CopyFrom=e(59944),u.Equals=e(59220),u.Extend=e(78177),u.GetEasedPoints=e(26708),u.GetMidPoint=e(32125),u.GetNearestPoint=e(99569),u.GetNormal=e(34638),u.GetPoint=e(13151),u.GetPoints=e(15258),u.GetShortestDistance=e(26408),u.Height=e(98770),u.Length=e(35001),u.NormalAngle=e(64795),u.NormalX=e(52616),u.NormalY=e(87231),u.Offset=e(89662),u.PerpSlope=e(71165),u.Random=e(65822),u.ReflectAngle=e(69777),u.Rotate=e(39706),u.RotateAroundPoint=e(82585),u.RotateAroundXY=e(64400),u.SetToAngle=e(62377),u.Slope=e(71366),u.Width=e(10809),i.exports=u},83997:(i,$,e)=>{var u=e(83419),G=e(87841),h=e(26099);function r(n,l,f,s){var d=n-f,p=l-s,c=d*d+p*p;return Math.sqrt(c)}var o=new u({initialize:function(l,f,s){this.vertex1=l,this.vertex2=f,this.vertex3=s,this.bounds=new G,this._inCenter=new h},getInCenter:function(n){n===void 0&&(n=!0);var l=this.vertex1,f=this.vertex2,s=this.vertex3,d,p,c,g,j,k;n?(d=l.x,p=l.y,c=f.x,g=f.y,j=s.x,k=s.y):(d=l.vx,p=l.vy,c=f.vx,g=f.vy,j=s.vx,k=s.vy);var tt=r(j,k,c,g),_=r(d,p,j,k),nt=r(c,g,d,p),it=tt+_+nt;return this._inCenter.set((d*tt+c*_+j*nt)/it,(p*tt+g*_+k*nt)/it)},contains:function(n,l,f){var s=this.vertex1,d=this.vertex2,p=this.vertex3,c=s.vx,g=s.vy,j=d.vx,k=d.vy,tt=p.vx,_=p.vy;if(f){var nt=f.a,it=f.b,rt=f.c,st=f.d,at=f.e,ot=f.f;c=s.vx*nt+s.vy*rt+at,g=s.vx*it+s.vy*st+ot,j=d.vx*nt+d.vy*rt+at,k=d.vx*it+d.vy*st+ot,tt=p.vx*nt+p.vy*rt+at,_=p.vx*it+p.vy*st+ot}var ht=tt-c,dt=_-g,ut=j-c,ft=k-g,gt=n-c,xt=l-g,Et=ht*ht+dt*dt,pt=ht*ut+dt*ft,mt=ht*gt+dt*xt,lt=ut*ut+ft*ft,ct=ut*gt+ft*xt,vt=Et*lt-pt*pt,yt=vt===0?0:1/vt,Tt=(lt*mt-pt*ct)*yt,Ct=(Et*ct-pt*mt)*yt;return Tt>=0&&Ct>=0&&Tt+Ct<1},isCounterClockwise:function(n){var l=this.vertex1,f=this.vertex2,s=this.vertex3,d=(f.vx-l.vx)*(s.vy-l.vy)-(f.vy-l.vy)*(s.vx-l.vx);return n<=0?d>=0:d<0},load:function(n,l,f,s,d){return f=this.vertex1.load(n,l,f,s,d),f=this.vertex2.load(n,l,f,s,d),f=this.vertex3.load(n,l,f,s,d),f},transformCoordinatesLocal:function(n,l,f,s){return this.vertex1.transformCoordinatesLocal(n,l,f,s),this.vertex2.transformCoordinatesLocal(n,l,f,s),this.vertex3.transformCoordinatesLocal(n,l,f,s),this},updateBounds:function(){var n=this.vertex1,l=this.vertex2,f=this.vertex3,s=this.bounds;return s.x=Math.min(n.vx,l.vx,f.vx),s.y=Math.min(n.vy,l.vy,f.vy),s.width=Math.max(n.vx,l.vx,f.vx)-s.x,s.height=Math.max(n.vy,l.vy,f.vy)-s.y,this},isInView:function(n,l,f,s,d,p,c,g,j,k,tt){this.update(s,d,p,c,g,j,k,tt);var _=this.vertex1,nt=this.vertex2,it=this.vertex3;if(_.ta<=0&&nt.ta<=0&&it.ta<=0||l&&!this.isCounterClockwise(f))return!1;var rt=this.bounds;rt.x=Math.min(_.tx,nt.tx,it.tx),rt.y=Math.min(_.ty,nt.ty,it.ty),rt.width=Math.max(_.tx,nt.tx,it.tx)-rt.x,rt.height=Math.max(_.ty,nt.ty,it.ty)-rt.y;var st=n.x+n.width,at=n.y+n.height;return rt.width<=0||rt.height<=0||n.width<=0||n.height<=0?!1:!(rt.right<n.x||rt.bottom<n.y||rt.x>st||rt.y>at)},scrollUV:function(n,l){return this.vertex1.scrollUV(n,l),this.vertex2.scrollUV(n,l),this.vertex3.scrollUV(n,l),this},scaleUV:function(n,l){return this.vertex1.scaleUV(n,l),this.vertex2.scaleUV(n,l),this.vertex3.scaleUV(n,l),this},setColor:function(n){return this.vertex1.color=n,this.vertex2.color=n,this.vertex3.color=n,this},update:function(n,l,f,s,d,p,c,g){return this.vertex1.update(l,f,s,d,p,c,g,n),this.vertex2.update(l,f,s,d,p,c,g,n),this.vertex3.update(l,f,s,d,p,c,g,n),this},translate:function(n,l){l===void 0&&(l=0);var f=this.vertex1,s=this.vertex2,d=this.vertex3;return f.x+=n,f.y+=l,s.x+=n,s.y+=l,d.x+=n,d.y+=l,this},x:{get:function(){return this.getInCenter().x},set:function(n){var l=this.getInCenter();this.translate(n-l.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var l=this.getInCenter();this.translate(0,n-l.y)}},alpha:{get:function(){var n=this.vertex1,l=this.vertex2,f=this.vertex3;return(n.alpha+l.alpha+f.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,l=this.vertex2,f=this.vertex3;return(n.vz+l.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});i.exports=o},48803:(i,$,e)=>{var u=e(83997),G=e(95540),h=e(37867),r=e(25836),o=e(39318),n=new r,l=new r,f=new h,s=function(d){var p=G(d,"mesh"),c=G(d,"texture",null),g=G(d,"frame"),j=G(d,"width",1),k=G(d,"height",j),tt=G(d,"widthSegments",1),_=G(d,"heightSegments",tt),nt=G(d,"x",0),it=G(d,"y",0),rt=G(d,"z",0),st=G(d,"rotateX",0),at=G(d,"rotateY",0),ot=G(d,"rotateZ",0),ht=G(d,"zIsUp",!0),dt=G(d,"isOrtho",p?p.dirtyCache[11]:!1),ut=G(d,"colors",[16777215]),ft=G(d,"alphas",[1]),gt=G(d,"tile",!1),xt=G(d,"flipY",!1),Et=G(d,"width",null),pt={faces:[],verts:[]};n.set(nt,it,rt),l.set(st,at,ot),f.fromRotationXYTranslation(l,n,ht);var mt;if(!c&&p)c=p.texture,g||(mt=p.frame);else if(p&&typeof c=="string")c=p.scene.sys.textures.get(c);else if(!c)return pt;mt||(mt=c.get(g)),!Et&&dt&&c&&p&&(j=mt.width/p.height,k=mt.height/p.height);var lt=j/2,ct=k/2,vt=Math.floor(tt),yt=Math.floor(_),Tt=vt+1,Ct=yt+1,St=j/vt,Dt=k/yt,Mt=[],At=[],wt,It,Pt=0,Ot=1,bt=0,Vt=1;mt&&(Pt=mt.u0,Ot=mt.u1,xt?(bt=mt.v1,Vt=mt.v0):(bt=mt.v0,Vt=mt.v1));var Ut=Ot-Pt,Ft=Vt-bt;for(It=0;It<Ct;It++){var Nt=It*Dt-ct;for(wt=0;wt<Tt;wt++){var Lt=wt*St-lt;At.push(Lt,-Nt);var kt=Pt+Ut*(wt/vt),Kt=bt+Ft*(It/yt);Mt.push(kt,Kt)}}Array.isArray(ut)||(ut=[ut]),Array.isArray(ft)||(ft=[ft]);var Ue=0,Ne=0;for(It=0;It<yt;It++)for(wt=0;wt<vt;wt++){var Se=(wt+Tt*It)*2,Jt=(wt+Tt*(It+1))*2,Ve=(wt+1+Tt*(It+1))*2,Oe=(wt+1+Tt*It)*2,Qe=ut[Ne],tn=ft[Ue],fn=new o(At[Se],At[Se+1],0,Mt[Se],Mt[Se+1],Qe,tn).transformMat4(f),Ei=new o(At[Jt],At[Jt+1],0,Mt[Jt],Mt[Jt+1],Qe,tn).transformMat4(f),Ci=new o(At[Oe],At[Oe+1],0,Mt[Oe],Mt[Oe+1],Qe,tn).transformMat4(f),Si=new o(At[Jt],At[Jt+1],0,Mt[Jt],Mt[Jt+1],Qe,tn).transformMat4(f),Di=new o(At[Ve],At[Ve+1],0,Mt[Ve],Mt[Ve+1],Qe,tn).transformMat4(f),Mi=new o(At[Oe],At[Oe+1],0,Mt[Oe],Mt[Oe+1],Qe,tn).transformMat4(f);gt&&(fn.setUVs(Pt,Vt),Ei.setUVs(Pt,bt),Ci.setUVs(Ot,Vt),Si.setUVs(Pt,bt),Di.setUVs(Ot,bt),Mi.setUVs(Ot,Vt)),Ne++,Ne===ut.length&&(Ne=0),Ue++,Ue===ft.length&&(Ue=0),pt.verts.push(fn,Ei,Ci,Si,Di,Mi),pt.faces.push(new u(fn,Ei,Ci),new u(Si,Di,Mi))}return p&&(p.faces=p.faces.concat(pt.faces),p.vertices=p.vertices.concat(pt.verts)),pt};i.exports=s},34684:(i,$,e)=>{var u=e(83997),G=e(37867),h=e(25836),r=e(39318),o=new h,n=new h,l=new G,f=function(s,d,p,c,g,j,k,tt,_,nt){p===void 0&&(p=1),c===void 0&&(c=0),g===void 0&&(g=0),j===void 0&&(j=0),k===void 0&&(k=0),tt===void 0&&(tt=0),_===void 0&&(_=0),nt===void 0&&(nt=!0);var it={faces:[],verts:[]},rt=s.materials;o.set(c,g,j),n.set(k,tt,_),l.fromRotationXYTranslation(n,o,nt);for(var st=0;st<s.models.length;st++)for(var at=s.models[st],ot=at.vertices,ht=at.textureCoords,dt=at.faces,ut=0;ut<dt.length;ut++){var ft=dt[ut],gt=ft.vertices[0],xt=ft.vertices[1],Et=ft.vertices[2],pt=ot[gt.vertexIndex],mt=ot[xt.vertexIndex],lt=ot[Et.vertexIndex],ct=gt.textureCoordsIndex,vt=xt.textureCoordsIndex,yt=Et.textureCoordsIndex,Tt=ct===-1?{u:0,v:1}:ht[ct],Ct=vt===-1?{u:0,v:0}:ht[vt],St=yt===-1?{u:1,v:1}:ht[yt],Dt=16777215;ft.material!==""&&rt[ft.material]&&(Dt=rt[ft.material]);var Mt=new r(pt.x*p,pt.y*p,pt.z*p,Tt.u,Tt.v,Dt).transformMat4(l),At=new r(mt.x*p,mt.y*p,mt.z*p,Ct.u,Ct.v,Dt).transformMat4(l),wt=new r(lt.x*p,lt.y*p,lt.z*p,St.u,St.v,Dt).transformMat4(l);it.verts.push(Mt,At,wt),it.faces.push(new u(Mt,At,wt))}return d&&(d.faces=d.faces.concat(it.faces),d.vertices=d.vertices.concat(it.verts)),it};i.exports=f},92515:(i,$,e)=>{var u=e(83997),G=e(39318),h=function(r,o,n,l,f,s,d,p){if(l===void 0&&(l=!1),s===void 0&&(s=16777215),d===void 0&&(d=1),p===void 0&&(p=!1),r.length!==o.length&&!l){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},g,j,k,tt,_,nt,it,rt,st,at,ot,ht=l?3:2,dt=Array.isArray(s),ut=Array.isArray(d);if(Array.isArray(n)&&n.length>0)for(g=0;g<n.length;g++){var ft=n[g],gt=n[g]*2,xt=n[g]*ht;j=r[xt],k=r[xt+1],tt=l?r[xt+2]:0,_=o[gt],nt=o[gt+1],p&&(nt=1-nt),it=dt?s[ft]:s,rt=ut?d[ft]:d,st=0,at=0,ot=0,f&&(st=f[xt],at=f[xt+1],ot=l?f[xt+2]:0),c.vertices.push(new G(j,k,tt,_,nt,it,rt,st,at,ot))}else{var Et=0,pt=0;for(g=0;g<r.length;g+=ht)j=r[g],k=r[g+1],tt=l?r[g+2]:0,_=o[Et],nt=o[Et+1],it=dt?s[pt]:s,rt=ut?d[pt]:d,st=0,at=0,ot=0,f&&(st=f[g],at=f[g+1],ot=l?f[g+2]:0),c.vertices.push(new G(j,k,tt,_,nt,it,rt,st,at,ot)),Et+=2,pt++}for(g=0;g<c.vertices.length;g+=3){var mt=c.vertices[g],lt=c.vertices[g+1],ct=c.vertices[g+2];c.faces.push(new u(mt,lt,ct))}return c};i.exports=h},85048:i=>{var $=!0,e="untitled",u="",G="";function h(j){var k=j.indexOf("#");return k>-1?j.substring(0,k):j}function r(j){return j.models.length===0&&j.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),u="",j.models[j.models.length-1]}function o(j,k){var tt=j.length>=2?j[1]:e;k.models.push({faces:[],name:tt,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function n(j){j.length===2&&(u=j[1])}function l(j,k){var tt=j.length,_=tt>=2?parseFloat(j[1]):0,nt=tt>=3?parseFloat(j[2]):0,it=tt>=4?parseFloat(j[3]):0;r(k).vertices.push({x:_,y:nt,z:it})}function f(j,k){var tt=j.length,_=tt>=2?parseFloat(j[1]):0,nt=tt>=3?parseFloat(j[2]):0,it=tt>=4?parseFloat(j[3]):0;isNaN(_)&&(_=0),isNaN(nt)&&(nt=0),isNaN(it)&&(it=0),$&&(nt=1-nt),r(k).textureCoords.push({u:_,v:nt,w:it})}function s(j,k){var tt=j.length,_=tt>=2?parseFloat(j[1]):0,nt=tt>=3?parseFloat(j[2]):0,it=tt>=4?parseFloat(j[3]):0;r(k).vertexNormals.push({x:_,y:nt,z:it})}function d(j,k){var tt=j.length-1;if(!(tt<3)){for(var _={group:u,material:G,vertices:[]},nt=0;nt<tt;nt++){var it=j[nt+1],rt=it.split("/"),st=rt.length;if(!(st<1||st>3)){var at=0,ot=0,ht=0;at=parseInt(rt[0],10),st>1&&rt[1]!==""&&(ot=parseInt(rt[1],10)),st>2&&(ht=parseInt(rt[2],10)),at!==0&&(at<0&&(at=r(k).vertices.length+1+at),ot-=1,at-=1,ht-=1,_.vertices.push({textureCoordsIndex:ot,vertexIndex:at,vertexNormalIndex:ht}))}}r(k).faces.push(_)}}function p(j,k){j.length>=2&&k.materialLibraries.push(j[1])}function c(j){j.length>=2&&(G=j[1])}var g=function(j,k){k===void 0&&(k=!0),$=k;var tt={materials:{},materialLibraries:[],models:[]};u="",G="";for(var _=j.split(`
`),nt=0;nt<_.length;nt++){var it=h(_[nt]),rt=it.replace(/\s\s+/g," ").trim().split(" ");switch(rt[0].toLowerCase()){case"o":o(rt,tt);break;case"g":n(rt);break;case"v":l(rt,tt);break;case"vt":f(rt,tt);break;case"vn":s(rt,tt);break;case"f":d(rt,tt);break;case"mtllib":p(rt,tt);break;case"usemtl":c(rt);break}}return tt};i.exports=g},61485:(i,$,e)=>{var u=e(37589),G=function(h){for(var r={},o=h.split(`
`),n="",l=0;l<o.length;l++){var f=o[l].trim();if(!(f.indexOf("#")===0||f==="")){var s=f.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{n=s[1];break}case"kd":{var d=Math.floor(s[1]*255),p=s.length>=2?Math.floor(s[2]*255):d,c=s.length>=3?Math.floor(s[3]*255):d;r[n]=u(d,p,c);break}}}}return r};i.exports=G},92570:i=>{var $=function(e,u,G,h){var r,o;if(G===void 0&&h===void 0){var n=e.getInCenter();r=n.x,o=n.y}var l=Math.cos(u),f=Math.sin(u),s=e.vertex1,d=e.vertex2,p=e.vertex3,c=s.x-r,g=s.y-o;s.set(c*l-g*f+r,c*f+g*l+o),c=d.x-r,g=d.y-o,d.set(c*l-g*f+r,c*f+g*l+o),c=p.x-r,g=p.y-o,p.set(c*l-g*f+r,c*f+g*l+o)};i.exports=$},39318:(i,$,e)=>{var u=e(83419),G=e(70554),h=e(25836),r=new u({Extends:h,initialize:function(n,l,f,s,d,p,c,g,j,k){p===void 0&&(p=16777215),c===void 0&&(c=1),g===void 0&&(g=0),j===void 0&&(j=0),k===void 0&&(k=0),h.call(this,n,l,f),this.vx=0,this.vy=0,this.vz=0,this.nx=g,this.ny=j,this.nz=k,this.u=s,this.v=d,this.color=p,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=d},setUVs:function(o,n){return this.u=o,this.v=n,this.tu=o,this.tv=n,this},scrollUV:function(o,n){return this.tu+=o,this.tv+=n,this},scaleUV:function(o,n){return this.tu=this.u*o,this.tv=this.v*n,this},transformCoordinatesLocal:function(o,n,l,f){var s=this.x,d=this.y,p=this.z,c=o.val,g=s*c[0]+d*c[4]+p*c[8]+c[12],j=s*c[1]+d*c[5]+p*c[9]+c[13],k=s*c[2]+d*c[6]+p*c[10]+c[14],tt=s*c[3]+d*c[7]+p*c[11]+c[15];this.vx=g/tt*n,this.vy=-(j/tt)*l,f<=0?this.vz=k/tt:this.vz=-(k/tt)},resize:function(o,n,l,f,s,d){return this.x=o,this.y=n,this.vx=this.x*l,this.vy=-this.y*f,this.vz=0,s<.5?this.vx+=l*(.5-s):s>.5&&(this.vx-=l*(s-.5)),d<.5?this.vy+=f*(.5-d):d>.5&&(this.vy-=f*(d-.5)),this},update:function(o,n,l,f,s,d,p,c){var g=this.vx*o+this.vy*l+s,j=this.vx*n+this.vy*f+d;return p&&(g=Math.round(g),j=Math.round(j)),this.tx=g,this.ty=j,this.ta=this.alpha*c,this},load:function(o,n,l,f,s){return o[++l]=this.tx,o[++l]=this.ty,o[++l]=this.tu,o[++l]=this.tv,o[++l]=f,o[++l]=s,n[++l]=G.getTintAppendFloatAlpha(this.color,this.ta),l}});i.exports=r},73090:(i,$,e)=>{var u={Face:e(83997),GenerateGridVerts:e(48803),GenerateObjVerts:e(34684),GenerateVerts:e(92515),ParseObj:e(85048),ParseObjMaterial:e(61485),RotateFace:e(92570),Vertex:e(39318)};i.exports=u},96550:i=>{var $=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};i.exports=$},99706:(i,$,e)=>{var u=e(2141),G=function(h){return new u(h.x,h.y)};i.exports=G},68010:i=>{var $=function(e,u){return u.setTo(e.x,e.y)};i.exports=$},27814:i=>{var $=function(e,u){return e.x===u.x&&e.y===u.y};i.exports=$},73565:i=>{var $=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};i.exports=$},87555:(i,$,e)=>{var u=e(2141),G=function(h,r){if(r===void 0&&(r=new u),!Array.isArray(h))throw new Error("GetCentroid points argument must be an array");var o=h.length;if(o<1)throw new Error("GetCentroid points array must not be empty");if(o===1)r.x=h[0].x,r.y=h[0].y;else{for(var n=0;n<o;n++)r.x+=h[n].x,r.y+=h[n].y;r.x/=o,r.y/=o}return r};i.exports=G},28793:i=>{var $=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};i.exports=$},44405:i=>{var $=function(e){return e.x*e.x+e.y*e.y};i.exports=$},20873:(i,$,e)=>{var u=e(87841),G=function(h,r){r===void 0&&(r=new u);for(var o=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,s=0;s<h.length;s++){var d=h[s];d.x>o&&(o=d.x),d.x<n&&(n=d.x),d.y>l&&(l=d.y),d.y<f&&(f=d.y)}return r.x=n,r.y=f,r.width=o-n,r.height=l-f,r};i.exports=G},26152:(i,$,e)=>{var u=e(2141),G=function(h,r,o,n){return o===void 0&&(o=0),n===void 0&&(n=new u),n.x=h.x+(r.x-h.x)*o,n.y=h.y+(r.y-h.y)*o,n};i.exports=G},55767:i=>{var $=function(e){return e.setTo(e.y,e.x)};i.exports=$},79432:(i,$,e)=>{var u=e(2141),G=function(h,r){return r===void 0&&(r=new u),r.setTo(-h.x,-h.y)};i.exports=G},2141:(i,$,e)=>{var u=e(83419),G=e(23777),h=new u({initialize:function(o,n){o===void 0&&(o=0),n===void 0&&(n=o),this.type=G.POINT,this.x=o,this.y=n},setTo:function(r,o){return r===void 0&&(r=0),o===void 0&&(o=r),this.x=r,this.y=o,this}});i.exports=h},72930:(i,$,e)=>{var u=e(2141),G=e(44405),h=function(r,o,n){n===void 0&&(n=new u);var l=r.x*o.x+r.y*o.y,f=l/G(o);return f!==0&&(n.x=f*o.x,n.y=f*o.y),n};i.exports=h},62880:(i,$,e)=>{var u=e(2141),G=function(h,r,o){o===void 0&&(o=new u);var n=h.x*r.x+h.y*r.y;return n!==0&&(o.x=n*r.x,o.y=n*r.y),o};i.exports=G},15093:(i,$,e)=>{var u=e(28793),G=function(h,r){if(h.x!==0||h.y!==0){var o=u(h);h.x/=o,h.y/=o}return h.x*=r,h.y*=r,h};i.exports=G},43711:(i,$,e)=>{var u=e(2141);u.Ceil=e(96550),u.Clone=e(99706),u.CopyFrom=e(68010),u.Equals=e(27814),u.Floor=e(73565),u.GetCentroid=e(87555),u.GetMagnitude=e(28793),u.GetMagnitudeSq=e(44405),u.GetRectangleFromPoints=e(20873),u.Interpolate=e(26152),u.Invert=e(55767),u.Negative=e(79432),u.Project=e(72930),u.ProjectUnit=e(62880),u.SetMagnitude=e(15093),i.exports=u},12306:(i,$,e)=>{var u=e(25717),G=function(h){return new u(h.points)};i.exports=G},63814:i=>{var $=function(e,u,G){for(var h=!1,r=-1,o=e.points.length-1;++r<e.points.length;o=r){var n=e.points[r].x,l=e.points[r].y,f=e.points[o].x,s=e.points[o].y;(l<=G&&G<s||s<=G&&G<l)&&u<(f-n)*(G-l)/(s-l)+n&&(h=!h)}return h};i.exports=$},99338:(i,$,e)=>{var u=e(63814),G=function(h,r){return u(h,r.x,r.y)};i.exports=G},94811:i=>{"use strict";function $(pt,mt,lt){lt=lt||2;var ct=mt&&mt.length,vt=ct?mt[0]*lt:pt.length,yt=e(pt,0,vt,lt,!0),Tt=[];if(!yt||yt.next===yt.prev)return Tt;var Ct,St,Dt,Mt,At,wt,It;if(ct&&(yt=l(pt,mt,yt,lt)),pt.length>80*lt){Ct=Dt=pt[0],St=Mt=pt[1];for(var Pt=lt;Pt<vt;Pt+=lt)At=pt[Pt],wt=pt[Pt+1],At<Ct&&(Ct=At),wt<St&&(St=wt),At>Dt&&(Dt=At),wt>Mt&&(Mt=wt);It=Math.max(Dt-Ct,Mt-St),It=It!==0?32767/It:0}return G(yt,Tt,lt,Ct,St,It,0),Tt}function e(pt,mt,lt,ct,vt){var yt,Tt;if(vt===Et(pt,mt,lt,ct)>0)for(yt=mt;yt<lt;yt+=ct)Tt=ft(yt,pt[yt],pt[yt+1],Tt);else for(yt=lt-ct;yt>=mt;yt-=ct)Tt=ft(yt,pt[yt],pt[yt+1],Tt);return Tt&&it(Tt,Tt.next)&&(gt(Tt),Tt=Tt.next),Tt}function u(pt,mt){if(!pt)return pt;mt||(mt=pt);var lt=pt,ct;do if(ct=!1,!lt.steiner&&(it(lt,lt.next)||nt(lt.prev,lt,lt.next)===0)){if(gt(lt),lt=mt=lt.prev,lt===lt.next)break;ct=!0}else lt=lt.next;while(ct||lt!==mt);return mt}function G(pt,mt,lt,ct,vt,yt,Tt){if(pt){!Tt&&yt&&c(pt,ct,vt,yt);for(var Ct=pt,St,Dt;pt.prev!==pt.next;){if(St=pt.prev,Dt=pt.next,yt?r(pt,ct,vt,yt):h(pt)){mt.push(St.i/lt|0),mt.push(pt.i/lt|0),mt.push(Dt.i/lt|0),gt(pt),pt=Dt.next,Ct=Dt.next;continue}if(pt=Dt,pt===Ct){Tt?Tt===1?(pt=o(u(pt),mt,lt),G(pt,mt,lt,ct,vt,yt,2)):Tt===2&&n(pt,mt,lt,ct,vt,yt):G(u(pt),mt,lt,ct,vt,yt,1);break}}}}function h(pt){var mt=pt.prev,lt=pt,ct=pt.next;if(nt(mt,lt,ct)>=0)return!1;for(var vt=mt.x,yt=lt.x,Tt=ct.x,Ct=mt.y,St=lt.y,Dt=ct.y,Mt=vt<yt?vt<Tt?vt:Tt:yt<Tt?yt:Tt,At=Ct<St?Ct<Dt?Ct:Dt:St<Dt?St:Dt,wt=vt>yt?vt>Tt?vt:Tt:yt>Tt?yt:Tt,It=Ct>St?Ct>Dt?Ct:Dt:St>Dt?St:Dt,Pt=ct.next;Pt!==mt;){if(Pt.x>=Mt&&Pt.x<=wt&&Pt.y>=At&&Pt.y<=It&&tt(vt,Ct,yt,St,Tt,Dt,Pt.x,Pt.y)&&nt(Pt.prev,Pt,Pt.next)>=0)return!1;Pt=Pt.next}return!0}function r(pt,mt,lt,ct){var vt=pt.prev,yt=pt,Tt=pt.next;if(nt(vt,yt,Tt)>=0)return!1;for(var Ct=vt.x,St=yt.x,Dt=Tt.x,Mt=vt.y,At=yt.y,wt=Tt.y,It=Ct<St?Ct<Dt?Ct:Dt:St<Dt?St:Dt,Pt=Mt<At?Mt<wt?Mt:wt:At<wt?At:wt,Ot=Ct>St?Ct>Dt?Ct:Dt:St>Dt?St:Dt,bt=Mt>At?Mt>wt?Mt:wt:At>wt?At:wt,Vt=j(It,Pt,mt,lt,ct),Ut=j(Ot,bt,mt,lt,ct),Ft=pt.prevZ,Nt=pt.nextZ;Ft&&Ft.z>=Vt&&Nt&&Nt.z<=Ut;){if(Ft.x>=It&&Ft.x<=Ot&&Ft.y>=Pt&&Ft.y<=bt&&Ft!==vt&&Ft!==Tt&&tt(Ct,Mt,St,At,Dt,wt,Ft.x,Ft.y)&&nt(Ft.prev,Ft,Ft.next)>=0||(Ft=Ft.prevZ,Nt.x>=It&&Nt.x<=Ot&&Nt.y>=Pt&&Nt.y<=bt&&Nt!==vt&&Nt!==Tt&&tt(Ct,Mt,St,At,Dt,wt,Nt.x,Nt.y)&&nt(Nt.prev,Nt,Nt.next)>=0))return!1;Nt=Nt.nextZ}for(;Ft&&Ft.z>=Vt;){if(Ft.x>=It&&Ft.x<=Ot&&Ft.y>=Pt&&Ft.y<=bt&&Ft!==vt&&Ft!==Tt&&tt(Ct,Mt,St,At,Dt,wt,Ft.x,Ft.y)&&nt(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.prevZ}for(;Nt&&Nt.z<=Ut;){if(Nt.x>=It&&Nt.x<=Ot&&Nt.y>=Pt&&Nt.y<=bt&&Nt!==vt&&Nt!==Tt&&tt(Ct,Mt,St,At,Dt,wt,Nt.x,Nt.y)&&nt(Nt.prev,Nt,Nt.next)>=0)return!1;Nt=Nt.nextZ}return!0}function o(pt,mt,lt){var ct=pt;do{var vt=ct.prev,yt=ct.next.next;!it(vt,yt)&&rt(vt,ct,ct.next,yt)&&ht(vt,yt)&&ht(yt,vt)&&(mt.push(vt.i/lt|0),mt.push(ct.i/lt|0),mt.push(yt.i/lt|0),gt(ct),gt(ct.next),ct=pt=yt),ct=ct.next}while(ct!==pt);return u(ct)}function n(pt,mt,lt,ct,vt,yt){var Tt=pt;do{for(var Ct=Tt.next.next;Ct!==Tt.prev;){if(Tt.i!==Ct.i&&_(Tt,Ct)){var St=ut(Tt,Ct);Tt=u(Tt,Tt.next),St=u(St,St.next),G(Tt,mt,lt,ct,vt,yt,0),G(St,mt,lt,ct,vt,yt,0);return}Ct=Ct.next}Tt=Tt.next}while(Tt!==pt)}function l(pt,mt,lt,ct){var vt=[],yt,Tt,Ct,St,Dt;for(yt=0,Tt=mt.length;yt<Tt;yt++)Ct=mt[yt]*ct,St=yt<Tt-1?mt[yt+1]*ct:pt.length,Dt=e(pt,Ct,St,ct,!1),Dt===Dt.next&&(Dt.steiner=!0),vt.push(k(Dt));for(vt.sort(f),yt=0;yt<vt.length;yt++)lt=s(vt[yt],lt);return lt}function f(pt,mt){return pt.x-mt.x}function s(pt,mt){var lt=d(pt,mt);if(!lt)return mt;var ct=ut(lt,pt);return u(ct,ct.next),u(lt,lt.next)}function d(pt,mt){var lt=mt,ct=pt.x,vt=pt.y,yt=-1/0,Tt;do{if(vt<=lt.y&&vt>=lt.next.y&&lt.next.y!==lt.y){var Ct=lt.x+(vt-lt.y)*(lt.next.x-lt.x)/(lt.next.y-lt.y);if(Ct<=ct&&Ct>yt&&(yt=Ct,Tt=lt.x<lt.next.x?lt:lt.next,Ct===ct))return Tt}lt=lt.next}while(lt!==mt);if(!Tt)return null;var St=Tt,Dt=Tt.x,Mt=Tt.y,At=1/0,wt;lt=Tt;do ct>=lt.x&&lt.x>=Dt&&ct!==lt.x&&tt(vt<Mt?ct:yt,vt,Dt,Mt,vt<Mt?yt:ct,vt,lt.x,lt.y)&&(wt=Math.abs(vt-lt.y)/(ct-lt.x),ht(lt,pt)&&(wt<At||wt===At&&(lt.x>Tt.x||lt.x===Tt.x&&p(Tt,lt)))&&(Tt=lt,At=wt)),lt=lt.next;while(lt!==St);return Tt}function p(pt,mt){return nt(pt.prev,pt,mt.prev)<0&&nt(mt.next,pt,pt.next)<0}function c(pt,mt,lt,ct){var vt=pt;do vt.z===0&&(vt.z=j(vt.x,vt.y,mt,lt,ct)),vt.prevZ=vt.prev,vt.nextZ=vt.next,vt=vt.next;while(vt!==pt);vt.prevZ.nextZ=null,vt.prevZ=null,g(vt)}function g(pt){var mt,lt,ct,vt,yt,Tt,Ct,St,Dt=1;do{for(lt=pt,pt=null,yt=null,Tt=0;lt;){for(Tt++,ct=lt,Ct=0,mt=0;mt<Dt&&(Ct++,ct=ct.nextZ,!!ct);mt++);for(St=Dt;Ct>0||St>0&&ct;)Ct!==0&&(St===0||!ct||lt.z<=ct.z)?(vt=lt,lt=lt.nextZ,Ct--):(vt=ct,ct=ct.nextZ,St--),yt?yt.nextZ=vt:pt=vt,vt.prevZ=yt,yt=vt;lt=ct}yt.nextZ=null,Dt*=2}while(Tt>1);return pt}function j(pt,mt,lt,ct,vt){return pt=(pt-lt)*vt|0,mt=(mt-ct)*vt|0,pt=(pt|pt<<8)&16711935,pt=(pt|pt<<4)&252645135,pt=(pt|pt<<2)&858993459,pt=(pt|pt<<1)&1431655765,mt=(mt|mt<<8)&16711935,mt=(mt|mt<<4)&252645135,mt=(mt|mt<<2)&858993459,mt=(mt|mt<<1)&1431655765,pt|mt<<1}function k(pt){var mt=pt,lt=pt;do(mt.x<lt.x||mt.x===lt.x&&mt.y<lt.y)&&(lt=mt),mt=mt.next;while(mt!==pt);return lt}function tt(pt,mt,lt,ct,vt,yt,Tt,Ct){return(vt-Tt)*(mt-Ct)>=(pt-Tt)*(yt-Ct)&&(pt-Tt)*(ct-Ct)>=(lt-Tt)*(mt-Ct)&&(lt-Tt)*(yt-Ct)>=(vt-Tt)*(ct-Ct)}function _(pt,mt){return pt.next.i!==mt.i&&pt.prev.i!==mt.i&&!ot(pt,mt)&&(ht(pt,mt)&&ht(mt,pt)&&dt(pt,mt)&&(nt(pt.prev,pt,mt.prev)||nt(pt,mt.prev,mt))||it(pt,mt)&&nt(pt.prev,pt,pt.next)>0&&nt(mt.prev,mt,mt.next)>0)}function nt(pt,mt,lt){return(mt.y-pt.y)*(lt.x-mt.x)-(mt.x-pt.x)*(lt.y-mt.y)}function it(pt,mt){return pt.x===mt.x&&pt.y===mt.y}function rt(pt,mt,lt,ct){var vt=at(nt(pt,mt,lt)),yt=at(nt(pt,mt,ct)),Tt=at(nt(lt,ct,pt)),Ct=at(nt(lt,ct,mt));return!!(vt!==yt&&Tt!==Ct||vt===0&&st(pt,lt,mt)||yt===0&&st(pt,ct,mt)||Tt===0&&st(lt,pt,ct)||Ct===0&&st(lt,mt,ct))}function st(pt,mt,lt){return mt.x<=Math.max(pt.x,lt.x)&&mt.x>=Math.min(pt.x,lt.x)&&mt.y<=Math.max(pt.y,lt.y)&&mt.y>=Math.min(pt.y,lt.y)}function at(pt){return pt>0?1:pt<0?-1:0}function ot(pt,mt){var lt=pt;do{if(lt.i!==pt.i&&lt.next.i!==pt.i&&lt.i!==mt.i&&lt.next.i!==mt.i&&rt(lt,lt.next,pt,mt))return!0;lt=lt.next}while(lt!==pt);return!1}function ht(pt,mt){return nt(pt.prev,pt,pt.next)<0?nt(pt,mt,pt.next)>=0&&nt(pt,pt.prev,mt)>=0:nt(pt,mt,pt.prev)<0||nt(pt,pt.next,mt)<0}function dt(pt,mt){var lt=pt,ct=!1,vt=(pt.x+mt.x)/2,yt=(pt.y+mt.y)/2;do lt.y>yt!=lt.next.y>yt&&lt.next.y!==lt.y&&vt<(lt.next.x-lt.x)*(yt-lt.y)/(lt.next.y-lt.y)+lt.x&&(ct=!ct),lt=lt.next;while(lt!==pt);return ct}function ut(pt,mt){var lt=new xt(pt.i,pt.x,pt.y),ct=new xt(mt.i,mt.x,mt.y),vt=pt.next,yt=mt.prev;return pt.next=mt,mt.prev=pt,lt.next=vt,vt.prev=lt,ct.next=lt,lt.prev=ct,yt.next=ct,ct.prev=yt,ct}function ft(pt,mt,lt,ct){var vt=new xt(pt,mt,lt);return ct?(vt.next=ct.next,vt.prev=ct,ct.next.prev=vt,ct.next=vt):(vt.prev=vt,vt.next=vt),vt}function gt(pt){pt.next.prev=pt.prev,pt.prev.next=pt.next,pt.prevZ&&(pt.prevZ.nextZ=pt.nextZ),pt.nextZ&&(pt.nextZ.prevZ=pt.prevZ)}function xt(pt,mt,lt){this.i=pt,this.x=mt,this.y=lt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}$.deviation=function(pt,mt,lt,ct){var vt=mt&&mt.length,yt=vt?mt[0]*lt:pt.length,Tt=Math.abs(Et(pt,0,yt,lt));if(vt)for(var Ct=0,St=mt.length;Ct<St;Ct++){var Dt=mt[Ct]*lt,Mt=Ct<St-1?mt[Ct+1]*lt:pt.length;Tt-=Math.abs(Et(pt,Dt,Mt,lt))}var At=0;for(Ct=0;Ct<ct.length;Ct+=3){var wt=ct[Ct]*lt,It=ct[Ct+1]*lt,Pt=ct[Ct+2]*lt;At+=Math.abs((pt[wt]-pt[Pt])*(pt[It+1]-pt[wt+1])-(pt[wt]-pt[It])*(pt[Pt+1]-pt[wt+1]))}return Tt===0&&At===0?0:Math.abs((At-Tt)/Tt)};function Et(pt,mt,lt,ct){for(var vt=0,yt=mt,Tt=lt-ct;yt<lt;yt+=ct)vt+=(pt[Tt]-pt[yt])*(pt[yt+1]+pt[Tt+1]),Tt=yt;return vt}$.flatten=function(pt){for(var mt=pt[0][0].length,lt={vertices:[],holes:[],dimensions:mt},ct=0,vt=0;vt<pt.length;vt++){for(var yt=0;yt<pt[vt].length;yt++)for(var Tt=0;Tt<mt;Tt++)lt.vertices.push(pt[vt][yt][Tt]);vt>0&&(ct+=pt[vt-1].length,lt.holes.push(ct))}return lt},i.exports=$},13829:(i,$,e)=>{var u=e(87841),G=function(h,r){r===void 0&&(r=new u);for(var o=1/0,n=1/0,l=-o,f=-n,s,d=0;d<h.points.length;d++)s=h.points[d],o=Math.min(o,s.x),n=Math.min(n,s.y),l=Math.max(l,s.x),f=Math.max(f,s.y);return r.x=o,r.y=n,r.width=l-o,r.height=f-n,r};i.exports=G},26173:i=>{var $=function(e,u){u===void 0&&(u=[]);for(var G=0;G<e.points.length;G++)u.push(e.points[G].x),u.push(e.points[G].y);return u};i.exports=$},9564:(i,$,e)=>{var u=e(35001),G=e(23031),h=e(30052),r=function(o,n,l,f){f===void 0&&(f=[]);var s=o.points,d=h(o);!n&&l>0&&(n=d/l);for(var p=0;p<n;p++)for(var c=d*(p/n),g=0,j=0;j<s.length;j++){var k=s[j],tt=s[(j+1)%s.length],_=new G(k.x,k.y,tt.x,tt.y),nt=u(_);if(c<g||c>g+nt){g+=nt;continue}var it=_.getPoint((c-g)/nt);f.push(it);break}return f};i.exports=r},30052:(i,$,e)=>{var u=e(35001),G=e(23031),h=function(r){for(var o=r.points,n=0,l=0;l<o.length;l++){var f=o[l],s=o[(l+1)%o.length],d=new G(f.x,f.y,s.x,s.y);n+=u(d)}return n};i.exports=h},25717:(i,$,e)=>{var u=e(83419),G=e(63814),h=e(9564),r=e(23777),o=new u({initialize:function(l){this.type=r.POLYGON,this.area=0,this.points=[],l&&this.setTo(l)},contains:function(n,l){return G(this,n,l)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var l,f=0;f<n.length;f++)l={x:0,y:0},typeof n[f]=="number"||typeof n[f]=="string"?(l.x=parseFloat(n[f]),l.y=parseFloat(n[f+1]),f++):Array.isArray(n[f])?(l.x=n[f][0],l.y=n[f][1]):(l.x=n[f].x,l.y=n[f].y),this.points.push(l);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,l,f,s=0;s<this.points.length-1;s++)l=this.points[s],f=this.points[s+1],n+=(f.x-l.x)*(l.y+f.y);return l=this.points[0],f=this.points[this.points.length-1],n+=(l.x-f.x)*(f.y+l.y),this.area=-n*.5,this.area},getPoints:function(n,l,f){return h(this,n,l,f)}});i.exports=o},8133:i=>{var $=function(e){return e.points.reverse(),e};i.exports=$},29524:i=>{function $(o,n){var l=o.x-n.x,f=o.y-n.y;return l*l+f*f}function e(o,n,l){var f=n.x,s=n.y,d=l.x-f,p=l.y-s;if(d!==0||p!==0){var c=((o.x-f)*d+(o.y-s)*p)/(d*d+p*p);c>1?(f=l.x,s=l.y):c>0&&(f+=d*c,s+=p*c)}return d=o.x-f,p=o.y-s,d*d+p*p}function u(o,n){for(var l=o[0],f=[l],s,d=1,p=o.length;d<p;d++)s=o[d],$(s,l)>n&&(f.push(s),l=s);return l!==s&&f.push(s),f}function G(o,n,l,f,s){for(var d=f,p,c=n+1;c<l;c++){var g=e(o[c],o[n],o[l]);g>d&&(p=c,d=g)}d>f&&(p-n>1&&G(o,n,p,f,s),s.push(o[p]),l-p>1&&G(o,p,l,f,s))}function h(o,n){var l=o.length-1,f=[o[0]];return G(o,0,l,n,f),f.push(o[l]),f}var r=function(o,n,l){n===void 0&&(n=1),l===void 0&&(l=!1);var f=o.points;if(f.length>2){var s=n*n;l||(f=u(f,s)),o.setTo(h(f,s))}return o};i.exports=r},5469:i=>{var $=function(u,G){return u[0]=G[0],u[1]=G[1],u},e=function(u){var G,h=[],r=u.points;for(G=0;G<r.length;G++)h.push([r[G].x,r[G].y]);var o=[];for(h.length>0&&o.push($([0,0],h[0])),G=0;G<h.length-1;G++){var n=h[G],l=h[G+1],f=n[0],s=n[1],d=l[0],p=l[1];o.push([.85*f+.15*d,.85*s+.15*p]),o.push([.15*f+.85*d,.15*s+.85*p])}return h.length>1&&o.push($([0,0],h[h.length-1])),u.setTo(o)};i.exports=e},24709:i=>{var $=function(e,u,G){for(var h=e.points,r=0;r<h.length;r++)h[r].x+=u,h[r].y+=G;return e};i.exports=$},58423:(i,$,e)=>{var u=e(25717);u.Clone=e(12306),u.Contains=e(63814),u.ContainsPoint=e(99338),u.Earcut=e(94811),u.GetAABB=e(13829),u.GetNumberArray=e(26173),u.GetPoints=e(9564),u.Perimeter=e(30052),u.Reverse=e(8133),u.Simplify=e(29524),u.Smooth=e(5469),u.Translate=e(24709),i.exports=u},62224:i=>{var $=function(e){return e.width*e.height};i.exports=$},98615:i=>{var $=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};i.exports=$},31688:i=>{var $=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};i.exports=$},67502:i=>{var $=function(e,u,G){return e.x=u-e.width/2,e.y=G-e.height/2,e};i.exports=$},65085:(i,$,e)=>{var u=e(87841),G=function(h){return new u(h.x,h.y,h.width,h.height)};i.exports=G},37303:i=>{var $=function(e,u,G){return e.width<=0||e.height<=0?!1:e.x<=u&&e.x+e.width>=u&&e.y<=G&&e.y+e.height>=G};i.exports=$},96553:(i,$,e)=>{var u=e(37303),G=function(h,r){return u(h,r.x,r.y)};i.exports=G},70273:i=>{var $=function(e,u){return u.width*u.height>e.width*e.height?!1:u.x>e.x&&u.x<e.right&&u.right>e.x&&u.right<e.right&&u.y>e.y&&u.y<e.bottom&&u.bottom>e.y&&u.bottom<e.bottom};i.exports=$},43459:i=>{var $=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};i.exports=$},77493:i=>{var $=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x,y:e.y}),u.push({x:e.right,y:e.y}),u.push({x:e.right,y:e.bottom}),u.push({x:e.x,y:e.bottom}),u};i.exports=$},9219:i=>{var $=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};i.exports=$},53751:(i,$,e)=>{var u=e(8249),G=function(h,r){var o=u(h);return o<u(r)?h.setSize(r.height*o,r.height):h.setSize(r.width,r.width/o),h.setPosition(r.centerX-h.width/2,r.centerY-h.height/2)};i.exports=G},16088:(i,$,e)=>{var u=e(8249),G=function(h,r){var o=u(h);return o>u(r)?h.setSize(r.height*o,r.height):h.setSize(r.width,r.width/o),h.setPosition(r.centerX-h.width/2,r.centerY-h.height/2)};i.exports=G},80774:i=>{var $=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};i.exports=$},83859:i=>{var $=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};i.exports=$},19217:(i,$,e)=>{var u=e(87841),G=e(36383),h=function(r,o){if(o===void 0&&(o=new u),r.length===0)return o;for(var n=Number.MAX_VALUE,l=Number.MAX_VALUE,f=G.MIN_SAFE_INTEGER,s=G.MIN_SAFE_INTEGER,d,p,c,g=0;g<r.length;g++)d=r[g],Array.isArray(d)?(p=d[0],c=d[1]):(p=d.x,c=d.y),n=Math.min(n,p),l=Math.min(l,c),f=Math.max(f,p),s=Math.max(s,c);return o.x=n,o.y=l,o.width=f-n,o.height=s-l,o};i.exports=h},9477:(i,$,e)=>{var u=e(87841),G=function(h,r,o,n,l){return l===void 0&&(l=new u),l.setTo(Math.min(h,o),Math.min(r,n),Math.abs(h-o),Math.abs(r-n))};i.exports=G},8249:i=>{var $=function(e){return e.height===0?NaN:e.width/e.height};i.exports=$},27165:(i,$,e)=>{var u=e(2141),G=function(h,r){return r===void 0&&(r=new u),r.x=h.centerX,r.y=h.centerY,r};i.exports=G},20812:(i,$,e)=>{var u=e(13019),G=e(2141),h=function(r,o,n){if(n===void 0&&(n=new G),o<=0||o>=1)return n.x=r.x,n.y=r.y,n;var l=u(r)*o;return o>.5?(l-=r.width+r.height,l<=r.width?(n.x=r.right-l,n.y=r.bottom):(n.x=r.x,n.y=r.bottom-(l-r.width))):l<=r.width?(n.x=r.x+l,n.y=r.y):(n.x=r.right,n.y=r.y+(l-r.width)),n};i.exports=h},34819:(i,$,e)=>{var u=e(20812),G=e(13019),h=function(r,o,n,l){l===void 0&&(l=[]),!o&&n>0&&(o=G(r)/n);for(var f=0;f<o;f++){var s=f/o;l.push(u(r,s))}return l};i.exports=h},51313:(i,$,e)=>{var u=e(2141),G=function(h,r){return r===void 0&&(r=new u),r.x=h.width,r.y=h.height,r};i.exports=G},86091:(i,$,e)=>{var u=e(67502),G=function(h,r,o){var n=h.centerX,l=h.centerY;return h.setSize(h.width+r*2,h.height+o*2),u(h,n,l)};i.exports=G},53951:(i,$,e)=>{var u=e(87841),G=e(59996),h=function(r,o,n){return n===void 0&&(n=new u),G(r,o)?(n.x=Math.max(r.x,o.x),n.y=Math.max(r.y,o.y),n.width=Math.min(r.right,o.right)-n.x,n.height=Math.min(r.bottom,o.bottom)-n.y):n.setEmpty(),n};i.exports=h},14649:(i,$,e)=>{var u=e(13019),G=e(2141),h=function(r,o,n,l){if(l===void 0&&(l=[]),!o&&!n)return l;o?n=Math.round(u(r)/o):o=u(r)/n;for(var f=r.x,s=r.y,d=0,p=0;p<n;p++)switch(l.push(new G(f,s)),d){case 0:f+=o,f>=r.right&&(d=1,s+=f-r.right,f=r.right);break;case 1:s+=o,s>=r.bottom&&(d=2,f-=s-r.bottom,s=r.bottom);break;case 2:f-=o,f<=r.left&&(d=3,s-=r.left-f,f=r.left);break;case 3:s-=o,s<=r.top&&(d=0,s=r.top);break}return l};i.exports=h},33595:i=>{var $=function(e,u){for(var G=e.x,h=e.right,r=e.y,o=e.bottom,n=0;n<u.length;n++)G=Math.min(G,u[n].x),h=Math.max(h,u[n].x),r=Math.min(r,u[n].y),o=Math.max(o,u[n].y);return e.x=G,e.y=r,e.width=h-G,e.height=o-r,e};i.exports=$},20074:i=>{var $=function(e,u){var G=Math.min(e.x,u.x),h=Math.max(e.right,u.right);e.x=G,e.width=h-G;var r=Math.min(e.y,u.y),o=Math.max(e.bottom,u.bottom);return e.y=r,e.height=o-r,e};i.exports=$},92171:i=>{var $=function(e,u,G){var h=Math.min(e.x,u),r=Math.max(e.right,u);e.x=h,e.width=r-h;var o=Math.min(e.y,G),n=Math.max(e.bottom,G);return e.y=o,e.height=n-o,e};i.exports=$},42981:i=>{var $=function(e,u,G){return e.x+=u,e.y+=G,e};i.exports=$},46907:i=>{var $=function(e,u){return e.x+=u.x,e.y+=u.y,e};i.exports=$},60170:i=>{var $=function(e,u){return e.x<u.right&&e.right>u.x&&e.y<u.bottom&&e.bottom>u.y};i.exports=$},13019:i=>{var $=function(e){return 2*(e.width+e.height)};i.exports=$},85133:(i,$,e)=>{var u=e(2141),G=e(39506),h=function(r,o,n){n===void 0&&(n=new u),o=G(o);var l=Math.sin(o),f=Math.cos(o),s=f>0?r.width/2:r.width/-2,d=l>0?r.height/2:r.height/-2;return Math.abs(s*l)<Math.abs(d*f)?d=s*l/f:s=d*f/l,n.x=s+r.centerX,n.y=d+r.centerY,n};i.exports=h},26597:(i,$,e)=>{var u=e(2141),G=function(h,r){return r===void 0&&(r=new u),r.x=h.x+Math.random()*h.width,r.y=h.y+Math.random()*h.height,r};i.exports=G},86470:(i,$,e)=>{var u=e(30976),G=e(70273),h=e(2141),r=function(o,n,l){if(l===void 0&&(l=new h),G(o,n))switch(u(0,3)){case 0:l.x=o.x+Math.random()*(n.right-o.x),l.y=o.y+Math.random()*(n.top-o.y);break;case 1:l.x=n.x+Math.random()*(o.right-n.x),l.y=n.bottom+Math.random()*(o.bottom-n.bottom);break;case 2:l.x=o.x+Math.random()*(n.x-o.x),l.y=n.y+Math.random()*(o.bottom-n.y);break;case 3:l.x=n.right+Math.random()*(o.right-n.right),l.y=o.y+Math.random()*(n.bottom-o.y);break}return l};i.exports=r},87841:(i,$,e)=>{var u=e(83419),G=e(37303),h=e(20812),r=e(34819),o=e(23777),n=e(23031),l=e(26597),f=new u({initialize:function(d,p,c,g){d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),this.type=o.RECTANGLE,this.x=d,this.y=p,this.width=c,this.height=g},contains:function(s,d){return G(this,s,d)},getPoint:function(s,d){return h(this,s,d)},getPoints:function(s,d,p){return r(this,s,d,p)},getRandomPoint:function(s){return l(this,s)},setTo:function(s,d,p,c){return this.x=s,this.y=d,this.width=p,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,d){return d===void 0&&(d=s),this.x=s,this.y=d,this},setSize:function(s,d){return d===void 0&&(d=s),this.width=s,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new n),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new n),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new n),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new n),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});i.exports=f},94845:i=>{var $=function(e,u){return e.width===u.width&&e.height===u.height};i.exports=$},31730:i=>{var $=function(e,u,G){return G===void 0&&(G=u),e.width*=u,e.height*=G,e};i.exports=$},36899:(i,$,e)=>{var u=e(87841),G=function(h,r,o){o===void 0&&(o=new u);var n=Math.min(h.x,r.x),l=Math.min(h.y,r.y),f=Math.max(h.right,r.right)-n,s=Math.max(h.bottom,r.bottom)-l;return o.setTo(n,l,f,s)};i.exports=G},93232:(i,$,e)=>{var u=e(87841);u.Area=e(62224),u.Ceil=e(98615),u.CeilAll=e(31688),u.CenterOn=e(67502),u.Clone=e(65085),u.Contains=e(37303),u.ContainsPoint=e(96553),u.ContainsRect=e(70273),u.CopyFrom=e(43459),u.Decompose=e(77493),u.Equals=e(9219),u.FitInside=e(53751),u.FitOutside=e(16088),u.Floor=e(80774),u.FloorAll=e(83859),u.FromPoints=e(19217),u.FromXY=e(9477),u.GetAspectRatio=e(8249),u.GetCenter=e(27165),u.GetPoint=e(20812),u.GetPoints=e(34819),u.GetSize=e(51313),u.Inflate=e(86091),u.Intersection=e(53951),u.MarchingAnts=e(14649),u.MergePoints=e(33595),u.MergeRect=e(20074),u.MergeXY=e(92171),u.Offset=e(42981),u.OffsetPoint=e(46907),u.Overlaps=e(60170),u.Perimeter=e(13019),u.PerimeterPoint=e(85133),u.Random=e(26597),u.RandomOutside=e(86470),u.SameDimensions=e(94845),u.Scale=e(31730),u.Union=e(36899),i.exports=u},41658:i=>{var $=function(e){var u=e.x1,G=e.y1,h=e.x2,r=e.y2,o=e.x3,n=e.y3;return Math.abs(((o-u)*(r-G)-(h-u)*(n-G))/2)};i.exports=$},39208:(i,$,e)=>{var u=e(16483),G=function(h,r,o){var n=o*(Math.sqrt(3)/2),l=h,f=r,s=h+o/2,d=r+n,p=h-o/2,c=r+n;return new u(l,f,s,d,p,c)};i.exports=G},39545:(i,$,e)=>{var u=e(94811),G=e(16483),h=function(r,o,n,l,f){o===void 0&&(o=null),n===void 0&&(n=1),l===void 0&&(l=1),f===void 0&&(f=[]);for(var s=u(r,o),d,p,c,g,j,k,tt,_,nt,it=0;it<s.length;it+=3)d=s[it],p=s[it+1],c=s[it+2],g=r[d*2]*n,j=r[d*2+1]*l,k=r[p*2]*n,tt=r[p*2+1]*l,_=r[c*2]*n,nt=r[c*2+1]*l,f.push(new G(g,j,k,tt,_,nt));return f};i.exports=h},90301:(i,$,e)=>{var u=e(16483),G=function(h,r,o,n){n===void 0&&(n=o);var l=h,f=r,s=h,d=r-n,p=h+o,c=r;return new u(l,f,s,d,p,c)};i.exports=G},23707:(i,$,e)=>{var u=e(97523),G=e(13584),h=function(r,o,n,l){l===void 0&&(l=u);var f=l(r),s=o-f.x,d=n-f.y;return G(r,s,d)};i.exports=h},97523:(i,$,e)=>{var u=e(2141),G=function(h,r){return r===void 0&&(r=new u),r.x=(h.x1+h.x2+h.x3)/3,r.y=(h.y1+h.y2+h.y3)/3,r};i.exports=G},24951:(i,$,e)=>{var u=e(26099);function G(r,o,n,l){return r*l-o*n}var h=function(r,o){o===void 0&&(o=new u);var n=r.x3,l=r.y3,f=r.x1-n,s=r.y1-l,d=r.x2-n,p=r.y2-l,c=2*G(f,s,d,p),g=G(s,f*f+s*s,p,d*d+p*p),j=G(f,f*f+s*s,d,d*d+p*p);return o.x=n-g/c,o.y=l+j/c,o};i.exports=h},85614:(i,$,e)=>{var u=e(96503),G=function(h,r){r===void 0&&(r=new u);var o=h.x1,n=h.y1,l=h.x2,f=h.y2,s=h.x3,d=h.y3,p=l-o,c=f-n,g=s-o,j=d-n,k=p*(o+l)+c*(n+f),tt=g*(o+s)+j*(n+d),_=2*(p*(d-f)-c*(s-l)),nt,it;if(Math.abs(_)<1e-6){var rt=Math.min(o,l,s),st=Math.min(n,f,d);nt=(Math.max(o,l,s)-rt)*.5,it=(Math.max(n,f,d)-st)*.5,r.x=rt+nt,r.y=st+it,r.radius=Math.sqrt(nt*nt+it*it)}else r.x=(j*k-c*tt)/_,r.y=(p*tt-g*k)/_,nt=r.x-o,it=r.y-n,r.radius=Math.sqrt(nt*nt+it*it);return r};i.exports=G},74422:(i,$,e)=>{var u=e(16483),G=function(h){return new u(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)};i.exports=G},10690:i=>{var $=function(e,u,G){var h=e.x3-e.x1,r=e.y3-e.y1,o=e.x2-e.x1,n=e.y2-e.y1,l=u-e.x1,f=G-e.y1,s=h*h+r*r,d=h*o+r*n,p=h*l+r*f,c=o*o+n*n,g=o*l+n*f,j=s*c-d*d,k=j===0?0:1/j,tt=(c*p-d*g)*k,_=(s*g-d*p)*k;return tt>=0&&_>=0&&tt+_<1};i.exports=$},48653:i=>{var $=function(e,u,G,h){G===void 0&&(G=!1),h===void 0&&(h=[]);for(var r=e.x3-e.x1,o=e.y3-e.y1,n=e.x2-e.x1,l=e.y2-e.y1,f=r*r+o*o,s=r*n+o*l,d=n*n+l*l,p=f*d-s*s,c=p===0?0:1/p,g,j,k,tt,_,nt,it=e.x1,rt=e.y1,st=0;st<u.length&&(k=u[st].x-it,tt=u[st].y-rt,_=r*k+o*tt,nt=n*k+l*tt,g=(d*_-s*nt)*c,j=(f*nt-s*_)*c,!(g>=0&&j>=0&&g+j<1&&(h.push({x:u[st].x,y:u[st].y}),G)));st++);return h};i.exports=$},96006:(i,$,e)=>{var u=e(10690),G=function(h,r){return u(h,r.x,r.y)};i.exports=G},71326:i=>{var $=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};i.exports=$},71694:i=>{var $=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x1,y:e.y1}),u.push({x:e.x2,y:e.y2}),u.push({x:e.x3,y:e.y3}),u};i.exports=$},33522:i=>{var $=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2&&e.x3===u.x3&&e.y3===u.y3};i.exports=$},20437:(i,$,e)=>{var u=e(2141),G=e(35001),h=function(r,o,n){n===void 0&&(n=new u);var l=r.getLineA(),f=r.getLineB(),s=r.getLineC();if(o<=0||o>=1)return n.x=l.x1,n.y=l.y1,n;var d=G(l),p=G(f),c=G(s),g=d+p+c,j=g*o,k=0;return j<d?(k=j/d,n.x=l.x1+(l.x2-l.x1)*k,n.y=l.y1+(l.y2-l.y1)*k):j>d+p?(j-=d+p,k=j/c,n.x=s.x1+(s.x2-s.x1)*k,n.y=s.y1+(s.y2-s.y1)*k):(j-=d,k=j/p,n.x=f.x1+(f.x2-f.x1)*k,n.y=f.y1+(f.y2-f.y1)*k),n};i.exports=h},80672:(i,$,e)=>{var u=e(35001),G=e(2141),h=function(r,o,n,l){l===void 0&&(l=[]);var f=r.getLineA(),s=r.getLineB(),d=r.getLineC(),p=u(f),c=u(s),g=u(d),j=p+c+g;!o&&n>0&&(o=j/n);for(var k=0;k<o;k++){var tt=j*(k/o),_=0,nt=new G;tt<p?(_=tt/p,nt.x=f.x1+(f.x2-f.x1)*_,nt.y=f.y1+(f.y2-f.y1)*_):tt>p+c?(tt-=p+c,_=tt/g,nt.x=d.x1+(d.x2-d.x1)*_,nt.y=d.y1+(d.y2-d.y1)*_):(tt-=p,_=tt/c,nt.x=s.x1+(s.x2-s.x1)*_,nt.y=s.y1+(s.y2-s.y1)*_),l.push(nt)}return l};i.exports=h},39757:(i,$,e)=>{var u=e(2141);function G(r,o,n,l){var f=r-n,s=o-l,d=f*f+s*s;return Math.sqrt(d)}var h=function(r,o){o===void 0&&(o=new u);var n=r.x1,l=r.y1,f=r.x2,s=r.y2,d=r.x3,p=r.y3,c=G(d,p,f,s),g=G(n,l,d,p),j=G(f,s,n,l),k=c+g+j;return o.x=(n*c+f*g+d*j)/k,o.y=(l*c+s*g+p*j)/k,o};i.exports=h},13584:i=>{var $=function(e,u,G){return e.x1+=u,e.y1+=G,e.x2+=u,e.y2+=G,e.x3+=u,e.y3+=G,e};i.exports=$},1376:(i,$,e)=>{var u=e(35001),G=function(h){var r=h.getLineA(),o=h.getLineB(),n=h.getLineC();return u(r)+u(o)+u(n)};i.exports=G},90260:(i,$,e)=>{var u=e(2141),G=function(h,r){r===void 0&&(r=new u);var o=h.x2-h.x1,n=h.y2-h.y1,l=h.x3-h.x1,f=h.y3-h.y1,s=Math.random(),d=Math.random();return s+d>=1&&(s=1-s,d=1-d),r.x=h.x1+(o*s+l*d),r.y=h.y1+(n*s+f*d),r};i.exports=G},52172:(i,$,e)=>{var u=e(99614),G=e(39757),h=function(r,o){var n=G(r);return u(r,n.x,n.y,o)};i.exports=h},49907:(i,$,e)=>{var u=e(99614),G=function(h,r,o){return u(h,r.x,r.y,o)};i.exports=G},99614:i=>{var $=function(e,u,G,h){var r=Math.cos(h),o=Math.sin(h),n=e.x1-u,l=e.y1-G;return e.x1=n*r-l*o+u,e.y1=n*o+l*r+G,n=e.x2-u,l=e.y2-G,e.x2=n*r-l*o+u,e.y2=n*o+l*r+G,n=e.x3-u,l=e.y3-G,e.x3=n*r-l*o+u,e.y3=n*o+l*r+G,e};i.exports=$},16483:(i,$,e)=>{var u=e(83419),G=e(10690),h=e(20437),r=e(80672),o=e(23777),n=e(23031),l=e(90260),f=new u({initialize:function(d,p,c,g,j,k){d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),j===void 0&&(j=0),k===void 0&&(k=0),this.type=o.TRIANGLE,this.x1=d,this.y1=p,this.x2=c,this.y2=g,this.x3=j,this.y3=k},contains:function(s,d){return G(this,s,d)},getPoint:function(s,d){return h(this,s,d)},getPoints:function(s,d,p){return r(this,s,d,p)},getRandomPoint:function(s){return l(this,s)},setTo:function(s,d,p,c,g,j){return s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),j===void 0&&(j=0),this.x1=s,this.y1=d,this.x2=p,this.y2=c,this.x3=g,this.y3=j,this},getLineA:function(s){return s===void 0&&(s=new n),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new n),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new n),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var d=0;this.x1<=this.x2&&this.x1<=this.x3?d=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?d=this.x2-s:d=this.x3-s,this.x1-=d,this.x2-=d,this.x3-=d}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var d=0;this.x1>=this.x2&&this.x1>=this.x3?d=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?d=this.x2-s:d=this.x3-s,this.x1-=d,this.x2-=d,this.x3-=d}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var d=0;this.y1<=this.y2&&this.y1<=this.y3?d=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?d=this.y2-s:d=this.y3-s,this.y1-=d,this.y2-=d,this.y3-=d}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var d=0;this.y1>=this.y2&&this.y1>=this.y3?d=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?d=this.y2-s:d=this.y3-s,this.y1-=d,this.y2-=d,this.y3-=d}}});i.exports=f},84435:(i,$,e)=>{var u=e(16483);u.Area=e(41658),u.BuildEquilateral=e(39208),u.BuildFromPolygon=e(39545),u.BuildRight=e(90301),u.CenterOn=e(23707),u.Centroid=e(97523),u.CircumCenter=e(24951),u.CircumCircle=e(85614),u.Clone=e(74422),u.Contains=e(10690),u.ContainsArray=e(48653),u.ContainsPoint=e(96006),u.CopyFrom=e(71326),u.Decompose=e(71694),u.Equals=e(33522),u.GetPoint=e(20437),u.GetPoints=e(80672),u.InCenter=e(39757),u.Perimeter=e(1376),u.Offset=e(13584),u.Random=e(90260),u.Rotate=e(52172),u.RotateAroundPoint=e(49907),u.RotateAroundXY=e(99614),i.exports=u},74457:i=>{var $=function(e,u,G){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:G,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};i.exports=$},84409:i=>{var $=function(e,u){return function(G,h,r,o){var n=e.getPixelAlpha(h,r,o.texture.key,o.frame.name);return n&&n>=u}};i.exports=$},7003:(i,$,e)=>{var u=e(83419),G=e(93301),h=e(50792),r=e(8214),o=e(8443),n=e(78970),l=e(85098),f=e(42515),s=e(36210),d=e(61340),p=e(85955),c=new u({initialize:function(j,k){this.game=j,this.scaleManager,this.canvas,this.config=k,this.enabled=!0,this.events=new h,this.isOver=!0,this.defaultCursor="",this.keyboard=k.inputKeyboard?new n(this):null,this.mouse=k.inputMouse?new l(this):null,this.touch=k.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=k.inputActivePointers,k.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var tt=0;tt<=this.pointersTotal;tt++){var _=new f(this,tt);_.smoothFactor=k.inputSmoothFactor,this.pointers.push(_)}this.mousePointer=k.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],j.events.once(o.BOOT,this.boot,this)},boot:function(){var g=this.game,j=g.events;this.canvas=g.canvas,this.scaleManager=g.scale,this.events.emit(r.MANAGER_BOOT),j.on(o.PRE_RENDER,this.preRender,this),j.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(g){this.isOver=!0,this.events.emit(r.GAME_OVER,g)},setCanvasOut:function(g){this.isOver=!1,this.events.emit(r.GAME_OUT,g)},preRender:function(){var g=this.game.loop.now,j=this.game.loop.delta,k=this.game.scene.getScenes(!0,!0);this.time=g,this.events.emit(r.MANAGER_UPDATE);for(var tt=0;tt<k.length;tt++){var _=k[tt];if(_.sys.input&&_.sys.input.updatePoll(g,j)&&this.globalTopOnly)return}},setDefaultCursor:function(g){this.defaultCursor=g,this.canvas.style.cursor!==g&&(this.canvas.style.cursor=g)},setCursor:function(g){g.cursor&&(this.canvas.style.cursor=g.cursor)},resetCursor:function(g){g.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(g){g===void 0&&(g=1);var j=[];this.pointersTotal+g>10&&(g=10-this.pointersTotal);for(var k=0;k<g;k++){var tt=this.pointers.length,_=new f(this,tt);_.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(_),this.pointersTotal++,j.push(_)}return j},updateInputPlugins:function(g,j){var k=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var tt=0;tt<k.length;tt++){var _=k[tt];if(_.sys.input){var nt=_.sys.input.update(g,j);if(nt&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(g){for(var j=this.pointers,k=[],tt=0;tt<g.changedTouches.length;tt++)for(var _=g.changedTouches[tt],nt=1;nt<this.pointersTotal;nt++){var it=j[nt];if(!it.active){it.touchstart(_,g),this.activePointer=it,k.push(it);break}}this.updateInputPlugins(G.TOUCH_START,k)},onTouchMove:function(g){for(var j=this.pointers,k=[],tt=0;tt<g.changedTouches.length;tt++)for(var _=g.changedTouches[tt],nt=1;nt<this.pointersTotal;nt++){var it=j[nt];if(it.active&&it.identifier===_.identifier){var rt=document.elementFromPoint(_.clientX,_.clientY),st=rt===this.canvas;!this.isOver&&st?this.setCanvasOver(g):this.isOver&&!st&&this.setCanvasOut(g),this.isOver&&(it.touchmove(_,g),this.activePointer=it,k.push(it));break}}this.updateInputPlugins(G.TOUCH_MOVE,k)},onTouchEnd:function(g){for(var j=this.pointers,k=[],tt=0;tt<g.changedTouches.length;tt++)for(var _=g.changedTouches[tt],nt=1;nt<this.pointersTotal;nt++){var it=j[nt];if(it.active&&it.identifier===_.identifier){it.touchend(_,g),k.push(it);break}}this.updateInputPlugins(G.TOUCH_END,k)},onTouchCancel:function(g){for(var j=this.pointers,k=[],tt=0;tt<g.changedTouches.length;tt++)for(var _=g.changedTouches[tt],nt=1;nt<this.pointersTotal;nt++){var it=j[nt];if(it.active&&it.identifier===_.identifier){it.touchcancel(_,g),k.push(it);break}}this.updateInputPlugins(G.TOUCH_CANCEL,k)},onMouseDown:function(g){var j=this.mousePointer;j.down(g),j.updateMotion(),this.activePointer=j,this.updateInputPlugins(G.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(g){var j=this.mousePointer;j.move(g),j.updateMotion(),this.activePointer=j,this.updateInputPlugins(G.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(g){var j=this.mousePointer;j.up(g),j.updateMotion(),this.activePointer=j,this.updateInputPlugins(G.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(g){var j=this.mousePointer;j.wheel(g),this.activePointer=j,this.updateInputPlugins(G.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(g){var j=this.mouse.locked;this.mousePointer.locked=j,this.events.emit(r.POINTERLOCK_CHANGE,g,j)},inputCandidate:function(g,j){var k=g.input;if(!k||!k.enabled||!g.willRender(j))return!1;var tt=!0,_=g.parentContainer;if(_)do{if(!_.willRender(j)){tt=!1;break}_=_.parentContainer}while(_);return tt},hitTest:function(g,j,k,tt){tt===void 0&&(tt=this._tempHitTest);var _=this._tempPoint,nt=k.scrollX,it=k.scrollY;tt.length=0;var rt=g.x,st=g.y;k.getWorldPoint(rt,st,_),g.worldX=_.x,g.worldY=_.y;for(var at={x:0,y:0},ot=this._tempMatrix,ht=this._tempMatrix2,dt=0;dt<j.length;dt++){var ut=j[dt];if(this.inputCandidate(ut,k)){var ft=_.x+nt*ut.scrollFactorX-nt,gt=_.y+it*ut.scrollFactorY-it;ut.parentContainer?(ut.getWorldTransformMatrix(ot,ht),ot.applyInverse(ft,gt,at)):p(ft,gt,ut.x,ut.y,ut.rotation,ut.scaleX,ut.scaleY,at),this.pointWithinHitArea(ut,at.x,at.y)&&tt.push(ut)}}return tt},pointWithinHitArea:function(g,j,k){j+=g.displayOriginX,k+=g.displayOriginY;var tt=g.input;return tt&&tt.hitAreaCallback(tt.hitArea,j,k,g)?(tt.localX=j,tt.localY=k,!0):!1},pointWithinInteractiveObject:function(g,j,k){return g.hitArea?(j+=g.gameObject.displayOriginX,k+=g.gameObject.displayOriginY,g.localX=j,g.localY=k,g.hitAreaCallback(g.hitArea,j,k,g)):!1},transformPointer:function(g,j,k,tt){var _=g.position,nt=g.prevPosition;nt.x=_.x,nt.y=_.y;var it=this.scaleManager.transformX(j),rt=this.scaleManager.transformY(k),st=g.smoothFactor;!tt||st===0?(_.x=it,_.y=rt):(_.x=it*st+nt.x*(1-st),_.y=rt*st+nt.y*(1-st))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var g=0;g<this.pointers.length;g++)this.pointers[g].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});i.exports=c},48205:(i,$,e)=>{var u=e(96503),G=e(87902),h=e(83419),r=e(93301),o=e(74457),n=e(84409),l=e(20339),f=e(8497),s=e(81154),d=e(8214),p=e(50792),c=e(95540),g=e(23777),j=e(89639),k=e(41212),tt=e(37277),_=e(87841),nt=e(37303),it=e(44594),rt=e(16483),st=e(10690),at=new h({Extends:p,initialize:function(ht){p.call(this),this.scene=ht,this.systems=ht.sys,this.settings=ht.sys.settings,this.manager=ht.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,j.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var dt={cancelled:!1};this._eventContainer={stopPropagation:function(){dt.cancelled=!0}},this._eventData=dt,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,ht.sys.events.once(it.BOOT,this.boot,this),ht.sys.events.on(it.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(it.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var ot=this.systems.events;ot.on(it.TRANSITION_START,this.transitionIn,this),ot.on(it.TRANSITION_OUT,this.transitionOut,this),ot.on(it.TRANSITION_COMPLETE,this.transitionComplete,this),ot.on(it.PRE_UPDATE,this.preUpdate,this),ot.once(it.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(ot){this.isActive()&&this.emit(d.GAME_OVER,ot.timeStamp,ot)},onGameOut:function(ot){this.isActive()&&this.emit(d.GAME_OUT,ot.timeStamp,ot)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var ot=this._pendingRemoval,ht=this._pendingInsertion,dt=ot.length,ut=ht.length;if(!(dt===0&&ut===0)){for(var ft=this._list,gt=0;gt<dt;gt++){var xt=ot[gt],Et=ft.indexOf(xt);Et>-1&&(ft.splice(Et,1),this.clear(xt,!0))}this._pendingRemoval.length=0,this._list=ft.concat(ht.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(ot,ht){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,ot,ht),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var dt,ut=this.manager,ft=ut.pointers,gt=ut.pointersTotal;for(dt=0;dt<gt;dt++)ft[dt].updateMotion();if(this._list.length===0)return!1;var xt=this.pollRate;if(xt===-1)return!1;if(xt>0)if(this._pollTimer-=ht,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Et=!1;for(dt=0;dt<gt;dt++){var pt=0,mt=ft[dt];this._tempZones=[],this._temp=this.hitTestPointer(mt),this.sortGameObjects(this._temp,mt),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),pt+=this.processOverOutEvents(mt),this.getDragState(mt)===2&&this.processDragThresholdEvent(mt,ot),pt>0&&(Et=!0)}return Et},update:function(ot,ht){if(!this.isActive())return!1;for(var dt=ht.length,ut=!1,ft=0;ft<dt;ft++){var gt=0,xt=ht[ft];switch(this._tempZones=[],this._temp=this.hitTestPointer(xt),this.sortGameObjects(this._temp,xt),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),ot){case r.MOUSE_DOWN:gt+=this.processDragDownEvent(xt),gt+=this.processDownEvents(xt),gt+=this.processOverOutEvents(xt);break;case r.MOUSE_UP:gt+=this.processDragUpEvent(xt),gt+=this.processUpEvents(xt),gt+=this.processOverOutEvents(xt);break;case r.TOUCH_START:gt+=this.processDragDownEvent(xt),gt+=this.processDownEvents(xt),gt+=this.processOverEvents(xt);break;case r.TOUCH_END:case r.TOUCH_CANCEL:gt+=this.processDragUpEvent(xt),gt+=this.processUpEvents(xt),gt+=this.processOutEvents(xt);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:gt+=this.processDragMoveEvent(xt),gt+=this.processMoveEvents(xt),gt+=this.processOverOutEvents(xt);break;case r.MOUSE_WHEEL:gt+=this.processWheelEvent(xt);break}gt>0&&(ut=!0)}return this._updatedThisFrame=!0,ut},clear:function(ot,ht){ht===void 0&&(ht=!1),this.disable(ot);var dt=ot.input;dt&&(this.removeDebug(ot),this.manager.resetCursor(dt),dt.gameObject=void 0,dt.target=void 0,dt.hitArea=void 0,dt.hitAreaCallback=void 0,dt.callbackContext=void 0,ot.input=null),ht||this.queueForRemoval(ot);var ut=this._draggable.indexOf(ot);return ut>-1&&this._draggable.splice(ut,1),ot},disable:function(ot){var ht=ot.input;ht&&(ht.enabled=!1,ht.dragState=0);for(var dt=this._drag,ut=this._over,ft=this.manager,gt=0,xt;gt<ft.pointersTotal;gt++)xt=dt[gt].indexOf(ot),xt>-1&&dt[gt].splice(xt,1),xt=ut[gt].indexOf(ot),xt>-1&&ut[gt].splice(xt,1);return this},enable:function(ot,ht,dt,ut){return ut===void 0&&(ut=!1),ot.input?ot.input.enabled=!0:this.setHitArea(ot,ht,dt),ot.input&&ut&&!ot.input.dropZone&&(ot.input.dropZone=ut),this},hitTestPointer:function(ot){for(var ht=this.cameras.getCamerasBelowPointer(ot),dt=0;dt<ht.length;dt++){for(var ut=ht[dt],ft=this.manager.hitTest(ot,this._list,ut),gt=0;gt<ft.length;gt++){var xt=ft[gt];xt.input.dropZone&&this._tempZones.push(xt)}if(ft.length>0)return ot.camera=ut,ft}return ot.camera=ht[0],[]},processDownEvents:function(ot){var ht=0,dt=this._temp,ut=this._eventData,ft=this._eventContainer;ut.cancelled=!1;for(var gt=!1,xt=0;xt<dt.length;xt++){var Et=dt[xt];if(!(!Et.input||!Et.input.enabled)){if(ht++,Et.emit(d.GAMEOBJECT_POINTER_DOWN,ot,Et.input.localX,Et.input.localY,ft),ut.cancelled||!Et.input||!Et.input.enabled){gt=!0;break}if(this.emit(d.GAMEOBJECT_DOWN,ot,Et,ft),ut.cancelled||!Et.input){gt=!0;break}}}return!gt&&this.manager&&(ot.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,ot,dt):this.emit(d.POINTER_DOWN_OUTSIDE,ot)),ht},getDragState:function(ot){return this._dragState[ot.id]},setDragState:function(ot,ht){this._dragState[ot.id]=ht},processDragThresholdEvent:function(ot,ht){var dt=!1,ut=this.dragTimeThreshold,ft=this.dragDistanceThreshold;if((ft>0&&l(ot.x,ot.y,ot.downX,ot.downY)>=ft||ut>0&&ht>=ot.downTime+ut)&&(dt=!0),dt)return this.setDragState(ot,3),this.processDragStartList(ot)},processDragStartList:function(ot){if(this.getDragState(ot)!==3)return 0;for(var ht=this._drag[ot.id],dt=0;dt<ht.length;dt++){var ut=ht[dt],ft=ut.input;ft.dragState=2,ft.dragStartX=ut.x,ft.dragStartY=ut.y,ft.dragStartXGlobal=ot.worldX,ft.dragStartYGlobal=ot.worldY,ft.dragX=ft.dragStartXGlobal-ft.dragStartX,ft.dragY=ft.dragStartYGlobal-ft.dragStartY,ut.emit(d.GAMEOBJECT_DRAG_START,ot,ft.dragX,ft.dragY),this.emit(d.DRAG_START,ot,ut)}return this.setDragState(ot,4),ht.length},processDragDownEvent:function(ot){var ht=this._temp;if(this._draggable.length===0||ht.length===0||!ot.primaryDown||this.getDragState(ot)!==0)return 0;this.setDragState(ot,1);for(var dt=[],ut=0;ut<ht.length;ut++){var ft=ht[ut];ft.input.draggable&&ft.input.dragState===0&&dt.push(ft)}return dt.length===0?(this.setDragState(ot,0),0):(dt.length>1&&(this.sortGameObjects(dt,ot),this.topOnly&&dt.splice(1)),this._drag[ot.id]=dt,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(ot,3),this.processDragStartList(ot)):(this.setDragState(ot,2),0))},processDragMoveEvent:function(ot){if(this.getDragState(ot)===2&&this.processDragThresholdEvent(ot,this.manager.game.loop.now),this.getDragState(ot)!==4)return 0;for(var ht=this._tempZones,dt=this._drag[ot.id],ut=0;ut<dt.length;ut++){var ft=dt[ut],gt=ft.input,xt=gt.target;if(xt){var Et=ht.indexOf(xt);Et===0?(ft.emit(d.GAMEOBJECT_DRAG_OVER,ot,xt),this.emit(d.DRAG_OVER,ot,ft,xt)):Et>0?(ft.emit(d.GAMEOBJECT_DRAG_LEAVE,ot,xt),this.emit(d.DRAG_LEAVE,ot,ft,xt),gt.target=ht[0],xt=gt.target,ft.emit(d.GAMEOBJECT_DRAG_ENTER,ot,xt),this.emit(d.DRAG_ENTER,ot,ft,xt)):(ft.emit(d.GAMEOBJECT_DRAG_LEAVE,ot,xt),this.emit(d.DRAG_LEAVE,ot,ft,xt),ht[0]?(gt.target=ht[0],xt=gt.target,ft.emit(d.GAMEOBJECT_DRAG_ENTER,ot,xt),this.emit(d.DRAG_ENTER,ot,ft,xt)):gt.target=null)}else!xt&&ht[0]&&(gt.target=ht[0],xt=gt.target,ft.emit(d.GAMEOBJECT_DRAG_ENTER,ot,xt),this.emit(d.DRAG_ENTER,ot,ft,xt));var pt,mt;if(!ft.parentContainer)pt=ot.worldX-gt.dragX,mt=ot.worldY-gt.dragY;else{var lt=ot.worldX-gt.dragStartXGlobal,ct=ot.worldY-gt.dragStartYGlobal,vt=ft.getParentRotation(),yt=lt*Math.cos(vt)+ct*Math.sin(vt),Tt=ct*Math.cos(vt)-lt*Math.sin(vt);yt*=1/ft.parentContainer.scaleX,Tt*=1/ft.parentContainer.scaleY,pt=yt+gt.dragStartX,mt=Tt+gt.dragStartY}ft.emit(d.GAMEOBJECT_DRAG,ot,pt,mt),this.emit(d.DRAG,ot,ft,pt,mt)}return dt.length},processDragUpEvent:function(ot){for(var ht=this._drag[ot.id],dt=0;dt<ht.length;dt++){var ut=ht[dt],ft=ut.input;if(ft&&ft.dragState===2){ft.dragState=0,ft.dragX=ft.localX-ut.displayOriginX,ft.dragY=ft.localY-ut.displayOriginY;var gt=!1,xt=ft.target;xt&&(ut.emit(d.GAMEOBJECT_DROP,ot,xt),this.emit(d.DROP,ot,ut,xt),ft.target=null,gt=!0),ut.input&&ut.input.enabled&&(ut.emit(d.GAMEOBJECT_DRAG_END,ot,ft.dragX,ft.dragY,gt),this.emit(d.DRAG_END,ot,ut,gt))}}return this.setDragState(ot,0),ht.splice(0),0},processMoveEvents:function(ot){var ht=0,dt=this._temp,ut=this._eventData,ft=this._eventContainer;ut.cancelled=!1;for(var gt=!1,xt=0;xt<dt.length;xt++){var Et=dt[xt];if(!(!Et.input||!Et.input.enabled)){if(ht++,Et.emit(d.GAMEOBJECT_POINTER_MOVE,ot,Et.input.localX,Et.input.localY,ft),ut.cancelled||!Et.input||!Et.input.enabled){gt=!0;break}if(this.emit(d.GAMEOBJECT_MOVE,ot,Et,ft),ut.cancelled||!Et.input||!Et.input.enabled){gt=!0;break}if(this.topOnly)break}}return gt||this.emit(d.POINTER_MOVE,ot,dt),ht},processWheelEvent:function(ot){var ht=0,dt=this._temp,ut=this._eventData,ft=this._eventContainer;ut.cancelled=!1;for(var gt=!1,xt=ot.deltaX,Et=ot.deltaY,pt=ot.deltaZ,mt=0;mt<dt.length;mt++){var lt=dt[mt];if(!(!lt.input||!lt.input.enabled)){if(ht++,lt.emit(d.GAMEOBJECT_POINTER_WHEEL,ot,xt,Et,pt,ft),ut.cancelled||!lt.input||!lt.input.enabled){gt=!0;break}if(this.emit(d.GAMEOBJECT_WHEEL,ot,lt,xt,Et,pt,ft),ut.cancelled||!lt.input||!lt.input.enabled){gt=!0;break}}}return gt||this.emit(d.POINTER_WHEEL,ot,dt,xt,Et,pt),ht},processOverEvents:function(ot){var ht=this._temp,dt=0,ut=ht.length,ft=[];if(ut>0){var gt=this.manager,xt=this._eventData,Et=this._eventContainer;xt.cancelled=!1;for(var pt=!1,mt=0;mt<ut;mt++){var lt=ht[mt];if(!(!lt.input||!lt.input.enabled)){if(ft.push(lt),gt.setCursor(lt.input),lt.emit(d.GAMEOBJECT_POINTER_OVER,ot,lt.input.localX,lt.input.localY,Et),dt++,xt.cancelled||!lt.input||!lt.input.enabled){pt=!0;break}if(this.emit(d.GAMEOBJECT_OVER,ot,lt,Et),xt.cancelled||!lt.input||!lt.input.enabled){pt=!0;break}}}pt||this.emit(d.POINTER_OVER,ot,ft)}return this._over[ot.id]=ft,dt},processOutEvents:function(ot){var ht=this._over[ot.id],dt=0,ut=ht.length;if(ut>0){var ft=this.manager,gt=this._eventData,xt=this._eventContainer;gt.cancelled=!1;var Et=!1;this.sortGameObjects(ht,ot);for(var pt=0;pt<ut;pt++){var mt=ht[pt];if(mt=ht[pt],!(!mt.input||!mt.input.enabled)){if(ft.resetCursor(mt.input),mt.emit(d.GAMEOBJECT_POINTER_OUT,ot,xt),dt++,gt.cancelled||!mt.input||!mt.input.enabled){Et=!0;break}if(this.emit(d.GAMEOBJECT_OUT,ot,mt,xt),gt.cancelled||!mt.input||!mt.input.enabled){Et=!0;break}Et||this.emit(d.POINTER_OUT,ot,ht)}}this._over[ot.id]=[]}return dt},processOverOutEvents:function(ot){var ht=this._temp,dt,ut,ft=[],gt=[],xt=[],Et=this._over[ot.id],pt=this._drag[ot.id],mt=this.manager;for(dt=0;dt<Et.length;dt++)ut=Et[dt],ht.indexOf(ut)===-1&&pt.indexOf(ut)===-1?ft.push(ut):xt.push(ut);for(dt=0;dt<ht.length;dt++)ut=ht[dt],Et.indexOf(ut)===-1&&gt.push(ut);var lt=ft.length,ct=0,vt=this._eventData,yt=this._eventContainer;vt.cancelled=!1;var Tt=!1;if(lt>0){for(this.sortGameObjects(ft,ot),dt=0;dt<lt;dt++)if(ut=ft[dt],!(!ut.input||!ut.input.enabled)){if(mt.resetCursor(ut.input),ut.emit(d.GAMEOBJECT_POINTER_OUT,ot,yt),ct++,vt.cancelled||!ut.input||!ut.input.enabled){Tt=!0;break}if(this.emit(d.GAMEOBJECT_OUT,ot,ut,yt),vt.cancelled||!ut.input||!ut.input.enabled){Tt=!0;break}}Tt||this.emit(d.POINTER_OUT,ot,ft)}if(lt=gt.length,vt.cancelled=!1,Tt=!1,lt>0){for(this.sortGameObjects(gt,ot),dt=0;dt<lt;dt++)if(ut=gt[dt],!(!ut.input||!ut.input.enabled)){if(mt.setCursor(ut.input),ut.emit(d.GAMEOBJECT_POINTER_OVER,ot,ut.input.localX,ut.input.localY,yt),ct++,vt.cancelled||!ut.input||!ut.input.enabled){Tt=!0;break}if(this.emit(d.GAMEOBJECT_OVER,ot,ut,yt),vt.cancelled||!ut.input||!ut.input.enabled){Tt=!0;break}}Tt||this.emit(d.POINTER_OVER,ot,gt)}return Et=xt.concat(gt),this._over[ot.id]=this.sortGameObjects(Et,ot),ct},processUpEvents:function(ot){var ht=this._temp,dt=this._eventData,ut=this._eventContainer;dt.cancelled=!1;for(var ft=!1,gt=0;gt<ht.length;gt++){var xt=ht[gt];if(!(!xt.input||!xt.input.enabled)){if(xt.emit(d.GAMEOBJECT_POINTER_UP,ot,xt.input.localX,xt.input.localY,ut),dt.cancelled||!xt.input||!xt.input.enabled){ft=!0;break}if(this.emit(d.GAMEOBJECT_UP,ot,xt,ut),dt.cancelled||!xt.input||!xt.input.enabled){ft=!0;break}}}return!ft&&this.manager&&(ot.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,ot,ht):this.emit(d.POINTER_UP_OUTSIDE,ot)),ht.length},queueForInsertion:function(ot){return this._pendingInsertion.indexOf(ot)===-1&&this._list.indexOf(ot)===-1&&this._pendingInsertion.push(ot),this},queueForRemoval:function(ot){return this._pendingRemoval.push(ot),this},setDraggable:function(ot,ht){ht===void 0&&(ht=!0),Array.isArray(ot)||(ot=[ot]);for(var dt=0;dt<ot.length;dt++){var ut=ot[dt];ut.input.draggable=ht;var ft=this._draggable.indexOf(ut);ht&&ft===-1?this._draggable.push(ut):!ht&&ft>-1&&this._draggable.splice(ft,1)}return this},makePixelPerfect:function(ot){ot===void 0&&(ot=1);var ht=this.systems.textures;return n(ht,ot)},setHitArea:function(ot,ht,dt){if(ht===void 0)return this.setHitAreaFromTexture(ot);Array.isArray(ot)||(ot=[ot]);var ut=!1,ft=!1,gt=!1,xt=!1,Et=!1,pt=!0;if(k(ht)&&Object.keys(ht).length){var mt=ht,lt=ot.some(function(Ct){return Ct.hasOwnProperty("faces")});if(!lt){ht=c(mt,"hitArea",null),dt=c(mt,"hitAreaCallback",null),Et=c(mt,"pixelPerfect",!1);var ct=c(mt,"alphaTolerance",1);Et&&(ht={},dt=this.makePixelPerfect(ct))}ut=c(mt,"draggable",!1),ft=c(mt,"dropZone",!1),gt=c(mt,"cursor",!1),xt=c(mt,"useHandCursor",!1),(!ht||!dt)&&(this.setHitAreaFromTexture(ot),pt=!1)}else typeof ht=="function"&&!dt&&(dt=ht,ht={});for(var vt=0;vt<ot.length;vt++){var yt=ot[vt];if(Et&&yt.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Tt=yt.input?yt.input:o(yt,ht,dt);Tt.customHitArea=pt,Tt.dropZone=ft,Tt.cursor=xt?"pointer":gt,yt.input=Tt,ut&&this.setDraggable(yt),this.queueForInsertion(yt)}return this},setHitAreaCircle:function(ot,ht,dt,ut,ft){ft===void 0&&(ft=G);var gt=new u(ht,dt,ut);return this.setHitArea(ot,gt,ft)},setHitAreaEllipse:function(ot,ht,dt,ut,ft,gt){gt===void 0&&(gt=s);var xt=new f(ht,dt,ut,ft);return this.setHitArea(ot,xt,gt)},setHitAreaFromTexture:function(ot,ht){ht===void 0&&(ht=nt),Array.isArray(ot)||(ot=[ot]);for(var dt=0;dt<ot.length;dt++){var ut=ot[dt],ft=ut.frame,gt=0,xt=0;if(ut.width?(gt=ut.width,xt=ut.height):ft&&(gt=ft.realWidth,xt=ft.realHeight),ut.type==="Container"&&(gt===0||xt===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}gt!==0&&xt!==0&&(ut.input=o(ut,new _(0,0,gt,xt),ht),this.queueForInsertion(ut))}return this},setHitAreaRectangle:function(ot,ht,dt,ut,ft,gt){gt===void 0&&(gt=nt);var xt=new _(ht,dt,ut,ft);return this.setHitArea(ot,xt,gt)},setHitAreaTriangle:function(ot,ht,dt,ut,ft,gt,xt,Et){Et===void 0&&(Et=st);var pt=new rt(ht,dt,ut,ft,gt,xt);return this.setHitArea(ot,pt,Et)},enableDebug:function(ot,ht){ht===void 0&&(ht=65280);var dt=ot.input;if(!dt||!dt.hitArea)return this;var ut=dt.hitArea,ft=ut.type,gt=dt.hitAreaDebug,xt=this.systems.add,Et=this.systems.updateList;gt&&(Et.remove(gt),gt.destroy(),gt=null);var pt=0,mt=0;switch(ft){case g.CIRCLE:gt=xt.arc(0,0,ut.radius),pt=ut.x-ut.radius,mt=ut.y-ut.radius;break;case g.ELLIPSE:gt=xt.ellipse(0,0,ut.width,ut.height),pt=ut.x-ut.width/2,mt=ut.y-ut.height/2;break;case g.LINE:gt=xt.line(0,0,ut.x1,ut.y1,ut.x2,ut.y2);break;case g.POLYGON:gt=xt.polygon(0,0,ut.points);break;case g.RECTANGLE:gt=xt.rectangle(0,0,ut.width,ut.height),pt=ut.x,mt=ut.y;break;case g.TRIANGLE:gt=xt.triangle(0,0,ut.x1,ut.y1,ut.x2,ut.y2,ut.x3,ut.y3);break}return gt&&(gt.isFilled=!1,gt.strokeColor=ht,gt.preUpdate=function(){gt.setVisible(ot.visible),gt.setStrokeStyle(1/ot.scale,gt.strokeColor),gt.setDisplayOrigin(ot.displayOriginX,ot.displayOriginY);var lt=ot.x,ct=ot.y,vt=ot.rotation,yt=ot.scaleX,Tt=ot.scaleY;if(ot.parentContainer){var Ct=ot.getWorldTransformMatrix();lt=Ct.tx,ct=Ct.ty,vt=Ct.rotation,yt=Ct.scaleX,Tt=Ct.scaleY}gt.setRotation(vt),gt.setScale(yt,Tt),gt.setPosition(lt+pt*yt,ct+mt*Tt),gt.setScrollFactor(ot.scrollFactorX,ot.scrollFactorY),gt.setDepth(ot.depth)},Et.add(gt),dt.hitAreaDebug=gt),this},removeDebug:function(ot){var ht=ot.input;if(ht&&ht.hitAreaDebug){var dt=ht.hitAreaDebug;dt.destroy(),ht.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(ot){return this.pollRate=ot,this._pollTimer=0,this},setGlobalTopOnly:function(ot){return this.manager.globalTopOnly=ot,this},setTopOnly:function(ot){return this.topOnly=ot,this},sortGameObjects:function(ot,ht){if(ot.length<2||!ht.camera)return ot;var dt=ht.camera.renderList;return ot.sort(function(ut,ft){var gt=Math.max(dt.indexOf(ut),0),xt=Math.max(dt.indexOf(ft),0);return xt-gt})},sortDropZones:function(ot){return ot.length<2?ot:(this.scene.sys.depthSort(),ot.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(ot,ht){if(!ot.parentContainer&&!ht.parentContainer)return this.displayList.getIndex(ht)-this.displayList.getIndex(ot);if(ot.parentContainer===ht.parentContainer)return ht.parentContainer.getIndex(ht)-ot.parentContainer.getIndex(ot);if(ot.parentContainer===ht)return-1;if(ht.parentContainer===ot)return 1;for(var dt=ot.getIndexList(),ut=ht.getIndexList(),ft=Math.min(dt.length,ut.length),gt=0;gt<ft;gt++){var xt=dt[gt],Et=ut[gt];if(xt!==Et)return Et-xt}return ut.length-dt.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(ot){return this.manager.addPointer(ot)},setDefaultCursor:function(ot){return this.manager.setDefaultCursor(ot),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var ot=0;ot<10;ot++)this._drag[ot]=[],this._over[ot]=[];this.removeAllListeners();var ht=this.manager;ht.canvas.style.cursor=ht.defaultCursor;var dt=this.systems.events;dt.off(it.TRANSITION_START,this.transitionIn,this),dt.off(it.TRANSITION_OUT,this.transitionOut,this),dt.off(it.TRANSITION_COMPLETE,this.transitionComplete,this),dt.off(it.PRE_UPDATE,this.preUpdate,this),ht.events.off(d.GAME_OUT,this.onGameOut,this),ht.events.off(d.GAME_OVER,this.onGameOver,this),dt.off(it.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var ot=this.manager.pointers,ht=0;ht<ot.length;ht++)ot[ht].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(it.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});tt.register("InputPlugin",at,"input"),i.exports=at},89639:(i,$,e)=>{var u=e(35154),G={},h={};h.register=function(r,o,n,l,f){G[r]={plugin:o,mapping:n,settingsKey:l,configKey:f}},h.getPlugin=function(r){return G[r]},h.install=function(r){var o=r.scene.sys,n=o.settings.input,l=o.game.config;for(var f in G){var s=G[f].plugin,d=G[f].mapping,p=G[f].settingsKey,c=G[f].configKey;u(n,p,l[c])&&(r[d]=new s(r))}},h.remove=function(r){G.hasOwnProperty(r)&&delete G[r]},i.exports=h},42515:(i,$,e)=>{var u=e(31040),G=e(83419),h=e(20339),r=e(43855),o=e(47235),n=e(26099),l=e(25892),f=new G({initialize:function(d,p){this.manager=d,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var d=s.getWorldPoint(this.x,this.y);return this.worldX=d.x,this.worldY=d.y,this},positionToCamera:function(s,d){return s.getWorldPoint(this.x,this.y,d)},updateMotion:function(){var s=this.position.x,d=this.position.y,p=this.midPoint.x,c=this.midPoint.y;if(!(s===p&&d===c)){var g=o(this.motionFactor,p,s),j=o(this.motionFactor,c,d);r(g,s,.1)&&(g=s),r(j,d,.1)&&(j=d),this.midPoint.set(g,j);var k=s-g,tt=d-j;this.velocity.set(k,tt),this.angle=u(g,j,s,d),this.distance=Math.sqrt(k*k+tt*tt)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),l.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,d){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=d,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=d.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,d){this.event=d,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=d.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,d){this.buttons=0,this.event=d,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,d){this.buttons=0,this.event=d,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,d){s===void 0&&(s=10),d===void 0&&(d=[]);for(var p=this.prevPosition.x,c=this.prevPosition.y,g=this.position.x,j=this.position.y,k=0;k<s;k++){var tt=1/s*k;d[k]={x:o(tt,p,g),y:o(tt,c,j)}}return d},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});i.exports=f},93301:i=>{var $={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};i.exports=$},7179:i=>{i.exports="boot"},85375:i=>{i.exports="destroy"},39843:i=>{i.exports="dragend"},23388:i=>{i.exports="dragenter"},16133:i=>{i.exports="drag"},27829:i=>{i.exports="dragleave"},53904:i=>{i.exports="dragover"},56058:i=>{i.exports="dragstart"},2642:i=>{i.exports="drop"},88171:i=>{i.exports="gameobjectdown"},36147:i=>{i.exports="dragend"},71692:i=>{i.exports="dragenter"},96149:i=>{i.exports="drag"},81285:i=>{i.exports="dragleave"},74048:i=>{i.exports="dragover"},21322:i=>{i.exports="dragstart"},49378:i=>{i.exports="drop"},86754:i=>{i.exports="gameobjectmove"},86433:i=>{i.exports="gameobjectout"},60709:i=>{i.exports="gameobjectover"},24081:i=>{i.exports="pointerdown"},11172:i=>{i.exports="pointermove"},18907:i=>{i.exports="pointerout"},95579:i=>{i.exports="pointerover"},35368:i=>{i.exports="pointerup"},26972:i=>{i.exports="wheel"},47078:i=>{i.exports="gameobjectup"},73802:i=>{i.exports="gameobjectwheel"},56718:i=>{i.exports="gameout"},25936:i=>{i.exports="gameover"},27503:i=>{i.exports="boot"},50852:i=>{i.exports="process"},96438:i=>{i.exports="update"},59152:i=>{i.exports="pointerlockchange"},47777:i=>{i.exports="pointerdown"},27957:i=>{i.exports="pointerdownoutside"},19444:i=>{i.exports="pointermove"},54251:i=>{i.exports="pointerout"},18667:i=>{i.exports="pointerover"},27192:i=>{i.exports="pointerup"},24652:i=>{i.exports="pointerupoutside"},45132:i=>{i.exports="wheel"},44512:i=>{i.exports="preupdate"},15757:i=>{i.exports="shutdown"},41637:i=>{i.exports="start"},93802:i=>{i.exports="update"},8214:(i,$,e)=>{i.exports={BOOT:e(7179),DESTROY:e(85375),DRAG_END:e(39843),DRAG_ENTER:e(23388),DRAG:e(16133),DRAG_LEAVE:e(27829),DRAG_OVER:e(53904),DRAG_START:e(56058),DROP:e(2642),GAME_OUT:e(56718),GAME_OVER:e(25936),GAMEOBJECT_DOWN:e(88171),GAMEOBJECT_DRAG_END:e(36147),GAMEOBJECT_DRAG_ENTER:e(71692),GAMEOBJECT_DRAG:e(96149),GAMEOBJECT_DRAG_LEAVE:e(81285),GAMEOBJECT_DRAG_OVER:e(74048),GAMEOBJECT_DRAG_START:e(21322),GAMEOBJECT_DROP:e(49378),GAMEOBJECT_MOVE:e(86754),GAMEOBJECT_OUT:e(86433),GAMEOBJECT_OVER:e(60709),GAMEOBJECT_POINTER_DOWN:e(24081),GAMEOBJECT_POINTER_MOVE:e(11172),GAMEOBJECT_POINTER_OUT:e(18907),GAMEOBJECT_POINTER_OVER:e(95579),GAMEOBJECT_POINTER_UP:e(35368),GAMEOBJECT_POINTER_WHEEL:e(26972),GAMEOBJECT_UP:e(47078),GAMEOBJECT_WHEEL:e(73802),MANAGER_BOOT:e(27503),MANAGER_PROCESS:e(50852),MANAGER_UPDATE:e(96438),POINTER_DOWN:e(47777),POINTER_DOWN_OUTSIDE:e(27957),POINTER_MOVE:e(19444),POINTER_OUT:e(54251),POINTER_OVER:e(18667),POINTER_UP:e(27192),POINTER_UP_OUTSIDE:e(24652),POINTER_WHEEL:e(45132),POINTERLOCK_CHANGE:e(59152),PRE_UPDATE:e(44512),SHUTDOWN:e(15757),START:e(41637),UPDATE:e(93802)}},97421:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o){this.pad=r,this.events=r.events,this.index=o,this.value=0,this.threshold=.1},update:function(h){this.value=h},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});i.exports=G},28884:(i,$,e)=>{var u=e(83419),G=e(92734),h=new u({initialize:function(o,n){this.pad=o,this.events=o.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var o=this.pad,n=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(G.BUTTON_DOWN,o,this,r),this.pad.emit(G.GAMEPAD_BUTTON_DOWN,n,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(G.BUTTON_UP,o,this,r),this.pad.emit(G.GAMEPAD_BUTTON_UP,n,r,this))},destroy:function(){this.pad=null,this.events=null}});i.exports=h},99125:(i,$,e)=>{var u=e(97421),G=e(28884),h=e(83419),r=e(50792),o=e(26099),n=new h({Extends:r,initialize:function(f,s){r.call(this),this.manager=f,this.pad=s,this.id=s.id,this.index=s.index;for(var d=[],p=0;p<s.buttons.length;p++)d.push(new G(this,p));this.buttons=d;var c=[];for(p=0;p<s.axes.length;p++)c.push(new u(this,p));this.axes=c,this.vibration=s.vibrationActuator;var g={value:0,pressed:!1};this._LCLeft=d[14]?d[14]:g,this._LCRight=d[15]?d[15]:g,this._LCTop=d[12]?d[12]:g,this._LCBottom=d[13]?d[13]:g,this._RCLeft=d[2]?d[2]:g,this._RCRight=d[1]?d[1]:g,this._RCTop=d[3]?d[3]:g,this._RCBottom=d[0]?d[0]:g,this._FBLeftTop=d[4]?d[4]:g,this._FBLeftBottom=d[6]?d[6]:g,this._FBRightTop=d[5]?d[5]:g,this._FBRightBottom=d[7]?d[7]:g;var j={value:0};this._HAxisLeft=c[0]?c[0]:j,this._VAxisLeft=c[1]?c[1]:j,this._HAxisRight=c[2]?c[2]:j,this._VAxisRight=c[3]?c[3]:j,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(l){return this.axes[l].getValue()},setAxisThreshold:function(l){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=l},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(l){return this.buttons[l].value},isButtonDown:function(l){return this.buttons[l].pressed},update:function(l){if(!(l.timestamp<this._created)){var f,s=this.buttons,d=l.buttons,p=s.length;for(f=0;f<p;f++)s[f].update(d[f].value);var c=this.axes,g=l.axes;for(p=c.length,f=0;f<p;f++)c[f].update(g[f]);p>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),p>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var l;for(l=0;l<this.buttons.length;l++)this.buttons[l].destroy();for(l=0;l<this.axes.length;l++)this.axes[l].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});i.exports=n},56654:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(92734),r=e(99125),o=e(35154),n=e(89639),l=e(8214),f=new u({Extends:G,initialize:function(d){G.call(this),this.scene=d.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=d,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,d.pluginEvents.once(l.BOOT,this.boot,this),d.pluginEvents.on(l.START,this.start,this)},boot:function(){var s=this.scene.sys.game,d=this.settings.input,p=s.config;this.enabled=o(d,"gamepad",p.inputGamepad)&&s.device.input.gamepads,this.target=o(d,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,d=this.target,p=function(c){c.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(c))};this.onGamepadHandler=p,d.addEventListener("gamepadconnected",p,!1),d.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(l.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(l.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var d=this.gamepads,p=0;p<s.length;p++){var c=s[p];if(c){var g=c.id,j=c.index,k=d[j];if(k)k.id!==g?(k.destroy(),d[j]=new r(this,c)):k.update(c);else{var tt=new r(this,c);d[j]=tt,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=tt):this._pad3=tt:this._pad2=tt:this._pad1=tt}}}},getAll:function(){for(var s=[],d=this.gamepads,p=0;p<d.length;p++)d[p]&&s.push(d[p]);return s},getPad:function(s){for(var d=this.gamepads,p=0;p<d.length;p++)if(d[p]&&d[p].index===s)return d[p]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var d=this.queue.splice(0,s),p=0;p<s;p++){var c=d[p],g=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(h.CONNECTED,g,c):c.type==="gamepaddisconnected"&&this.emit(h.DISCONNECTED,g,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),i.exports=f},89651:i=>{i.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:i=>{i.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:i=>{i.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(i,$,e)=>{i.exports={DUALSHOCK_4:e(65294),SNES_USB:e(89651),XBOX_360:e(90089)}},46008:i=>{i.exports="down"},7629:i=>{i.exports="up"},42206:i=>{i.exports="connected"},86544:i=>{i.exports="disconnected"},94784:i=>{i.exports="down"},14325:i=>{i.exports="up"},92734:(i,$,e)=>{i.exports={BUTTON_DOWN:e(46008),BUTTON_UP:e(7629),CONNECTED:e(42206),DISCONNECTED:e(86544),GAMEPAD_BUTTON_DOWN:e(94784),GAMEPAD_BUTTON_UP:e(14325)}},48646:(i,$,e)=>{i.exports={Axis:e(97421),Button:e(28884),Events:e(92734),Gamepad:e(99125),GamepadPlugin:e(56654),Configs:e(64894)}},14350:(i,$,e)=>{var u=e(93301),G=e(79291),h={CreatePixelPerfectHandler:e(84409),CreateInteractiveObject:e(74457),Events:e(8214),Gamepad:e(48646),InputManager:e(7003),InputPlugin:e(48205),InputPluginCache:e(89639),Keyboard:e(51442),Mouse:e(87078),Pointer:e(42515),Touch:e(95618)};h=G(!1,h,u),i.exports=h},78970:(i,$,e)=>{var u=e(72905),G=e(83419),h=e(8443),r=e(8214),o=e(46032),n=e(29747),l=new G({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,s.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(h.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(d){if(!(d.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(d),f.manager.events.emit(r.MANAGER_PROCESS);var p=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;f.preventDefault&&!p&&f.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}},this.onKeyUp=function(d){if(!(d.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(d),f.manager.events.emit(r.MANAGER_PROCESS);var p=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;f.preventDefault&&!p&&f.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var s=this.captures,d=0;d<f.length;d++){var p=f[d];typeof p=="string"&&(p=o[p.trim().toUpperCase()]),s.indexOf(p)===-1&&s.push(p)}this.preventDefault=s.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var s=this.captures,d=0;d<f.length;d++){var p=f[d];typeof p=="string"&&(p=o[p.toUpperCase()]),u(s,p)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(h.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});i.exports=l},28846:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(95922),r=e(8443),o=e(35154),n=e(8214),l=e(89639),f=e(30472),s=e(46032),d=e(87960),p=e(74600),c=e(44594),g=e(56583),j=new u({Extends:G,initialize:function(tt){G.call(this),this.game=tt.systems.game,this.scene=tt.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=tt,this.manager=tt.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,tt.pluginEvents.once(n.BOOT,this.boot,this),tt.pluginEvents.on(n.START,this.start,this)},boot:function(){var k=this.settings.input;this.enabled=o(k,"keyboard",!0);var tt=o(k,"keyboard.capture",null);tt&&this.addCaptures(tt),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(k){return this.manager.addCapture(k),this},removeCapture:function(k){return this.manager.removeCapture(k),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(k,tt,_){tt===void 0&&(tt=!0),_===void 0&&(_=!1);var nt={};if(typeof k=="string"){k=k.split(",");for(var it=0;it<k.length;it++){var rt=k[it].trim();rt&&(nt[rt]=this.addKey(rt,tt,_))}}else for(var st in k)nt[st]=this.addKey(k[st],tt,_);return nt},addKey:function(k,tt,_){tt===void 0&&(tt=!0),_===void 0&&(_=!1);var nt=this.keys;if(k instanceof f){var it=nt.indexOf(k);return it>-1?nt[it]=k:nt[k.keyCode]=k,tt&&this.addCapture(k.keyCode),k.setEmitOnRepeat(_),k}return typeof k=="string"&&(k=s[k.toUpperCase()]),nt[k]||(nt[k]=new f(this,k),tt&&this.addCapture(k),nt[k].setEmitOnRepeat(_)),nt[k]},removeKey:function(k,tt,_){tt===void 0&&(tt=!1),_===void 0&&(_=!1);var nt=this.keys,it;if(k instanceof f){var rt=nt.indexOf(k);rt>-1&&(it=this.keys[rt],this.keys[rt]=void 0)}else typeof k=="string"&&(k=s[k.toUpperCase()]);return nt[k]&&(it=nt[k],nt[k]=void 0),it&&(it.plugin=null,_&&this.removeCapture(it.keyCode),tt&&it.destroy()),this},removeAllKeys:function(k,tt){k===void 0&&(k=!1),tt===void 0&&(tt=!1);for(var _=this.keys,nt=0;nt<_.length;nt++){var it=_[nt];it&&(_[nt]=void 0,tt&&this.removeCapture(it.keyCode),k&&it.destroy())}return this},createCombo:function(k,tt){return new d(this,k,tt)},checkDown:function(k,tt){if(tt===void 0&&(tt=0),this.enabled&&k.isDown){var _=g(this.time-k.timeDown,tt);if(_>k._tick)return k._tick=_,!0}return!1},update:function(){var k=this.manager.queue,tt=k.length;if(!(!this.isActive()||tt===0))for(var _=this.keys,nt=0;nt<tt;nt++){var it=k[nt],rt=it.keyCode,st=_[rt],at=!1;it.cancelled===void 0&&(it.cancelled=0,it.stopImmediatePropagation=function(){it.cancelled=1},it.stopPropagation=function(){it.cancelled=-1}),it.cancelled!==-1&&(rt===this.prevCode&&it.timeStamp===this.prevTime&&it.type===this.prevType||(this.prevCode=rt,this.prevTime=it.timeStamp,this.prevType=it.type,it.type==="keydown"?(st&&(at=st.isDown,st.onDown(it)),!it.cancelled&&(!st||!at)&&(p[rt]&&this.emit(h.KEY_DOWN+p[rt],it),it.cancelled||this.emit(h.ANY_KEY_DOWN,it))):(st&&st.onUp(it),it.cancelled||(p[rt]&&this.emit(h.KEY_UP+p[rt],it),it.cancelled||this.emit(h.ANY_KEY_UP,it))),it.cancelled===1&&(it.cancelled=0)))}},resetKeys:function(){for(var k=this.keys,tt=0;tt<k.length;tt++)k[tt]&&k[tt].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var k=this.keys,tt=0;tt<k.length;tt++)k[tt]&&k[tt].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});l.register("KeyboardPlugin",j,"keyboard","keyboard","inputKeyboard"),i.exports=j},66970:i=>{var $=function(e,u){return u.timeLastMatched=e.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};i.exports=$},87960:(i,$,e)=>{var u=e(83419),G=e(95922),h=e(95540),r=e(68769),o=e(92803),n=new u({initialize:function(f,s,d){if(d===void 0&&(d={}),s.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var p=0;p<s.length;p++){var c=s[p];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=h(d,"resetOnWrongKey",!0),this.maxKeyDelay=h(d,"maxKeyDelay",0),this.resetOnMatch=h(d,"resetOnMatch",!1),this.deleteOnMatch=h(d,"deleteOnMatch",!1);var g=this,j=function(k){if(!(g.matched||!g.enabled)){var tt=r(k,g);tt&&(g.manager.emit(G.COMBO_MATCH,g,k),g.resetOnMatch?o(g):g.deleteOnMatch&&g.destroy())}};this.onKeyDown=j,this.manager.on(G.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(G.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});i.exports=n},68769:(i,$,e)=>{var u=e(66970),G=function(h,r){if(r.matched)return!0;var o=!1,n=!1;if(h.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var l=r.timeLastMatched+r.maxKeyDelay;h.timeStamp<=l&&(n=!0,o=u(h,r))}else n=!0,o=u(h,r);return!n&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),o&&(r.timeLastMatched=h.timeStamp,r.matched=!0,r.timeMatched=h.timeStamp),o};i.exports=G},92803:i=>{var $=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};i.exports=$},92612:i=>{i.exports="keydown"},23345:i=>{i.exports="keyup"},21957:i=>{i.exports="keycombomatch"},44743:i=>{i.exports="down"},3771:i=>{i.exports="keydown-"},46358:i=>{i.exports="keyup-"},75674:i=>{i.exports="up"},95922:(i,$,e)=>{i.exports={ANY_KEY_DOWN:e(92612),ANY_KEY_UP:e(23345),COMBO_MATCH:e(21957),DOWN:e(44743),KEY_DOWN:e(3771),KEY_UP:e(46358),UP:e(75674)}},51442:(i,$,e)=>{i.exports={Events:e(95922),KeyboardManager:e(78970),KeyboardPlugin:e(28846),Key:e(30472),KeyCodes:e(46032),KeyCombo:e(87960),AdvanceKeyCombo:e(66970),ProcessKeyCombo:e(68769),ResetKeyCombo:e(92803),JustDown:e(90229),JustUp:e(38796),DownDuration:e(37015),UpDuration:e(41170)}},37015:i=>{var $=function(e,u){u===void 0&&(u=50);var G=e.plugin.game.loop.time-e.timeDown;return e.isDown&&G<u};i.exports=$},90229:i=>{var $=function(e){return e._justDown?(e._justDown=!1,!0):!1};i.exports=$},38796:i=>{var $=function(e){return e._justUp?(e._justUp=!1,!0):!1};i.exports=$},30472:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(95922),r=new u({Extends:G,initialize:function(n,l){G.call(this),this.plugin=n,this.keyCode=l,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(o){return this.emitOnRepeat=o,this},onDown:function(o){this.originalEvent=o,this.enabled&&(this.altKey=o.altKey,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.location=o.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(h.DOWN,this,o):(this.isDown=!0,this.isUp=!1,this.timeDown=o.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(h.DOWN,this,o)))},onUp:function(o){this.originalEvent=o,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=o.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(h.UP,this,o))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});i.exports=r},46032:i=>{var $={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};i.exports=$},74600:(i,$,e)=>{var u=e(46032),G={};for(var h in u)G[u[h]]=h;i.exports=G},41170:i=>{var $=function(e,u){u===void 0&&(u=50);var G=e.plugin.game.loop.time-e.timeUp;return e.isUp&&G<u};i.exports=$},85098:(i,$,e)=>{var u=e(83419),G=e(89357),h=e(8214),r=e(29747),o=new u({initialize:function(l){this.manager=l,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,l.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(G.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){G.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var l=this,f=this.manager,s=f.canvas,d=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&l.enabled&&f&&f.enabled&&(f.onMouseMove(c),l.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){d&&window.focus(),!c.defaultPrevented&&l.enabled&&f&&f.enabled&&(f.onMouseDown(c),l.preventDefaultDown&&c.target===s&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&l.enabled&&f&&f.enabled&&c.target!==s&&f.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&l.enabled&&f&&f.enabled&&(f.onMouseUp(c),l.preventDefaultUp&&c.target===s&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&l.enabled&&f&&f.enabled&&c.target!==s&&f.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&l.enabled&&f&&f.enabled&&f.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&l.enabled&&f&&f.enabled&&f.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&l.enabled&&f&&f.enabled&&f.onMouseWheel(c),l.preventDefaultWheel&&c.target===s&&c.preventDefault()};var p={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,p),n.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,p),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}G.pointerLock&&(this.pointerLockChange=function(c){var g=l.target;l.locked=document.pointerLockElement===g||document.mozPointerLockElement===g||document.webkitPointerLockElement===g,f.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),G.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});i.exports=o},87078:(i,$,e)=>{i.exports={MouseManager:e(85098)}},36210:(i,$,e)=>{var u=e(83419),G=e(8214),h=e(29747),r=new u({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=h,this.onTouchStartWindow=h,this.onTouchMove=h,this.onTouchEnd=h,this.onTouchEndWindow=h,this.onTouchCancel=h,this.onTouchCancelWindow=h,this.isTop=!0,n.events.once(G.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputTouch,this.target=o.inputTouchEventTarget,this.capture=o.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},startListeners:function(){var o=this.target;if(o){var n=this,l=this.manager,f=l.canvas,s=window&&window.focus&&l.game.config.autoFocus;this.onTouchMove=function(g){!g.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onTouchMove(g),n.capture&&g.cancelable&&g.preventDefault())},this.onTouchStart=function(g){s&&window.focus(),!g.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onTouchStart(g),n.capture&&g.cancelable&&g.target===f&&g.preventDefault())},this.onTouchStartWindow=function(g){!g.defaultPrevented&&n.enabled&&l&&l.enabled&&g.target!==f&&l.onTouchStart(g)},this.onTouchEnd=function(g){!g.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onTouchEnd(g),n.capture&&g.cancelable&&g.target===f&&g.preventDefault())},this.onTouchEndWindow=function(g){!g.defaultPrevented&&n.enabled&&l&&l.enabled&&g.target!==f&&l.onTouchEnd(g)},this.onTouchCancel=function(g){!g.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onTouchCancel(g),n.capture&&g.preventDefault())},this.onTouchCancelWindow=function(g){!g.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onTouchCancel(g)};var d=this.capture,p={passive:!0},c={passive:!1};if(o.addEventListener("touchstart",this.onTouchStart,d?c:p),o.addEventListener("touchmove",this.onTouchMove,d?c:p),o.addEventListener("touchend",this.onTouchEnd,d?c:p),o.addEventListener("touchcancel",this.onTouchCancel,d?c:p),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("touchstart",this.onTouchStart),o.removeEventListener("touchmove",this.onTouchMove),o.removeEventListener("touchend",this.onTouchEnd),o.removeEventListener("touchcancel",this.onTouchCancel),window&&(o=this.isTop?window.top:window,o.removeEventListener("touchstart",this.onTouchStartWindow),o.removeEventListener("touchend",this.onTouchEndWindow),o.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});i.exports=r},95618:(i,$,e)=>{i.exports={TouchManager:e(36210)}},41299:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(54899),r=e(95540),o=e(98356),n=e(3374),l=e(84376),f=e(92638),s=new u({initialize:function(p,c){if(this.loader=p,this.cache=r(c,"cache",!1),this.type=r(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(c,"key",!1);var g=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+g),!this.key)throw new Error("Invalid File key: "+this.key);var j=r(c,"url");j===void 0?j=p.path+g+"."+r(c,"extension",""):typeof j=="string"&&!j.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(j=p.path+j),this.url=j,this.src="",this.xhrSettings=f(r(c,"responseType",void 0)),r(c,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,r(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?G.FILE_POPULATED:G.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof j=="string"&&j.indexOf("data:")===0},setLink:function(d){this.linkFile=d,d.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===G.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=G.FILE_LOADING,this.src=o(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=l(this,this.loader.xhr))},onLoad:function(d,p){var c=d.responseURL&&this.loader.localSchemes.some(function(k){return d.responseURL.indexOf(k)===0}),g=c&&p.target.status===0,j=!(p.target&&p.target.status!==200)||g;d.readyState===4&&d.status>=400&&d.status<=599&&(j=!1),this.state=G.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,j)},onBase64Load:function(d){this.xhrLoader=d,this.state=G.FILE_LOADED,this.percentComplete=1,this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(d){d.lengthComputable&&(this.bytesLoaded=d.loaded,this.bytesTotal=d.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=G.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=G.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=G.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(d){if(this.state!==G.FILE_PENDING_DESTROY){d===void 0&&(d=this.data);var p=this.key,c=this.type;this.loader.emit(h.FILE_COMPLETE,p,c,d),this.loader.emit(h.FILE_KEY_COMPLETE+c+"-"+p,p,c,d),this.loader.flagForRemoval(this),this.state=G.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(d,p,c){if(typeof URL=="function")d.src=URL.createObjectURL(p);else{var g=new FileReader;g.onload=function(){d.removeAttribute("crossOrigin"),d.src="data:"+(p.type||c)+";base64,"+g.result.split(",")[1]},g.onerror=d.onerror,g.readAsDataURL(p)}},s.revokeObjectURL=function(d){typeof URL=="function"&&URL.revokeObjectURL(d.src)},i.exports=s},74099:i=>{var $={},e={install:function(u){for(var G in $)u[G]=$[G]},register:function(u,G){$[u]=G},destroy:function(){$={}}};i.exports=e},98356:i=>{var $=function(e,u){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:u+e.url:!1};i.exports=$},74261:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(35072),r=e(50792),o=e(54899),n=e(74099),l=e(95540),f=e(35154),s=e(37277),d=e(44594),p=e(92638),c=new u({Extends:r,initialize:function(j){r.call(this);var k=j.sys.game.config,tt=j.sys.settings.loader;this.scene=j,this.systems=j.sys,this.cacheManager=j.sys.cache,this.textureManager=j.sys.textures,this.sceneManager=j.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(l(tt,"baseURL",k.loaderBaseURL)),this.setPath(l(tt,"path",k.loaderPath)),this.setPrefix(l(tt,"prefix",k.loaderPrefix)),this.maxParallelDownloads=l(tt,"maxParallelDownloads",k.loaderMaxParallelDownloads),this.xhr=p(l(tt,"responseType",k.loaderResponseType),l(tt,"async",k.loaderAsync),l(tt,"user",k.loaderUser),l(tt,"password",k.loaderPassword),l(tt,"timeout",k.loaderTimeout),l(tt,"withCredentials",k.loaderWithCredentials)),this.crossOrigin=l(tt,"crossOrigin",k.loaderCrossOrigin),this.imageLoadType=l(tt,"imageLoadType",k.loaderImageLoadType),this.localSchemes=l(tt,"localScheme",k.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new h,this.inflight=new h,this.queue=new h,this._deleteQueue=new h,this.totalFailed=0,this.totalComplete=0,this.state=G.LOADER_IDLE,this.multiKeyIndex=0,j.sys.events.once(d.BOOT,this.boot,this),j.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},setBaseURL:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.baseURL=g,this},setPath:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.path=g,this},setPrefix:function(g){return g===void 0&&(g=""),this.prefix=g,this},setCORS:function(g){return this.crossOrigin=g,this},addFile:function(g){Array.isArray(g)||(g=[g]);for(var j=0;j<g.length;j++){var k=g[j];this.keyExists(k)||(this.list.set(k),this.emit(o.ADD,k.key,k.type,this,k),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(g){var j=g.hasCacheConflict();return j||this.list.iterate(function(k){if(k.type===g.type&&k.key===g.key)return j=!0,!1}),!j&&this.isLoading()&&(this.inflight.iterate(function(k){if(k.type===g.type&&k.key===g.key)return j=!0,!1}),this.queue.iterate(function(k){if(k.type===g.type&&k.key===g.key)return j=!0,!1})),j},addPack:function(g,j){if(typeof j=="string"){var k=f(g,j);k&&(g={packKey:k})}var tt=0,_=this.baseURL,nt=this.path,it=this.prefix;for(var rt in g)if(Object.prototype.hasOwnProperty.call(g,rt)){var st=g[rt],at=l(st,"baseURL",_),ot=l(st,"path",nt),ht=l(st,"prefix",it),dt=l(st,"files",null),ut=l(st,"defaultType","void");if(Array.isArray(dt)){this.setBaseURL(at),this.setPath(ot),this.setPrefix(ht);for(var ft=0;ft<dt.length;ft++){var gt=dt[ft],xt=gt.hasOwnProperty("type")?gt.type:ut;this[xt]&&(this[xt](gt),tt++)}}}return this.setBaseURL(_),this.setPath(nt),this.setPrefix(it),tt>0},isLoading:function(){return this.state===G.LOADER_LOADING||this.state===G.LOADER_PROCESSING},isReady:function(){return this.state===G.LOADER_IDLE||this.state===G.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),this.list.size===0?this.loadComplete():(this.state=G.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(d.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===G.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(g){if((g.state===G.FILE_POPULATED||g.state===G.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(g),this.list.delete(g),g.crossOrigin||(g.crossOrigin=this.crossOrigin),g.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(g,j){this.inflight&&(this.inflight.delete(g),this.updateProgress(),j?(this.totalComplete++,this.queue.set(g),this.emit(o.FILE_LOAD,g),g.onProcess()):(this.totalFailed++,this._deleteQueue.set(g),this.emit(o.FILE_LOAD_ERROR,g),this.fileProcessComplete(g)))},fileProcessComplete:function(g){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(g.state===G.FILE_ERRORED?g.multiFile&&g.multiFile.onFileFailed(g):g.state===G.FILE_COMPLETE&&(g.multiFile?g.multiFile.isReadyToProcess()&&(g.multiFile.addToCache(),g.multiFile.pendingDestroy()):(g.addToCache(),g.pendingDestroy())),this.queue.delete(g),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=G.LOADER_COMPLETE,this.systems.events.off(d.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(g){this._deleteQueue.set(g)},saveJSON:function(g,j){return this.save(JSON.stringify(g),j)},save:function(g,j,k){j===void 0&&(j="file.json"),k===void 0&&(k="application/json");var tt=new Blob([g],{type:k}),_=URL.createObjectURL(tt),nt=document.createElement("a");return nt.download=j,nt.textContent="Download "+j,nt.href=_,nt.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var g=this.systems.game.config,j=this.systems.settings.loader;this.setBaseURL(l(j,"baseURL",g.loaderBaseURL)),this.setPath(l(j,"path",g.loaderPath)),this.setPrefix(l(j,"prefix",g.loaderPrefix)),this.state=G.LOADER_IDLE},shutdown:function(){this.reset(),this.state=G.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=G.LOADER_DESTROYED,this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});s.register("Loader",c,"load"),i.exports=c},3374:(i,$,e)=>{var u=e(79291),G=e(92638),h=function(r,o){var n=r===void 0?G():u({},r);if(o)for(var l in o)o[l]!==void 0&&(n[l]=o[l]);return n};i.exports=h},26430:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(54899),r=new u({initialize:function(n,l,f,s){var d=[];s.forEach(function(g){g&&d.push(g)}),this.loader=n,this.type=l,this.key=f;var p=this.key;n.prefix&&n.prefix!==""&&(this.key=n.prefix+p),this.multiKeyIndex=n.multiKeyIndex++,this.files=d,this.state=G.FILE_PENDING,this.complete=!1,this.pending=d.length,this.failed=0,this.config={},this.baseURL=n.baseURL,this.path=n.path,this.prefix=n.prefix;for(var c=0;c<d.length;c++)d[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(o){return this.files.push(o),o.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(o){var n=this.files.indexOf(o);n!==-1&&this.pending--},onFileFailed:function(o){var n=this.files.indexOf(o);n!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,o.type,o.key))},pendingDestroy:function(){if(this.state!==G.FILE_PENDING_DESTROY){var o=this.key,n=this.type;this.loader.emit(h.FILE_COMPLETE,o,n),this.loader.emit(h.FILE_KEY_COMPLETE+n+"-"+o,o,n),this.loader.flagForRemoval(this);for(var l=0;l<this.files.length;l++)this.files[l].pendingDestroy();this.state=G.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});i.exports=r},84376:(i,$,e)=>{var u=e(3374),G=function(h,r){var o=u(r,h.xhrSettings);if(h.base64){var n=h.url.split(";base64,").pop()||h.url.split(",").pop(),l={responseText:atob(n)};h.onBase64Load(l);return}var f=new XMLHttpRequest;if(f.open("GET",h.src,o.async,o.user,o.password),f.responseType=h.xhrSettings.responseType,f.timeout=o.timeout,o.headers)for(var s in o.headers)f.setRequestHeader(s,o.headers[s]);return o.header&&o.headerValue&&f.setRequestHeader(o.header,o.headerValue),o.requestedWith&&f.setRequestHeader("X-Requested-With",o.requestedWith),o.overrideMimeType&&f.overrideMimeType(o.overrideMimeType),o.withCredentials&&(f.withCredentials=!0),f.onload=h.onLoad.bind(h,f),f.onerror=h.onError.bind(h,f),f.onprogress=h.onProgress.bind(h),f.ontimeout=h.onError.bind(h,f),f.send(),f};i.exports=G},92638:i=>{var $=function(e,u,G,h,r,o){return e===void 0&&(e=""),u===void 0&&(u=!0),G===void 0&&(G=""),h===void 0&&(h=""),r===void 0&&(r=0),o===void 0&&(o=!1),{responseType:e,async:u,user:G,password:h,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}};i.exports=$},23906:i=>{var $={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};i.exports=$},42155:i=>{i.exports="addfile"},38991:i=>{i.exports="complete"},27540:i=>{i.exports="filecomplete"},87464:i=>{i.exports="filecomplete-"},94486:i=>{i.exports="loaderror"},13035:i=>{i.exports="load"},38144:i=>{i.exports="fileprogress"},97520:i=>{i.exports="postprocess"},85595:i=>{i.exports="progress"},55680:i=>{i.exports="start"},54899:(i,$,e)=>{i.exports={ADD:e(42155),COMPLETE:e(38991),FILE_COMPLETE:e(27540),FILE_KEY_COMPLETE:e(87464),FILE_LOAD_ERROR:e(94486),FILE_LOAD:e(13035),FILE_PROGRESS:e(38144),POST_PROCESS:e(97520),PROGRESS:e(85595),START:e(55680)}},14135:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(518),r=e(54899),o=new u({Extends:h,initialize:function(l,f,s,d,p){h.call(this,l,f,s,d,p),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),h.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});G.register("animation",function(n,l,f,s){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new o(this,n[d]));else this.addFile(new o(this,n,l,s,f));return this}),i.exports=o},76272:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(19550),o=e(41212),n=e(518),l=e(26430),f=new u({Extends:l,initialize:function(d,p,c,g,j,k){var tt,_;if(o(p)){var nt=p;p=h(nt,"key"),tt=new r(d,{key:p,url:h(nt,"textureURL"),extension:h(nt,"textureExtension","png"),normalMap:h(nt,"normalMap"),xhrSettings:h(nt,"textureXhrSettings")}),_=new n(d,{key:p,url:h(nt,"atlasURL"),extension:h(nt,"atlasExtension","json"),xhrSettings:h(nt,"atlasXhrSettings")})}else tt=new r(d,p,c,j),_=new n(d,p,g,k);tt.linkFile?l.call(this,d,"atlasjson",p,[tt,_,tt.linkFile]):l.call(this,d,"atlasjson",p,[tt,_])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,d.data,p),d.addToCache(),this.complete=!0}}});G.register("aseprite",function(s,d,p,c,g){var j;if(Array.isArray(s))for(var k=0;k<s.length;k++)j=new f(this,s[k]),this.addFile(j.files);else j=new f(this,s,d,p,c,g),this.addFile(j.files);return this}),i.exports=f},38734:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(19550),o=e(41212),n=e(518),l=e(26430),f=new u({Extends:l,initialize:function(d,p,c,g,j,k){var tt,_;if(o(p)){var nt=p;p=h(nt,"key"),tt=new r(d,{key:p,url:h(nt,"textureURL"),extension:h(nt,"textureExtension","png"),normalMap:h(nt,"normalMap"),xhrSettings:h(nt,"textureXhrSettings")}),_=new n(d,{key:p,url:h(nt,"atlasURL"),extension:h(nt,"atlasExtension","json"),xhrSettings:h(nt,"atlasXhrSettings")})}else tt=new r(d,p,c,j),_=new n(d,p,g,k);tt.linkFile?l.call(this,d,"atlasjson",p,[tt,_,tt.linkFile]):l.call(this,d,"atlasjson",p,[tt,_])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,d.data,p),this.complete=!0}}});G.register("atlas",function(s,d,p,c,g){var j;if(Array.isArray(s))for(var k=0;k<s.length;k++)j=new f(this,s[k]),this.addFile(j.files);else j=new f(this,s,d,p,c,g),this.addFile(j.files);return this}),i.exports=f},74599:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(19550),o=e(41212),n=e(26430),l=e(57318),f=new u({Extends:n,initialize:function(d,p,c,g,j,k){var tt,_;if(o(p)){var nt=p;p=h(nt,"key"),tt=new r(d,{key:p,url:h(nt,"textureURL"),extension:h(nt,"textureExtension","png"),normalMap:h(nt,"normalMap"),xhrSettings:h(nt,"textureXhrSettings")}),_=new l(d,{key:p,url:h(nt,"atlasURL"),extension:h(nt,"atlasExtension","xml"),xhrSettings:h(nt,"atlasXhrSettings")})}else tt=new r(d,p,c,j),_=new l(d,p,g,k);tt.linkFile?n.call(this,d,"atlasxml",p,[tt,_,tt.linkFile]):n.call(this,d,"atlasxml",p,[tt,_])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,d.data,p),this.complete=!0}}});G.register("atlasXML",function(s,d,p,c,g){var j;if(Array.isArray(s))for(var k=0;k<s.length;k++)j=new f(this,s[k]),this.addFile(j.files);else j=new f(this,s,d,p,c,g),this.addFile(j.files);return this}),i.exports=f},21097:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(89749),l=e(41212),f=new u({Extends:h,initialize:function(d,p,c,g,j){if(l(p)){var k=p;p=o(k,"key"),g=o(k,"xhrSettings"),j=o(k,"context",j)}var tt={type:"audio",cache:d.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:p,url:c.url,xhrSettings:g,config:{context:j}};h.call(this,d,tt)},onProcess:function(){this.state=G.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(d){s.data=d,s.onProcessComplete()},function(d){console.error("Error decoding audio: "+s.key+" - ",d?d.message:null),s.onProcessError()}),this.config.context=null}});f.create=function(s,d,p,c,g){var j=s.systems.game,k=j.config.audio,tt=j.device.audio;l(d)&&(p=o(d,"url",[]),c=o(d,"config",{}));var _=f.getAudioURL(j,p);return _?tt.webAudio&&!k.disableWebAudio?new f(s,d,_,g,j.sound.context):new n(s,d,_,c):(console.warn('No audio URLs for "%s" matched this device',d),null)},f.getAudioURL=function(s,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var c=o(d[p],"url",d[p]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var g=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(g=o(d[p],"type",g?g[1]:"").toLowerCase(),s.device.audio[g])return{url:c,type:g}}return null},r.register("audio",function(s,d,p,c){var g=this.systems.game,j=g.config.audio,k=g.device.audio;if(j.noAudio||!k.webAudio&&!k.audioData)return this;var tt;if(Array.isArray(s))for(var _=0;_<s.length;_++)tt=f.create(this,s[_]),tt&&this.addFile(tt);else tt=f.create(this,s,d,p,c),tt&&this.addFile(tt);return this}),i.exports=f},89524:(i,$,e)=>{var u=e(21097),G=e(83419),h=e(74099),r=e(95540),o=e(41212),n=e(518),l=e(26430),f=new G({Extends:l,initialize:function(d,p,c,g,j,k,tt){if(o(p)){var _=p;p=r(_,"key"),c=r(_,"jsonURL"),g=r(_,"audioURL"),j=r(_,"audioConfig"),k=r(_,"audioXhrSettings"),tt=r(_,"jsonXhrSettings")}var nt;if(!g)nt=new n(d,p,c,tt),l.call(this,d,"audiosprite",p,[nt]),this.config.resourceLoad=!0,this.config.audioConfig=j,this.config.audioXhrSettings=k;else{var it=u.create(d,p,g,j,k);it&&(nt=new n(d,p,c,tt),l.call(this,d,"audiosprite",p,[it,nt]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var d=this.files.indexOf(s);if(d!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var p=s.data.resources,c=r(this.config,"audioConfig"),g=r(this.config,"audioXhrSettings"),j=u.create(this.loader,s.key,p,c,g);j&&(this.addToMultiFile(j),this.loader.addFile(j))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],d=this.files[1];s.addToCache(),d.addToCache(),this.complete=!0}}});h.register("audioSprite",function(s,d,p,c,g,j){var k=this.systems.game,tt=k.config.audio,_=k.device.audio;if(tt&&tt.noAudio||!_.webAudio&&!_.audioData)return this;var nt;if(Array.isArray(s))for(var it=0;it<s.length;it++)nt=new f(this,s[it]),nt.files&&this.addFile(nt.files);else nt=new f(this,s,d,p,c,g,j),nt.files&&this.addFile(nt.files);return this})},85722:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c,g){var j="bin";if(n(d)){var k=d;d=o(k,"key"),p=o(k,"url"),c=o(k,"xhrSettings"),j=o(k,"extension",j),g=o(k,"dataType",g)}var tt={type:"binary",cache:s.cacheManager.binary,extension:j,responseType:"arraybuffer",key:d,url:p,xhrSettings:c,config:{dataType:g}};h.call(this,s,tt)},onProcess:function(){this.state=G.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(f,s,d,p){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new l(this,f[c]));else this.addFile(new l(this,f,s,p,d));return this}),i.exports=l},97025:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(19550),o=e(41212),n=e(26430),l=e(21859),f=e(57318),s=new u({Extends:n,initialize:function(p,c,g,j,k,tt){var _,nt;if(o(c)){var it=c;c=h(it,"key"),_=new r(p,{key:c,url:h(it,"textureURL"),extension:h(it,"textureExtension","png"),normalMap:h(it,"normalMap"),xhrSettings:h(it,"textureXhrSettings")}),nt=new f(p,{key:c,url:h(it,"fontDataURL"),extension:h(it,"fontDataExtension","xml"),xhrSettings:h(it,"fontDataXhrSettings")})}else _=new r(p,c,g,k),nt=new f(p,c,j,tt);_.linkFile?n.call(this,p,"bitmapfont",c,[_,nt,_.linkFile]):n.call(this,p,"bitmapfont",c,[_,nt])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1];d.addToCache();var c=d.cache.get(d.key),g=l(p.data,d.cache.getFrame(d.key),0,0,c);this.loader.cacheManager.bitmapFont.add(d.key,{data:g,texture:d.key,frame:null}),this.complete=!0}}});G.register("bitmapFont",function(d,p,c,g,j){var k;if(Array.isArray(d))for(var tt=0;tt<d.length;tt++)k=new s(this,d[tt]),this.addFile(k.files);else k=new s(this,d,p,c,g,j),this.addFile(k.files);return this}),i.exports=s},16024:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c){var g="css";if(n(d)){var j=d;d=o(j,"key"),p=o(j,"url"),c=o(j,"xhrSettings"),g=o(j,"extension",g)}var k={type:"script",cache:!1,extension:g,responseType:"text",key:d,url:p,xhrSettings:c};h.call(this,s,k)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(f,s,d){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new l(this,f[p]));else this.addFile(new l(this,f,s,d));return this}),i.exports=l},69559:(i,$,e)=>{var u=e(38734),G=e(85722),h=e(83419),r=e(74099),o=e(95540),n=e(19550),l=e(41212),f=e(518),s=e(31403),d=e(46975),p=e(59327),c=e(26430),g=e(82038),j=e(55222),k=new h({Extends:c,initialize:function(_,nt,it,rt){if(it.multiAtlasURL){var st=new f(_,{key:nt,url:it.multiAtlasURL,xhrSettings:rt,config:it});c.call(this,_,"texture",nt,[st])}else{var at=it.textureURL.substr(it.textureURL.length-3);it.type||(it.type=at.toLowerCase()==="ktx"?"KTX":"PVR");var ot=new G(_,{key:nt,url:it.textureURL,extension:at,xhrSettings:rt,config:it});if(it.atlasURL){var ht=new f(_,{key:nt,url:it.atlasURL,xhrSettings:rt,config:it});c.call(this,_,"texture",nt,[ot,ht])}else c.call(this,_,"texture",nt,[ot])}this.config=it},onFileComplete:function(tt){var _=this.files.indexOf(tt);if(_!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(tt.type==="json"&&tt.data.hasOwnProperty("textures")){var nt=tt.data.textures,it=this.config,rt=this.loader,st=rt.baseURL,at=rt.path,ot=rt.prefix,ht=o(it,"multiBaseURL",this.baseURL),dt=o(it,"multiPath",this.path),ut=o(it,"prefix",this.prefix),ft=o(it,"textureXhrSettings");ht&&rt.setBaseURL(ht),dt&&rt.setPath(dt),ut&&rt.setPrefix(ut);for(var gt=0;gt<nt.length;gt++){var xt=nt[gt].image,Et="CMA"+this.multiKeyIndex+"_"+xt,pt=new G(rt,Et,xt,ft);if(this.addToMultiFile(pt),rt.addFile(pt),nt[gt].normalMap){var mt=new G(rt,Et,nt[gt].normalMap,ft);mt.type="normalMap",pt.setLink(mt),this.addToMultiFile(mt),rt.addFile(mt)}}rt.setBaseURL(st),rt.setPath(at),rt.setPrefix(ot)}}},addToCache:function(){function tt(ht){console.warn('Compressed Texture Invalid: "'+st.key+'". '+ht)}if(this.isReadyToProcess()){var _=this.config;if(_.multiAtlasURL)this.addMultiToCache();else{var nt=this.loader.systems.renderer,it=this.loader.textureManager,rt,st=this.files[0],at=this.files[1];if(_.type==="PVR"?rt=g(st.data):_.type==="KTX"&&(rt=s(st.data),rt||tt("KTX file contains unsupported format.")),rt&&!j(rt)&&(tt("Texture dimensions failed verification. Check the texture format specifications for "+_.format+" 0x"+rt.internalFormat.toString(16)+"."),rt=null),rt&&!nt.supportsCompressedTexture(_.format,rt.internalFormat)&&(tt("Texture format "+_.format+" with internal format "+rt.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),rt=null),rt){rt.format=nt.getCompressedTextureName(_.format,rt.internalFormat);var ot=at&&at.data?at.data:null;it.addCompressedTexture(st.key,rt,ot)}}this.complete=!0}},addMultiToCache:function(){for(var tt=this.config,_=this.files[0],nt=[],it=[],rt=[],st=this.loader.systems.renderer,at=this.loader.textureManager,ot,ht=1;ht<this.files.length;ht++){var dt=this.files[ht];if(dt.type!=="normalMap")for(var ut=dt.key.indexOf("_"),ft=dt.key.substr(ut+1),gt=dt.data,xt=0;xt<_.data.textures.length;xt++){var Et=_.data.textures[xt];if(Et.image===ft){tt.type==="PVR"?ot=g(gt):tt.type==="KTX"&&(ot=s(gt)),ot&&st.supportsCompressedTexture(tt.format,ot.internalFormat)&&(ot.format=st.getCompressedTextureName(tt.format,ot.internalFormat),it.push(ot),nt.push(Et),dt.linkFile&&rt.push(dt.linkFile.data));break}}}rt.length===0&&(rt=void 0),at.addAtlasJSONArray(this.key,it,nt,rt),this.complete=!0}});r.register("texture",function(tt,_,nt){var it=this.systems.renderer,rt=function(at,ot,ht,dt){var ut={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(l(ot)){var ft=ot;ot=o(ft,"key"),ht=o(ft,"url"),dt=o(ft,"xhrSettings")}var gt=!1;for(var xt in ht)if(it.supportsCompressedTexture(xt)){var Et=ht[xt];typeof Et=="string"?ut.textureURL=Et:ut=d(Et,ut),ut.format=xt.toUpperCase(),gt=!0;break}if(!gt)console.warn("No supported compressed texture format or IMG fallback",ot);else if(ut.format==="IMG"){var pt,mt;ut.multiAtlasURL?(mt=new p(at,ot,ut.multiAtlasURL,ut.multiPath,ut.multiBaseURL,dt),pt=mt.files):ut.atlasURL?(mt=new u(at,ot,ut.textureURL,ut.atlasURL,dt),pt=mt.files):pt=new n(at,ot,ut.textureURL,dt),at.addFile(pt)}else{var lt=new k(at,ot,ut,dt);at.addFile(lt.files)}};if(Array.isArray(tt))for(var st=0;st<tt.length;st++)rt(this,tt[st]);else rt(this,tt,_,nt);return this}),i.exports=k},47931:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=e(73894),f=new u({Extends:h,initialize:function(d,p,c,g,j){var k="glsl";if(n(p)){var tt=p;p=o(tt,"key"),c=o(tt,"url"),g=o(tt,"shaderType","fragment"),j=o(tt,"xhrSettings"),k=o(tt,"extension",k)}else g===void 0&&(g="fragment");var _={type:"glsl",cache:d.cacheManager.shader,extension:k,responseType:"text",key:p,url:c,config:{shaderType:g},xhrSettings:j};h.call(this,d,_)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),d=this.extractBlock(s,0);if(d)for(;d;){var p=this.getShaderName(d.header),c=this.getShaderType(d.header),g=this.getShaderUniforms(d.header),j=d.shader;if(this.cache.has(p)){var k=this.cache.get(p);c==="fragment"?k.fragmentSrc=j:k.vertexSrc=j,k.uniforms||(k.uniforms=g)}else c==="fragment"?this.cache.add(p,new l(p,j,"",g)):this.cache.add(p,new l(p,"",j,g));d=this.extractBlock(s,d.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new l(this.key,this.data)):this.cache.add(this.key,new l(this.key,"",this.data))},getShaderName:function(s){for(var d=0;d<s.length;d++){var p=s[d].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(s){for(var d=0;d<s.length;d++){var p=s[d].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var d={},p=0;p<s.length;p++){var c=s[p].trim();if(c.substring(0,8)==="uniform."){var g=c.indexOf(":");if(g){var j=c.substring(8,g);try{d[j]=JSON.parse(c.substring(g+1))}catch{console.warn("Invalid uniform JSON: "+j)}}}}return d},extractBlock:function(s,d){for(var p=-1,c=-1,g=-1,j=!1,k=!1,tt=[],_=[],nt=d;nt<s.length;nt++){var it=s[nt].trim();if(it==="---")if(p===-1)p=nt,j=!0;else if(j)c=nt,j=!1,k=!0;else{k=!1;break}else j?tt.push(it):k&&(_.push(it),g=nt)}return!j&&c!==-1?{header:tt,shader:_.join(`
`),offset:g}:null}});r.register("glsl",function(s,d,p,c){if(Array.isArray(s))for(var g=0;g<s.length;g++)this.addFile(new f(this,s[g]));else this.addFile(new f(this,s,d,p,c));return this}),i.exports=f},89749:(i,$,e)=>{var u=e(83419),G=e(54899),h=e(41299),r=e(95540),o=e(98356),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c){if(n(d)){var g=d;d=r(g,"key"),c=r(g,"config",c)}var j={type:"audio",cache:s.cacheManager.audio,extension:p.type,key:d,url:p.url,config:c};h.call(this,s,j),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var s=this.data[f];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var s=f.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(G.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<f;s++){var d=new Audio;d.dataset||(d.dataset={}),d.dataset.name=this.key+("0"+s).slice(-2),d.dataset.used="false",this.locked?d.dataset.locked="true":(d.dataset.locked="false",d.preload="auto",d.oncanplaythrough=this.onProgress.bind(this),d.onerror=this.onError.bind(this)),this.data.push(d)}for(s=0;s<this.data.length;s++)d=this.data[s],d.src=o(this,this.loader.baseURL),this.locked||d.load();this.locked&&setTimeout(this.onLoad.bind(this))}});i.exports=l},88470:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c){var g="html";if(n(d)){var j=d;d=o(j,"key"),p=o(j,"url"),c=o(j,"xhrSettings"),g=o(j,"extension",g)}var k={type:"text",cache:s.cacheManager.html,extension:g,responseType:"text",key:d,url:p,xhrSettings:c};h.call(this,s,k)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(f,s,d){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new l(this,f[p]));else this.addFile(new l(this,f,s,d));return this}),i.exports=l},14643:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c,g,j){c===void 0&&(c=512),g===void 0&&(g=512);var k="html";if(n(d)){var tt=d;d=o(tt,"key"),p=o(tt,"url"),j=o(tt,"xhrSettings"),k=o(tt,"extension",k),c=o(tt,"width",c),g=o(tt,"height",g)}var _={type:"html",cache:s.textureManager,extension:k,responseType:"text",key:d,url:p,xhrSettings:j,config:{width:c,height:g}};h.call(this,s,_)},onProcess:function(){this.state=G.FILE_PROCESSING;var f=this.config.width,s=this.config.height,d=[];d.push('<svg width="'+f+'px" height="'+s+'px" viewBox="0 0 '+f+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),d.push('<foreignObject width="100%" height="100%">'),d.push('<body xmlns="http://www.w3.org/1999/xhtml">'),d.push(this.xhrLoader.responseText),d.push("</body>"),d.push("</foreignObject>"),d.push("</svg>");var p=[d.join(`
`)],c=this;try{var g=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=G.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){h.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(c.data),c.onProcessError()},h.createObjectURL(this.data,g,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(f,s,d,p,c){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new l(this,f[g]));else this.addFile(new l(this,f,s,d,p,c));return this}),i.exports=l},19550:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=e(98356),f=new u({Extends:h,initialize:function s(d,p,c,g,j){var k="png",tt;if(n(p)){var _=p;p=o(_,"key"),c=o(_,"url"),tt=o(_,"normalMap"),g=o(_,"xhrSettings"),k=o(_,"extension",k),j=o(_,"frameConfig")}Array.isArray(c)&&(tt=c[1],c=c[0]);var nt={type:"image",cache:d.textureManager,extension:k,responseType:"blob",key:p,url:c,xhrSettings:g,config:j};if(h.call(this,d,nt),tt){var it=new s(d,this.key,tt,g,j);it.type="normalMap",this.setLink(it),d.addFile(it)}this.useImageElementLoad=d.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){h.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(s.data),s.onProcessError()},h.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=G.FILE_PROCESSING,s===G.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=G.FILE_LOADING,this.src=l(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=G.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=G.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(s,d,p){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new f(this,s[c]));else this.addFile(new f(this,s,d,p));return this}),i.exports=f},518:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(35154),l=e(41212),f=new u({Extends:h,initialize:function(d,p,c,g,j){var k="json";if(l(p)){var tt=p;p=o(tt,"key"),c=o(tt,"url"),g=o(tt,"xhrSettings"),k=o(tt,"extension",k),j=o(tt,"dataKey",j)}var _={type:"json",cache:d.cacheManager.json,extension:k,responseType:"text",key:p,url:c,xhrSettings:g,config:j};h.call(this,d,_),l(c)&&(j?this.data=n(c,j):this.data=c,this.state=G.FILE_POPULATED)},onProcess:function(){if(this.state!==G.FILE_POPULATED){this.state=G.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var d=this.config;typeof d=="string"?this.data=n(s,d,s):this.data=s}this.onProcessComplete()}});r.register("json",function(s,d,p,c){if(Array.isArray(s))for(var g=0;g<s.length;g++)this.addFile(new f(this,s[g]));else this.addFile(new f(this,s,d,c,p));return this}),i.exports=f},59327:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(19550),o=e(41212),n=e(518),l=e(26430),f=new u({Extends:l,initialize:function(d,p,c,g,j,k,tt){if(o(p)){var _=p;p=h(_,"key"),h(_,"url",!1)?c=h(_,"url"):c=h(_,"atlasURL"),k=h(_,"xhrSettings"),g=h(_,"path"),j=h(_,"baseURL"),tt=h(_,"textureXhrSettings")}var nt=new n(d,p,c,k);l.call(this,d,"multiatlas",p,[nt]),this.config.path=g,this.config.baseURL=j,this.config.textureXhrSettings=tt},onFileComplete:function(s){var d=this.files.indexOf(s);if(d!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var p=s.data.textures,c=this.config,g=this.loader,j=g.baseURL,k=g.path,tt=g.prefix,_=h(c,"baseURL",this.baseURL),nt=h(c,"path",this.path),it=h(c,"prefix",this.prefix),rt=h(c,"textureXhrSettings");g.setBaseURL(_),g.setPath(nt),g.setPrefix(it);for(var st=0;st<p.length;st++){var at=p[st].image,ot="MA"+this.multiKeyIndex+"_"+at,ht=new r(g,ot,at,rt);if(this.addToMultiFile(ht),g.addFile(ht),p[st].normalMap){var dt=new r(g,ot,p[st].normalMap,rt);dt.type="normalMap",ht.setLink(dt),this.addToMultiFile(dt),g.addFile(dt)}}g.setBaseURL(j),g.setPath(k),g.setPrefix(tt)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],d=[],p=[],c=[],g=1;g<this.files.length;g++){var j=this.files[g];if(j.type!=="normalMap")for(var k=j.key.indexOf("_"),tt=j.key.substr(k+1),_=j.data,nt=0;nt<s.data.textures.length;nt++){var it=s.data.textures[nt];if(it.image===tt){p.push(_),d.push(it),j.linkFile&&c.push(j.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,d,c),this.complete=!0}}});G.register("multiatlas",function(s,d,p,c,g){var j;if(Array.isArray(s))for(var k=0;k<s.length;k++)j=new f(this,s[k]),this.addFile(j.files);else j=new f(this,s,d,p,c,g),this.addFile(j.files);return this}),i.exports=f},99297:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(41212),o=e(26430),n=e(34328),l=new u({Extends:o,initialize:function(s,d,p,c){var g="js",j=[];if(r(d)){var k=d;d=h(k,"key"),p=h(k,"url"),c=h(k,"xhrSettings"),g=h(k,"extension",g)}Array.isArray(p)||(p=[p]);for(var tt=0;tt<p.length;tt++){var _=new n(s,{key:d+"_"+tt.toString(),url:p[tt],extension:g,xhrSettings:c});_.onProcess=function(){this.onProcessComplete()},j.push(_)}o.call(this,s,"scripts",d,j)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var s=this.files[f];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});G.register("scripts",function(f,s,d){var p;if(Array.isArray(f))for(var c=0;c<f.length;c++)p=new l(this,f[c]),this.addFile(p.files);else p=new l(this,f,s,d),this.addFile(p.files);return this}),i.exports=l},41846:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(41212),o=e(26430),n=e(85048),l=e(61485),f=e(78776),s=new u({Extends:o,initialize:function(p,c,g,j,k,tt){var _,nt,it=p.cacheManager.obj;if(r(c)){var rt=c;c=h(rt,"key"),_=new f(p,{key:c,type:"obj",cache:it,url:h(rt,"url"),extension:h(rt,"extension","obj"),xhrSettings:h(rt,"xhrSettings"),config:{flipUV:h(rt,"flipUV",k)}}),j=h(rt,"matURL"),j&&(nt=new f(p,{key:c,type:"mat",cache:it,url:j,extension:h(rt,"matExtension","mat"),xhrSettings:h(rt,"xhrSettings")}))}else _=new f(p,{key:c,url:g,type:"obj",cache:it,extension:"obj",xhrSettings:tt,config:{flipUV:k}}),j&&(nt=new f(p,{key:c,url:j,type:"mat",cache:it,extension:"mat",xhrSettings:tt}));o.call(this,p,"obj",c,[_,nt])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],c=n(d.data,d.config.flipUV);p&&(c.materials=l(p.data)),d.cache.add(d.key,c),this.complete=!0}}});G.register("obj",function(d,p,c,g,j){var k;if(Array.isArray(d))for(var tt=0;tt<d.length;tt++)k=new s(this,d[tt]),this.addFile(k.files);else k=new s(this,d,p,c,g,j),this.addFile(k.files);return this}),i.exports=s},58610:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(74099),r=e(518),o=new u({Extends:r,initialize:function(l,f,s,d,p){r.call(this,l,f,s,d,p),this.type="packfile"},onProcess:function(){if(this.state!==G.FILE_POPULATED&&(this.state=G.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var n={};n[this.config]=this.data,this.data=n}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});h.register("pack",function(n,l,f,s){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new o(this,n[d]));else this.addFile(new o(this,n,l,s,f));return this}),i.exports=o},48988:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c,g,j){var k="js";if(n(d)){var tt=d;d=o(tt,"key"),p=o(tt,"url"),j=o(tt,"xhrSettings"),k=o(tt,"extension",k),c=o(tt,"start"),g=o(tt,"mapping")}var _={type:"plugin",cache:!1,extension:k,responseType:"text",key:d,url:p,xhrSettings:j,config:{start:c,mapping:g}};h.call(this,s,_),typeof p=="function"&&(this.data=p,this.state=G.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,s=this.config,d=o(s,"start",!1),p=o(s,"mapping",null);if(this.state===G.FILE_POPULATED)f.install(this.key,this.data,d,p);else{this.state=G.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=f.install(this.key,window[this.key],d,p);(d||p)&&(this.loader.systems[p]=c,this.loader.scene[p]=c)}this.onProcessComplete()}});r.register("plugin",function(f,s,d,p,c){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new l(this,f[g]));else this.addFile(new l(this,f,s,d,p,c));return this}),i.exports=l},67397:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c,g){var j="svg";if(n(d)){var k=d;d=o(k,"key"),p=o(k,"url"),c=o(k,"svgConfig",{}),g=o(k,"xhrSettings"),j=o(k,"extension",j)}var tt={type:"svg",cache:s.textureManager,extension:j,responseType:"text",key:d,url:p,xhrSettings:g,config:{width:o(c,"width"),height:o(c,"height"),scale:o(c,"scale")}};h.call(this,s,tt)},onProcess:function(){this.state=G.FILE_PROCESSING;var f=this.xhrLoader.responseText,s=[f],d=this.config.width,p=this.config.height,c=this.config.scale;t:if(d&&p||c){var g=null,j=new DOMParser;g=j.parseFromString(f,"text/xml");var k=g.getElementsByTagName("svg")[0],tt=k.hasAttribute("viewBox"),_=parseFloat(k.getAttribute("width")),nt=parseFloat(k.getAttribute("height"));if(!tt&&_&&nt)k.setAttribute("viewBox","0  0 "+_+" "+nt);else if(tt&&!_&&!nt){var it=k.getAttribute("viewBox").split(/\s+|,/);_=it[2],nt=it[3]}if(c)if(_&&nt)d=_*c,p=nt*c;else break t;k.setAttribute("width",d.toString()+"px"),k.setAttribute("height",p.toString()+"px"),s=[new XMLSerializer().serializeToString(k)]}try{var rt=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var st=this,at=!1;this.data.onload=function(){at||h.revokeObjectURL(st.data),st.onProcessComplete()},this.data.onerror=function(){at?st.onProcessError():(at=!0,h.revokeObjectURL(st.data),st.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},h.createObjectURL(this.data,rt,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(f,s,d,p){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new l(this,f[c]));else this.addFile(new l(this,f,s,d,p));return this}),i.exports=l},88423:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c){var g="js";if(n(d)){var j=d;d=o(j,"key"),p=o(j,"url"),c=o(j,"xhrSettings"),g=o(j,"extension",g)}var k={type:"text",extension:g,responseType:"text",key:d,url:p,xhrSettings:c};h.call(this,s,k)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(f)),this.complete=!0}});r.register("sceneFile",function(f,s,d){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new l(this,f[p]));else this.addFile(new l(this,f,s,d));return this}),i.exports=l},56812:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c,g,j){var k="js";if(n(d)){var tt=d;d=o(tt,"key"),p=o(tt,"url"),j=o(tt,"xhrSettings"),k=o(tt,"extension",k),c=o(tt,"systemKey"),g=o(tt,"sceneKey")}var _={type:"scenePlugin",cache:!1,extension:k,responseType:"text",key:d,url:p,xhrSettings:j,config:{systemKey:c,sceneKey:g}};h.call(this,s,_),typeof p=="function"&&(this.data=p,this.state=G.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,s=this.config,d=this.key,p=o(s,"systemKey",d),c=o(s,"sceneKey",d);this.state===G.FILE_POPULATED?f.installScenePlugin(p,this.data,c,this.loader.scene,!0):(this.state=G.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(p,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(f,s,d,p,c){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new l(this,f[g]));else this.addFile(new l(this,f,s,d,p,c));return this}),i.exports=l},34328:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c,g){var j="js";if(n(d)){var k=d;d=o(k,"key"),p=o(k,"url"),c=o(k,"type","script"),g=o(k,"xhrSettings"),j=o(k,"extension",j)}else c===void 0&&(c="script");var tt={type:c,cache:!1,extension:j,responseType:"text",key:d,url:p,xhrSettings:g};h.call(this,s,tt)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(f,s,d,p){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new l(this,f[c]));else this.addFile(new l(this,f,s,d,p));return this}),i.exports=l},85035:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(74099),r=e(19550),o=new u({Extends:r,initialize:function(l,f,s,d,p){r.call(this,l,f,s,p,d),this.type="spritesheet"},addToCache:function(){var n=this.linkFile;n?n.state>=G.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,n.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,n.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});h.register("spritesheet",function(n,l,f,s){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new o(this,n[d]));else this.addFile(new o(this,n,l,f,s));return this}),i.exports=o},78776:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=new u({Extends:h,initialize:function(s,d,p,c){var g="text",j="txt",k=s.cacheManager.text;if(n(d)){var tt=d;d=o(tt,"key"),p=o(tt,"url"),c=o(tt,"xhrSettings"),j=o(tt,"extension",j),g=o(tt,"type",g),k=o(tt,"cache",k)}var _={type:g,cache:k,extension:j,responseType:"text",key:d,url:p,xhrSettings:c};h.call(this,s,_)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(f,s,d){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new l(this,f[p]));else this.addFile(new l(this,f,s,d));return this}),i.exports=l},49477:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=e(80341),f=new u({Extends:h,initialize:function(d,p,c,g){var j="csv";if(n(p)){var k=p;p=o(k,"key"),c=o(k,"url"),g=o(k,"xhrSettings"),j=o(k,"extension",j)}var tt={type:"tilemapCSV",cache:d.cacheManager.tilemap,extension:j,responseType:"text",key:p,url:c,xhrSettings:g};h.call(this,d,tt),this.tilemapFormat=l.CSV},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});r.register("tilemapCSV",function(s,d,p){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new f(this,s[c]));else this.addFile(new f(this,s,d,p));return this}),i.exports=f},40807:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(518),r=e(80341),o=new u({Extends:h,initialize:function(l,f,s,d){h.call(this,l,f,s,d),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var n={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,n)}});G.register("tilemapImpact",function(n,l,f){if(Array.isArray(n))for(var s=0;s<n.length;s++)this.addFile(new o(this,n[s]));else this.addFile(new o(this,n,l,f));return this}),i.exports=o},56775:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(518),r=e(80341),o=new u({Extends:h,initialize:function(l,f,s,d){h.call(this,l,f,s,d),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var n={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,n)}});G.register("tilemapTiledJSON",function(n,l,f){if(Array.isArray(n))for(var s=0;s<n.length;s++)this.addFile(new o(this,n[s]));else this.addFile(new o(this,n,l,f));return this}),i.exports=o},25771:(i,$,e)=>{var u=e(83419),G=e(74099),h=e(95540),r=e(19550),o=e(41212),n=e(26430),l=e(78776),f=new u({Extends:n,initialize:function(d,p,c,g,j,k){var tt,_;if(o(p)){var nt=p;p=h(nt,"key"),tt=new r(d,{key:p,url:h(nt,"textureURL"),extension:h(nt,"textureExtension","png"),normalMap:h(nt,"normalMap"),xhrSettings:h(nt,"textureXhrSettings")}),_=new l(d,{key:p,url:h(nt,"atlasURL"),extension:h(nt,"atlasExtension","txt"),xhrSettings:h(nt,"atlasXhrSettings")})}else tt=new r(d,p,c,j),_=new l(d,p,g,k);tt.linkFile?n.call(this,d,"unityatlas",p,[tt,_,tt.linkFile]):n.call(this,d,"unityatlas",p,[tt,_])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,d.data,p),this.complete=!0}}});G.register("unityAtlas",function(s,d,p,c,g){var j;if(Array.isArray(s))for(var k=0;k<s.length;k++)j=new f(this,s[k]),this.addFile(j.files);else j=new f(this,s,d,p,c,g),this.addFile(j.files);return this}),i.exports=f},33720:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(98356),n=e(95540),l=e(41212),f=new u({Extends:h,initialize:function(d,p,c,g){if(g===void 0&&(g=!1),l(p)){var j=p;p=n(j,"key"),c=n(j,"url",[]),g=n(j,"noAudio",!1)}var k=d.systems.game.device.video.getVideoURL(c);k||console.warn("VideoFile: No supported format for "+p);var tt={type:"video",cache:d.cacheManager.video,extension:k.type,key:p,url:k.url,config:{noAudio:g}};h.call(this,d,tt)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=G.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(s,d,p){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new f(this,s[c]));else this.addFile(new f(this,s,d,p));return this}),i.exports=f},57318:(i,$,e)=>{var u=e(83419),G=e(23906),h=e(41299),r=e(74099),o=e(95540),n=e(41212),l=e(56836),f=new u({Extends:h,initialize:function(d,p,c,g){var j="xml";if(n(p)){var k=p;p=o(k,"key"),c=o(k,"url"),g=o(k,"xhrSettings"),j=o(k,"extension",j)}var tt={type:"xml",cache:d.cacheManager.xml,extension:j,responseType:"text",key:p,url:c,xhrSettings:g};h.call(this,d,tt)},onProcess:function(){this.state=G.FILE_PROCESSING,this.data=l(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(s,d,p){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new f(this,s[c]));else this.addFile(new f(this,s,d,p));return this}),i.exports=f},64589:(i,$,e)=>{i.exports={AnimationJSONFile:e(14135),AsepriteFile:e(76272),AtlasJSONFile:e(38734),AtlasXMLFile:e(74599),AudioFile:e(21097),AudioSpriteFile:e(89524),BinaryFile:e(85722),BitmapFontFile:e(97025),CompressedTextureFile:e(69559),CSSFile:e(16024),GLSLFile:e(47931),HTML5AudioFile:e(89749),HTMLFile:e(88470),HTMLTextureFile:e(14643),ImageFile:e(19550),JSONFile:e(518),MultiAtlasFile:e(59327),MultiScriptFile:e(99297),OBJFile:e(41846),PackFile:e(58610),PluginFile:e(48988),SceneFile:e(88423),ScenePluginFile:e(56812),ScriptFile:e(34328),SpriteSheetFile:e(85035),SVGFile:e(67397),TextFile:e(78776),TilemapCSVFile:e(49477),TilemapImpactFile:e(40807),TilemapJSONFile:e(56775),UnityAtlasFile:e(25771),VideoFile:e(33720),XMLFile:e(57318)}},57777:(i,$,e)=>{var u=e(23906),G=e(79291),h={Events:e(54899),FileTypes:e(64589),File:e(41299),FileTypesManager:e(74099),GetURL:e(98356),LoaderPlugin:e(74261),MergeXHRSettings:e(3374),MultiFile:e(26430),XHRLoader:e(84376),XHRSettings:e(92638)};h=G(!1,h,u),i.exports=h},53307:i=>{var $=function(e){for(var u=0,G=0;G<e.length;G++)u+=+e[G];return u/e.length};i.exports=$},85710:(i,$,e)=>{var u=e(6411),G=function(h,r){return u(h)/u(r)/u(h-r)};i.exports=G},30976:i=>{var $=function(e,u){return Math.floor(Math.random()*(u-e+1)+e)};i.exports=$},87842:i=>{var $=function(e,u,G,h,r){var o=(h-u)*.5,n=(r-G)*.5,l=e*e,f=e*l;return(2*G-2*h+o+n)*f+(-3*G+3*h-2*o-n)*l+o*e+G};i.exports=$},26302:i=>{var $=function(e,u,G){u===void 0&&(u=0),G===void 0&&(G=10);var h=Math.pow(G,-u);return Math.ceil(e*h)/h};i.exports=$},45319:i=>{var $=function(e,u,G){return Math.max(u,Math.min(G,e))};i.exports=$},39506:(i,$,e)=>{var u=e(36383),G=function(h){return h*u.DEG_TO_RAD};i.exports=G},61241:i=>{var $=function(e,u){return Math.abs(e-u)};i.exports=$},38857:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(37867),r=e(29747),o=new h,n=new G({initialize:function l(f,s,d,p){f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p=l.DefaultOrder),this._x=f,this._y=s,this._z=d,this._order=p,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(l){this._x=l,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(l){this._y=l,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(l){this._z=l,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(l){this._order=l,this.onChangeCallback(this)}},set:function(l,f,s,d){return d===void 0&&(d=this._order),this._x=l,this._y=f,this._z=s,this._order=d,this.onChangeCallback(this),this},copy:function(l){return this.set(l.x,l.y,l.z,l.order)},setFromQuaternion:function(l,f,s){return f===void 0&&(f=this._order),s===void 0&&(s=!1),o.fromQuat(l),this.setFromRotationMatrix(o,f,s)},setFromRotationMatrix:function(l,f,s){f===void 0&&(f=this._order),s===void 0&&(s=!1);var d=l.val,p=d[0],c=d[4],g=d[8],j=d[1],k=d[5],tt=d[9],_=d[2],nt=d[6],it=d[10],rt=0,st=0,at=0,ot=.99999;switch(f){case"XYZ":{st=Math.asin(u(g,-1,1)),Math.abs(g)<ot?(rt=Math.atan2(-tt,it),at=Math.atan2(-c,p)):rt=Math.atan2(nt,k);break}case"YXZ":{rt=Math.asin(-u(tt,-1,1)),Math.abs(tt)<ot?(st=Math.atan2(g,it),at=Math.atan2(j,k)):st=Math.atan2(-_,p);break}case"ZXY":{rt=Math.asin(u(nt,-1,1)),Math.abs(nt)<ot?(st=Math.atan2(-_,it),at=Math.atan2(-c,k)):at=Math.atan2(j,p);break}case"ZYX":{st=Math.asin(-u(_,-1,1)),Math.abs(_)<ot?(rt=Math.atan2(nt,it),at=Math.atan2(j,p)):at=Math.atan2(-c,k);break}case"YZX":{at=Math.asin(u(j,-1,1)),Math.abs(j)<ot?(rt=Math.atan2(-tt,k),st=Math.atan2(-_,p)):st=Math.atan2(g,it);break}case"XZY":{at=Math.asin(-u(c,-1,1)),Math.abs(c)<ot?(rt=Math.atan2(nt,k),st=Math.atan2(g,p)):rt=Math.atan2(-tt,it);break}}return this._x=rt,this._y=st,this._z=at,this._order=f,s&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",i.exports=n},6411:i=>{var $=function(e){if(e===0)return 1;for(var u=e;--e;)u*=e;return u};i.exports=$},99472:i=>{var $=function(e,u){return Math.random()*(u-e)+e};i.exports=$},77623:i=>{var $=function(e,u,G){u===void 0&&(u=0),G===void 0&&(G=10);var h=Math.pow(G,-u);return Math.floor(e*h)/h};i.exports=$},62945:(i,$,e)=>{var u=e(45319),G=function(h,r,o){return h=u(h,0,1),(o-r)*h+r};i.exports=G},38265:i=>{var $=function(e,u){return e/u/1e3};i.exports=$},78702:i=>{var $=function(e){return e==parseFloat(e)?!(e%2):void 0};i.exports=$},94883:i=>{var $=function(e){return e===parseFloat(e)?!(e%2):void 0};i.exports=$},28915:i=>{var $=function(e,u,G){return(u-e)*G+e};i.exports=$},94908:i=>{var $=function(e,u,G){return G===void 0&&(G=0),e.clone().lerp(u,G)};i.exports=$},94434:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new G(this)},set:function(h){return this.copy(h)},copy:function(h){var r=this.val,o=h.val;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],this},fromMat4:function(h){var r=h.val,o=this.val;return o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[4],o[4]=r[5],o[5]=r[6],o[6]=r[8],o[7]=r[9],o[8]=r[10],this},fromArray:function(h){var r=this.val;return r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3],r[4]=h[4],r[5]=h[5],r[6]=h[6],r[7]=h[7],r[8]=h[8],this},identity:function(){var h=this.val;return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,this},transpose:function(){var h=this.val,r=h[1],o=h[2],n=h[5];return h[1]=h[3],h[2]=h[6],h[3]=r,h[5]=h[7],h[6]=o,h[7]=n,this},invert:function(){var h=this.val,r=h[0],o=h[1],n=h[2],l=h[3],f=h[4],s=h[5],d=h[6],p=h[7],c=h[8],g=c*f-s*p,j=-c*l+s*d,k=p*l-f*d,tt=r*g+o*j+n*k;return tt?(tt=1/tt,h[0]=g*tt,h[1]=(-c*o+n*p)*tt,h[2]=(s*o-n*f)*tt,h[3]=j*tt,h[4]=(c*r-n*d)*tt,h[5]=(-s*r+n*l)*tt,h[6]=k*tt,h[7]=(-p*r+o*d)*tt,h[8]=(f*r-o*l)*tt,this):null},adjoint:function(){var h=this.val,r=h[0],o=h[1],n=h[2],l=h[3],f=h[4],s=h[5],d=h[6],p=h[7],c=h[8];return h[0]=f*c-s*p,h[1]=n*p-o*c,h[2]=o*s-n*f,h[3]=s*d-l*c,h[4]=r*c-n*d,h[5]=n*l-r*s,h[6]=l*p-f*d,h[7]=o*d-r*p,h[8]=r*f-o*l,this},determinant:function(){var h=this.val,r=h[0],o=h[1],n=h[2],l=h[3],f=h[4],s=h[5],d=h[6],p=h[7],c=h[8];return r*(c*f-s*p)+o*(-c*l+s*d)+n*(p*l-f*d)},multiply:function(h){var r=this.val,o=r[0],n=r[1],l=r[2],f=r[3],s=r[4],d=r[5],p=r[6],c=r[7],g=r[8],j=h.val,k=j[0],tt=j[1],_=j[2],nt=j[3],it=j[4],rt=j[5],st=j[6],at=j[7],ot=j[8];return r[0]=k*o+tt*f+_*p,r[1]=k*n+tt*s+_*c,r[2]=k*l+tt*d+_*g,r[3]=nt*o+it*f+rt*p,r[4]=nt*n+it*s+rt*c,r[5]=nt*l+it*d+rt*g,r[6]=st*o+at*f+ot*p,r[7]=st*n+at*s+ot*c,r[8]=st*l+at*d+ot*g,this},translate:function(h){var r=this.val,o=h.x,n=h.y;return r[6]=o*r[0]+n*r[3]+r[6],r[7]=o*r[1]+n*r[4]+r[7],r[8]=o*r[2]+n*r[5]+r[8],this},rotate:function(h){var r=this.val,o=r[0],n=r[1],l=r[2],f=r[3],s=r[4],d=r[5],p=Math.sin(h),c=Math.cos(h);return r[0]=c*o+p*f,r[1]=c*n+p*s,r[2]=c*l+p*d,r[3]=c*f-p*o,r[4]=c*s-p*n,r[5]=c*d-p*l,this},scale:function(h){var r=this.val,o=h.x,n=h.y;return r[0]=o*r[0],r[1]=o*r[1],r[2]=o*r[2],r[3]=n*r[3],r[4]=n*r[4],r[5]=n*r[5],this},fromQuat:function(h){var r=h.x,o=h.y,n=h.z,l=h.w,f=r+r,s=o+o,d=n+n,p=r*f,c=r*s,g=r*d,j=o*s,k=o*d,tt=n*d,_=l*f,nt=l*s,it=l*d,rt=this.val;return rt[0]=1-(j+tt),rt[3]=c+it,rt[6]=g-nt,rt[1]=c-it,rt[4]=1-(p+tt),rt[7]=k+_,rt[2]=g+nt,rt[5]=k-_,rt[8]=1-(p+j),this},normalFromMat4:function(h){var r=h.val,o=this.val,n=r[0],l=r[1],f=r[2],s=r[3],d=r[4],p=r[5],c=r[6],g=r[7],j=r[8],k=r[9],tt=r[10],_=r[11],nt=r[12],it=r[13],rt=r[14],st=r[15],at=n*p-l*d,ot=n*c-f*d,ht=n*g-s*d,dt=l*c-f*p,ut=l*g-s*p,ft=f*g-s*c,gt=j*it-k*nt,xt=j*rt-tt*nt,Et=j*st-_*nt,pt=k*rt-tt*it,mt=k*st-_*it,lt=tt*st-_*rt,ct=at*lt-ot*mt+ht*pt+dt*Et-ut*xt+ft*gt;return ct?(ct=1/ct,o[0]=(p*lt-c*mt+g*pt)*ct,o[1]=(c*Et-d*lt-g*xt)*ct,o[2]=(d*mt-p*Et+g*gt)*ct,o[3]=(f*mt-l*lt-s*pt)*ct,o[4]=(n*lt-f*Et+s*xt)*ct,o[5]=(l*Et-n*mt-s*gt)*ct,o[6]=(it*ft-rt*ut+st*dt)*ct,o[7]=(rt*ht-nt*ft-st*ot)*ct,o[8]=(nt*ut-it*ht+st*at)*ct,this):null}});i.exports=G},37867:(i,$,e)=>{var u=e(83419),G=e(25836),h=1e-6,r=new u({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new r(this)},set:function(d){return this.copy(d)},setValues:function(d,p,c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt){var ut=this.val;return ut[0]=d,ut[1]=p,ut[2]=c,ut[3]=g,ut[4]=j,ut[5]=k,ut[6]=tt,ut[7]=_,ut[8]=nt,ut[9]=it,ut[10]=rt,ut[11]=st,ut[12]=at,ut[13]=ot,ut[14]=ht,ut[15]=dt,this},copy:function(d){var p=d.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(d){return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(d,p,c){var g=o.fromQuat(c),j=g.val,k=p.x,tt=p.y,_=p.z;return this.setValues(j[0]*k,j[1]*k,j[2]*k,0,j[4]*tt,j[5]*tt,j[6]*tt,0,j[8]*_,j[9]*_,j[10]*_,0,d.x,d.y,d.z,1)},xyz:function(d,p,c){this.identity();var g=this.val;return g[12]=d,g[13]=p,g[14]=c,this},scaling:function(d,p,c){this.zero();var g=this.val;return g[0]=d,g[5]=p,g[10]=c,g[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var d=this.val,p=d[1],c=d[2],g=d[3],j=d[6],k=d[7],tt=d[11];return d[1]=d[4],d[2]=d[8],d[3]=d[12],d[4]=p,d[6]=d[9],d[7]=d[13],d[8]=c,d[9]=j,d[11]=d[14],d[12]=g,d[13]=k,d[14]=tt,this},getInverse:function(d){return this.copy(d),this.invert()},invert:function(){var d=this.val,p=d[0],c=d[1],g=d[2],j=d[3],k=d[4],tt=d[5],_=d[6],nt=d[7],it=d[8],rt=d[9],st=d[10],at=d[11],ot=d[12],ht=d[13],dt=d[14],ut=d[15],ft=p*tt-c*k,gt=p*_-g*k,xt=p*nt-j*k,Et=c*_-g*tt,pt=c*nt-j*tt,mt=g*nt-j*_,lt=it*ht-rt*ot,ct=it*dt-st*ot,vt=it*ut-at*ot,yt=rt*dt-st*ht,Tt=rt*ut-at*ht,Ct=st*ut-at*dt,St=ft*Ct-gt*Tt+xt*yt+Et*vt-pt*ct+mt*lt;return St?(St=1/St,this.setValues((tt*Ct-_*Tt+nt*yt)*St,(g*Tt-c*Ct-j*yt)*St,(ht*mt-dt*pt+ut*Et)*St,(st*pt-rt*mt-at*Et)*St,(_*vt-k*Ct-nt*ct)*St,(p*Ct-g*vt+j*ct)*St,(dt*xt-ot*mt-ut*gt)*St,(it*mt-st*xt+at*gt)*St,(k*Tt-tt*vt+nt*lt)*St,(c*vt-p*Tt-j*lt)*St,(ot*pt-ht*xt+ut*ft)*St,(rt*xt-it*pt-at*ft)*St,(tt*ct-k*yt-_*lt)*St,(p*yt-c*ct+g*lt)*St,(ht*gt-ot*Et-dt*ft)*St,(it*Et-rt*gt+st*ft)*St)):this},adjoint:function(){var d=this.val,p=d[0],c=d[1],g=d[2],j=d[3],k=d[4],tt=d[5],_=d[6],nt=d[7],it=d[8],rt=d[9],st=d[10],at=d[11],ot=d[12],ht=d[13],dt=d[14],ut=d[15];return this.setValues(tt*(st*ut-at*dt)-rt*(_*ut-nt*dt)+ht*(_*at-nt*st),-(c*(st*ut-at*dt)-rt*(g*ut-j*dt)+ht*(g*at-j*st)),c*(_*ut-nt*dt)-tt*(g*ut-j*dt)+ht*(g*nt-j*_),-(c*(_*at-nt*st)-tt*(g*at-j*st)+rt*(g*nt-j*_)),-(k*(st*ut-at*dt)-it*(_*ut-nt*dt)+ot*(_*at-nt*st)),p*(st*ut-at*dt)-it*(g*ut-j*dt)+ot*(g*at-j*st),-(p*(_*ut-nt*dt)-k*(g*ut-j*dt)+ot*(g*nt-j*_)),p*(_*at-nt*st)-k*(g*at-j*st)+it*(g*nt-j*_),k*(rt*ut-at*ht)-it*(tt*ut-nt*ht)+ot*(tt*at-nt*rt),-(p*(rt*ut-at*ht)-it*(c*ut-j*ht)+ot*(c*at-j*rt)),p*(tt*ut-nt*ht)-k*(c*ut-j*ht)+ot*(c*nt-j*tt),-(p*(tt*at-nt*rt)-k*(c*at-j*rt)+it*(c*nt-j*tt)),-(k*(rt*dt-st*ht)-it*(tt*dt-_*ht)+ot*(tt*st-_*rt)),p*(rt*dt-st*ht)-it*(c*dt-g*ht)+ot*(c*st-g*rt),-(p*(tt*dt-_*ht)-k*(c*dt-g*ht)+ot*(c*_-g*tt)),p*(tt*st-_*rt)-k*(c*st-g*rt)+it*(c*_-g*tt))},determinant:function(){var d=this.val,p=d[0],c=d[1],g=d[2],j=d[3],k=d[4],tt=d[5],_=d[6],nt=d[7],it=d[8],rt=d[9],st=d[10],at=d[11],ot=d[12],ht=d[13],dt=d[14],ut=d[15],ft=p*tt-c*k,gt=p*_-g*k,xt=p*nt-j*k,Et=c*_-g*tt,pt=c*nt-j*tt,mt=g*nt-j*_,lt=it*ht-rt*ot,ct=it*dt-st*ot,vt=it*ut-at*ot,yt=rt*dt-st*ht,Tt=rt*ut-at*ht,Ct=st*ut-at*dt;return ft*Ct-gt*Tt+xt*yt+Et*vt-pt*ct+mt*lt},multiply:function(d){var p=this.val,c=p[0],g=p[1],j=p[2],k=p[3],tt=p[4],_=p[5],nt=p[6],it=p[7],rt=p[8],st=p[9],at=p[10],ot=p[11],ht=p[12],dt=p[13],ut=p[14],ft=p[15],gt=d.val,xt=gt[0],Et=gt[1],pt=gt[2],mt=gt[3];return p[0]=xt*c+Et*tt+pt*rt+mt*ht,p[1]=xt*g+Et*_+pt*st+mt*dt,p[2]=xt*j+Et*nt+pt*at+mt*ut,p[3]=xt*k+Et*it+pt*ot+mt*ft,xt=gt[4],Et=gt[5],pt=gt[6],mt=gt[7],p[4]=xt*c+Et*tt+pt*rt+mt*ht,p[5]=xt*g+Et*_+pt*st+mt*dt,p[6]=xt*j+Et*nt+pt*at+mt*ut,p[7]=xt*k+Et*it+pt*ot+mt*ft,xt=gt[8],Et=gt[9],pt=gt[10],mt=gt[11],p[8]=xt*c+Et*tt+pt*rt+mt*ht,p[9]=xt*g+Et*_+pt*st+mt*dt,p[10]=xt*j+Et*nt+pt*at+mt*ut,p[11]=xt*k+Et*it+pt*ot+mt*ft,xt=gt[12],Et=gt[13],pt=gt[14],mt=gt[15],p[12]=xt*c+Et*tt+pt*rt+mt*ht,p[13]=xt*g+Et*_+pt*st+mt*dt,p[14]=xt*j+Et*nt+pt*at+mt*ut,p[15]=xt*k+Et*it+pt*ot+mt*ft,this},multiplyLocal:function(d){var p=this.val,c=d.val;return this.setValues(p[0]*c[0]+p[1]*c[4]+p[2]*c[8]+p[3]*c[12],p[0]*c[1]+p[1]*c[5]+p[2]*c[9]+p[3]*c[13],p[0]*c[2]+p[1]*c[6]+p[2]*c[10]+p[3]*c[14],p[0]*c[3]+p[1]*c[7]+p[2]*c[11]+p[3]*c[15],p[4]*c[0]+p[5]*c[4]+p[6]*c[8]+p[7]*c[12],p[4]*c[1]+p[5]*c[5]+p[6]*c[9]+p[7]*c[13],p[4]*c[2]+p[5]*c[6]+p[6]*c[10]+p[7]*c[14],p[4]*c[3]+p[5]*c[7]+p[6]*c[11]+p[7]*c[15],p[8]*c[0]+p[9]*c[4]+p[10]*c[8]+p[11]*c[12],p[8]*c[1]+p[9]*c[5]+p[10]*c[9]+p[11]*c[13],p[8]*c[2]+p[9]*c[6]+p[10]*c[10]+p[11]*c[14],p[8]*c[3]+p[9]*c[7]+p[10]*c[11]+p[11]*c[15],p[12]*c[0]+p[13]*c[4]+p[14]*c[8]+p[15]*c[12],p[12]*c[1]+p[13]*c[5]+p[14]*c[9]+p[15]*c[13],p[12]*c[2]+p[13]*c[6]+p[14]*c[10]+p[15]*c[14],p[12]*c[3]+p[13]*c[7]+p[14]*c[11]+p[15]*c[15])},premultiply:function(d){return this.multiplyMatrices(d,this)},multiplyMatrices:function(d,p){var c=d.val,g=p.val,j=c[0],k=c[4],tt=c[8],_=c[12],nt=c[1],it=c[5],rt=c[9],st=c[13],at=c[2],ot=c[6],ht=c[10],dt=c[14],ut=c[3],ft=c[7],gt=c[11],xt=c[15],Et=g[0],pt=g[4],mt=g[8],lt=g[12],ct=g[1],vt=g[5],yt=g[9],Tt=g[13],Ct=g[2],St=g[6],Dt=g[10],Mt=g[14],At=g[3],wt=g[7],It=g[11],Pt=g[15];return this.setValues(j*Et+k*ct+tt*Ct+_*At,nt*Et+it*ct+rt*Ct+st*At,at*Et+ot*ct+ht*Ct+dt*At,ut*Et+ft*ct+gt*Ct+xt*At,j*pt+k*vt+tt*St+_*wt,nt*pt+it*vt+rt*St+st*wt,at*pt+ot*vt+ht*St+dt*wt,ut*pt+ft*vt+gt*St+xt*wt,j*mt+k*yt+tt*Dt+_*It,nt*mt+it*yt+rt*Dt+st*It,at*mt+ot*yt+ht*Dt+dt*It,ut*mt+ft*yt+gt*Dt+xt*It,j*lt+k*Tt+tt*Mt+_*Pt,nt*lt+it*Tt+rt*Mt+st*Pt,at*lt+ot*Tt+ht*Mt+dt*Pt,ut*lt+ft*Tt+gt*Mt+xt*Pt)},translate:function(d){return this.translateXYZ(d.x,d.y,d.z)},translateXYZ:function(d,p,c){var g=this.val;return g[12]=g[0]*d+g[4]*p+g[8]*c+g[12],g[13]=g[1]*d+g[5]*p+g[9]*c+g[13],g[14]=g[2]*d+g[6]*p+g[10]*c+g[14],g[15]=g[3]*d+g[7]*p+g[11]*c+g[15],this},scale:function(d){return this.scaleXYZ(d.x,d.y,d.z)},scaleXYZ:function(d,p,c){var g=this.val;return g[0]=g[0]*d,g[1]=g[1]*d,g[2]=g[2]*d,g[3]=g[3]*d,g[4]=g[4]*p,g[5]=g[5]*p,g[6]=g[6]*p,g[7]=g[7]*p,g[8]=g[8]*c,g[9]=g[9]*c,g[10]=g[10]*c,g[11]=g[11]*c,this},makeRotationAxis:function(d,p){var c=Math.cos(p),g=Math.sin(p),j=1-c,k=d.x,tt=d.y,_=d.z,nt=j*k,it=j*tt;return this.setValues(nt*k+c,nt*tt-g*_,nt*_+g*tt,0,nt*tt+g*_,it*tt+c,it*_-g*k,0,nt*_-g*tt,it*_+g*k,j*_*_+c,0,0,0,0,1)},rotate:function(d,p){var c=this.val,g=p.x,j=p.y,k=p.z,tt=Math.sqrt(g*g+j*j+k*k);if(Math.abs(tt)<h)return this;tt=1/tt,g*=tt,j*=tt,k*=tt;var _=Math.sin(d),nt=Math.cos(d),it=1-nt,rt=c[0],st=c[1],at=c[2],ot=c[3],ht=c[4],dt=c[5],ut=c[6],ft=c[7],gt=c[8],xt=c[9],Et=c[10],pt=c[11],mt=c[12],lt=c[13],ct=c[14],vt=c[15],yt=g*g*it+nt,Tt=j*g*it+k*_,Ct=k*g*it-j*_,St=g*j*it-k*_,Dt=j*j*it+nt,Mt=k*j*it+g*_,At=g*k*it+j*_,wt=j*k*it-g*_,It=k*k*it+nt;return this.setValues(rt*yt+ht*Tt+gt*Ct,st*yt+dt*Tt+xt*Ct,at*yt+ut*Tt+Et*Ct,ot*yt+ft*Tt+pt*Ct,rt*St+ht*Dt+gt*Mt,st*St+dt*Dt+xt*Mt,at*St+ut*Dt+Et*Mt,ot*St+ft*Dt+pt*Mt,rt*At+ht*wt+gt*It,st*At+dt*wt+xt*It,at*At+ut*wt+Et*It,ot*At+ft*wt+pt*It,mt,lt,ct,vt)},rotateX:function(d){var p=this.val,c=Math.sin(d),g=Math.cos(d),j=p[4],k=p[5],tt=p[6],_=p[7],nt=p[8],it=p[9],rt=p[10],st=p[11];return p[4]=j*g+nt*c,p[5]=k*g+it*c,p[6]=tt*g+rt*c,p[7]=_*g+st*c,p[8]=nt*g-j*c,p[9]=it*g-k*c,p[10]=rt*g-tt*c,p[11]=st*g-_*c,this},rotateY:function(d){var p=this.val,c=Math.sin(d),g=Math.cos(d),j=p[0],k=p[1],tt=p[2],_=p[3],nt=p[8],it=p[9],rt=p[10],st=p[11];return p[0]=j*g-nt*c,p[1]=k*g-it*c,p[2]=tt*g-rt*c,p[3]=_*g-st*c,p[8]=j*c+nt*g,p[9]=k*c+it*g,p[10]=tt*c+rt*g,p[11]=_*c+st*g,this},rotateZ:function(d){var p=this.val,c=Math.sin(d),g=Math.cos(d),j=p[0],k=p[1],tt=p[2],_=p[3],nt=p[4],it=p[5],rt=p[6],st=p[7];return p[0]=j*g+nt*c,p[1]=k*g+it*c,p[2]=tt*g+rt*c,p[3]=_*g+st*c,p[4]=nt*g-j*c,p[5]=it*g-k*c,p[6]=rt*g-tt*c,p[7]=st*g-_*c,this},fromRotationTranslation:function(d,p){var c=d.x,g=d.y,j=d.z,k=d.w,tt=c+c,_=g+g,nt=j+j,it=c*tt,rt=c*_,st=c*nt,at=g*_,ot=g*nt,ht=j*nt,dt=k*tt,ut=k*_,ft=k*nt;return this.setValues(1-(at+ht),rt+ft,st-ut,0,rt-ft,1-(it+ht),ot+dt,0,st+ut,ot-dt,1-(it+at),0,p.x,p.y,p.z,1)},fromQuat:function(d){var p=d.x,c=d.y,g=d.z,j=d.w,k=p+p,tt=c+c,_=g+g,nt=p*k,it=p*tt,rt=p*_,st=c*tt,at=c*_,ot=g*_,ht=j*k,dt=j*tt,ut=j*_;return this.setValues(1-(st+ot),it+ut,rt-dt,0,it-ut,1-(nt+ot),at+ht,0,rt+dt,at-ht,1-(nt+st),0,0,0,0,1)},frustum:function(d,p,c,g,j,k){var tt=1/(p-d),_=1/(g-c),nt=1/(j-k);return this.setValues(j*2*tt,0,0,0,0,j*2*_,0,0,(p+d)*tt,(g+c)*_,(k+j)*nt,-1,0,0,k*j*2*nt,0)},perspective:function(d,p,c,g){var j=1/Math.tan(d/2),k=1/(c-g);return this.setValues(j/p,0,0,0,0,j,0,0,0,0,(g+c)*k,-1,0,0,2*g*c*k,0)},perspectiveLH:function(d,p,c,g){return this.setValues(2*c/d,0,0,0,0,2*c/p,0,0,0,0,-g/(c-g),1,0,0,c*g/(c-g),0)},ortho:function(d,p,c,g,j,k){var tt=d-p,_=c-g,nt=j-k;return tt=tt===0?tt:1/tt,_=_===0?_:1/_,nt=nt===0?nt:1/nt,this.setValues(-2*tt,0,0,0,0,-2*_,0,0,0,0,2*nt,0,(d+p)*tt,(g+c)*_,(k+j)*nt,1)},lookAtRH:function(d,p,c){var g=this.val;return s.subVectors(d,p),s.getLengthSquared()===0&&(s.z=1),s.normalize(),l.crossVectors(c,s),l.getLengthSquared()===0&&(Math.abs(c.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),l.crossVectors(c,s)),l.normalize(),f.crossVectors(s,l),g[0]=l.x,g[1]=l.y,g[2]=l.z,g[4]=f.x,g[5]=f.y,g[6]=f.z,g[8]=s.x,g[9]=s.y,g[10]=s.z,this},lookAt:function(d,p,c){var g=d.x,j=d.y,k=d.z,tt=c.x,_=c.y,nt=c.z,it=p.x,rt=p.y,st=p.z;if(Math.abs(g-it)<h&&Math.abs(j-rt)<h&&Math.abs(k-st)<h)return this.identity();var at=g-it,ot=j-rt,ht=k-st,dt=1/Math.sqrt(at*at+ot*ot+ht*ht);at*=dt,ot*=dt,ht*=dt;var ut=_*ht-nt*ot,ft=nt*at-tt*ht,gt=tt*ot-_*at;dt=Math.sqrt(ut*ut+ft*ft+gt*gt),dt?(dt=1/dt,ut*=dt,ft*=dt,gt*=dt):(ut=0,ft=0,gt=0);var xt=ot*gt-ht*ft,Et=ht*ut-at*gt,pt=at*ft-ot*ut;return dt=Math.sqrt(xt*xt+Et*Et+pt*pt),dt?(dt=1/dt,xt*=dt,Et*=dt,pt*=dt):(xt=0,Et=0,pt=0),this.setValues(ut,xt,at,0,ft,Et,ot,0,gt,pt,ht,0,-(ut*g+ft*j+gt*k),-(xt*g+Et*j+pt*k),-(at*g+ot*j+ht*k),1)},yawPitchRoll:function(d,p,c){this.zero(),o.zero(),n.zero();var g=this.val,j=o.val,k=n.val,tt=Math.sin(c),_=Math.cos(c);return g[10]=1,g[15]=1,g[0]=_,g[1]=tt,g[4]=-tt,g[5]=_,tt=Math.sin(p),_=Math.cos(p),j[0]=1,j[15]=1,j[5]=_,j[10]=_,j[9]=-tt,j[6]=tt,tt=Math.sin(d),_=Math.cos(d),k[5]=1,k[15]=1,k[0]=_,k[2]=-tt,k[8]=tt,k[10]=_,this.multiplyLocal(o),this.multiplyLocal(n),this},setWorldMatrix:function(d,p,c,g,j){return this.yawPitchRoll(d.y,d.x,d.z),o.scaling(c.x,c.y,c.z),n.xyz(p.x,p.y,p.z),this.multiplyLocal(o),this.multiplyLocal(n),g&&this.multiplyLocal(g),j&&this.multiplyLocal(j),this},multiplyToMat4:function(d,p){var c=this.val,g=d.val,j=c[0],k=c[1],tt=c[2],_=c[3],nt=c[4],it=c[5],rt=c[6],st=c[7],at=c[8],ot=c[9],ht=c[10],dt=c[11],ut=c[12],ft=c[13],gt=c[14],xt=c[15],Et=g[0],pt=g[1],mt=g[2],lt=g[3],ct=g[4],vt=g[5],yt=g[6],Tt=g[7],Ct=g[8],St=g[9],Dt=g[10],Mt=g[11],At=g[12],wt=g[13],It=g[14],Pt=g[15];return p.setValues(Et*j+pt*nt+mt*at+lt*ut,pt*k+pt*it+mt*ot+lt*ft,mt*tt+pt*rt+mt*ht+lt*gt,lt*_+pt*st+mt*dt+lt*xt,ct*j+vt*nt+yt*at+Tt*ut,ct*k+vt*it+yt*ot+Tt*ft,ct*tt+vt*rt+yt*ht+Tt*gt,ct*_+vt*st+yt*dt+Tt*xt,Ct*j+St*nt+Dt*at+Mt*ut,Ct*k+St*it+Dt*ot+Mt*ft,Ct*tt+St*rt+Dt*ht+Mt*gt,Ct*_+St*st+Dt*dt+Mt*xt,At*j+wt*nt+It*at+Pt*ut,At*k+wt*it+It*ot+Pt*ft,At*tt+wt*rt+It*ht+Pt*gt,At*_+wt*st+It*dt+Pt*xt)},fromRotationXYTranslation:function(d,p,c){var g=p.x,j=p.y,k=p.z,tt=Math.sin(d.x),_=Math.cos(d.x),nt=Math.sin(d.y),it=Math.cos(d.y),rt=g,st=j,at=k,ot=-tt,ht=0-ot*nt,dt=0-_*nt,ut=ot*it,ft=_*it;return c||(rt=it*g+nt*k,st=ht*g+_*j+ut*k,at=dt*g+tt*j+ft*k),this.setValues(it,ht,dt,0,0,_,tt,0,nt,ut,ft,0,rt,st,at,1)},getMaxScaleOnAxis:function(){var d=this.val,p=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],c=d[4]*d[4]+d[5]*d[5]+d[6]*d[6],g=d[8]*d[8]+d[9]*d[9]+d[10]*d[10];return Math.sqrt(Math.max(p,c,g))}}),o=new r,n=new r,l=new G,f=new G,s=new G;i.exports=r},86883:i=>{var $=function(e,u,G){return Math.min(e+u,G)};i.exports=$},50040:i=>{var $=function(e){var u=e.length;if(u===0)return 0;e.sort(function(h,r){return h-r});var G=Math.floor(u/2);return u%2===0?(e[G]+e[G-1])/2:e[G]};i.exports=$},37204:i=>{var $=function(e,u,G){return Math.max(e-u,G)};i.exports=$},65201:i=>{var $=function(e,u,G,h){G===void 0&&(G=u+1);var r=(e-u)/(G-u);return r>1?h!==void 0?(r=(h-e)/(h-G),r<0&&(r=0)):r=1:r<0&&(r=0),r};i.exports=$},15746:(i,$,e)=>{var u=e(83419),G=e(94434),h=e(29747),r=e(25836),o=1e-6,n=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),f=new r(1,0,0),s=new r(0,1,0),d=new r,p=new G,c=new u({initialize:function(j,k,tt,_){this.onChangeCallback=h,this.set(j,k,tt,_)},x:{get:function(){return this._x},set:function(g){this._x=g,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(g){this._y=g,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(g){this._z=g,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(g){this._w=g,this.onChangeCallback(this)}},copy:function(g){return this.set(g)},set:function(g,j,k,tt,_){return _===void 0&&(_=!0),typeof g=="object"?(this._x=g.x||0,this._y=g.y||0,this._z=g.z||0,this._w=g.w||0):(this._x=g||0,this._y=j||0,this._z=k||0,this._w=tt||0),_&&this.onChangeCallback(this),this},add:function(g){return this._x+=g.x,this._y+=g.y,this._z+=g.z,this._w+=g.w,this.onChangeCallback(this),this},subtract:function(g){return this._x-=g.x,this._y-=g.y,this._z-=g.z,this._w-=g.w,this.onChangeCallback(this),this},scale:function(g){return this._x*=g,this._y*=g,this._z*=g,this._w*=g,this.onChangeCallback(this),this},length:function(){var g=this.x,j=this.y,k=this.z,tt=this.w;return Math.sqrt(g*g+j*j+k*k+tt*tt)},lengthSq:function(){var g=this.x,j=this.y,k=this.z,tt=this.w;return g*g+j*j+k*k+tt*tt},normalize:function(){var g=this.x,j=this.y,k=this.z,tt=this.w,_=g*g+j*j+k*k+tt*tt;return _>0&&(_=1/Math.sqrt(_),this._x=g*_,this._y=j*_,this._z=k*_,this._w=tt*_),this.onChangeCallback(this),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,j){j===void 0&&(j=0);var k=this.x,tt=this.y,_=this.z,nt=this.w;return this.set(k+j*(g.x-k),tt+j*(g.y-tt),_+j*(g.z-_),nt+j*(g.w-nt))},rotationTo:function(g,j){var k=g.x*j.x+g.y*j.y+g.z*j.z;return k<-.999999?(d.copy(f).cross(g).length()<o&&d.copy(s).cross(g),d.normalize(),this.setAxisAngle(d,Math.PI)):k>.999999?this.set(0,0,0,1):(d.copy(g).cross(j),this._x=d.x,this._y=d.y,this._z=d.z,this._w=1+k,this.normalize())},setAxes:function(g,j,k){var tt=p.val;return tt[0]=j.x,tt[3]=j.y,tt[6]=j.z,tt[1]=k.x,tt[4]=k.y,tt[7]=k.z,tt[2]=-g.x,tt[5]=-g.y,tt[8]=-g.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(g,j){j=j*.5;var k=Math.sin(j);return this.set(k*g.x,k*g.y,k*g.z,Math.cos(j))},multiply:function(g){var j=this.x,k=this.y,tt=this.z,_=this.w,nt=g.x,it=g.y,rt=g.z,st=g.w;return this.set(j*st+_*nt+k*rt-tt*it,k*st+_*it+tt*nt-j*rt,tt*st+_*rt+j*it-k*nt,_*st-j*nt-k*it-tt*rt)},slerp:function(g,j){var k=this.x,tt=this.y,_=this.z,nt=this.w,it=g.x,rt=g.y,st=g.z,at=g.w,ot=k*it+tt*rt+_*st+nt*at;ot<0&&(ot=-ot,it=-it,rt=-rt,st=-st,at=-at);var ht=1-j,dt=j;if(1-ot>o){var ut=Math.acos(ot),ft=Math.sin(ut);ht=Math.sin((1-j)*ut)/ft,dt=Math.sin(j*ut)/ft}return this.set(ht*k+dt*it,ht*tt+dt*rt,ht*_+dt*st,ht*nt+dt*at)},invert:function(){var g=this.x,j=this.y,k=this.z,tt=this.w,_=g*g+j*j+k*k+tt*tt,nt=_?1/_:0;return this.set(-g*nt,-j*nt,-k*nt,tt*nt)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(g){g*=.5;var j=this.x,k=this.y,tt=this.z,_=this.w,nt=Math.sin(g),it=Math.cos(g);return this.set(j*it+_*nt,k*it+tt*nt,tt*it-k*nt,_*it-j*nt)},rotateY:function(g){g*=.5;var j=this.x,k=this.y,tt=this.z,_=this.w,nt=Math.sin(g),it=Math.cos(g);return this.set(j*it-tt*nt,k*it+_*nt,tt*it+j*nt,_*it-k*nt)},rotateZ:function(g){g*=.5;var j=this.x,k=this.y,tt=this.z,_=this.w,nt=Math.sin(g),it=Math.cos(g);return this.set(j*it+k*nt,k*it-j*nt,tt*it+_*nt,_*it-tt*nt)},calculateW:function(){var g=this.x,j=this.y,k=this.z;return this.w=-Math.sqrt(1-g*g-j*j-k*k),this},setFromEuler:function(g,j){var k=g.x/2,tt=g.y/2,_=g.z/2,nt=Math.cos(k),it=Math.cos(tt),rt=Math.cos(_),st=Math.sin(k),at=Math.sin(tt),ot=Math.sin(_);switch(g.order){case"XYZ":{this.set(st*it*rt+nt*at*ot,nt*at*rt-st*it*ot,nt*it*ot+st*at*rt,nt*it*rt-st*at*ot,j);break}case"YXZ":{this.set(st*it*rt+nt*at*ot,nt*at*rt-st*it*ot,nt*it*ot-st*at*rt,nt*it*rt+st*at*ot,j);break}case"ZXY":{this.set(st*it*rt-nt*at*ot,nt*at*rt+st*it*ot,nt*it*ot+st*at*rt,nt*it*rt-st*at*ot,j);break}case"ZYX":{this.set(st*it*rt-nt*at*ot,nt*at*rt+st*it*ot,nt*it*ot-st*at*rt,nt*it*rt+st*at*ot,j);break}case"YZX":{this.set(st*it*rt+nt*at*ot,nt*at*rt+st*it*ot,nt*it*ot-st*at*rt,nt*it*rt-st*at*ot,j);break}case"XZY":{this.set(st*it*rt-nt*at*ot,nt*at*rt-st*it*ot,nt*it*ot+st*at*rt,nt*it*rt+st*at*ot,j);break}}return this},setFromRotationMatrix:function(g){var j=g.val,k=j[0],tt=j[4],_=j[8],nt=j[1],it=j[5],rt=j[9],st=j[2],at=j[6],ot=j[10],ht=k+it+ot,dt;return ht>0?(dt=.5/Math.sqrt(ht+1),this.set((at-rt)*dt,(_-st)*dt,(nt-tt)*dt,.25/dt)):k>it&&k>ot?(dt=2*Math.sqrt(1+k-it-ot),this.set(.25*dt,(tt+nt)/dt,(_+st)/dt,(at-rt)/dt)):it>ot?(dt=2*Math.sqrt(1+it-k-ot),this.set((tt+nt)/dt,.25*dt,(rt+at)/dt,(_-st)/dt)):(dt=2*Math.sqrt(1+ot-k-it),this.set((_+st)/dt,(rt+at)/dt,.25*dt,(nt-tt)/dt)),this},fromMat3:function(g){var j=g.val,k=j[0]+j[4]+j[8],tt;if(k>0)tt=Math.sqrt(k+1),this.w=.5*tt,tt=.5/tt,this._x=(j[7]-j[5])*tt,this._y=(j[2]-j[6])*tt,this._z=(j[3]-j[1])*tt;else{var _=0;j[4]>j[0]&&(_=1),j[8]>j[_*3+_]&&(_=2);var nt=n[_],it=n[nt];tt=Math.sqrt(j[_*3+_]-j[nt*3+nt]-j[it*3+it]+1),l[_]=.5*tt,tt=.5/tt,l[nt]=(j[nt*3+_]+j[_*3+nt])*tt,l[it]=(j[it*3+_]+j[_*3+it])*tt,this._x=l[0],this._y=l[1],this._z=l[2],this._w=(j[it*3+nt]-j[nt*3+it])*tt}return this.onChangeCallback(this),this}});i.exports=c},43396:(i,$,e)=>{var u=e(36383),G=function(h){return h*u.RAD_TO_DEG};i.exports=G},74362:i=>{var $=function(e,u){u===void 0&&(u=1);var G=Math.random()*2*Math.PI;return e.x=Math.cos(G)*u,e.y=Math.sin(G)*u,e};i.exports=$},60706:i=>{var $=function(e,u){u===void 0&&(u=1);var G=Math.random()*2*Math.PI,h=Math.random()*2-1,r=Math.sqrt(1-h*h)*u;return e.x=Math.cos(G)*r,e.y=Math.sin(G)*r,e.z=h*u,e};i.exports=$},67421:i=>{var $=function(e,u){return u===void 0&&(u=1),e.x=(Math.random()*2-1)*u,e.y=(Math.random()*2-1)*u,e.z=(Math.random()*2-1)*u,e.w=(Math.random()*2-1)*u,e};i.exports=$},36305:i=>{var $=function(e,u){var G=e.x,h=e.y;return e.x=G*Math.cos(u)-h*Math.sin(u),e.y=G*Math.sin(u)+h*Math.cos(u),e};i.exports=$},11520:i=>{var $=function(e,u,G,h){var r=Math.cos(h),o=Math.sin(h),n=e.x-u,l=e.y-G;return e.x=n*r-l*o+u,e.y=n*o+l*r+G,e};i.exports=$},1163:i=>{var $=function(e,u,G,h,r){var o=h+Math.atan2(e.y-G,e.x-u);return e.x=u+r*Math.cos(o),e.y=G+r*Math.sin(o),e};i.exports=$},70336:i=>{var $=function(e,u,G,h,r){return e.x=u+r*Math.cos(h),e.y=G+r*Math.sin(h),e};i.exports=$},72678:(i,$,e)=>{var u=e(25836),G=e(37867),h=e(15746),r=new G,o=new h,n=new u,l=function(f,s,d){return o.setAxisAngle(s,d),r.fromRotationTranslation(o,n.set(0,0,0)),f.transformMat4(r)};i.exports=l},2284:i=>{var $=function(e){return e>0?Math.ceil(e):Math.floor(e)};i.exports=$},41013:i=>{var $=function(e,u,G){u===void 0&&(u=0),G===void 0&&(G=10);var h=Math.pow(G,-u);return Math.round(e*h)/h};i.exports=$},16922:i=>{var $=function(e,u,G,h){u===void 0&&(u=1),G===void 0&&(G=1),h===void 0&&(h=1),h*=Math.PI/e;for(var r=[],o=[],n=0;n<e;n++)G-=u*h,u+=G*h,r[n]=G,o[n]=u;return{sin:o,cos:r,length:e}};i.exports=$},7602:i=>{var $=function(e,u,G){return e<=u?0:e>=G?1:(e=(e-u)/(G-u),e*e*(3-2*e))};i.exports=$},54261:i=>{var $=function(e,u,G){return e=Math.max(0,Math.min(1,(e-u)/(G-u))),e*e*e*(e*(e*6-15)+10)};i.exports=$},44408:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n){n===void 0&&(n=new u);var l=0,f=0,s=r*o;return h>0&&h<=s&&(h>r-1?(f=Math.floor(h/r),l=h-f*r):l=h),n.set(l,f)};i.exports=G},85955:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l,f,s,d){d===void 0&&(d=new u);var p=Math.sin(l),c=Math.cos(l),g=c*f,j=p*f,k=-p*s,tt=c*s,_=1/(g*tt+k*-j);return d.x=tt*_*h+-k*_*r+(n*k-o*tt)*_,d.y=g*_*r+-j*_*h+(-n*g+o*j)*_,d};i.exports=G},26099:(i,$,e)=>{var u=e(83419),G=e(43855),h=new u({initialize:function(o,n){this.x=0,this.y=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0):(n===void 0&&(n=o),this.x=o||0,this.y=n||0)},clone:function(){return new h(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,o){return o===void 0&&(o=r),this.x=r,this.y=o,this},setTo:function(r,o){return this.set(r,o)},setToPolar:function(r,o){return o==null&&(o=1),this.x=Math.cos(r)*o,this.y=Math.sin(r)*o,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,o){return G(this.x,r.x,o)&&G(this.y,r.y,o)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var o=r.x-this.x,n=r.y-this.y;return Math.sqrt(o*o+n*n)},distanceSq:function(r){var o=r.x-this.x,n=r.y-this.y;return o*o+n*n},length:function(){var r=this.x,o=this.y;return Math.sqrt(r*r+o*o)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,o=this.y;return r*r+o*o},normalize:function(){var r=this.x,o=this.y,n=r*r+o*o;return n>0&&(n=1/Math.sqrt(n),this.x=r*n,this.y=o*n),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,o){o===void 0&&(o=0);var n=this.x,l=this.y;return this.x=n+o*(r.x-n),this.y=l+o*(r.y-l),this},transformMat3:function(r){var o=this.x,n=this.y,l=r.val;return this.x=l[0]*o+l[3]*n+l[6],this.y=l[1]*o+l[4]*n+l[7],this},transformMat4:function(r){var o=this.x,n=this.y,l=r.val;return this.x=l[0]*o+l[4]*n+l[12],this.y=l[1]*o+l[5]*n+l[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var o=this.length();return o&&o>r&&this.scale(r/o),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var o=Math.cos(r),n=Math.sin(r);return this.set(o*this.x-n*this.y,n*this.x+o*this.y)},project:function(r){var o=this.dot(r)/r.dot(r);return this.copy(r).scale(o)}});h.ZERO=new h,h.RIGHT=new h(1,0),h.LEFT=new h(-1,0),h.UP=new h(0,-1),h.DOWN=new h(0,1),h.ONE=new h(1,1),i.exports=h},25836:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=o||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(h){return this.x=Math.min(this.x,h.x),this.y=Math.min(this.y,h.y),this.z=Math.min(this.z,h.z),this},max:function(h){return this.x=Math.max(this.x,h.x),this.y=Math.max(this.y,h.y),this.z=Math.max(this.z,h.z),this},clone:function(){return new G(this.x,this.y,this.z)},addVectors:function(h,r){return this.x=h.x+r.x,this.y=h.y+r.y,this.z=h.z+r.z,this},crossVectors:function(h,r){var o=h.x,n=h.y,l=h.z,f=r.x,s=r.y,d=r.z;return this.x=n*d-l*s,this.y=l*f-o*d,this.z=o*s-n*f,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this},set:function(h,r,o){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=r||0,this.z=o||0),this},setFromMatrixPosition:function(h){return this.fromArray(h.val,12)},setFromMatrixColumn:function(h,r){return this.fromArray(h.val,r*4)},fromArray:function(h,r){return r===void 0&&(r=0),this.x=h[r],this.y=h[r+1],this.z=h[r+2],this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this},addScalar:function(h){return this.x+=h,this.y+=h,this.z+=h,this},addScale:function(h,r){return this.x+=h.x*r,this.y+=h.y*r,this.z+=h.z*r||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h,this.z*=h):(this.x=0,this.y=0,this.z=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(h){var r=h.x-this.x,o=h.y-this.y,n=h.z-this.z||0;return Math.sqrt(r*r+o*o+n*n)},distanceSq:function(h){var r=h.x-this.x,o=h.y-this.y,n=h.z-this.z||0;return r*r+o*o+n*n},length:function(){var h=this.x,r=this.y,o=this.z;return Math.sqrt(h*h+r*r+o*o)},lengthSq:function(){var h=this.x,r=this.y,o=this.z;return h*h+r*r+o*o},normalize:function(){var h=this.x,r=this.y,o=this.z,n=h*h+r*r+o*o;return n>0&&(n=1/Math.sqrt(n),this.x=h*n,this.y=r*n,this.z=o*n),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z},cross:function(h){var r=this.x,o=this.y,n=this.z,l=h.x,f=h.y,s=h.z;return this.x=o*s-n*f,this.y=n*l-r*s,this.z=r*f-o*l,this},lerp:function(h,r){r===void 0&&(r=0);var o=this.x,n=this.y,l=this.z;return this.x=o+r*(h.x-o),this.y=n+r*(h.y-n),this.z=l+r*(h.z-l),this},applyMatrix3:function(h){var r=this.x,o=this.y,n=this.z,l=h.val;return this.x=l[0]*r+l[3]*o+l[6]*n,this.y=l[1]*r+l[4]*o+l[7]*n,this.z=l[2]*r+l[5]*o+l[8]*n,this},applyMatrix4:function(h){var r=this.x,o=this.y,n=this.z,l=h.val,f=1/(l[3]*r+l[7]*o+l[11]*n+l[15]);return this.x=(l[0]*r+l[4]*o+l[8]*n+l[12])*f,this.y=(l[1]*r+l[5]*o+l[9]*n+l[13])*f,this.z=(l[2]*r+l[6]*o+l[10]*n+l[14])*f,this},transformMat3:function(h){var r=this.x,o=this.y,n=this.z,l=h.val;return this.x=r*l[0]+o*l[3]+n*l[6],this.y=r*l[1]+o*l[4]+n*l[7],this.z=r*l[2]+o*l[5]+n*l[8],this},transformMat4:function(h){var r=this.x,o=this.y,n=this.z,l=h.val;return this.x=l[0]*r+l[4]*o+l[8]*n+l[12],this.y=l[1]*r+l[5]*o+l[9]*n+l[13],this.z=l[2]*r+l[6]*o+l[10]*n+l[14],this},transformCoordinates:function(h){var r=this.x,o=this.y,n=this.z,l=h.val,f=r*l[0]+o*l[4]+n*l[8]+l[12],s=r*l[1]+o*l[5]+n*l[9]+l[13],d=r*l[2]+o*l[6]+n*l[10]+l[14],p=r*l[3]+o*l[7]+n*l[11]+l[15];return this.x=f/p,this.y=s/p,this.z=d/p,this},transformQuat:function(h){var r=this.x,o=this.y,n=this.z,l=h.x,f=h.y,s=h.z,d=h.w,p=d*r+f*n-s*o,c=d*o+s*r-l*n,g=d*n+l*o-f*r,j=-l*r-f*o-s*n;return this.x=p*d+j*-l+c*-s-g*-f,this.y=c*d+j*-f+g*-l-p*-s,this.z=g*d+j*-s+p*-f-c*-l,this},project:function(h){var r=this.x,o=this.y,n=this.z,l=h.val,f=l[0],s=l[1],d=l[2],p=l[3],c=l[4],g=l[5],j=l[6],k=l[7],tt=l[8],_=l[9],nt=l[10],it=l[11],rt=l[12],st=l[13],at=l[14],ot=l[15],ht=1/(r*p+o*k+n*it+ot);return this.x=(r*f+o*c+n*tt+rt)*ht,this.y=(r*s+o*g+n*_+st)*ht,this.z=(r*d+o*j+n*nt+at)*ht,this},projectViewMatrix:function(h,r){return this.applyMatrix4(h).applyMatrix4(r)},unprojectViewMatrix:function(h,r){return this.applyMatrix4(h).applyMatrix4(r)},unproject:function(h,r){var o=h.x,n=h.y,l=h.z,f=h.w,s=this.x-o,d=f-this.y-1-n,p=this.z;return this.x=2*s/l-1,this.y=2*d/f-1,this.z=2*p-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});G.ZERO=new G,G.RIGHT=new G(1,0,0),G.LEFT=new G(-1,0,0),G.UP=new G(0,-1,0),G.DOWN=new G(0,1,0),G.FORWARD=new G(0,0,1),G.BACK=new G(0,0,-1),G.ONE=new G(1,1,1),i.exports=G},61369:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n,l){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=o||0,this.z=n||0,this.w=l||0)},clone:function(){return new G(this.x,this.y,this.z,this.w)},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this.w=h.w||0,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z&&this.w===h.w},set:function(h,r,o,n){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=r||0,this.z=o||0,this.w=n||0),this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this.w+=h.w||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this.w-=h.w||0,this},scale:function(h){return this.x*=h,this.y*=h,this.z*=h,this.w*=h,this},length:function(){var h=this.x,r=this.y,o=this.z,n=this.w;return Math.sqrt(h*h+r*r+o*o+n*n)},lengthSq:function(){var h=this.x,r=this.y,o=this.z,n=this.w;return h*h+r*r+o*o+n*n},normalize:function(){var h=this.x,r=this.y,o=this.z,n=this.w,l=h*h+r*r+o*o+n*n;return l>0&&(l=1/Math.sqrt(l),this.x=h*l,this.y=r*l,this.z=o*l,this.w=n*l),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z+this.w*h.w},lerp:function(h,r){r===void 0&&(r=0);var o=this.x,n=this.y,l=this.z,f=this.w;return this.x=o+r*(h.x-o),this.y=n+r*(h.y-n),this.z=l+r*(h.z-l),this.w=f+r*(h.w-f),this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this.w*=h.w||1,this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this.w/=h.w||1,this},distance:function(h){var r=h.x-this.x,o=h.y-this.y,n=h.z-this.z||0,l=h.w-this.w||0;return Math.sqrt(r*r+o*o+n*n+l*l)},distanceSq:function(h){var r=h.x-this.x,o=h.y-this.y,n=h.z-this.z||0,l=h.w-this.w||0;return r*r+o*o+n*n+l*l},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(h){var r=this.x,o=this.y,n=this.z,l=this.w,f=h.val;return this.x=f[0]*r+f[4]*o+f[8]*n+f[12]*l,this.y=f[1]*r+f[5]*o+f[9]*n+f[13]*l,this.z=f[2]*r+f[6]*o+f[10]*n+f[14]*l,this.w=f[3]*r+f[7]*o+f[11]*n+f[15]*l,this},transformQuat:function(h){var r=this.x,o=this.y,n=this.z,l=h.x,f=h.y,s=h.z,d=h.w,p=d*r+f*n-s*o,c=d*o+s*r-l*n,g=d*n+l*o-f*r,j=-l*r-f*o-s*n;return this.x=p*d+j*-l+c*-s-g*-f,this.y=c*d+j*-f+g*-l-p*-s,this.z=g*d+j*-s+p*-f-c*-l,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});G.prototype.sub=G.prototype.subtract,G.prototype.mul=G.prototype.multiply,G.prototype.div=G.prototype.divide,G.prototype.dist=G.prototype.distance,G.prototype.distSq=G.prototype.distanceSq,G.prototype.len=G.prototype.length,G.prototype.lenSq=G.prototype.lengthSq,i.exports=G},60417:i=>{var $=function(e,u,G){return Math.abs(e-u)<=G};i.exports=$},15994:i=>{var $=function(e,u,G){var h=G-u;return u+((e-u)%h+h)%h};i.exports=$},31040:i=>{var $=function(e,u,G,h){return Math.atan2(h-u,G-e)};i.exports=$},55495:i=>{var $=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)};i.exports=$},128:i=>{var $=function(e,u){return Math.atan2(u.x-e.x,u.y-e.y)};i.exports=$},41273:i=>{var $=function(e,u,G,h){return Math.atan2(G-e,h-u)};i.exports=$},1432:(i,$,e)=>{var u=e(36383),G=function(h){return h>Math.PI&&(h-=u.PI2),Math.abs(((h+u.TAU)%u.PI2-u.PI2)%u.PI2)};i.exports=G},12407:i=>{var $=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};i.exports=$},53993:(i,$,e)=>{var u=e(99472),G=function(){return u(-Math.PI,Math.PI)};i.exports=G},86564:(i,$,e)=>{var u=e(99472),G=function(){return u(-180,180)};i.exports=G},90154:(i,$,e)=>{var u=e(12407),G=function(h){return u(h+Math.PI)};i.exports=G},48736:(i,$,e)=>{var u=e(36383),G=function(h,r,o){return o===void 0&&(o=.05),h===r||(Math.abs(r-h)<=o||Math.abs(r-h)>=u.PI2-o?h=r:(Math.abs(r-h)>Math.PI&&(r<h?r+=u.PI2:r-=u.PI2),r>h?h+=o:r<h&&(h-=o))),h};i.exports=G},61430:i=>{var $=function(e,u){var G=u-e;if(G===0)return 0;var h=Math.floor((G- -180)/360);return G-h*360};i.exports=$},86554:(i,$,e)=>{var u=e(15994),G=function(h){return u(h,-Math.PI,Math.PI)};i.exports=G},30954:(i,$,e)=>{var u=e(15994),G=function(h){return u(h,-180,180)};i.exports=G},25588:(i,$,e)=>{i.exports={Between:e(31040),BetweenPoints:e(55495),BetweenPointsY:e(128),BetweenY:e(41273),CounterClockwise:e(1432),Normalize:e(12407),Random:e(53993),RandomDegrees:e(86564),Reverse:e(90154),RotateTo:e(48736),ShortestBetween:e(61430),Wrap:e(86554),WrapDegrees:e(30954)}},36383:i=>{var $={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};i.exports=$},20339:i=>{var $=function(e,u,G,h){var r=e-G,o=u-h;return Math.sqrt(r*r+o*o)};i.exports=$},52816:i=>{var $=function(e,u){var G=e.x-u.x,h=e.y-u.y;return Math.sqrt(G*G+h*h)};i.exports=$},64559:i=>{var $=function(e,u){var G=e.x-u.x,h=e.y-u.y;return G*G+h*h};i.exports=$},82340:i=>{var $=function(e,u,G,h){return Math.max(Math.abs(e-G),Math.abs(u-h))};i.exports=$},14390:i=>{var $=function(e,u,G,h,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(G-e,r)+Math.pow(h-u,r))};i.exports=$},2243:i=>{var $=function(e,u,G,h){return Math.abs(e-G)+Math.abs(u-h)};i.exports=$},89774:i=>{var $=function(e,u,G,h){var r=e-G,o=u-h;return r*r+o*o};i.exports=$},50994:(i,$,e)=>{i.exports={Between:e(20339),BetweenPoints:e(52816),BetweenPointsSquared:e(64559),Chebyshev:e(82340),Power:e(14390),Snake:e(2243),Squared:e(89774)}},62640:(i,$,e)=>{var u=e(54178),G=e(41521),h=e(79980),r=e(85433),o=e(99140),n=e(48857),l=e(81596),f=e(59133),s=e(98516),d=e(35248),p=e(82500),c=e(49752);i.exports={Power0:l,Power1:f.Out,Power2:r.Out,Power3:s.Out,Power4:d.Out,Linear:l,Quad:f.Out,Cubic:r.Out,Quart:s.Out,Quint:d.Out,Sine:p.Out,Expo:n.Out,Circ:h.Out,Elastic:o.Out,Back:u.Out,Bounce:G.Out,Stepped:c,"Quad.easeIn":f.In,"Cubic.easeIn":r.In,"Quart.easeIn":s.In,"Quint.easeIn":d.In,"Sine.easeIn":p.In,"Expo.easeIn":n.In,"Circ.easeIn":h.In,"Elastic.easeIn":o.In,"Back.easeIn":u.In,"Bounce.easeIn":G.In,"Quad.easeOut":f.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":s.Out,"Quint.easeOut":d.Out,"Sine.easeOut":p.Out,"Expo.easeOut":n.Out,"Circ.easeOut":h.Out,"Elastic.easeOut":o.Out,"Back.easeOut":u.Out,"Bounce.easeOut":G.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":h.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":G.InOut}},1639:i=>{var $=function(e,u){return u===void 0&&(u=1.70158),e*e*((u+1)*e-u)};i.exports=$},50099:i=>{var $=function(e,u){u===void 0&&(u=1.70158);var G=u*1.525;return(e*=2)<1?.5*(e*e*((G+1)*e-G)):.5*((e-=2)*e*((G+1)*e+G)+2)};i.exports=$},41286:i=>{var $=function(e,u){return u===void 0&&(u=1.70158),--e*e*((u+1)*e+u)+1};i.exports=$},54178:(i,$,e)=>{i.exports={In:e(1639),Out:e(41286),InOut:e(50099)}},59590:i=>{var $=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};i.exports=$},41788:i=>{var $=function(e){var u=!1;return e<.5?(e=1-e*2,u=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,u?(1-e)*.5:e*.5+.5};i.exports=$},69905:i=>{var $=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};i.exports=$},41521:(i,$,e)=>{i.exports={In:e(59590),Out:e(69905),InOut:e(41788)}},91861:i=>{var $=function(e){return 1-Math.sqrt(1-e*e)};i.exports=$},4177:i=>{var $=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};i.exports=$},57512:i=>{var $=function(e){return Math.sqrt(1- --e*e)};i.exports=$},79980:(i,$,e)=>{i.exports={In:e(91861),Out:e(57512),InOut:e(4177)}},51150:i=>{var $=function(e){return e*e*e};i.exports=$},82820:i=>{var $=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};i.exports=$},35033:i=>{var $=function(e){return--e*e*e+1};i.exports=$},85433:(i,$,e)=>{i.exports={In:e(51150),Out:e(35033),InOut:e(82820)}},69965:i=>{var $=function(e,u,G){if(u===void 0&&(u=.1),G===void 0&&(G=.1),e===0)return 0;if(e===1)return 1;var h=G/4;return u<1?u=1:h=G*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(e-=1))*Math.sin((e-h)*(2*Math.PI)/G))};i.exports=$},50665:i=>{var $=function(e,u,G){if(u===void 0&&(u=.1),G===void 0&&(G=.1),e===0)return 0;if(e===1)return 1;var h=G/4;return u<1?u=1:h=G*Math.asin(1/u)/(2*Math.PI),(e*=2)<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e-h)*(2*Math.PI)/G)):u*Math.pow(2,-10*(e-=1))*Math.sin((e-h)*(2*Math.PI)/G)*.5+1};i.exports=$},7744:i=>{var $=function(e,u,G){if(u===void 0&&(u=.1),G===void 0&&(G=.1),e===0)return 0;if(e===1)return 1;var h=G/4;return u<1?u=1:h=G*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*e)*Math.sin((e-h)*(2*Math.PI)/G)+1};i.exports=$},99140:(i,$,e)=>{i.exports={In:e(69965),Out:e(7744),InOut:e(50665)}},24590:i=>{var $=function(e){return Math.pow(2,10*(e-1))-.001};i.exports=$},87844:i=>{var $=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};i.exports=$},89433:i=>{var $=function(e){return 1-Math.pow(2,-10*e)};i.exports=$},48857:(i,$,e)=>{i.exports={In:e(24590),Out:e(89433),InOut:e(87844)}},48820:(i,$,e)=>{i.exports={Back:e(54178),Bounce:e(41521),Circular:e(79980),Cubic:e(85433),Elastic:e(99140),Expo:e(48857),Linear:e(81596),Quadratic:e(59133),Quartic:e(98516),Quintic:e(35248),Sine:e(82500),Stepped:e(49752)}},7147:i=>{var $=function(e){return e};i.exports=$},81596:(i,$,e)=>{i.exports=e(7147)},34826:i=>{var $=function(e){return e*e};i.exports=$},20544:i=>{var $=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};i.exports=$},92029:i=>{var $=function(e){return e*(2-e)};i.exports=$},59133:(i,$,e)=>{i.exports={In:e(34826),Out:e(92029),InOut:e(20544)}},64413:i=>{var $=function(e){return e*e*e*e};i.exports=$},78137:i=>{var $=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};i.exports=$},45840:i=>{var $=function(e){return 1- --e*e*e*e};i.exports=$},98516:(i,$,e)=>{i.exports={In:e(64413),Out:e(45840),InOut:e(78137)}},87745:i=>{var $=function(e){return e*e*e*e*e};i.exports=$},16509:i=>{var $=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};i.exports=$},17868:i=>{var $=function(e){return--e*e*e*e*e+1};i.exports=$},35248:(i,$,e)=>{i.exports={In:e(87745),Out:e(17868),InOut:e(16509)}},80461:i=>{var $=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};i.exports=$},34025:i=>{var $=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};i.exports=$},52768:i=>{var $=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};i.exports=$},82500:(i,$,e)=>{i.exports={In:e(80461),Out:e(52768),InOut:e(34025)}},72251:i=>{var $=function(e,u){return u===void 0&&(u=1),e<=0?0:e>=1?1:((u*e|0)+1)*(1/u)};i.exports=$},49752:(i,$,e)=>{i.exports=e(72251)},75698:i=>{var $=function(e,u){return u===void 0&&(u=1e-4),Math.ceil(e-u)};i.exports=$},43855:i=>{var $=function(e,u,G){return G===void 0&&(G=1e-4),Math.abs(e-u)<G};i.exports=$},25777:i=>{var $=function(e,u){return u===void 0&&(u=1e-4),Math.floor(e+u)};i.exports=$},5470:i=>{var $=function(e,u,G){return G===void 0&&(G=1e-4),e>u-G};i.exports=$},94977:i=>{var $=function(e,u,G){return G===void 0&&(G=1e-4),e<u+G};i.exports=$},48379:(i,$,e)=>{i.exports={Ceil:e(75698),Equal:e(43855),Floor:e(25777),GreaterThan:e(5470),LessThan:e(94977)}},75508:(i,$,e)=>{var u=e(36383),G=e(79291),h={Angle:e(25588),Distance:e(50994),Easing:e(48820),Fuzzy:e(48379),Interpolation:e(38289),Pow2:e(49001),Snap:e(73697),RandomDataGenerator:e(28453),Average:e(53307),Bernstein:e(85710),Between:e(30976),CatmullRom:e(87842),CeilTo:e(26302),Clamp:e(45319),DegToRad:e(39506),Difference:e(61241),Euler:e(38857),Factorial:e(6411),FloatBetween:e(99472),FloorTo:e(77623),FromPercent:e(62945),GetSpeed:e(38265),IsEven:e(78702),IsEvenStrict:e(94883),Linear:e(28915),LinearXY:e(94908),MaxAdd:e(86883),Median:e(50040),MinSub:e(37204),Percent:e(65201),RadToDeg:e(43396),RandomXY:e(74362),RandomXYZ:e(60706),RandomXYZW:e(67421),Rotate:e(36305),RotateAround:e(11520),RotateAroundDistance:e(1163),RotateTo:e(70336),RoundAwayFromZero:e(2284),RoundTo:e(41013),SinCosTableGenerator:e(16922),SmootherStep:e(54261),SmoothStep:e(7602),ToXY:e(44408),TransformXY:e(85955),Within:e(60417),Wrap:e(15994),Vector2:e(26099),Vector3:e(25836),Vector4:e(61369),Matrix3:e(94434),Matrix4:e(37867),Quaternion:e(15746),RotateVec3:e(72678)};h=G(!1,h,u),i.exports=h},89318:(i,$,e)=>{var u=e(85710),G=function(h,r){for(var o=0,n=h.length-1,l=0;l<=n;l++)o+=Math.pow(1-r,n-l)*Math.pow(r,l)*h[l]*u(n,l);return o};i.exports=G},77259:(i,$,e)=>{var u=e(87842),G=function(h,r){var o=h.length-1,n=o*r,l=Math.floor(n);return h[0]===h[o]?(r<0&&(l=Math.floor(n=o*(1+r))),u(n-l,h[(l-1+o)%o],h[l],h[(l+1)%o],h[(l+2)%o])):r<0?h[0]-(u(-n,h[0],h[0],h[1],h[1])-h[0]):r>1?h[o]-(u(n-o,h[o],h[o],h[o-1],h[o-1])-h[o]):u(n-l,h[l?l-1:0],h[l],h[o<l+1?o:l+1],h[o<l+2?o:l+2])};i.exports=G},36316:i=>{function $(r,o){var n=1-r;return n*n*n*o}function e(r,o){var n=1-r;return 3*n*n*r*o}function u(r,o){return 3*(1-r)*r*r*o}function G(r,o){return r*r*r*o}var h=function(r,o,n,l,f){return $(r,o)+e(r,n)+u(r,l)+G(r,f)};i.exports=h},28392:(i,$,e)=>{var u=e(28915),G=function(h,r){var o=h.length-1,n=o*r,l=Math.floor(n);return r<0?u(h[0],h[1],n):r>1?u(h[o],h[o-1],o-n):u(h[l],h[l+1>o?o:l+1],n-l)};i.exports=G},32112:i=>{function $(h,r){var o=1-h;return o*o*r}function e(h,r){return 2*(1-h)*h*r}function u(h,r){return h*h*r}var G=function(h,r,o,n){return $(h,r)+e(h,o)+u(h,n)};i.exports=G},47235:(i,$,e)=>{var u=e(7602),G=function(h,r,o){return r+(o-r)*u(h,0,1)};i.exports=G},50178:(i,$,e)=>{var u=e(54261),G=function(h,r,o){return r+(o-r)*u(h,0,1)};i.exports=G},38289:(i,$,e)=>{i.exports={Bezier:e(89318),CatmullRom:e(77259),CubicBezier:e(36316),Linear:e(28392),QuadraticBezier:e(32112),SmoothStep:e(47235),SmootherStep:e(50178)}},98439:i=>{var $=function(e){var u=Math.log(e)/.6931471805599453;return 1<<Math.ceil(u)};i.exports=$},50030:i=>{var $=function(e,u){return e>0&&(e&e-1)===0&&u>0&&(u&u-1)===0};i.exports=$},81230:i=>{var $=function(e){return e>0&&(e&e-1)===0};i.exports=$},49001:(i,$,e)=>{i.exports={GetNext:e(98439),IsSize:e(50030),IsValue:e(81230)}},28453:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var h=2091639*this.s0+this.c*23283064365386963e-26;return this.c=h|0,this.s0=this.s1,this.s1=this.s2,this.s2=h-this.c,this.s2},hash:function(h){var r,o=this.n;h=h.toString();for(var n=0;n<h.length;n++)o+=h.charCodeAt(n),r=.02519603282416938*o,o=r>>>0,r-=o,r*=o,o=r>>>0,r-=o,o+=r*4294967296;return this.n=o,(o>>>0)*23283064365386963e-26},init:function(h){typeof h=="string"?this.state(h):this.sow(h)},sow:function(h){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!h)for(var r=0;r<h.length&&h[r]!=null;r++){var o=h[r];this.s0-=this.hash(o),this.s0+=~~(this.s0<0),this.s1-=this.hash(o),this.s1+=~~(this.s1<0),this.s2-=this.hash(o),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(h,r){return Math.floor(this.realInRange(0,r-h+1)+h)},between:function(h,r){return Math.floor(this.realInRange(0,r-h+1)+h)},realInRange:function(h,r){return this.frac()*(r-h)+h},normal:function(){return 1-2*this.frac()},uuid:function(){var h="",r="";for(r=h="";h++<36;r+=~h%5|h*3&4?(h^15?8^this.frac()*(h^20?16:4):4).toString(16):"-");return r},pick:function(h){return h[this.integerInRange(0,h.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(h){return h[~~(Math.pow(this.frac(),2)*(h.length-.5)+.5)]},timestamp:function(h,r){return this.realInRange(h||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(h){return typeof h=="string"&&h.match(/^!rnd/)&&(h=h.split(","),this.c=parseFloat(h[1]),this.s0=parseFloat(h[2]),this.s1=parseFloat(h[3]),this.s2=parseFloat(h[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(h){for(var r=h.length-1,o=r;o>0;o--){var n=Math.floor(this.frac()*(o+1)),l=h[n];h[n]=h[o],h[o]=l}return h}});i.exports=G},63448:i=>{var $=function(e,u,G,h){return G===void 0&&(G=0),u===0?e:(e-=G,e=u*Math.ceil(e/u),h?(G+e)/u:G+e)};i.exports=$},56583:i=>{var $=function(e,u,G,h){return G===void 0&&(G=0),u===0?e:(e-=G,e=u*Math.floor(e/u),h?(G+e)/u:G+e)};i.exports=$},77720:i=>{var $=function(e,u,G,h){return G===void 0&&(G=0),u===0?e:(e-=G,e=u*Math.round(e/u),h?(G+e)/u:G+e)};i.exports=$},73697:(i,$,e)=>{i.exports={Ceil:e(63448),Floor:e(56583),To:e(77720)}},85454:(i,$,e)=>{e(63595);var u=e(8054),G=e(79291),h={Actions:e(61061),Animations:e(60421),BlendModes:e(10312),Cache:e(83388),Cameras:e(26638),Core:e(42857),Class:e(83419),Create:e(15822),Curves:e(25410),Data:e(44965),Display:e(27460),DOM:e(84902),Events:e(93055),FX:e(66064),Game:e(50127),GameObjects:e(77856),Geom:e(55738),Input:e(14350),Loader:e(57777),Math:e(75508),Physics:e(44563),Plugins:e(18922),Renderer:e(36909),Scale:e(93364),ScaleModes:e(29795),Scene:e(97482),Scenes:e(62194),Structs:e(41392),Textures:e(27458),Tilemaps:e(62501),Time:e(90291),Tweens:e(43066),Utils:e(91799)};h.Sound=e(23717),h=G(!1,h,u),i.exports=h,e.g.Phaser=h},71289:(i,$,e)=>{var u=e(83419),G=e(92209),h=e(88571),r=new u({Extends:h,Mixins:[G.Acceleration,G.Angular,G.Bounce,G.Collision,G.Debug,G.Drag,G.Enable,G.Friction,G.Gravity,G.Immovable,G.Mass,G.Pushable,G.Size,G.Velocity],initialize:function(n,l,f,s,d){h.call(this,n,l,f,s,d),this.body=null}});i.exports=r},86689:(i,$,e)=>{var u=e(83419),G=e(39506),h=e(20339),r=e(89774),o=e(66022),n=e(95540),l=e(46975),f=e(72441),s=e(47956),d=e(37277),p=e(44594),c=e(26099),g=e(82248),j=new u({initialize:function(tt){this.scene=tt,this.systems=tt.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,tt.sys.events.once(p.BOOT,this.boot,this),tt.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new g(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new g(this.scene,this.config),this.add=new o(this.world));var k=this.systems.events;n(this.config,"customUpdate",!1)||k.on(p.UPDATE,this.world.update,this.world),k.on(p.POST_UPDATE,this.world.postUpdate,this.world),k.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var k=this.systems.game.config.physics,tt=this.systems.settings.physics,_=l(n(tt,"arcade",{}),n(k,"arcade",{}));return _},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(k,tt,_,nt,it){return _===void 0&&(_=null),nt===void 0&&(nt=null),it===void 0&&(it=_),this.world.collideObjects(k,tt,_,nt,it,!0)},collide:function(k,tt,_,nt,it){return _===void 0&&(_=null),nt===void 0&&(nt=null),it===void 0&&(it=_),this.world.collideObjects(k,tt,_,nt,it,!1)},collideTiles:function(k,tt,_,nt,it){return this.world.collideTiles(k,tt,_,nt,it)},overlapTiles:function(k,tt,_,nt,it){return this.world.overlapTiles(k,tt,_,nt,it)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(k,tt,_,nt,it,rt){nt===void 0&&(nt=60);var st=Math.atan2(_-k.y,tt-k.x);return k.body.acceleration.setToPolar(st,nt),it!==void 0&&rt!==void 0&&k.body.maxVelocity.set(it,rt),st},accelerateToObject:function(k,tt,_,nt,it){return this.accelerateTo(k,tt.x,tt.y,_,nt,it)},closest:function(k,tt){tt||(tt=this.world.bodies.entries);for(var _=Number.MAX_VALUE,nt=null,it=k.x,rt=k.y,st=tt.length,at=0;at<st;at++){var ot=tt[at],ht=ot.body||ot;if(!(k===ot||k===ht||k===ht.gameObject||k===ht.center)){var dt=r(it,rt,ht.center.x,ht.center.y);dt<_&&(nt=ot,_=dt)}}return nt},furthest:function(k,tt){tt||(tt=this.world.bodies.entries);for(var _=-1,nt=null,it=k.x,rt=k.y,st=tt.length,at=0;at<st;at++){var ot=tt[at],ht=ot.body||ot;if(!(k===ot||k===ht||k===ht.gameObject||k===ht.center)){var dt=r(it,rt,ht.center.x,ht.center.y);dt>_&&(nt=ot,_=dt)}}return nt},moveTo:function(k,tt,_,nt,it){nt===void 0&&(nt=60),it===void 0&&(it=0);var rt=Math.atan2(_-k.y,tt-k.x);return it>0&&(nt=h(k.x,k.y,tt,_)/(it/1e3)),k.body.velocity.setToPolar(rt,nt),rt},moveToObject:function(k,tt,_,nt){return this.moveTo(k,tt.x,tt.y,_,nt)},velocityFromAngle:function(k,tt,_){return tt===void 0&&(tt=60),_===void 0&&(_=new c),_.setToPolar(G(k),tt)},velocityFromRotation:function(k,tt,_){return tt===void 0&&(tt=60),_===void 0&&(_=new c),_.setToPolar(k,tt)},overlapRect:function(k,tt,_,nt,it,rt){return s(this.world,k,tt,_,nt,it,rt)},overlapCirc:function(k,tt,_,nt,it){return f(this.world,k,tt,_,nt,it)},shutdown:function(){if(this.world){var k=this.systems.events;k.off(p.UPDATE,this.world.update,this.world),k.off(p.POST_UPDATE,this.world.postUpdate,this.world),k.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",j,"arcadePhysics"),i.exports=j},13759:(i,$,e)=>{var u=e(83419),G=e(92209),h=e(68287),r=new u({Extends:h,Mixins:[G.Acceleration,G.Angular,G.Bounce,G.Collision,G.Debug,G.Drag,G.Enable,G.Friction,G.Gravity,G.Immovable,G.Mass,G.Pushable,G.Size,G.Velocity],initialize:function(n,l,f,s,d){h.call(this,n,l,f,s,d),this.body=null}});i.exports=r},37742:(i,$,e)=>{var u=e(83419),G=e(78389),h=e(37747),r=e(63012),o=e(43396),n=e(87841),l=e(37303),f=e(95829),s=e(26099),d=new u({Mixins:[G],initialize:function(c,g){var j=64,k=64,tt={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},_=g!==void 0;_&&g.displayWidth&&(j=g.displayWidth,k=g.displayHeight),_||(g=tt),this.world=c,this.gameObject=_?g:void 0,this.isBody=!0,this.transform={x:g.x,y:g.y,rotation:g.angle,scaleX:g.scaleX,scaleY:g.scaleY,displayOriginX:g.displayOriginX,displayOriginY:g.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(g.x-g.scaleX*g.displayOriginX,g.y-g.scaleY*g.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=g.angle,this.preRotation=g.angle,this.width=j,this.height=k,this.sourceWidth=j,this.sourceHeight=k,g.frame&&(this.sourceWidth=g.frame.realWidth,this.sourceHeight=g.frame.realHeight),this.halfWidth=Math.abs(j/2),this.halfHeight=Math.abs(k/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=h.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=f(!1),this.touching=f(!0),this.wasTouching=f(!0),this.blocked=f(!0),this.syncBounds=!1,this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=g.scaleX,this._sy=g.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new n,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,c=this.transform;if(p.parentContainer){var g=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=g.tx,c.y=g.ty,c.rotation=o(g.rotation),c.scaleX=g.scaleX,c.scaleY=g.scaleY,c.displayOriginX=p.displayOriginX,c.displayOriginY=p.displayOriginY}else c.x=p.x,c.y=p.y,c.rotation=p.angle,c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.displayOriginX=p.displayOriginX,c.displayOriginY=p.displayOriginY;var j=!1;if(this.syncBounds){var k=p.getBounds(this._bounds);this.width=k.width,this.height=k.height,j=!0}else{var tt=Math.abs(c.scaleX),_=Math.abs(c.scaleY);(this._sx!==tt||this._sy!==_)&&(this.width=this.sourceWidth*tt,this.height=this.sourceHeight*_,this._sx=tt,this._sy=_,j=!0)}j&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var c=this.wasTouching,g=this.touching,j=this.blocked;p?f(!0,c):(c.none=g.none,c.up=g.up,c.down=g.down,c.left=g.left,c.right=g.right),f(!0,g),f(!0,j),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,c){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var g=this.position;this.prev.x=g.x,this.prev.y=g.y,this.prevFrame.x=g.x,this.prevFrame.y=g.y}p&&this.update(c)},update:function(p){var c=this.prev,g=this.position,j=this.velocity;if(c.set(g.x,g.y),!this.moves){this._dx=g.x-c.x,this._dy=g.y-c.y;return}if(this.directControl){var k=this.autoFrame;j.set((g.x-k.x)/p,(g.y-k.y)/p),this.world.updateMotion(this,p),this._dx=g.x-k.x,this._dy=g.y-k.y}else this.world.updateMotion(this,p),this.newVelocity.set(j.x*p,j.y*p),g.add(this.newVelocity),this._dx=g.x-c.x,this._dy=g.y-c.y;var tt=j.x,_=j.y;if(this.updateCenter(),this.angle=Math.atan2(_,tt),this.speed=Math.sqrt(tt*tt+_*_),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var nt=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,nt.up,nt.down,nt.left,nt.right)}},postUpdate:function(){var p=this.position,c=p.x-this.prevFrame.x,g=p.y-this.prevFrame.y,j=this.gameObject;if(this.moves){var k=this.deltaMax.x,tt=this.deltaMax.y;k!==0&&c!==0&&(c<0&&c<-k?c=-k:c>0&&c>k&&(c=k)),tt!==0&&g!==0&&(g<0&&g<-tt?g=-tt:g>0&&g>tt&&(g=tt)),j&&(j.x+=c,j.y+=g)}c<0?this.facing=h.FACING_LEFT:c>0&&(this.facing=h.FACING_RIGHT),g<0?this.facing=h.FACING_UP:g>0&&(this.facing=h.FACING_DOWN),this.allowRotation&&j&&(j.angle+=this.deltaZ()),this._tx=c,this._ty=g,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,c=this.velocity,g=this.blocked,j=this.customBoundsRectangle,k=this.world.checkCollision,tt=this.worldBounce?-this.worldBounce.x:-this.bounce.x,_=this.worldBounce?-this.worldBounce.y:-this.bounce.y,nt=!1;return p.x<j.x&&k.left?(p.x=j.x,c.x*=tt,g.left=!0,nt=!0):this.right>j.right&&k.right&&(p.x=j.right-this.width,c.x*=tt,g.right=!0,nt=!0),p.y<j.y&&k.up?(p.y=j.y,c.y*=_,g.up=!0,nt=!0):this.bottom>j.bottom&&k.down&&(p.y=j.bottom-this.height,c.y*=_,g.down=!0,nt=!0),nt&&(this.blocked.none=!1,this.updateCenter()),nt},setOffset:function(p,c){return c===void 0&&(c=p),this.offset.set(p,c),this},setGameObject:function(p,c){return c===void 0&&(c=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=p,p.body&&(p.body=this),this.setSize(),this.world.add(this),this.enable=c,this},setSize:function(p,c,g){g===void 0&&(g=!0);var j=this.gameObject;if(j&&(!p&&j.frame&&(p=j.frame.realWidth),!c&&j.frame&&(c=j.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),g&&j&&j.getCenter){var k=(j.width-p)/2,tt=(j.height-c)/2;this.offset.set(k,tt)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,c,g){return c===void 0&&(c=this.offset.x),g===void 0&&(g=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,g),this.updateCenter()):this.isCircle=!1,this},reset:function(p,c){this.stop();var g=this.gameObject;g&&(g.setPosition(p,c),this.rotation=g.angle,this.preRotation=g.angle);var j=this.position;g&&g.getTopLeft?g.getTopLeft(j):j.set(p,c),this.prev.copy(j),this.prevFrame.copy(j),this.autoFrame.copy(j),g&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,c){if(!this.isCircle)return l(this,p,c);if(this.radius>0&&p>=this.left&&p<=this.right&&c>=this.top&&c<=this.bottom){var g=(this.center.x-p)*(this.center.x-p),j=(this.center.y-c)*(this.center.y-c);return g+j<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var c=this.position,g=c.x+this.halfWidth,j=c.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(g,j,this.width/2):(this.checkCollision.up&&p.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&p.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&p.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&p.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(g,j,g+this.velocity.x/2,j+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,c,g,j){p===void 0&&(p=!0),this.collideWorldBounds=p;var k=c!==void 0,tt=g!==void 0;return(k||tt)&&(this.worldBounce||(this.worldBounce=new s),k&&(this.worldBounce.x=c),tt&&(this.worldBounce.y=g)),j!==void 0&&(this.onWorldBounds=j),this},setVelocity:function(p,c){return this.velocity.set(p,c),p=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(p*p+c*c),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,c){return this.maxVelocity.set(p,c),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,c){return this.slideFactor.set(p,c),this},setBounce:function(p,c){return this.bounce.set(p,c),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,c){return this.acceleration.set(p,c),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,c){return this.drag.set(p,c),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,c){return this.gravity.set(p,c),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,c){return this.friction.set(p,c),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,c,g,j){this.x+=p,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var k=this.blocked;g&&(k.left=!0,k.none=!1),j&&(k.right=!0,k.none=!1)},processY:function(p,c,g,j){this.y+=p,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var k=this.blocked;g&&(k.up=!0,k.none=!1),j&&(k.down=!0,k.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});i.exports=d},79342:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n,l,f,s,d){this.world=r,this.name="",this.active=!0,this.overlapOnly=o,this.object1=n,this.object2=l,this.collideCallback=f,this.processCallback=s,this.callbackContext=d},setName:function(h){return this.name=h,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});i.exports=G},66022:(i,$,e)=>{var u=e(71289),G=e(13759),h=e(37742),r=e(83419),o=e(37747),n=e(60758),l=e(72624),f=e(71464),s=new r({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(d,p,c,g,j){return this.world.addCollider(d,p,c,g,j)},overlap:function(d,p,c,g,j){return this.world.addOverlap(d,p,c,g,j)},existing:function(d,p){var c=p?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(d,c),d},staticImage:function(d,p,c,g){var j=new u(this.scene,d,p,c,g);return this.sys.displayList.add(j),this.world.enableBody(j,o.STATIC_BODY),j},image:function(d,p,c,g){var j=new u(this.scene,d,p,c,g);return this.sys.displayList.add(j),this.world.enableBody(j,o.DYNAMIC_BODY),j},staticSprite:function(d,p,c,g){var j=new G(this.scene,d,p,c,g);return this.sys.displayList.add(j),this.sys.updateList.add(j),this.world.enableBody(j,o.STATIC_BODY),j},sprite:function(d,p,c,g){var j=new G(this.scene,d,p,c,g);return this.sys.displayList.add(j),this.sys.updateList.add(j),this.world.enableBody(j,o.DYNAMIC_BODY),j},staticGroup:function(d,p){return this.sys.updateList.add(new f(this.world,this.world.scene,d,p))},group:function(d,p){return this.sys.updateList.add(new n(this.world,this.world.scene,d,p))},body:function(d,p,c,g){var j=new h(this.world);return j.position.set(d,p),c&&g&&j.setSize(c,g),this.world.add(j,o.DYNAMIC_BODY),j},staticBody:function(d,p,c,g){var j=new l(this.world);return j.position.set(d,p),c&&g&&j.setSize(c,g),this.world.add(j,o.STATIC_BODY),j},destroy:function(){this.world=null,this.scene=null,this.sys=null}});i.exports=s},79599:i=>{var $=function(e){var u=0;if(!Array.isArray(e))u=e;else for(var G=0;G<e.length;G++)u|=e[G];return u};i.exports=$},64897:(i,$,e)=>{var u=e(37747),G=function(h,r,o,n){var l=0,f=h.deltaAbsX()+r.deltaAbsX()+n;return h._dx===0&&r._dx===0?(h.embedded=!0,r.embedded=!0):h._dx>r._dx?(l=h.right-r.x,l>f&&!o||h.checkCollision.right===!1||r.checkCollision.left===!1?l=0:(h.touching.none=!1,h.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===u.STATIC_BODY&&!o&&(h.blocked.none=!1,h.blocked.right=!0),h.physicsType===u.STATIC_BODY&&!o&&(r.blocked.none=!1,r.blocked.left=!0))):h._dx<r._dx&&(l=h.x-r.width-r.x,-l>f&&!o||h.checkCollision.left===!1||r.checkCollision.right===!1?l=0:(h.touching.none=!1,h.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===u.STATIC_BODY&&!o&&(h.blocked.none=!1,h.blocked.left=!0),h.physicsType===u.STATIC_BODY&&!o&&(r.blocked.none=!1,r.blocked.right=!0))),h.overlapX=l,r.overlapX=l,l};i.exports=G},45170:(i,$,e)=>{var u=e(37747),G=function(h,r,o,n){var l=0,f=h.deltaAbsY()+r.deltaAbsY()+n;return h._dy===0&&r._dy===0?(h.embedded=!0,r.embedded=!0):h._dy>r._dy?(l=h.bottom-r.y,l>f&&!o||h.checkCollision.down===!1||r.checkCollision.up===!1?l=0:(h.touching.none=!1,h.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===u.STATIC_BODY&&!o&&(h.blocked.none=!1,h.blocked.down=!0),h.physicsType===u.STATIC_BODY&&!o&&(r.blocked.none=!1,r.blocked.up=!0))):h._dy<r._dy&&(l=h.y-r.bottom,-l>f&&!o||h.checkCollision.up===!1||r.checkCollision.down===!1?l=0:(h.touching.none=!1,h.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===u.STATIC_BODY&&!o&&(h.blocked.none=!1,h.blocked.up=!0),h.physicsType===u.STATIC_BODY&&!o&&(r.blocked.none=!1,r.blocked.down=!0))),h.overlapY=l,r.overlapY=l,l};i.exports=G},60758:(i,$,e)=>{var u=e(13759),G=e(83419),h=e(78389),r=e(37747),o=e(95540),n=e(26479),l=e(41212),f=new G({Extends:n,Mixins:[h],initialize:function(d,p,c,g){if(!c&&!g)g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(l(c))g=c,c=null,g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&l(c[0])){var j=this;c.forEach(function(k){k.internalCreateCallback=j.createCallbackHandler,k.internalRemoveCallback=j.removeCallbackHandler,k.classType=o(k,"classType",u)}),g=null}else g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=d,g&&(g.classType=o(g,"classType",u)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:o(g,"collideWorldBounds",!1),setBoundsRectangle:o(g,"customBoundsRectangle",null),setAccelerationX:o(g,"accelerationX",0),setAccelerationY:o(g,"accelerationY",0),setAllowDrag:o(g,"allowDrag",!0),setAllowGravity:o(g,"allowGravity",!0),setAllowRotation:o(g,"allowRotation",!0),setDamping:o(g,"useDamping",!1),setBounceX:o(g,"bounceX",0),setBounceY:o(g,"bounceY",0),setDragX:o(g,"dragX",0),setDragY:o(g,"dragY",0),setEnable:o(g,"enable",!0),setGravityX:o(g,"gravityX",0),setGravityY:o(g,"gravityY",0),setFrictionX:o(g,"frictionX",0),setFrictionY:o(g,"frictionY",0),setMaxSpeed:o(g,"maxSpeed",-1),setMaxVelocityX:o(g,"maxVelocityX",1e4),setMaxVelocityY:o(g,"maxVelocityY",1e4),setVelocityX:o(g,"velocityX",0),setVelocityY:o(g,"velocityY",0),setAngularVelocity:o(g,"angularVelocity",0),setAngularAcceleration:o(g,"angularAcceleration",0),setAngularDrag:o(g,"angularDrag",0),setMass:o(g,"mass",1),setImmovable:o(g,"immovable",!1)},n.call(this,p,c,g),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,r.DYNAMIC_BODY);var d=s.body;for(var p in this.defaults)d[p](this.defaults[p])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,d,p){p===void 0&&(p=0);for(var c=this.getChildren(),g=0;g<c.length;g++)c[g].body.velocity.set(s+g*p,d+g*p);return this},setVelocityX:function(s,d){d===void 0&&(d=0);for(var p=this.getChildren(),c=0;c<p.length;c++)p[c].body.velocity.x=s+c*d;return this},setVelocityY:function(s,d){d===void 0&&(d=0);for(var p=this.getChildren(),c=0;c<p.length;c++)p[c].body.velocity.y=s+c*d;return this}});i.exports=f},3017:i=>{var $,e,u,G,h,r,o,n,l,f,s,d,p,c,g,j,k,tt=function(at,ot,ht){$=at,e=ot;var dt=$.velocity.x,ut=e.velocity.x;return u=$.pushable,l=$._dx<0,f=$._dx>0,s=$._dx===0,g=Math.abs($.right-e.x)<=Math.abs(e.right-$.x),o=ut-dt*$.bounce.x,G=e.pushable,d=e._dx<0,p=e._dx>0,c=e._dx===0,j=!g,n=dt-ut*e.bounce.x,k=Math.abs(ht),_()},_=function(){return f&&g&&e.blocked.right?($.processX(-k,o,!1,!0),1):l&&j&&e.blocked.left?($.processX(k,o,!0),1):p&&j&&$.blocked.right?(e.processX(-k,n,!1,!0),2):d&&g&&$.blocked.left?(e.processX(k,n,!0),2):0},nt=function(){var at=$.velocity.x,ot=e.velocity.x,ht=Math.sqrt(ot*ot*e.mass/$.mass)*(ot>0?1:-1),dt=Math.sqrt(at*at*$.mass/e.mass)*(at>0?1:-1),ut=(ht+dt)*.5;return ht-=ut,dt-=ut,h=ut+ht*$.bounce.x,r=ut+dt*e.bounce.x,l&&j?it(0):d&&g?it(1):f&&g?it(2):p&&j?it(3):!1},it=function(at){if(u&&G)k*=.5,at===0||at===3?($.processX(k,h),e.processX(-k,r)):($.processX(-k,h),e.processX(k,r));else if(u&&!G)at===0||at===3?$.processX(k,o,!0):$.processX(-k,o,!1,!0);else if(!u&&G)at===0||at===3?e.processX(-k,n,!1,!0):e.processX(k,n,!0);else{var ot=k*.5;at===0?c?($.processX(k,0,!0),e.processX(0,null,!1,!0)):p?($.processX(ot,0,!0),e.processX(-ot,0,!1,!0)):($.processX(ot,e.velocity.x,!0),e.processX(-ot,null,!1,!0)):at===1?s?($.processX(0,null,!1,!0),e.processX(k,0,!0)):f?($.processX(-ot,0,!1,!0),e.processX(ot,0,!0)):($.processX(-ot,null,!1,!0),e.processX(ot,$.velocity.x,!0)):at===2?c?($.processX(-k,0,!1,!0),e.processX(0,null,!0)):d?($.processX(-ot,0,!1,!0),e.processX(ot,0,!0)):($.processX(-ot,e.velocity.x,!1,!0),e.processX(ot,null,!0)):at===3&&(s?($.processX(0,null,!0),e.processX(-k,0,!1,!0)):l?($.processX(ot,0,!0),e.processX(-ot,0,!1,!0)):($.processX(ot,e.velocity.y,!0),e.processX(-ot,null,!1,!0)))}return!0},rt=function(at){at===1?e.velocity.x=0:g?e.processX(k,n,!0):e.processX(-k,n,!1,!0),$.moves&&(e.y+=($.y-$.prev.y)*$.friction.y,e._dy=e.y-e.prev.y)},st=function(at){at===2?$.velocity.x=0:j?$.processX(k,o,!0):$.processX(-k,o,!1,!0),e.moves&&($.y+=(e.y-e.prev.y)*e.friction.y,$._dy=$.y-$.prev.y)};i.exports={BlockCheck:_,Check:nt,Set:tt,Run:it,RunImmovableBody1:rt,RunImmovableBody2:st}},47962:i=>{var $,e,u,G,h,r,o,n,l,f,s,d,p,c,g,j,k,tt=function(at,ot,ht){$=at,e=ot;var dt=$.velocity.y,ut=e.velocity.y;return u=$.pushable,l=$._dy<0,f=$._dy>0,s=$._dy===0,g=Math.abs($.bottom-e.y)<=Math.abs(e.bottom-$.y),o=ut-dt*$.bounce.y,G=e.pushable,d=e._dy<0,p=e._dy>0,c=e._dy===0,j=!g,n=dt-ut*e.bounce.y,k=Math.abs(ht),_()},_=function(){return f&&g&&e.blocked.down?($.processY(-k,o,!1,!0),1):l&&j&&e.blocked.up?($.processY(k,o,!0),1):p&&j&&$.blocked.down?(e.processY(-k,n,!1,!0),2):d&&g&&$.blocked.up?(e.processY(k,n,!0),2):0},nt=function(){var at=$.velocity.y,ot=e.velocity.y,ht=Math.sqrt(ot*ot*e.mass/$.mass)*(ot>0?1:-1),dt=Math.sqrt(at*at*$.mass/e.mass)*(at>0?1:-1),ut=(ht+dt)*.5;return ht-=ut,dt-=ut,h=ut+ht*$.bounce.y,r=ut+dt*e.bounce.y,l&&j?it(0):d&&g?it(1):f&&g?it(2):p&&j?it(3):!1},it=function(at){if(u&&G)k*=.5,at===0||at===3?($.processY(k,h),e.processY(-k,r)):($.processY(-k,h),e.processY(k,r));else if(u&&!G)at===0||at===3?$.processY(k,o,!0):$.processY(-k,o,!1,!0);else if(!u&&G)at===0||at===3?e.processY(-k,n,!1,!0):e.processY(k,n,!0);else{var ot=k*.5;at===0?c?($.processY(k,0,!0),e.processY(0,null,!1,!0)):p?($.processY(ot,0,!0),e.processY(-ot,0,!1,!0)):($.processY(ot,e.velocity.y,!0),e.processY(-ot,null,!1,!0)):at===1?s?($.processY(0,null,!1,!0),e.processY(k,0,!0)):f?($.processY(-ot,0,!1,!0),e.processY(ot,0,!0)):($.processY(-ot,null,!1,!0),e.processY(ot,$.velocity.y,!0)):at===2?c?($.processY(-k,0,!1,!0),e.processY(0,null,!0)):d?($.processY(-ot,0,!1,!0),e.processY(ot,0,!0)):($.processY(-ot,e.velocity.y,!1,!0),e.processY(ot,null,!0)):at===3&&(s?($.processY(0,null,!0),e.processY(-k,0,!1,!0)):l?($.processY(ot,0,!0),e.processY(-ot,0,!1,!0)):($.processY(ot,e.velocity.y,!0),e.processY(-ot,null,!1,!0)))}return!0},rt=function(at){at===1?e.velocity.y=0:g?e.processY(k,n,!0):e.processY(-k,n,!1,!0),$.moves&&(e.x+=($.x-$.prev.x)*$.friction.x,e._dx=e.x-e.prev.x)},st=function(at){at===2?$.velocity.y=0:j?$.processY(k,o,!0):$.processY(-k,o,!1,!0),e.moves&&($.x+=(e.x-e.prev.x)*e.friction.x,$._dx=$.x-$.prev.x)};i.exports={BlockCheck:_,Check:nt,Set:tt,Run:it,RunImmovableBody1:rt,RunImmovableBody2:st}},14087:(i,$,e)=>{var u=e(64897),G=e(3017),h=function(r,o,n,l,f){f===void 0&&(f=u(r,o,n,l));var s=r.immovable,d=o.immovable;if(n||f===0||s&&d||r.customSeparateX||o.customSeparateX)return f!==0||r.embedded&&o.embedded;var p=G.Set(r,o,f);return!s&&!d?p>0?!0:G.Check():(s?G.RunImmovableBody1(p):d&&G.RunImmovableBody2(p),!0)};i.exports=h},89936:(i,$,e)=>{var u=e(45170),G=e(47962),h=function(r,o,n,l,f){f===void 0&&(f=u(r,o,n,l));var s=r.immovable,d=o.immovable;if(n||f===0||s&&d||r.customSeparateY||o.customSeparateY)return f!==0||r.embedded&&o.embedded;var p=G.Set(r,o,f);return!s&&!d?p>0?!0:G.Check():(s?G.RunImmovableBody1(p):d&&G.RunImmovableBody2(p),!0)};i.exports=h},95829:i=>{var $=function(e,u){return u===void 0&&(u={}),u.none=e,u.up=!1,u.down=!1,u.left=!1,u.right=!1,e||(u.up=!0,u.down=!0,u.left=!0,u.right=!0),u};i.exports=$},72624:(i,$,e)=>{var u=e(87902),G=e(83419),h=e(78389),r=e(37747),o=e(37303),n=e(95829),l=e(26099),f=new G({Mixins:[h],initialize:function(d,p){var c=64,g=64,j={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},k=p!==void 0;k&&p.displayWidth&&(c=p.displayWidth,g=p.displayHeight),k||(p=j),this.world=d,this.gameObject=k?p:void 0,this.isBody=!0,this.debugShowBody=d.defaults.debugShowStaticBody,this.debugBodyColor=d.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(p.x-c*p.originX,p.y-g*p.originY),this.width=c,this.height=g,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=l.ZERO,this.allowGravity=!1,this.gravity=l.ZERO,this.bounce=l.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=n(!1),this.touching=n(!0),this.wasTouching=n(!0),this.blocked=n(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,d){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),d&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,d){return d===void 0&&(d=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,d),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,d,p){p===void 0&&(p=!0);var c=this.gameObject;if(c&&c.frame&&(s||(s=c.frame.realWidth),d||(d=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=d,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(d/2),p&&c&&c.getCenter){var g=c.displayWidth/2,j=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(g-this.halfWidth,j-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,d,p){return d===void 0&&(d=this.offset.x),p===void 0&&(p=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,d){var p=this.gameObject;s===void 0&&(s=p.x),d===void 0&&(d=p.y),this.world.staticTree.remove(this),p.setPosition(s,d),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,d){return this.isCircle?u(this,s,d):o(this,s,d)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var d=this.position,p=d.x+this.halfWidth,c=d.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(p,c,this.width/2):s.strokeRect(d.x,d.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});i.exports=f},71464:(i,$,e)=>{var u=e(13759),G=e(83419),h=e(78389),r=e(37747),o=e(95540),n=e(26479),l=e(41212),f=new G({Extends:n,Mixins:[h],initialize:function(d,p,c,g){!c&&!g?g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:l(c)?(g=c,c=null,g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=o(g,"classType",u)):Array.isArray(c)&&l(c[0])?(g=c,c=null,g.forEach(function(j){j.internalCreateCallback=this.createCallbackHandler,j.internalRemoveCallback=this.removeCallbackHandler,j.createMultipleCallback=this.createMultipleCallbackHandler,j.classType=o(j,"classType",u)})):g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=d,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,n.call(this,p,c,g),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,r.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,d=0;d<s.length;d++)s[d].body.reset();return this}});i.exports=f},82248:(i,$,e)=>{var u=e(55495),G=e(37742),h=e(45319),r=e(83419),o=e(79342),n=e(37747),l=e(20339),f=e(52816),s=e(50792),d=e(63012),p=e(43855),c=e(5470),g=e(94977),j=e(64897),k=e(45170),tt=e(96523),_=e(35154),nt=e(36383),it=e(25774),rt=e(96602),st=e(87841),at=e(59542),ot=e(40012),ht=e(14087),dt=e(89936),ut=e(35072),ft=e(72624),gt=e(2483),xt=e(61340),Et=e(26099),pt=e(15994),mt=new r({Extends:s,initialize:function(ct,vt){s.call(this),this.scene=ct,this.bodies=new ut,this.staticBodies=new ut,this.pendingDestroy=new ut,this.colliders=new it,this.gravity=new Et(_(vt,"gravity.x",0),_(vt,"gravity.y",0)),this.bounds=new st(_(vt,"x",0),_(vt,"y",0),_(vt,"width",ct.sys.scale.width),_(vt,"height",ct.sys.scale.height)),this.checkCollision={up:_(vt,"checkCollision.up",!0),down:_(vt,"checkCollision.down",!0),left:_(vt,"checkCollision.left",!0),right:_(vt,"checkCollision.right",!0)},this.fps=_(vt,"fps",60),this.fixedStep=_(vt,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=_(vt,"timeScale",1),this.OVERLAP_BIAS=_(vt,"overlapBias",4),this.TILE_BIAS=_(vt,"tileBias",16),this.forceX=_(vt,"forceX",!1),this.isPaused=_(vt,"isPaused",!1),this._total=0,this.drawDebug=_(vt,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:_(vt,"debugShowBody",!0),debugShowStaticBody:_(vt,"debugShowStaticBody",!0),debugShowVelocity:_(vt,"debugShowVelocity",!0),bodyDebugColor:_(vt,"debugBodyColor",16711935),staticBodyDebugColor:_(vt,"debugStaticBodyColor",255),velocityDebugColor:_(vt,"debugVelocityColor",65280)},this.maxEntries=_(vt,"maxEntries",16),this.useTree=_(vt,"useTree",!0),this.tree=new at(this.maxEntries),this.staticTree=new at(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new xt,this._tempMatrix2=new xt,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(lt,ct){ct===void 0&&(ct=n.DYNAMIC_BODY),Array.isArray(lt)||(lt=[lt]);for(var vt=0;vt<lt.length;vt++){var yt=lt[vt];if(yt.isParent)for(var Tt=yt.getChildren(),Ct=0;Ct<Tt.length;Ct++){var St=Tt[Ct];St.isParent?this.enable(St,ct):this.enableBody(St,ct)}else this.enableBody(yt,ct)}},enableBody:function(lt,ct){return ct===void 0&&(ct=n.DYNAMIC_BODY),lt.hasTransformComponent&&(lt.body||(ct===n.DYNAMIC_BODY?lt.body=new G(this,lt):ct===n.STATIC_BODY&&(lt.body=new ft(this,lt))),this.add(lt.body)),lt},add:function(lt){return lt.physicsType===n.DYNAMIC_BODY?this.bodies.set(lt):lt.physicsType===n.STATIC_BODY&&(this.staticBodies.set(lt),this.staticTree.insert(lt)),lt.enable=!0,lt},disable:function(lt){Array.isArray(lt)||(lt=[lt]);for(var ct=0;ct<lt.length;ct++){var vt=lt[ct];if(vt.isParent)for(var yt=vt.getChildren(),Tt=0;Tt<yt.length;Tt++){var Ct=yt[Tt];Ct.isParent?this.disable(Ct):this.disableBody(Ct.body)}else this.disableBody(vt.body)}},disableBody:function(lt){this.remove(lt),lt.enable=!1},remove:function(lt){lt.physicsType===n.DYNAMIC_BODY?(this.tree.remove(lt),this.bodies.delete(lt)):lt.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(lt),this.staticTree.remove(lt))},createDebugGraphic:function(){var lt=this.scene.sys.add.graphics({x:0,y:0});return lt.setDepth(Number.MAX_VALUE),this.debugGraphic=lt,this.drawDebug=!0,lt},setBounds:function(lt,ct,vt,yt,Tt,Ct,St,Dt){return this.bounds.setTo(lt,ct,vt,yt),Tt!==void 0&&this.setBoundsCollision(Tt,Ct,St,Dt),this},setBoundsCollision:function(lt,ct,vt,yt){return lt===void 0&&(lt=!0),ct===void 0&&(ct=!0),vt===void 0&&(vt=!0),yt===void 0&&(yt=!0),this.checkCollision.left=lt,this.checkCollision.right=ct,this.checkCollision.up=vt,this.checkCollision.down=yt,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(lt,ct,vt,yt,Tt){vt===void 0&&(vt=null),yt===void 0&&(yt=null),Tt===void 0&&(Tt=vt);var Ct=new o(this,!1,lt,ct,vt,yt,Tt);return this.colliders.add(Ct),Ct},addOverlap:function(lt,ct,vt,yt,Tt){vt===void 0&&(vt=null),yt===void 0&&(yt=null),Tt===void 0&&(Tt=vt);var Ct=new o(this,!0,lt,ct,vt,yt,Tt);return this.colliders.add(Ct),Ct},removeCollider:function(lt){return this.colliders.remove(lt),this},setFPS:function(lt){return this.fps=lt,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(lt,ct){if(!(this.isPaused||this.bodies.size===0)){var vt,yt=this._frameTime,Tt=this._frameTimeMS*this.timeScale;this._elapsed+=ct;var Ct,St=this.bodies.entries,Dt=this._elapsed>=Tt;for(this.fixedStep||(yt=ct*.001,Dt=!0,this._elapsed=0),vt=0;vt<St.length;vt++)Ct=St[vt],Ct.enable&&Ct.preUpdate(Dt,yt);if(Dt){this._elapsed-=Tt,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(St));var Mt=this.colliders.update();for(vt=0;vt<Mt.length;vt++){var At=Mt[vt];At.active&&At.update()}this.emit(d.WORLD_STEP,yt)}for(;this._elapsed>=Tt;)this._elapsed-=Tt,this.step(yt)}},step:function(lt){var ct,vt,yt=this.bodies.entries,Tt=yt.length;for(ct=0;ct<Tt;ct++)vt=yt[ct],vt.enable&&vt.update(lt);this.useTree&&(this.tree.clear(),this.tree.load(yt));var Ct=this.colliders.update();for(ct=0;ct<Ct.length;ct++){var St=Ct[ct];St.active&&St.update()}this.emit(d.WORLD_STEP,lt),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var lt,ct,vt=this.bodies.entries,yt=vt.length,Tt=this.bodies,Ct=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,lt=0;lt<yt;lt++)ct=vt[lt],ct.enable&&ct.postUpdate();if(this.drawDebug){var St=this.debugGraphic;for(St.clear(),lt=0;lt<yt;lt++)ct=vt[lt],ct.willDrawDebug()&&ct.drawDebug(St);for(vt=Ct.entries,yt=vt.length,lt=0;lt<yt;lt++)ct=vt[lt],ct.willDrawDebug()&&ct.drawDebug(St)}var Dt=this.pendingDestroy;if(Dt.size>0){var Mt=this.tree,At=this.staticTree;for(vt=Dt.entries,yt=vt.length,lt=0;lt<yt;lt++)ct=vt[lt],ct.physicsType===n.DYNAMIC_BODY?(Mt.remove(ct),Tt.delete(ct)):ct.physicsType===n.STATIC_BODY&&(At.remove(ct),Ct.delete(ct)),ct.world=void 0,ct.gameObject=void 0;Dt.clear()}},updateMotion:function(lt,ct){lt.allowRotation&&this.computeAngularVelocity(lt,ct),this.computeVelocity(lt,ct)},computeAngularVelocity:function(lt,ct){var vt=lt.angularVelocity,yt=lt.angularAcceleration,Tt=lt.angularDrag,Ct=lt.maxAngular;yt?vt+=yt*ct:lt.allowDrag&&Tt&&(Tt*=ct,c(vt-Tt,0,.1)?vt-=Tt:g(vt+Tt,0,.1)?vt+=Tt:vt=0),vt=h(vt,-Ct,Ct);var St=vt-lt.angularVelocity;lt.angularVelocity+=St,lt.rotation+=lt.angularVelocity*ct},computeVelocity:function(lt,ct){var vt=lt.velocity.x,yt=lt.acceleration.x,Tt=lt.drag.x,Ct=lt.maxVelocity.x,St=lt.velocity.y,Dt=lt.acceleration.y,Mt=lt.drag.y,At=lt.maxVelocity.y,wt=lt.speed,It=lt.maxSpeed,Pt=lt.allowDrag,Ot=lt.useDamping;lt.allowGravity&&(vt+=(this.gravity.x+lt.gravity.x)*ct,St+=(this.gravity.y+lt.gravity.y)*ct),yt?vt+=yt*ct:Pt&&Tt&&(Ot?(Tt=Math.pow(Tt,ct),vt*=Tt,wt=Math.sqrt(vt*vt+St*St),p(wt,0,.001)&&(vt=0)):(Tt*=ct,c(vt-Tt,0,.01)?vt-=Tt:g(vt+Tt,0,.01)?vt+=Tt:vt=0)),Dt?St+=Dt*ct:Pt&&Mt&&(Ot?(Mt=Math.pow(Mt,ct),St*=Mt,wt=Math.sqrt(vt*vt+St*St),p(wt,0,.001)&&(St=0)):(Mt*=ct,c(St-Mt,0,.01)?St-=Mt:g(St+Mt,0,.01)?St+=Mt:St=0)),vt=h(vt,-Ct,Ct),St=h(St,-At,At),lt.velocity.set(vt,St),It>-1&&lt.velocity.length()>It&&(lt.velocity.normalize().scale(It),wt=It),lt.speed=wt},separate:function(lt,ct,vt,yt,Tt){var Ct,St,Dt=!1,Mt=!0;if(!lt.enable||!ct.enable||lt.checkCollision.none||ct.checkCollision.none||!this.intersects(lt,ct)||vt&&vt.call(yt,lt.gameObject,ct.gameObject)===!1)return Dt;if(lt.isCircle||ct.isCircle){var At=this.separateCircle(lt,ct,Tt);At.result?(Dt=!0,Mt=!1):(Ct=At.x,St=At.y,Mt=!0)}if(Mt){var wt=!1,It=!1,Pt=this.OVERLAP_BIAS;Tt?(wt=ht(lt,ct,Tt,Pt,Ct),It=dt(lt,ct,Tt,Pt,St)):this.forceX||Math.abs(this.gravity.y+lt.gravity.y)<Math.abs(this.gravity.x+lt.gravity.x)?(wt=ht(lt,ct,Tt,Pt,Ct),this.intersects(lt,ct)&&(It=dt(lt,ct,Tt,Pt,St))):(It=dt(lt,ct,Tt,Pt,St),this.intersects(lt,ct)&&(wt=ht(lt,ct,Tt,Pt,Ct))),Dt=wt||It}return Dt&&(Tt?(lt.onOverlap||ct.onOverlap)&&this.emit(d.OVERLAP,lt.gameObject,ct.gameObject,lt,ct):(lt.onCollide||ct.onCollide)&&this.emit(d.COLLIDE,lt.gameObject,ct.gameObject,lt,ct)),Dt},separateCircle:function(lt,ct,vt){j(lt,ct,!1,0),k(lt,ct,!1,0);var yt=lt.isCircle,Tt=ct.isCircle,Ct=lt.center,St=ct.center,Dt=lt.immovable,Mt=ct.immovable,At=lt.velocity,wt=ct.velocity,It=0,Pt=!0;if(yt!==Tt){Pt=!1;var Ot=Ct.x,bt=Ct.y,Vt=lt.halfWidth,Ut=ct.position.x,Ft=ct.position.y,Nt=ct.right,Lt=ct.bottom;Tt&&(Ot=St.x,bt=St.y,Vt=ct.halfWidth,Ut=lt.position.x,Ft=lt.position.y,Nt=lt.right,Lt=lt.bottom),bt<Ft?Ot<Ut?It=l(Ot,bt,Ut,Ft)-Vt:Ot>Nt&&(It=l(Ot,bt,Nt,Ft)-Vt):bt>Lt&&(Ot<Ut?It=l(Ot,bt,Ut,Lt)-Vt:Ot>Nt&&(It=l(Ot,bt,Nt,Lt)-Vt)),It*=-1}else It=lt.halfWidth+ct.halfWidth-f(Ct,St);lt.overlapR=It,ct.overlapR=It;var kt=u(Ct,St),Kt=(It+nt.EPSILON)*Math.cos(kt),Ue=(It+nt.EPSILON)*Math.sin(kt),Ne={overlap:It,result:!1,x:Kt,y:Ue};if(vt&&(!Pt||Pt&&It!==0))return Ne.result=!0,Ne;if(!Pt&&It===0||Dt&&Mt||lt.customSeparateX||ct.customSeparateX)return Ne.x=void 0,Ne.y=void 0,Ne;var Se=!lt.pushable&&!ct.pushable;if(Pt){var Jt=Ct.x-St.x,Ve=Ct.y-St.y,Oe=Math.sqrt(Math.pow(Jt,2)+Math.pow(Ve,2)),Qe=(St.x-Ct.x)/Oe||0,tn=(St.y-Ct.y)/Oe||0,fn=2*(At.x*Qe+At.y*tn-wt.x*Qe-wt.y*tn)/(lt.mass+ct.mass);(Dt||Mt)&&(fn*=2),Dt||(At.x=At.x-fn/lt.mass*Qe,At.y=At.y-fn/lt.mass*tn,At.multiply(lt.bounce)),Mt||(wt.x=wt.x+fn/ct.mass*Qe,wt.y=wt.y+fn/ct.mass*tn,wt.multiply(ct.bounce)),!Dt&&!Mt&&(Kt*=.5,Ue*=.5),Dt||(lt.x-=Kt,lt.y-=Ue,lt.updateCenter()),Mt||(ct.x+=Kt,ct.y+=Ue,ct.updateCenter()),Ne.result=!0}else!Dt||lt.pushable||Se?(lt.x-=Kt,lt.y-=Ue,lt.updateCenter()):(!Mt||ct.pushable||Se)&&(ct.x+=Kt,ct.y+=Ue,ct.updateCenter()),Ne.x=void 0,Ne.y=void 0;return Ne},intersects:function(lt,ct){return lt===ct?!1:!lt.isCircle&&!ct.isCircle?!(lt.right<=ct.left||lt.bottom<=ct.top||lt.left>=ct.right||lt.top>=ct.bottom):lt.isCircle?ct.isCircle?f(lt.center,ct.center)<=lt.halfWidth+ct.halfWidth:this.circleBodyIntersects(lt,ct):this.circleBodyIntersects(ct,lt)},circleBodyIntersects:function(lt,ct){var vt=h(lt.center.x,ct.left,ct.right),yt=h(lt.center.y,ct.top,ct.bottom),Tt=(lt.center.x-vt)*(lt.center.x-vt),Ct=(lt.center.y-yt)*(lt.center.y-yt);return Tt+Ct<=lt.halfWidth*lt.halfWidth},overlap:function(lt,ct,vt,yt,Tt){return vt===void 0&&(vt=null),yt===void 0&&(yt=null),Tt===void 0&&(Tt=vt),this.collideObjects(lt,ct,vt,yt,Tt,!0)},collide:function(lt,ct,vt,yt,Tt){return vt===void 0&&(vt=null),yt===void 0&&(yt=null),Tt===void 0&&(Tt=vt),this.collideObjects(lt,ct,vt,yt,Tt,!1)},collideObjects:function(lt,ct,vt,yt,Tt,Ct){var St,Dt;lt.isParent&&(lt.physicsType===void 0||ct===void 0||lt===ct)&&(lt=lt.children.entries),ct&&ct.isParent&&ct.physicsType===void 0&&(ct=ct.children.entries);var Mt=Array.isArray(lt),At=Array.isArray(ct);if(this._total=0,!Mt&&!At)this.collideHandler(lt,ct,vt,yt,Tt,Ct);else if(!Mt&&At)for(St=0;St<ct.length;St++)this.collideHandler(lt,ct[St],vt,yt,Tt,Ct);else if(Mt&&!At)if(ct)for(St=0;St<lt.length;St++)this.collideHandler(lt[St],ct,vt,yt,Tt,Ct);else for(St=0;St<lt.length;St++){var wt=lt[St];for(Dt=St+1;Dt<lt.length;Dt++)St!==Dt&&this.collideHandler(wt,lt[Dt],vt,yt,Tt,Ct)}else for(St=0;St<lt.length;St++)for(Dt=0;Dt<ct.length;Dt++)this.collideHandler(lt[St],ct[Dt],vt,yt,Tt,Ct);return this._total>0},collideHandler:function(lt,ct,vt,yt,Tt,Ct){if(ct===void 0&&lt.isParent)return this.collideGroupVsGroup(lt,lt,vt,yt,Tt,Ct);if(!lt||!ct)return!1;if(lt.body||lt.isBody){if(ct.body||ct.isBody)return this.collideSpriteVsSprite(lt,ct,vt,yt,Tt,Ct);if(ct.isParent)return this.collideSpriteVsGroup(lt,ct,vt,yt,Tt,Ct);if(ct.isTilemap)return this.collideSpriteVsTilemapLayer(lt,ct,vt,yt,Tt,Ct)}else if(lt.isParent){if(ct.body||ct.isBody)return this.collideSpriteVsGroup(ct,lt,vt,yt,Tt,Ct);if(ct.isParent)return this.collideGroupVsGroup(lt,ct,vt,yt,Tt,Ct);if(ct.isTilemap)return this.collideGroupVsTilemapLayer(lt,ct,vt,yt,Tt,Ct)}else if(lt.isTilemap){if(ct.body||ct.isBody)return this.collideSpriteVsTilemapLayer(ct,lt,vt,yt,Tt,Ct);if(ct.isParent)return this.collideGroupVsTilemapLayer(ct,lt,vt,yt,Tt,Ct)}},canCollide:function(lt,ct){return lt&&ct&&(lt.collisionMask&ct.collisionCategory)!==0&&(ct.collisionMask&lt.collisionCategory)!==0},collideSpriteVsSprite:function(lt,ct,vt,yt,Tt,Ct){var St=lt.isBody?lt:lt.body,Dt=ct.isBody?ct:ct.body;return this.canCollide(St,Dt)?(this.separate(St,Dt,yt,Tt,Ct)&&(vt&&vt.call(Tt,lt,ct),this._total++),!0):!1},collideSpriteVsGroup:function(lt,ct,vt,yt,Tt,Ct){var St=lt.isBody?lt:lt.body;if(!(ct.length===0||!St||!St.enable||St.checkCollision.none||!this.canCollide(St,ct))){var Dt,Mt,At;if(this.useTree||ct.physicsType===n.STATIC_BODY){var wt=this.treeMinMax;wt.minX=St.left,wt.minY=St.top,wt.maxX=St.right,wt.maxY=St.bottom;var It=ct.physicsType===n.DYNAMIC_BODY?this.tree.search(wt):this.staticTree.search(wt);for(Mt=It.length,Dt=0;Dt<Mt;Dt++)At=It[Dt],!(St===At||!At.enable||At.checkCollision.none||!ct.contains(At.gameObject))&&this.separate(St,At,yt,Tt,Ct)&&(vt&&vt.call(Tt,St.gameObject,At.gameObject),this._total++)}else{var Pt=ct.getChildren(),Ot=ct.children.entries.indexOf(lt);for(Mt=Pt.length,Dt=0;Dt<Mt;Dt++)At=Pt[Dt].body,!(!At||Dt===Ot||!At.enable)&&this.separate(St,At,yt,Tt,Ct)&&(vt&&vt.call(Tt,St.gameObject,At.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(lt,ct,vt,yt,Tt,Ct){if(!this.canCollide(lt,ct))return!1;var St=lt.getChildren();if(St.length===0)return!1;for(var Dt=!1,Mt=0;Mt<St.length;Mt++)(St[Mt].body||St[Mt].isBody)&&this.collideSpriteVsTilemapLayer(St[Mt],ct,vt,yt,Tt,Ct)&&(Dt=!0);return Dt},collideTiles:function(lt,ct,vt,yt,Tt){return ct.length===0||lt.body&&!lt.body.enable||lt.isBody&&!lt.enable?!1:this.collideSpriteVsTilesHandler(lt,ct,vt,yt,Tt,!1,!1)},overlapTiles:function(lt,ct,vt,yt,Tt){return ct.length===0||lt.body&&!lt.body.enable||lt.isBody&&!lt.enable?!1:this.collideSpriteVsTilesHandler(lt,ct,vt,yt,Tt,!0,!1)},collideSpriteVsTilemapLayer:function(lt,ct,vt,yt,Tt,Ct){var St=lt.isBody?lt:lt.body;if(!St.enable||St.checkCollision.none||!this.canCollide(St,ct))return!1;var Dt=ct.layer,Mt=St.x-Dt.tileWidth*ct.scaleX,At=St.y-Dt.tileHeight*ct.scaleY,wt=St.width+Dt.tileWidth*ct.scaleX,It=St.height+Dt.tileHeight*ct.scaleY,Pt=Ct?null:this.tileFilterOptions,Ot=tt(Mt,At,wt,It,Pt,ct.scene.cameras.main,ct.layer);return Ot.length===0?!1:this.collideSpriteVsTilesHandler(lt,Ot,vt,yt,Tt,Ct,!0)},collideSpriteVsTilesHandler:function(lt,ct,vt,yt,Tt,Ct,St){for(var Dt=lt.isBody?lt:lt.body,Mt,At={left:0,right:0,top:0,bottom:0},wt,It=!1,Pt=0;Pt<ct.length;Pt++){Mt=ct[Pt],wt=Mt.tilemapLayer;var Ot=wt.tileToWorldXY(Mt.x,Mt.y);At.left=Ot.x,At.top=Ot.y,At.right=At.left+Mt.width*wt.scaleX,At.bottom=At.top+Mt.height*wt.scaleY,gt(At,Dt)&&(!yt||yt.call(Tt,lt,Mt))&&rt(Mt,lt)&&(Ct||ot(Pt,Dt,Mt,At,wt,this.TILE_BIAS,St))&&(this._total++,It=!0,vt&&vt.call(Tt,lt,Mt),Ct&&Dt.onOverlap?this.emit(d.TILE_OVERLAP,lt,Mt,Dt):Dt.onCollide&&this.emit(d.TILE_COLLIDE,lt,Mt,Dt))}return It},collideGroupVsGroup:function(lt,ct,vt,yt,Tt,Ct){if(!(lt.length===0||ct.length===0||!this.canCollide(lt,ct)))for(var St=lt.getChildren(),Dt=0;Dt<St.length;Dt++)this.collideSpriteVsGroup(St[Dt],ct,vt,yt,Tt,Ct)},wrap:function(lt,ct){lt.body?this.wrapObject(lt,ct):lt.getChildren?this.wrapArray(lt.getChildren(),ct):Array.isArray(lt)?this.wrapArray(lt,ct):this.wrapObject(lt,ct)},wrapArray:function(lt,ct){for(var vt=0;vt<lt.length;vt++)this.wrapObject(lt[vt],ct)},wrapObject:function(lt,ct){ct===void 0&&(ct=0),lt.x=pt(lt.x,this.bounds.left-ct,this.bounds.right+ct),lt.y=pt(lt.y,this.bounds.top-ct,this.bounds.bottom+ct)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});i.exports=mt},1093:i=>{var $={setAcceleration:function(e,u){return this.body.acceleration.set(e,u),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};i.exports=$},59023:i=>{var $={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};i.exports=$},62069:i=>{var $={setBounce:function(e,u){return this.body.bounce.set(e,u),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,u,G,h){return this.body.setCollideWorldBounds(e,u,G,h),this}};i.exports=$},78389:(i,$,e)=>{var u=e(79599),G={setCollisionCategory:function(h){var r=this.body?this.body:this;return r.collisionCategory=h,this},willCollideWith:function(h){var r=this.body?this.body:this;return(r.collisionMask&h)!==0},addCollidesWith:function(h){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|h,this},removeCollidesWith:function(h){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~h,this},setCollidesWith:function(h){var r=this.body?this.body:this;return r.collisionMask=u(h),this},resetCollisionCategory:function(){var h=this.body?this.body:this;return h.collisionCategory=1,h.collisionMask=1,this}};i.exports=G},87118:i=>{var $={setDebug:function(e,u,G){return this.debugShowBody=e,this.debugShowVelocity=u,this.debugBodyColor=G,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};i.exports=$},52819:i=>{var $={setDrag:function(e,u){return this.body.drag.set(e,u),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};i.exports=$},4074:i=>{var $={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,u,G,h,r){return e&&this.body.reset(u,G),h&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,u){return e===void 0&&(e=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};i.exports=$},40831:i=>{var $={setFriction:function(e,u){return this.body.friction.set(e,u),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};i.exports=$},26775:i=>{var $={setGravity:function(e,u){return this.body.gravity.set(e,u),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};i.exports=$},9437:i=>{var $={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};i.exports=$},30621:i=>{var $={setMass:function(e){return this.body.mass=e,this}};i.exports=$},72441:(i,$,e)=>{var u=e(47956),G=e(96503),h=e(2044),r=e(81491),o=function(n,l,f,s,d,p){var c=u(n,l-s,f-s,2*s,2*s,d,p);if(c.length===0)return c;for(var g=new G(l,f,s),j=new G,k=[],tt=0;tt<c.length;tt++){var _=c[tt];_.isCircle?(j.setTo(_.center.x,_.center.y,_.halfWidth),h(g,j)&&k.push(_)):r(g,_)&&k.push(_)}return k};i.exports=o},47956:i=>{var $=function(e,u,G,h,r,o,n){o===void 0&&(o=!0),n===void 0&&(n=!1);var l=[],f=[],s=e.treeMinMax;if(s.minX=u,s.minY=G,s.maxX=u+h,s.maxY=G+r,n&&(f=e.staticTree.search(s)),o&&e.useTree)l=e.tree.search(s);else if(o){var d=e.bodies,p={position:{x:u,y:G},left:u,top:G,right:u+h,bottom:G+r,isCircle:!1},c=e.intersects;d.iterate(function(g){c(g,p)&&l.push(g)})}return f.concat(l)};i.exports=$},62121:i=>{var $={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};i.exports=$},29384:i=>{var $={setOffset:function(e,u){return this.body.setOffset(e,u),this},setSize:function(e,u,G){return this.body.setSize(e,u,G),this},setBodySize:function(e,u,G){return this.body.setSize(e,u,G),this},setCircle:function(e,u,G){return this.body.setCircle(e,u,G),this}};i.exports=$},15098:i=>{var $={setVelocity:function(e,u){return this.body.setVelocity(e,u),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,u){return this.body.maxVelocity.set(e,u),this}};i.exports=$},92209:(i,$,e)=>{i.exports={Acceleration:e(1093),Angular:e(59023),Bounce:e(62069),Collision:e(78389),Debug:e(87118),Drag:e(52819),Enable:e(4074),Friction:e(40831),Gravity:e(26775),Immovable:e(9437),Mass:e(30621),OverlapCirc:e(72441),OverlapRect:e(47956),Pushable:e(62121),Size:e(29384),Velocity:e(15098)}},37747:i=>{var $={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};i.exports=$},20009:i=>{i.exports="collide"},36768:i=>{i.exports="overlap"},60473:i=>{i.exports="pause"},89954:i=>{i.exports="resume"},61804:i=>{i.exports="tilecollide"},7161:i=>{i.exports="tileoverlap"},34689:i=>{i.exports="worldbounds"},16006:i=>{i.exports="worldstep"},63012:(i,$,e)=>{i.exports={COLLIDE:e(20009),OVERLAP:e(36768),PAUSE:e(60473),RESUME:e(89954),TILE_COLLIDE:e(61804),TILE_OVERLAP:e(7161),WORLD_BOUNDS:e(34689),WORLD_STEP:e(16006)}},27064:(i,$,e)=>{var u=e(37747),G=e(79291),h={ArcadePhysics:e(86689),Body:e(37742),Collider:e(79342),Components:e(92209),Events:e(63012),Factory:e(66022),GetCollidesWith:e(79599),GetOverlapX:e(64897),GetOverlapY:e(45170),SeparateX:e(14087),SeparateY:e(89936),Group:e(60758),Image:e(71289),Sprite:e(13759),StaticBody:e(72624),StaticGroup:e(71464),Tilemap:e(55173),World:e(82248)};h=G(!1,h,u),i.exports=h},96602:i=>{var $=function(e,u){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,u,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,u,e):!0};i.exports=$},36294:i=>{var $=function(e,u){u<0?(e.blocked.none=!1,e.blocked.left=!0):u>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=u,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};i.exports=$},67013:i=>{var $=function(e,u){u<0?(e.blocked.none=!1,e.blocked.up=!0):u>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=u,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};i.exports=$},40012:(i,$,e)=>{var u=e(21329),G=e(53442),h=e(2483),r=function(o,n,l,f,s,d,p){var c=f.left,g=f.top,j=f.right,k=f.bottom,tt=l.faceLeft||l.faceRight,_=l.faceTop||l.faceBottom;if(p||(tt=!0,_=!0),!tt&&!_)return!1;var nt=0,it=0,rt=0,st=1;if(n.deltaAbsX()>n.deltaAbsY()?rt=-1:n.deltaAbsX()<n.deltaAbsY()&&(st=-1),n.deltaX()!==0&&n.deltaY()!==0&&tt&&_&&(rt=Math.min(Math.abs(n.position.x-j),Math.abs(n.right-c)),st=Math.min(Math.abs(n.position.y-k),Math.abs(n.bottom-g))),rt<st){if(tt&&(nt=u(n,l,c,j,d,p),nt!==0&&!h(f,n)))return!0;_&&(it=G(n,l,g,k,d,p))}else{if(_&&(it=G(n,l,g,k,d,p),it!==0&&!h(f,n)))return!0;tt&&(nt=u(n,l,c,j,d,p))}return nt!==0||it!==0};i.exports=r},21329:(i,$,e)=>{var u=e(36294),G=function(h,r,o,n,l,f){var s=0,d=r.faceLeft,p=r.faceRight,c=r.collideLeft,g=r.collideRight;return f||(d=!0,p=!0,c=!0,g=!0),h.deltaX()<0&&g&&h.checkCollision.left?p&&h.x<n&&(s=h.x-n,s<-l&&(s=0)):h.deltaX()>0&&c&&h.checkCollision.right&&d&&h.right>o&&(s=h.right-o,s>l&&(s=0)),s!==0&&(h.customSeparateX?h.overlapX=s:u(h,s)),s};i.exports=G},53442:(i,$,e)=>{var u=e(67013),G=function(h,r,o,n,l,f){var s=0,d=r.faceTop,p=r.faceBottom,c=r.collideUp,g=r.collideDown;return f||(d=!0,p=!0,c=!0,g=!0),h.deltaY()<0&&g&&h.checkCollision.up?p&&h.y<n&&(s=h.y-n,s<-l&&(s=0)):h.deltaY()>0&&c&&h.checkCollision.down&&d&&h.bottom>o&&(s=h.bottom-o,s>l&&(s=0)),s!==0&&(h.customSeparateY?h.overlapY=s:u(h,s)),s};i.exports=G},2483:i=>{var $=function(e,u){return!(u.right<=e.left||u.bottom<=e.top||u.position.x>=e.right||u.position.y>=e.bottom)};i.exports=$},55173:(i,$,e)=>{var u={ProcessTileCallbacks:e(96602),ProcessTileSeparationX:e(36294),ProcessTileSeparationY:e(67013),SeparateTile:e(40012),TileCheckX:e(21329),TileCheckY:e(53442),TileIntersectsBody:e(2483)};i.exports=u},44563:(i,$,e)=>{i.exports={Arcade:e(27064),Matter:e(3875)}},68174:(i,$,e)=>{var u=e(83419),G=e(26099),h=new u({initialize:function(){this.boundsCenter=new G,this.centerDiff=new G},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var o=this.boundsCenter,n=this.centerDiff,l=r.bounds.max.x-r.bounds.min.x,f=r.bounds.max.y-r.bounds.min.y,s=l*r.centerOfMass.x,d=f*r.centerOfMass.y;return o.set(l/2,f/2),n.set(s-o.x,d-o.y),!0},getTopLeft:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o+l.x+f.x,n+l.y+f.y)}return!1},getTopCenter:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o+f.x,n+l.y+f.y)}return!1},getTopRight:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o-(l.x-f.x),n+l.y+f.y)}return!1},getLeftCenter:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o+l.x+f.x,n+f.y)}return!1},getCenter:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.centerDiff;return new G(o+l.x,n+l.y)}return!1},getRightCenter:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o-(l.x-f.x),n+f.y)}return!1},getBottomLeft:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o+l.x+f.x,n-(l.y-f.y))}return!1},getBottomCenter:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o+f.x,n-(l.y-f.y))}return!1},getBottomRight:function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(r)){var l=this.boundsCenter,f=this.centerDiff;return new G(o-(l.x-f.x),n-(l.y-f.y))}return!1}});i.exports=h},19933:(i,$,e)=>{var u=e(6790);u.Body=e(22562),u.Composite=e(69351),u.World=e(4372),u.Collision=e(52284),u.Detector=e(81388),u.Pairs=e(99561),u.Pair=e(4506),u.Query=e(73296),u.Resolver=e(66272),u.Constraint=e(48140),u.Common=e(53402),u.Engine=e(48413),u.Events=e(35810),u.Sleeping=e(53614),u.Plugin=e(73832),u.Bodies=e(66280),u.Composites=e(74116),u.Axes=e(66615),u.Bounds=e(15647),u.Svg=e(74058),u.Vector=e(31725),u.Vertices=e(41598),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,i.exports=u},28137:(i,$,e)=>{var u=e(66280),G=e(83419),h=e(74116),r=e(48140),o=e(74058),n=e(75803),l=e(23181),f=e(34803),s=e(73834),d=e(19496),p=e(85791),c=e(98713),g=e(41598),j=new G({initialize:function(tt){this.world=tt,this.scene=tt.scene,this.sys=tt.scene.sys},rectangle:function(k,tt,_,nt,it){var rt=u.rectangle(k,tt,_,nt,it);return this.world.add(rt),rt},trapezoid:function(k,tt,_,nt,it,rt){var st=u.trapezoid(k,tt,_,nt,it,rt);return this.world.add(st),st},circle:function(k,tt,_,nt,it){var rt=u.circle(k,tt,_,nt,it);return this.world.add(rt),rt},polygon:function(k,tt,_,nt,it){var rt=u.polygon(k,tt,_,nt,it);return this.world.add(rt),rt},fromVertices:function(k,tt,_,nt,it,rt,st){typeof _=="string"&&(_=g.fromPath(_));var at=u.fromVertices(k,tt,_,nt,it,rt,st);return this.world.add(at),at},fromPhysicsEditor:function(k,tt,_,nt,it){it===void 0&&(it=!0);var rt=d.parseBody(k,tt,_,nt);return it&&!this.world.has(rt)&&this.world.add(rt),rt},fromSVG:function(k,tt,_,nt,it,rt){nt===void 0&&(nt=1),it===void 0&&(it={}),rt===void 0&&(rt=!0);for(var st=_.getElementsByTagName("path"),at=[],ot=0;ot<st.length;ot++){var ht=o.pathToVertices(st[ot],30);nt!==1&&g.scale(ht,nt,nt),at.push(ht)}var dt=u.fromVertices(k,tt,at,it);return rt&&this.world.add(dt),dt},fromJSON:function(k,tt,_,nt,it){nt===void 0&&(nt={}),it===void 0&&(it=!0);var rt=p.parseBody(k,tt,_,nt);return rt&&it&&this.world.add(rt),rt},imageStack:function(k,tt,_,nt,it,rt,st,at,ot){st===void 0&&(st=0),at===void 0&&(at=0),ot===void 0&&(ot={});var ht=this.world,dt=this.sys.displayList;ot.addToWorld=!1;var ut=h.stack(_,nt,it,rt,st,at,function(ft,gt){var xt=new l(ht,ft,gt,k,tt,ot);return dt.add(xt),xt.body});return ht.add(ut),ut},stack:function(k,tt,_,nt,it,rt,st){var at=h.stack(k,tt,_,nt,it,rt,st);return this.world.add(at),at},pyramid:function(k,tt,_,nt,it,rt,st){var at=h.pyramid(k,tt,_,nt,it,rt,st);return this.world.add(at),at},chain:function(k,tt,_,nt,it,rt){return h.chain(k,tt,_,nt,it,rt)},mesh:function(k,tt,_,nt,it){return h.mesh(k,tt,_,nt,it)},newtonsCradle:function(k,tt,_,nt,it){var rt=h.newtonsCradle(k,tt,_,nt,it);return this.world.add(rt),rt},car:function(k,tt,_,nt,it){var rt=h.car(k,tt,_,nt,it);return this.world.add(rt),rt},softBody:function(k,tt,_,nt,it,rt,st,at,ot,ht){var dt=h.softBody(k,tt,_,nt,it,rt,st,at,ot,ht);return this.world.add(dt),dt},joint:function(k,tt,_,nt,it){return this.constraint(k,tt,_,nt,it)},spring:function(k,tt,_,nt,it){return this.constraint(k,tt,_,nt,it)},constraint:function(k,tt,_,nt,it){nt===void 0&&(nt=1),it===void 0&&(it={}),it.bodyA=k.type==="body"?k:k.body,it.bodyB=tt.type==="body"?tt:tt.body,isNaN(_)||(it.length=_),it.stiffness=nt;var rt=r.create(it);return this.world.add(rt),rt},worldConstraint:function(k,tt,_,nt){_===void 0&&(_=1),nt===void 0&&(nt={}),nt.bodyB=k.type==="body"?k:k.body,isNaN(tt)||(nt.length=tt),nt.stiffness=_;var it=r.create(nt);return this.world.add(it),it},mouseSpring:function(k){return this.pointerConstraint(k)},pointerConstraint:function(k){k===void 0&&(k={}),k.hasOwnProperty("render")||(k.render={visible:!1});var tt=new c(this.scene,this.world,k);return this.world.add(tt.constraint),tt},image:function(k,tt,_,nt,it){var rt=new l(this.world,k,tt,_,nt,it);return this.sys.displayList.add(rt),rt},tileBody:function(k,tt){return new s(this.world,k,tt)},sprite:function(k,tt,_,nt,it){var rt=new f(this.world,k,tt,_,nt,it);return this.sys.displayList.add(rt),this.sys.updateList.add(rt),rt},gameObject:function(k,tt,_){return n(this.world,k,tt,_)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});i.exports=j},75803:(i,$,e)=>{var u=e(31884),G=e(95540),h=e(26099);function r(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var o=function(n,l,f,s){f===void 0&&(f={}),s===void 0&&(s=!0);var d=l.x,p=l.y;l.body={temp:!0,position:{x:d,y:p}};var c=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(c.forEach(function(j){for(var k in j)r(j[k])?Object.defineProperty(l,k,{get:j[k].get,set:j[k].set}):Object.defineProperty(l,k,{value:j[k]})}),l.world=n,l._tempVec2=new h(d,p),f.hasOwnProperty("type")&&f.type==="body")l.setExistingBody(f,s);else{var g=G(f,"shape",null);g||(g="rectangle"),f.addToWorld=s,l.setBody(g,f)}return l};i.exports=o},23181:(i,$,e)=>{var u=e(83419),G=e(31884),h=e(95643),r=e(95540),o=e(88571),n=e(72699),l=e(26099),f=new u({Extends:o,Mixins:[G.Bounce,G.Collision,G.Force,G.Friction,G.Gravity,G.Mass,G.Sensor,G.SetBody,G.Sleep,G.Static,G.Transform,G.Velocity,n],initialize:function(d,p,c,g,j,k){h.call(this,d.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,j),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new l(p,c);var tt=r(k,"shape",null);tt?this.setBody(tt,k):this.setRectangle(this.width,this.height,k),this.setPosition(p,c),this.initPipeline(),this.initPostPipeline(!0)}});i.exports=f},42045:(i,$,e)=>{var u=e(60461),G=e(66615),h=e(66280),r=e(22562),o=e(68174),n=e(15647),l=e(83419),f=e(52284),s=e(53402),d=e(69351),p=e(74116),c=e(48140),g=e(81388),j=e(20339),k=e(28137),tt=e(95540),_=e(35154),nt=e(18210),it=e(40178),rt=e(6790),st=e(74507),at=e(46975),ot=e(4506),ht=e(99561),dt=e(73832),ut=e(37277),ft=e(73296),gt=e(66272),xt=e(44594),Et=e(74058),pt=e(31725),mt=e(41598),lt=e(68243);s.setDecomp(e(55973));var ct=new l({initialize:function(yt){this.scene=yt,this.systems=yt.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=d,this.collision=f,this.detector=g,this.pair=ot,this.pairs=ht,this.query=ft,this.resolver=gt,this.constraint=c,this.bodies=h,this.composites=p,this.axes=G,this.bounds=n,this.svg=Et,this.vector=pt,this.vertices=mt,this.verts=mt,this._tempVec2=pt.create(),_(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),_(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),_(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),gt._restingThresh=_(this.config,"restingThresh",4),gt._restingThreshTangent=_(this.config,"restingThreshTangent",6),gt._positionDampen=_(this.config,"positionDampen",.9),gt._positionWarming=_(this.config,"positionWarming",.8),gt._frictionNormalMultiplier=_(this.config,"frictionNormalMultiplier",5),yt.sys.events.once(xt.BOOT,this.boot,this),yt.sys.events.on(xt.START,this.start,this)},boot:function(){this.world=new lt(this.scene,this.config),this.add=new k(this.world),this.bodyBounds=new o,this.systems.events.once(xt.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new lt(this.scene,this.config),this.add=new k(this.world));var vt=this.systems.events;vt.on(xt.UPDATE,this.world.update,this.world),vt.on(xt.POST_UPDATE,this.world.postUpdate,this.world),vt.once(xt.SHUTDOWN,this.shutdown,this)},getConfig:function(){var vt=this.systems.game.config.physics,yt=this.systems.settings.physics,Tt=at(tt(yt,"matter",{}),tt(vt,"matter",{}));return Tt},enableAttractorPlugin:function(){return dt.register(nt),dt.use(rt,nt),this},enableWrapPlugin:function(){return dt.register(st),dt.use(rt,st),this},enableCollisionEventsPlugin:function(){return dt.register(it),dt.use(rt,it),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(vt,yt){this.world.step(vt,yt)},containsPoint:function(vt,yt,Tt){vt=this.getMatterBodies(vt);var Ct=pt.create(yt,Tt),St=ft.point(vt,Ct);return St.length>0},intersectPoint:function(vt,yt,Tt){Tt=this.getMatterBodies(Tt);var Ct=pt.create(vt,yt),St=[],Dt=ft.point(Tt,Ct);return Dt.forEach(function(Mt){St.indexOf(Mt)===-1&&St.push(Mt)}),St},intersectRect:function(vt,yt,Tt,Ct,St,Dt){St===void 0&&(St=!1),Dt=this.getMatterBodies(Dt);var Mt={min:{x:vt,y:yt},max:{x:vt+Tt,y:yt+Ct}},At=[],wt=ft.region(Dt,Mt,St);return wt.forEach(function(It){At.indexOf(It)===-1&&At.push(It)}),At},intersectRay:function(vt,yt,Tt,Ct,St,Dt){St===void 0&&(St=1),Dt=this.getMatterBodies(Dt);for(var Mt=[],At=ft.ray(Dt,pt.create(vt,yt),pt.create(Tt,Ct),St),wt=0;wt<At.length;wt++)Mt.push(At[wt].body);return Mt},intersectBody:function(vt,yt){yt=this.getMatterBodies(yt);for(var Tt=[],Ct=ft.collides(vt,yt),St=0;St<Ct.length;St++){var Dt=Ct[St];Dt.bodyA===vt?Tt.push(Dt.bodyB):Tt.push(Dt.bodyA)}return Tt},overlap:function(vt,yt,Tt,Ct,St){Tt===void 0&&(Tt=null),Ct===void 0&&(Ct=null),St===void 0&&(St=Tt),Array.isArray(vt)||(vt=[vt]),vt=this.getMatterBodies(vt),yt=this.getMatterBodies(yt);for(var Dt=!1,Mt=0;Mt<vt.length;Mt++)for(var At=vt[Mt],wt=ft.collides(At,yt),It=0;It<wt.length;It++){var Pt=wt[It],Ot=Pt.bodyA.id===At.id?Pt.bodyB:Pt.bodyA;if(!Ct||Ct.call(St,At,Ot,Pt)){if(Dt=!0,Tt)Tt.call(St,At,Ot,Pt);else if(!Ct)return!0}}return Dt},setCollisionCategory:function(vt,yt){return vt=this.getMatterBodies(vt),vt.forEach(function(Tt){Tt.collisionFilter.category=yt}),this},setCollisionGroup:function(vt,yt){return vt=this.getMatterBodies(vt),vt.forEach(function(Tt){Tt.collisionFilter.group=yt}),this},setCollidesWith:function(vt,yt){vt=this.getMatterBodies(vt);var Tt=0;if(!Array.isArray(yt))Tt=yt;else for(var Ct=0;Ct<yt.length;Ct++)Tt|=yt[Ct];return vt.forEach(function(St){St.collisionFilter.mask=Tt}),this},getMatterBodies:function(vt){if(!vt)return this.world.getAllBodies();Array.isArray(vt)||(vt=[vt]);for(var yt=[],Tt=0;Tt<vt.length;Tt++){var Ct=vt[Tt].hasOwnProperty("body")?vt[Tt].body:vt[Tt];yt.push(Ct)}return yt},setVelocity:function(vt,yt,Tt){vt=this.getMatterBodies(vt);var Ct=this._tempVec2;return Ct.x=yt,Ct.y=Tt,vt.forEach(function(St){r.setVelocity(St,Ct)}),this},setVelocityX:function(vt,yt){vt=this.getMatterBodies(vt);var Tt=this._tempVec2;return Tt.x=yt,vt.forEach(function(Ct){Tt.y=Ct.velocity.y,r.setVelocity(Ct,Tt)}),this},setVelocityY:function(vt,yt){vt=this.getMatterBodies(vt);var Tt=this._tempVec2;return Tt.y=yt,vt.forEach(function(Ct){Tt.x=Ct.velocity.x,r.setVelocity(Ct,Tt)}),this},setAngularVelocity:function(vt,yt){return vt=this.getMatterBodies(vt),vt.forEach(function(Tt){r.setAngularVelocity(Tt,yt)}),this},applyForce:function(vt,yt){vt=this.getMatterBodies(vt);var Tt=this._tempVec2;return vt.forEach(function(Ct){Tt.x=Ct.position.x,Tt.y=Ct.position.y,r.applyForce(Ct,Tt,yt)}),this},applyForceFromPosition:function(vt,yt,Tt,Ct){vt=this.getMatterBodies(vt);var St=this._tempVec2;return vt.forEach(function(Dt){Ct===void 0&&(Ct=Dt.angle),St.x=Tt*Math.cos(Ct),St.y=Tt*Math.sin(Ct),r.applyForce(Dt,yt,St)}),this},applyForceFromAngle:function(vt,yt,Tt){vt=this.getMatterBodies(vt);var Ct=this._tempVec2;return vt.forEach(function(St){Tt===void 0&&(Tt=St.angle),Ct.x=yt*Math.cos(Tt),Ct.y=yt*Math.sin(Tt),r.applyForce(St,{x:St.position.x,y:St.position.y},Ct)}),this},getConstraintLength:function(vt){var yt=vt.pointA.x,Tt=vt.pointA.y,Ct=vt.pointB.x,St=vt.pointB.y;return vt.bodyA&&(yt+=vt.bodyA.position.x,Tt+=vt.bodyA.position.y),vt.bodyB&&(Ct+=vt.bodyB.position.x,St+=vt.bodyB.position.y),j(yt,Tt,Ct,St)},alignBody:function(vt,yt,Tt,Ct){vt=vt.hasOwnProperty("body")?vt.body:vt;var St;switch(Ct){case u.TOP_LEFT:case u.LEFT_TOP:St=this.bodyBounds.getTopLeft(vt,yt,Tt);break;case u.TOP_CENTER:St=this.bodyBounds.getTopCenter(vt,yt,Tt);break;case u.TOP_RIGHT:case u.RIGHT_TOP:St=this.bodyBounds.getTopRight(vt,yt,Tt);break;case u.LEFT_CENTER:St=this.bodyBounds.getLeftCenter(vt,yt,Tt);break;case u.CENTER:St=this.bodyBounds.getCenter(vt,yt,Tt);break;case u.RIGHT_CENTER:St=this.bodyBounds.getRightCenter(vt,yt,Tt);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:St=this.bodyBounds.getBottomLeft(vt,yt,Tt);break;case u.BOTTOM_CENTER:St=this.bodyBounds.getBottomCenter(vt,yt,Tt);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:St=this.bodyBounds.getBottomRight(vt,yt,Tt);break}return St&&r.setPosition(vt,St),this},shutdown:function(){var vt=this.systems.events;this.world&&(vt.off(xt.UPDATE,this.world.update,this.world),vt.off(xt.POST_UPDATE,this.world.postUpdate,this.world)),vt.off(xt.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(xt.START,this.start,this),this.scene=null,this.systems=null}});ut.register("MatterPhysics",ct,"matterPhysics"),i.exports=ct},34803:(i,$,e)=>{var u=e(9674),G=e(83419),h=e(31884),r=e(95643),o=e(95540),n=e(72699),l=e(68287),f=e(26099),s=new G({Extends:l,Mixins:[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity,n],initialize:function(p,c,g,j,k,tt){r.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(j,k),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new f(c,g);var _=o(tt,"shape",null);_?this.setBody(_,tt):this.setRectangle(this.width,this.height,tt),this.setPosition(c,g),this.initPipeline(),this.initPostPipeline(!0)}});i.exports=s},73834:(i,$,e)=>{var u=e(66280),G=e(22562),h=e(83419),r=e(31884),o=e(62644),n=e(50792),l=e(95540),f=e(97022),s=e(41598),d=new h({Extends:n,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(c,g,j){n.call(this),this.tile=g,this.world=c,g.physics.matterBody&&g.physics.matterBody.destroy(),g.physics.matterBody=this;var k=l(j,"body",null),tt=l(j,"addToWorld",!0);if(k)this.setBody(k,tt);else{var _=g.getCollisionGroup(),nt=l(_,"objects",[]);nt.length>0?this.setFromTileCollision(j):this.setFromTileRectangle(j)}if(g.flipX||g.flipY){var it={x:g.getCenterX(),y:g.getCenterY()},rt=g.flipX?-1:1,st=g.flipY?-1:1;G.scale(k,rt,st,it)}},setFromTileRectangle:function(p){p===void 0&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);var c=this.tile.getBounds(),g=c.x+c.width/2,j=c.y+c.height/2,k=u.rectangle(g,j,c.width,c.height,p);return this.setBody(k,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,g=this.tile.tilemapLayer.scaleY,j=this.tile.getLeft(),k=this.tile.getTop(),tt=this.tile.getCollisionGroup(),_=l(tt,"objects",[]),nt=[],it=0;it<_.length;it++){var rt=_[it],st=j+rt.x*c,at=k+rt.y*g,ot=rt.width*c,ht=rt.height*g,dt=null;if(rt.rectangle)dt=u.rectangle(st+ot/2,at+ht/2,ot,ht,p);else if(rt.ellipse)dt=u.circle(st+ot/2,at+ht/2,ot/2,p);else if(rt.polygon||rt.polyline){var ut=rt.polygon?rt.polygon:rt.polyline,ft=ut.map(function(pt){return{x:pt.x*c,y:pt.y*g}}),gt=s.create(ft),xt=s.centre(gt);st+=xt.x,at+=xt.y,dt=u.fromVertices(st,at,gt,p)}dt&&nt.push(dt)}if(nt.length===1)this.setBody(nt[0],p.addToWorld);else if(nt.length>1){var Et=o(p);Et.parts=nt,this.setBody(G.create(Et),Et.addToWorld)}return this},setBody:function(p,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});i.exports=d},19496:(i,$,e)=>{var u=e(66280),G=e(22562),h=e(53402),r=e(95540),o=e(41598),n={parseBody:function(l,f,s,d){d===void 0&&(d={});for(var p=r(s,"fixtures",[]),c=[],g=0;g<p.length;g++)for(var j=this.parseFixture(p[g]),k=0;k<j.length;k++)c.push(j[k]);var tt=h.clone(s,!0);h.extend(tt,d,!0),delete tt.fixtures,delete tt.type;var _=G.create(tt);return G.setParts(_,c),G.setPosition(_,{x:l,y:f}),_},parseFixture:function(l){var f=h.extend({},!1,l);delete f.circle,delete f.vertices;var s;if(l.circle){var d=r(l.circle,"x"),p=r(l.circle,"y"),c=r(l.circle,"radius");s=[u.circle(d,p,c,f)]}else l.vertices&&(s=this.parseVertices(l.vertices,f));return s},parseVertices:function(l,f){f===void 0&&(f={});for(var s=[],d=0;d<l.length;d++)o.clockwiseSort(l[d]),s.push(G.create(h.extend({position:o.centre(l[d]),vertices:l[d]},f)));return u.flagCoincidentParts(s)}};i.exports=n},85791:(i,$,e)=>{var u=e(66280),G=e(22562),h={parseBody:function(r,o,n,l){l===void 0&&(l={});var f,s=n.vertices;if(s.length===1)l.vertices=s[0],f=G.create(l),u.flagCoincidentParts(f.parts);else{for(var d=[],p=0;p<s.length;p++){var c=G.create({vertices:s[p]});d.push(c)}u.flagCoincidentParts(d),l.parts=d,f=G.create(l)}return f.label=n.label,G.setPosition(f,{x:r,y:o}),f}};i.exports=h},98713:(i,$,e)=>{var u=e(15647),G=e(83419),h=e(69351),r=e(48140),o=e(81388),n=e(1121),l=e(8214),f=e(46975),s=e(53614),d=e(26099),p=e(41598),c=new G({initialize:function(j,k,tt){tt===void 0&&(tt={});var _={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=j,this.world=k,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=r.create(f(tt,_)),this.world.on(n.BEFORE_UPDATE,this.update,this),j.sys.input.on(l.POINTER_DOWN,this.onDown,this),j.sys.input.on(l.POINTER_UP,this.onUp,this)},onDown:function(g){this.pointer||(this.pointer=g,this.camera=g.camera)},onUp:function(g){g===this.pointer&&(this.pointer=null)},getBody:function(g){var j=this.position,k=this.constraint;this.camera.getWorldPoint(g.x,g.y,j);for(var tt=h.allBodies(this.world.localWorld),_=0;_<tt.length;_++){var nt=tt[_];if(!nt.ignorePointer&&u.contains(nt.bounds,j)&&o.canCollide(nt.collisionFilter,k.collisionFilter)&&this.hitTestBody(nt,j))return this.world.emit(n.DRAG_START,nt,this.part,this),!0}return!1},hitTestBody:function(g,j){for(var k=this.constraint,tt=g.parts.length,_=tt>1?1:0,nt=_;nt<tt;nt++){var it=g.parts[nt];if(p.contains(it.vertices,j))return k.pointA=j,k.pointB={x:j.x-g.position.x,y:j.y-g.position.y},k.bodyB=g,k.angleB=g.angle,s.set(g,!1),this.part=it,this.body=g,!0}return!1},update:function(){var g=this.pointer,j=this.body;if(!this.active||!g){j&&this.stopDrag();return}if(!g.isDown&&j){this.stopDrag();return}else if(g.isDown){if(!this.camera||!j&&!this.getBody(g))return;j=this.body;var k=this.position,tt=this.constraint;this.camera.getWorldPoint(g.x,g.y,k),tt.pointA.x=k.x,tt.pointA.y=k.y,s.set(j,!1),this.world.emit(n.DRAG,j,this)}},stopDrag:function(){var g=this.body,j=this.constraint;j.bodyB=null,j.pointB=null,this.pointer=null,this.body=null,this.part=null,g&&this.world.emit(n.DRAG_END,g,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(l.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(l.POINTER_UP,this.onUp,this)}});i.exports=c},68243:(i,$,e)=>{var u=e(66280),G=e(22562),h=e(83419),r=e(53402),o=e(69351),n=e(48413),l=e(50792),f=e(1121),s=e(95540),d=e(35154),p=e(22562),c=e(35810),g=e(73834),j=e(4372),k=e(31725),tt=new h({Extends:l,initialize:function(nt,it){l.call(this),this.scene=nt,this.engine=n.create(it),this.localWorld=this.engine.world;var rt=d(it,"gravity",null);rt?this.setGravity(rt.x,rt.y,rt.scale):rt===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(it,"enabled",!0),this.getDelta=d(it,"getDelta",this.update60Hz);var st=s(it,"runner",{}),at=s(st,"fps",!1),ot=s(st,"fps",60),ht=s(st,"delta",1e3/ot),dt=s(st,"deltaMin",1e3/ot),ut=s(st,"deltaMax",1e3/(ot*.5));at||(ot=1e3/ht),this.runner={fps:ot,deltaSampleSize:s(st,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:s(st,"isFixed",!1),delta:ht,deltaMin:dt,deltaMax:ut},this.autoUpdate=d(it,"autoUpdate",!0);var ft=d(it,"debug",!1);if(this.drawDebug=typeof ft=="object"?!0:ft,this.debugGraphic,this.debugConfig={showAxes:s(ft,"showAxes",!1),showAngleIndicator:s(ft,"showAngleIndicator",!1),angleColor:s(ft,"angleColor",15208787),showBroadphase:s(ft,"showBroadphase",!1),broadphaseColor:s(ft,"broadphaseColor",16757760),showBounds:s(ft,"showBounds",!1),boundsColor:s(ft,"boundsColor",16777215),showVelocity:s(ft,"showVelocity",!1),velocityColor:s(ft,"velocityColor",44783),showCollisions:s(ft,"showCollisions",!1),collisionColor:s(ft,"collisionColor",16094476),showSeparations:s(ft,"showSeparations",!1),separationColor:s(ft,"separationColor",16753920),showBody:s(ft,"showBody",!0),showStaticBody:s(ft,"showStaticBody",!0),showInternalEdges:s(ft,"showInternalEdges",!1),renderFill:s(ft,"renderFill",!1),renderLine:s(ft,"renderLine",!0),fillColor:s(ft,"fillColor",1075465),fillOpacity:s(ft,"fillOpacity",1),lineColor:s(ft,"lineColor",2678297),lineOpacity:s(ft,"lineOpacity",1),lineThickness:s(ft,"lineThickness",1),staticFillColor:s(ft,"staticFillColor",857979),staticLineColor:s(ft,"staticLineColor",1255396),showSleeping:s(ft,"showSleeping",!1),staticBodySleepOpacity:s(ft,"staticBodySleepOpacity",.7),sleepFillColor:s(ft,"sleepFillColor",4605510),sleepLineColor:s(ft,"sleepLineColor",10066585),showSensors:s(ft,"showSensors",!0),sensorFillColor:s(ft,"sensorFillColor",857979),sensorLineColor:s(ft,"sensorLineColor",1255396),showPositions:s(ft,"showPositions",!0),positionSize:s(ft,"positionSize",4),positionColor:s(ft,"positionColor",14697178),showJoint:s(ft,"showJoint",!0),jointColor:s(ft,"jointColor",14737474),jointLineOpacity:s(ft,"jointLineOpacity",1),jointLineThickness:s(ft,"jointLineThickness",2),pinSize:s(ft,"pinSize",4),pinColor:s(ft,"pinColor",4382944),springColor:s(ft,"springColor",14697184),anchorColor:s(ft,"anchorColor",15724527),anchorSize:s(ft,"anchorSize",4),showConvexHulls:s(ft,"showConvexHulls",!1),hullColor:s(ft,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(it,"setBounds",!1)){var gt=it.setBounds;if(typeof gt=="boolean")this.setBounds();else{var xt=s(gt,"x",0),Et=s(gt,"y",0),pt=s(gt,"width",nt.sys.scale.width),mt=s(gt,"height",nt.sys.scale.height),lt=s(gt,"thickness",64),ct=s(gt,"left",!0),vt=s(gt,"right",!0),yt=s(gt,"top",!0),Tt=s(gt,"bottom",!0);this.setBounds(xt,Et,pt,mt,lt,ct,vt,yt,Tt)}}},setCompositeRenderStyle:function(_){var nt=_.bodies,it=_.constraints,rt=_.composites,st,at,ot;for(st=0;st<nt.length;st++)at=nt[st],ot=at.render,this.setBodyRenderStyle(at,ot.lineColor,ot.lineOpacity,ot.lineThickness,ot.fillColor,ot.fillOpacity);for(st=0;st<it.length;st++)at=it[st],ot=at.render,this.setConstraintRenderStyle(at,ot.lineColor,ot.lineOpacity,ot.lineThickness,ot.pinSize,ot.anchorColor,ot.anchorSize);for(st=0;st<rt.length;st++)at=rt[st],this.setCompositeRenderStyle(at);return this},setBodyRenderStyle:function(_,nt,it,rt,st,at){var ot=_.render,ht=this.debugConfig;return ot?(nt==null&&(nt=_.isStatic?ht.staticLineColor:ht.lineColor),it==null&&(it=ht.lineOpacity),rt==null&&(rt=ht.lineThickness),st==null&&(st=_.isStatic?ht.staticFillColor:ht.fillColor),at==null&&(at=ht.fillOpacity),nt!==!1&&(ot.lineColor=nt),it!==!1&&(ot.lineOpacity=it),rt!==!1&&(ot.lineThickness=rt),st!==!1&&(ot.fillColor=st),at!==!1&&(ot.fillOpacity=at),this):this},setConstraintRenderStyle:function(_,nt,it,rt,st,at,ot){var ht=_.render,dt=this.debugConfig;if(!ht)return this;if(nt==null){var ut=ht.type;ut==="line"?nt=dt.jointColor:ut==="pin"?nt=dt.pinColor:ut==="spring"&&(nt=dt.springColor)}return it==null&&(it=dt.jointLineOpacity),rt==null&&(rt=dt.jointLineThickness),st==null&&(st=dt.pinSize),at==null&&(at=dt.anchorColor),ot==null&&(ot=dt.anchorSize),nt!==!1&&(ht.lineColor=nt),it!==!1&&(ht.lineOpacity=it),rt!==!1&&(ht.lineThickness=rt),st!==!1&&(ht.pinSize=st),at!==!1&&(ht.anchorColor=at),ot!==!1&&(ht.anchorSize=ot),this},setEventsProxy:function(){var _=this,nt=this.engine,it=this.localWorld;this.drawDebug&&(c.on(it,"compositeModified",function(rt){_.setCompositeRenderStyle(rt)}),c.on(it,"beforeAdd",function(rt){for(var st=[].concat(rt.object),at=0;at<st.length;at++){var ot=st[at],ht=ot.render;ot.type==="body"?_.setBodyRenderStyle(ot,ht.lineColor,ht.lineOpacity,ht.lineThickness,ht.fillColor,ht.fillOpacity):ot.type==="composite"?_.setCompositeRenderStyle(ot):ot.type==="constraint"&&_.setConstraintRenderStyle(ot,ht.lineColor,ht.lineOpacity,ht.lineThickness,ht.pinSize,ht.anchorColor,ht.anchorSize)}})),c.on(it,"beforeAdd",function(rt){_.emit(f.BEFORE_ADD,rt)}),c.on(it,"afterAdd",function(rt){_.emit(f.AFTER_ADD,rt)}),c.on(it,"beforeRemove",function(rt){_.emit(f.BEFORE_REMOVE,rt)}),c.on(it,"afterRemove",function(rt){_.emit(f.AFTER_REMOVE,rt)}),c.on(nt,"beforeUpdate",function(rt){_.emit(f.BEFORE_UPDATE,rt)}),c.on(nt,"afterUpdate",function(rt){_.emit(f.AFTER_UPDATE,rt)}),c.on(nt,"collisionStart",function(rt){var st=rt.pairs,at,ot;st.length>0&&(at=st[0].bodyA,ot=st[0].bodyB),_.emit(f.COLLISION_START,rt,at,ot)}),c.on(nt,"collisionActive",function(rt){var st=rt.pairs,at,ot;st.length>0&&(at=st[0].bodyA,ot=st[0].bodyB),_.emit(f.COLLISION_ACTIVE,rt,at,ot)}),c.on(nt,"collisionEnd",function(rt){var st=rt.pairs,at,ot;st.length>0&&(at=st[0].bodyA,ot=st[0].bodyB),_.emit(f.COLLISION_END,rt,at,ot)})},setBounds:function(_,nt,it,rt,st,at,ot,ht,dt){return _===void 0&&(_=0),nt===void 0&&(nt=0),it===void 0&&(it=this.scene.sys.scale.width),rt===void 0&&(rt=this.scene.sys.scale.height),st===void 0&&(st=64),at===void 0&&(at=!0),ot===void 0&&(ot=!0),ht===void 0&&(ht=!0),dt===void 0&&(dt=!0),this.updateWall(at,"left",_-st,nt-st,st,rt+st*2),this.updateWall(ot,"right",_+it,nt-st,st,rt+st*2),this.updateWall(ht,"top",_,nt-st,it,st),this.updateWall(dt,"bottom",_,nt+rt,it,st),this},updateWall:function(_,nt,it,rt,st,at){var ot=this.walls[nt];_?(ot&&j.remove(this.localWorld,ot),it+=st/2,rt+=at/2,this.walls[nt]=this.create(it,rt,st,at,{isStatic:!0,friction:0,frictionStatic:0})):(ot&&j.remove(this.localWorld,ot),this.walls[nt]=null)},createDebugGraphic:function(){var _=this.scene.sys.add.graphics({x:0,y:0});return _.setDepth(Number.MAX_VALUE),this.debugGraphic=_,this.drawDebug=!0,_},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(_,nt,it){return _===void 0&&(_=0),nt===void 0&&(nt=1),it===void 0&&(it=.001),this.localWorld.gravity.x=_,this.localWorld.gravity.y=nt,this.localWorld.gravity.scale=it,this},create:function(_,nt,it,rt,st){var at=u.rectangle(_,nt,it,rt,st);return j.add(this.localWorld,at),at},add:function(_){return j.add(this.localWorld,_),this},remove:function(_,nt){Array.isArray(_)||(_=[_]);for(var it=0;it<_.length;it++){var rt=_[it],st=rt.body?rt.body:rt;o.remove(this.localWorld,st,nt)}return this},removeConstraint:function(_,nt){return o.remove(this.localWorld,_,nt),this},convertTilemapLayer:function(_,nt){var it=_.layer,rt=_.getTilesWithin(0,0,it.width,it.height,{isColliding:!0});return this.convertTiles(rt,nt),this},convertTiles:function(_,nt){if(_.length===0)return this;for(var it=0;it<_.length;it++)new g(this,_[it],nt);return this},nextGroup:function(_){return p.nextGroup(_)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(_,nt){if(!(!this.enabled||!this.autoUpdate)){var it=this.engine,rt=this.runner,st=it.timing;rt.isFixed?nt=this.getDelta(_,nt):(nt=_-rt.timePrev||rt.delta,rt.timePrev=_,rt.deltaHistory.push(nt),rt.deltaHistory=rt.deltaHistory.slice(-rt.deltaSampleSize),nt=Math.min.apply(null,rt.deltaHistory),nt=nt<rt.deltaMin?rt.deltaMin:nt,nt=nt>rt.deltaMax?rt.deltaMax:nt,rt.delta=nt),rt.timeScalePrev=st.timeScale,rt.frameCounter+=1,_-rt.counterTimestamp>=1e3&&(rt.fps=rt.frameCounter*((_-rt.counterTimestamp)/1e3),rt.counterTimestamp=_,rt.frameCounter=0),n.update(it,nt)}},step:function(_){n.update(this.engine,_)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(_){var nt=_.hasOwnProperty("body")?_.body:_;return o.get(this.localWorld,nt.id,nt.type)!==null},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var _=this.debugConfig,nt=this.engine,it=this.debugGraphic,rt=o.allBodies(this.localWorld);this.debugGraphic.clear(),_.showBroadphase&&nt.broadphase.controller&&this.renderGrid(nt.broadphase,it,_.broadphaseColor,.5),_.showBounds&&this.renderBodyBounds(rt,it,_.boundsColor,.5),(_.showBody||_.showStaticBody)&&this.renderBodies(rt),_.showJoint&&this.renderJoints(),(_.showAxes||_.showAngleIndicator)&&this.renderBodyAxes(rt,it,_.showAxes,_.angleColor,.5),_.showVelocity&&this.renderBodyVelocity(rt,it,_.velocityColor,1,2),_.showSeparations&&this.renderSeparations(nt.pairs.list,it,_.separationColor),_.showCollisions&&this.renderCollisions(nt.pairs.list,it,_.collisionColor)}},renderGrid:function(_,nt,it,rt){nt.lineStyle(1,it,rt);for(var st=r.keys(_.buckets),at=0;at<st.length;at++){var ot=st[at];if(!(_.buckets[ot].length<2)){var ht=ot.split(/C|R/);nt.strokeRect(parseInt(ht[1],10)*_.bucketWidth,parseInt(ht[2],10)*_.bucketHeight,_.bucketWidth,_.bucketHeight)}}return this},renderSeparations:function(_,nt,it){nt.lineStyle(1,it,1);for(var rt=0;rt<_.length;rt++){var st=_[rt];if(st.isActive){var at=st.collision,ot=at.bodyA,ht=at.bodyB,dt=ot.position,ut=ht.position,ft=at.penetration,gt=!ot.isStatic&&!ht.isStatic?4:1;ht.isStatic&&(gt=0),nt.lineBetween(ut.x,ut.y,ut.x-ft.x*gt,ut.y-ft.y*gt),gt=!ot.isStatic&&!ht.isStatic?4:1,ot.isStatic&&(gt=0),nt.lineBetween(dt.x,dt.y,dt.x-ft.x*gt,dt.y-ft.y*gt)}}return this},renderCollisions:function(_,nt,it){nt.lineStyle(1,it,.5),nt.fillStyle(it,1);var rt,st;for(rt=0;rt<_.length;rt++)if(st=_[rt],!!st.isActive)for(var at=0;at<st.activeContacts.length;at++){var ot=st.activeContacts[at],ht=ot.vertex;nt.fillRect(ht.x-2,ht.y-2,5,5)}for(rt=0;rt<_.length;rt++)if(st=_[rt],!!st.isActive){var dt=st.collision,ut=st.activeContacts;if(ut.length>0){var ft=ut[0].vertex.x,gt=ut[0].vertex.y;ut.length===2&&(ft=(ut[0].vertex.x+ut[1].vertex.x)/2,gt=(ut[0].vertex.y+ut[1].vertex.y)/2),dt.bodyB===dt.supports[0].body||dt.bodyA.isStatic?nt.lineBetween(ft-dt.normal.x*8,gt-dt.normal.y*8,ft,gt):nt.lineBetween(ft+dt.normal.x*8,gt+dt.normal.y*8,ft,gt)}}return this},renderBodyBounds:function(_,nt,it,rt){nt.lineStyle(1,it,rt);for(var st=0;st<_.length;st++){var at=_[st];if(at.render.visible){var ot=at.bounds;if(ot)nt.strokeRect(ot.min.x,ot.min.y,ot.max.x-ot.min.x,ot.max.y-ot.min.y);else for(var ht=at.parts,dt=ht.length>1?1:0;dt<ht.length;dt++){var ut=ht[dt];nt.strokeRect(ut.bounds.min.x,ut.bounds.min.y,ut.bounds.max.x-ut.bounds.min.x,ut.bounds.max.y-ut.bounds.min.y)}}}return this},renderBodyAxes:function(_,nt,it,rt,st){nt.lineStyle(1,rt,st);for(var at=0;at<_.length;at++){var ot=_[at],ht=ot.parts;if(ot.render.visible){var dt,ut,ft;if(it)for(ut=ht.length>1?1:0;ut<ht.length;ut++)for(dt=ht[ut],ft=0;ft<dt.axes.length;ft++){var gt=dt.axes[ft];nt.lineBetween(dt.position.x,dt.position.y,dt.position.x+gt.x*20,dt.position.y+gt.y*20)}else for(ut=ht.length>1?1:0;ut<ht.length;ut++)for(dt=ht[ut],ft=0;ft<dt.axes.length;ft++)nt.lineBetween(dt.position.x,dt.position.y,(dt.vertices[0].x+dt.vertices[dt.vertices.length-1].x)/2,(dt.vertices[0].y+dt.vertices[dt.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(_,nt,it,rt,st){nt.lineStyle(st,it,rt);for(var at=0;at<_.length;at++){var ot=_[at];ot.render.visible&&nt.lineBetween(ot.position.x,ot.position.y,ot.position.x+(ot.position.x-ot.positionPrev.x)*2,ot.position.y+(ot.position.y-ot.positionPrev.y)*2)}return this},renderBodies:function(_){for(var nt=this.debugGraphic,it=this.debugConfig,rt=it.showBody,st=it.showStaticBody,at=it.showSleeping,ot=it.showInternalEdges,ht=it.showConvexHulls,dt=it.renderFill,ut=it.renderLine,ft=it.staticBodySleepOpacity,gt=it.sleepFillColor,xt=it.sleepLineColor,Et=it.hullColor,pt=0;pt<_.length;pt++){var mt=_[pt];if(mt.render.visible&&!(!st&&mt.isStatic||!rt&&!mt.isStatic)){var lt=mt.render.lineColor,ct=mt.render.lineOpacity,vt=mt.render.lineThickness,yt=mt.render.fillColor,Tt=mt.render.fillOpacity;at&&mt.isSleeping&&(mt.isStatic?(ct*=ft,Tt*=ft):(lt=xt,yt=gt)),dt||(yt=null),ut||(lt=null),this.renderBody(mt,nt,ot,lt,ct,vt,yt,Tt);var Ct=mt.parts.length;ht&&Ct>1&&this.renderConvexHull(mt,nt,Et,vt)}}},renderBody:function(_,nt,it,rt,st,at,ot,ht){rt===void 0&&(rt=null),st===void 0&&(st=null),at===void 0&&(at=1),ot===void 0&&(ot=null),ht===void 0&&(ht=null);for(var dt=this.debugConfig,ut=dt.sensorFillColor,ft=dt.sensorLineColor,gt=_.parts,xt=gt.length,Et=xt>1?1:0;Et<xt;Et++){var pt=gt[Et],mt=pt.render,lt=mt.opacity;if(!(!mt.visible||lt===0||pt.isSensor&&!dt.showSensors)){var ct=pt.circleRadius;if(nt.beginPath(),pt.isSensor?(ot!==null&&nt.fillStyle(ut,ht*lt),rt!==null&&nt.lineStyle(at,ft,st*lt)):(ot!==null&&nt.fillStyle(ot,ht*lt),rt!==null&&nt.lineStyle(at,rt,st*lt)),ct)nt.arc(pt.position.x,pt.position.y,ct,0,2*Math.PI);else{var vt=pt.vertices,yt=vt.length;nt.moveTo(vt[0].x,vt[0].y);for(var Tt=1;Tt<yt;Tt++){var Ct=vt[Tt];if(!vt[Tt-1].isInternal||it?nt.lineTo(Ct.x,Ct.y):nt.moveTo(Ct.x,Ct.y),Tt<yt&&Ct.isInternal&&!it){var St=(Tt+1)%yt;nt.moveTo(vt[St].x,vt[St].y)}}nt.closePath()}ot!==null&&nt.fillPath(),rt!==null&&nt.strokePath()}}if(dt.showPositions&&!_.isStatic){var Dt=_.position.x,Mt=_.position.y,At=Math.ceil(dt.positionSize/2);nt.fillStyle(dt.positionColor,1),nt.fillRect(Dt-At,Mt-At,dt.positionSize,dt.positionSize)}return this},renderConvexHull:function(_,nt,it,rt){rt===void 0&&(rt=1);var st=_.parts,at=st.length;if(at>1){var ot=_.vertices;nt.lineStyle(rt,it),nt.beginPath(),nt.moveTo(ot[0].x,ot[0].y);for(var ht=1;ht<ot.length;ht++)nt.lineTo(ot[ht].x,ot[ht].y);nt.lineTo(ot[0].x,ot[0].y),nt.strokePath()}return this},renderJoints:function(){for(var _=this.debugGraphic,nt=o.allConstraints(this.localWorld),it=0;it<nt.length;it++){var rt=nt[it].render,st=rt.lineColor,at=rt.lineOpacity,ot=rt.lineThickness,ht=rt.pinSize,dt=rt.anchorColor,ut=rt.anchorSize;this.renderConstraint(nt[it],_,st,at,ot,ht,dt,ut)}},renderConstraint:function(_,nt,it,rt,st,at,ot,ht){var dt=_.render;if(!dt.visible||!_.pointA||!_.pointB)return this;nt.lineStyle(st,it,rt);var ut=_.bodyA,ft=_.bodyB,gt,xt;if(ut?gt=k.add(ut.position,_.pointA):gt=_.pointA,dt.type==="pin")nt.strokeCircle(gt.x,gt.y,at);else{if(ft?xt=k.add(ft.position,_.pointB):xt=_.pointB,nt.beginPath(),nt.moveTo(gt.x,gt.y),dt.type==="spring")for(var Et=k.sub(xt,gt),pt=k.perp(k.normalise(Et)),mt=Math.ceil(r.clamp(_.length/5,12,20)),lt,ct=1;ct<mt;ct+=1)lt=ct%2===0?1:-1,nt.lineTo(gt.x+Et.x*(ct/mt)+pt.x*lt*4,gt.y+Et.y*(ct/mt)+pt.y*lt*4);nt.lineTo(xt.x,xt.y)}return nt.strokePath(),dt.anchors&&ht>0&&(nt.fillStyle(ot),nt.fillCircle(gt.x,gt.y,ht),nt.fillCircle(xt.x,xt.y,ht)),this},resetCollisionIDs:function(){return G._nextCollidingGroupId=1,G._nextNonCollidingGroupId=-1,G._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),j.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});i.exports=tt},70410:i=>{var $={setBounce:function(e){return this.body.restitution=e,this}};i.exports=$},66968:i=>{var $={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var u=0;if(!Array.isArray(e))u=e;else for(var G=0;G<e.length;G++)u|=e[G];return this.body.collisionFilter.mask=u,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,u){Array.isArray(e)||(e=[e]);for(var G=0;G<e.length;G++){var h=e[G].hasOwnProperty("body")?e[G].body:e[G];this.body.setOnCollideWith(h,u)}return this}};i.exports=$},51607:(i,$,e)=>{var u=e(22562),G={applyForce:function(h){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,h),this},applyForceFrom:function(h,r){return u.applyForce(this.body,h,r),this},thrust:function(h){var r=this.body.angle;return this._tempVec2.set(h*Math.cos(r),h*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(h){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(h*Math.cos(r),h*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(h){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(h*Math.cos(r),h*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(h){var r=this.body.angle-Math.PI;return this._tempVec2.set(h*Math.cos(r),h*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};i.exports=G},5436:i=>{var $={setFriction:function(e,u,G){return this.body.friction=e,u!==void 0&&(this.body.frictionAir=u),G!==void 0&&(this.body.frictionStatic=G),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};i.exports=$},39858:i=>{var $={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};i.exports=$},37302:(i,$,e)=>{var u=e(22562),G=e(26099),h={setMass:function(r){return u.setMass(this.body,r),this},setDensity:function(r){return u.setDensity(this.body,r),this},centerOfMass:{get:function(){return new G(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};i.exports=h},39132:i=>{var $={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};i.exports=$},57772:(i,$,e)=>{var u=e(66280),G=e(22562),h=e(43855),r=e(95540),o=e(19496),n=e(85791),l=e(41598),f={setRectangle:function(s,d,p){return this.setBody({type:"rectangle",width:s,height:d},p)},setCircle:function(s,d){return this.setBody({type:"circle",radius:s},d)},setPolygon:function(s,d,p){return this.setBody({type:"polygon",sides:d,radius:s},p)},setTrapezoid:function(s,d,p,c){return this.setBody({type:"trapezoid",width:s,height:d,slope:p},c)},setExistingBody:function(s,d){d===void 0&&(d=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var p=0;p<s.parts.length;p++)s.parts[p].gameObject=this;var c=this;if(s.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},d&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var g=s.render.sprite.xOffset,j=s.render.sprite.yOffset,k=s.centerOfMass.x,tt=s.centerOfMass.y;if(h(k,.5)&&h(tt,.5))this.setOrigin(g+.5,j+.5);else{var _=s.centerOffset.x,nt=s.centerOffset.y;this.setOrigin(g+_/this.displayWidth,j+nt/this.displayHeight)}}return this},setBody:function(s,d){if(!s)return this;var p;typeof s=="string"&&(s={type:s});var c=r(s,"type","rectangle"),g=r(s,"x",this._tempVec2.x),j=r(s,"y",this._tempVec2.y),k=r(s,"width",this.width),tt=r(s,"height",this.height);switch(c){case"rectangle":p=u.rectangle(g,j,k,tt,d);break;case"circle":var _=r(s,"radius",Math.max(k,tt)/2),nt=r(s,"maxSides",25);p=u.circle(g,j,_,d,nt);break;case"trapezoid":var it=r(s,"slope",.5);p=u.trapezoid(g,j,k,tt,it,d);break;case"polygon":var rt=r(s,"sides",5),st=r(s,"radius",Math.max(k,tt)/2);p=u.polygon(g,j,rt,st,d);break;case"fromVertices":case"fromVerts":var at=r(s,"verts",null);if(at)if(typeof at=="string"&&(at=l.fromPath(at)),this.body&&!this.body.hasOwnProperty("temp"))G.setVertices(this.body,at),p=this.body;else{var ot=r(s,"flagInternal",!1),ht=r(s,"removeCollinear",.01),dt=r(s,"minimumArea",10);p=u.fromVertices(g,j,at,d,ot,ht,dt)}break;case"fromPhysicsEditor":p=o.parseBody(g,j,s,d);break;case"fromPhysicsTracer":p=n.parseBody(g,j,s,d);break}return p&&this.setExistingBody(p,s.addToWorld),this}};i.exports=f},38083:(i,$,e)=>{var u=e(1121),G=e(53614),h=e(35810),r={setToSleep:function(){return G.set(this.body,!0),this},setAwake:function(){return G.set(this.body,!1),this},setSleepThreshold:function(o){return o===void 0&&(o=60),this.body.sleepThreshold=o,this},setSleepEvents:function(o,n){return this.setSleepStartEvent(o),this.setSleepEndEvent(n),this},setSleepStartEvent:function(o){if(o){var n=this.world;h.on(this.body,"sleepStart",function(l){n.emit(u.SLEEP_START,l,this)})}else h.off(this.body,"sleepStart");return this},setSleepEndEvent:function(o){if(o){var n=this.world;h.on(this.body,"sleepEnd",function(l){n.emit(u.SLEEP_END,l,this)})}else h.off(this.body,"sleepEnd");return this}};i.exports=r},90556:(i,$,e)=>{var u=e(22562),G={setStatic:function(h){return u.setStatic(this.body,h),this},isStatic:function(){return this.body.isStatic}};i.exports=G},85436:(i,$,e)=>{var u=e(22562),G=e(36383),h=e(86554),r=e(30954),o=4,n={x:{get:function(){return this.body.position.x},set:function(l){this._tempVec2.set(l,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(l){this._tempVec2.set(this.x,l),u.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(l){var f=1/this._scaleX,s=1/this._scaleY;this._scaleX=l,this._scaleX===0?this.renderFlags&=~o:this.renderFlags|=o,u.scale(this.body,f,s),u.scale(this.body,l,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(l){var f=1/this._scaleX,s=1/this._scaleY;this._scaleY=l,this._scaleY===0?this.renderFlags&=~o:this.renderFlags|=o,u.scale(this.body,f,s),u.scale(this.body,this._scaleX,l)}},angle:{get:function(){return r(this.body.angle*G.RAD_TO_DEG)},set:function(l){this.rotation=r(l)*G.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(l){this._rotation=h(l),u.setAngle(this.body,this._rotation)}},setPosition:function(l,f){return l===void 0&&(l=0),f===void 0&&(f=l),this._tempVec2.set(l,f),u.setPosition(this.body,this._tempVec2),this},setRotation:function(l){return l===void 0&&(l=0),this._rotation=h(l),u.setAngle(this.body,l),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,u.setAngle(this.body,this.rotation),this},setScale:function(l,f,s){l===void 0&&(l=1),f===void 0&&(f=l);var d=1/this._scaleX,p=1/this._scaleY;return this._scaleX=l,this._scaleY=f,u.scale(this.body,d,p,s),u.scale(this.body,l,f,s),this}};i.exports=n},42081:(i,$,e)=>{var u=e(22562),G={setVelocityX:function(h){return this._tempVec2.set(h,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(h){return this._tempVec2.set(this.body.velocity.x,h),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(h,r){return this._tempVec2.set(h,r),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(h){return u.setAngularVelocity(this.body,h),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(h){return u.setAngularSpeed(this.body,h),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};i.exports=G},31884:(i,$,e)=>{i.exports={Bounce:e(70410),Collision:e(66968),Force:e(51607),Friction:e(5436),Gravity:e(39858),Mass:e(37302),Sensor:e(39132),SetBody:e(57772),Sleep:e(38083),Static:e(90556),Transform:e(85436),Velocity:e(42081)}},85608:i=>{i.exports="afteradd"},1213:i=>{i.exports="afterremove"},25968:i=>{i.exports="afterupdate"},67205:i=>{i.exports="beforeadd"},39438:i=>{i.exports="beforeremove"},44823:i=>{i.exports="beforeupdate"},92593:i=>{i.exports="collisionactive"},60128:i=>{i.exports="collisionend"},76861:i=>{i.exports="collisionstart"},92362:i=>{i.exports="dragend"},76408:i=>{i.exports="drag"},93971:i=>{i.exports="dragstart"},5656:i=>{i.exports="pause"},47861:i=>{i.exports="resume"},79099:i=>{i.exports="sleepend"},35906:i=>{i.exports="sleepstart"},1121:(i,$,e)=>{i.exports={AFTER_ADD:e(85608),AFTER_REMOVE:e(1213),AFTER_UPDATE:e(25968),BEFORE_ADD:e(67205),BEFORE_REMOVE:e(39438),BEFORE_UPDATE:e(44823),COLLISION_ACTIVE:e(92593),COLLISION_END:e(60128),COLLISION_START:e(76861),DRAG_END:e(92362),DRAG:e(76408),DRAG_START:e(93971),PAUSE:e(5656),RESUME:e(47861),SLEEP_END:e(79099),SLEEP_START:e(35906)}},3875:(i,$,e)=>{i.exports={BodyBounds:e(68174),Components:e(31884),Events:e(1121),Factory:e(28137),MatterGameObject:e(75803),Image:e(23181),Matter:e(19933),MatterPhysics:e(42045),PolyDecomp:e(55973),Sprite:e(34803),TileBody:e(73834),PhysicsEditorParser:e(19496),PhysicsJSONParser:e(85791),PointerConstraint:e(98713),World:e(68243)}},22562:(i,$,e)=>{var u={};i.exports=u;var G=e(41598),h=e(31725),r=e(53614),o=e(53402),n=e(15647),l=e(66615);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(s){var d={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=G.centre(s.vertices):s.hasOwnProperty("vertices")||(d.vertices=G.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=o.extend(d,s);return f(p,s),p.setOnCollideWith=function(c,g){return g?this.onCollideWith[c.id]=g:delete this.onCollideWith[c.id],this},p},u.nextGroup=function(s){return s?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var f=function(s,d){if(d=d||{},u.set(s,{bounds:s.bounds||n.create(s.vertices),positionPrev:s.positionPrev||h.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),G.rotate(s.vertices,s.angle,s.position),l.rotate(s.axes,s.angle),n.update(s.bounds,s.vertices,s.velocity),u.set(s,{axes:d.axes||s.axes,area:d.area||s.area,mass:d.mass||s.mass,inertia:d.inertia||s.inertia}),s.parts.length===1){var p=s.bounds,c=s.centerOfMass,g=s.centerOffset,j=p.max.x-p.min.x,k=p.max.y-p.min.y;c.x=-(p.min.x-s.position.x)/j,c.y=-(p.min.y-s.position.y)/k,g.x=j*c.x,g.y=k*c.y}};u.set=function(s,d,p){var c;typeof d=="string"&&(c=d,d={},d[c]=p);for(c in d)if(Object.prototype.hasOwnProperty.call(d,c))switch(p=d[c],c){case"isStatic":u.setStatic(s,p);break;case"isSleeping":r.set(s,p);break;case"mass":u.setMass(s,p);break;case"density":u.setDensity(s,p);break;case"inertia":u.setInertia(s,p);break;case"vertices":u.setVertices(s,p);break;case"position":u.setPosition(s,p);break;case"angle":u.setAngle(s,p);break;case"velocity":u.setVelocity(s,p);break;case"angularVelocity":u.setAngularVelocity(s,p);break;case"speed":u.setSpeed(s,p);break;case"angularSpeed":u.setAngularSpeed(s,p);break;case"parts":u.setParts(s,p);break;case"centre":u.setCentre(s,p);break;default:s[c]=p}},u.setStatic=function(s,d){for(var p=0;p<s.parts.length;p++){var c=s.parts[p];d?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=d}},u.setMass=function(s,d){var p=s.inertia/(s.mass/6);s.inertia=p*(d/6),s.inverseInertia=1/s.inertia,s.mass=d,s.inverseMass=1/s.mass,s.density=s.mass/s.area},u.setDensity=function(s,d){u.setMass(s,d*s.area),s.density=d},u.setInertia=function(s,d){s.inertia=d,s.inverseInertia=1/s.inertia},u.setVertices=function(s,d){d[0].body===s?s.vertices=d:s.vertices=G.create(d,s),s.axes=l.fromVertices(s.vertices),s.area=G.area(s.vertices),u.setMass(s,s.density*s.area);var p=G.centre(s.vertices);G.translate(s.vertices,p,-1),u.setInertia(s,u._inertiaScale*G.inertia(s.vertices,s.mass)),G.translate(s.vertices,s.position),n.update(s.bounds,s.vertices,s.velocity)},u.setParts=function(s,d,p){var c;for(d=d.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,c=0;c<d.length;c++){var g=d[c];g!==s&&(g.parent=s,s.parts.push(g))}if(s.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var j=[];for(c=0;c<d.length;c++)j=j.concat(d[c].vertices);G.clockwiseSort(j);var k=G.hull(j),tt=G.centre(k);u.setVertices(s,k),G.translate(s.vertices,tt)}var _=u._totalProperties(s),nt=_.centre.x,it=_.centre.y,rt=s.bounds,st=s.centerOfMass,at=s.centerOffset;n.update(rt,s.vertices,s.velocity),st.x=-(rt.min.x-nt)/(rt.max.x-rt.min.x),st.y=-(rt.min.y-it)/(rt.max.y-rt.min.y),at.x=nt,at.y=it,s.area=_.area,s.parent=s,s.position.x=nt,s.position.y=it,s.positionPrev.x=nt,s.positionPrev.y=it,u.setMass(s,_.mass),u.setInertia(s,_.inertia),u.setPosition(s,_.centre)}},u.setCentre=function(s,d,p){p?(s.positionPrev.x+=d.x,s.positionPrev.y+=d.y,s.position.x+=d.x,s.position.y+=d.y):(s.positionPrev.x=d.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=d.y-(s.position.y-s.positionPrev.y),s.position.x=d.x,s.position.y=d.y)},u.setPosition=function(s,d,p){var c=h.sub(d,s.position);p?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=c.x,s.velocity.y=c.y,s.speed=h.magnitude(c)):(s.positionPrev.x+=c.x,s.positionPrev.y+=c.y);for(var g=0;g<s.parts.length;g++){var j=s.parts[g];j.position.x+=c.x,j.position.y+=c.y,G.translate(j.vertices,c),n.update(j.bounds,j.vertices,s.velocity)}},u.setAngle=function(s,d,p){var c=d-s.angle;p?(s.anglePrev=s.angle,s.angularVelocity=c,s.angularSpeed=Math.abs(c)):s.anglePrev+=c;for(var g=0;g<s.parts.length;g++){var j=s.parts[g];j.angle+=c,G.rotate(j.vertices,c,s.position),l.rotate(j.axes,c),n.update(j.bounds,j.vertices,s.velocity),g>0&&h.rotateAbout(j.position,c,s.position,j.position)}},u.setVelocity=function(s,d){var p=s.deltaTime/u._baseDelta;s.positionPrev.x=s.position.x-d.x*p,s.positionPrev.y=s.position.y-d.y*p,s.velocity.x=(s.position.x-s.positionPrev.x)/p,s.velocity.y=(s.position.y-s.positionPrev.y)/p,s.speed=h.magnitude(s.velocity)},u.getVelocity=function(s){var d=u._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*d,y:(s.position.y-s.positionPrev.y)*d}},u.getSpeed=function(s){return h.magnitude(u.getVelocity(s))},u.setSpeed=function(s,d){u.setVelocity(s,h.mult(h.normalise(u.getVelocity(s)),d))},u.setAngularVelocity=function(s,d){var p=s.deltaTime/u._baseDelta;s.anglePrev=s.angle-d*p,s.angularVelocity=(s.angle-s.anglePrev)/p,s.angularSpeed=Math.abs(s.angularVelocity)},u.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*u._baseDelta/s.deltaTime},u.getAngularSpeed=function(s){return Math.abs(u.getAngularVelocity(s))},u.setAngularSpeed=function(s,d){u.setAngularVelocity(s,o.sign(u.getAngularVelocity(s))*d)},u.translate=function(s,d,p){u.setPosition(s,h.add(s.position,d),p)},u.rotate=function(s,d,p,c){if(!p)u.setAngle(s,s.angle+d,c);else{var g=Math.cos(d),j=Math.sin(d),k=s.position.x-p.x,tt=s.position.y-p.y;u.setPosition(s,{x:p.x+(k*g-tt*j),y:p.y+(k*j+tt*g)},c),u.setAngle(s,s.angle+d,c)}},u.scale=function(s,d,p,c){var g=0,j=0;c=c||s.position;for(var k=s.inertia===1/0,tt=0;tt<s.parts.length;tt++){var _=s.parts[tt];_.scale.x=d,_.scale.y=p,G.scale(_.vertices,d,p,c),_.axes=l.fromVertices(_.vertices),_.area=G.area(_.vertices),u.setMass(_,s.density*_.area),G.translate(_.vertices,{x:-_.position.x,y:-_.position.y}),u.setInertia(_,u._inertiaScale*G.inertia(_.vertices,_.mass)),G.translate(_.vertices,{x:_.position.x,y:_.position.y}),tt>0&&(g+=_.area,j+=_.inertia),_.position.x=c.x+(_.position.x-c.x)*d,_.position.y=c.y+(_.position.y-c.y)*p,n.update(_.bounds,_.vertices,s.velocity)}s.parts.length>1&&(s.area=g,s.isStatic||(u.setMass(s,s.density*g),u.setInertia(s,j))),s.circleRadius&&(d===p?s.circleRadius*=d:s.circleRadius=null),k&&u.setInertia(s,1/0)},u.update=function(s,d){d=(typeof d<"u"?d:16.666666666666668)*s.timeScale;var p=d*d,c=u._timeCorrection?d/(s.deltaTime||d):1,g=1-s.frictionAir*(d/o._baseDelta),j=(s.position.x-s.positionPrev.x)*c,k=(s.position.y-s.positionPrev.y)*c;s.velocity.x=j*g+s.force.x/s.mass*p,s.velocity.y=k*g+s.force.y/s.mass*p,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=d,s.angularVelocity=(s.angle-s.anglePrev)*g*c+s.torque/s.inertia*p,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=h.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var tt=0;tt<s.parts.length;tt++){var _=s.parts[tt];G.translate(_.vertices,s.velocity),tt>0&&(_.position.x+=s.velocity.x,_.position.y+=s.velocity.y),s.angularVelocity!==0&&(G.rotate(_.vertices,s.angularVelocity,s.position),l.rotate(_.axes,s.angularVelocity),tt>0&&h.rotateAbout(_.position,s.angularVelocity,s.position,_.position)),n.update(_.bounds,_.vertices,s.velocity)}},u.updateVelocities=function(s){var d=u._baseDelta/s.deltaTime,p=s.velocity;p.x=(s.position.x-s.positionPrev.x)*d,p.y=(s.position.y-s.positionPrev.y)*d,s.speed=Math.sqrt(p.x*p.x+p.y*p.y),s.angularVelocity=(s.angle-s.anglePrev)*d,s.angularSpeed=Math.abs(s.angularVelocity)},u.applyForce=function(s,d,p){var c={x:d.x-s.position.x,y:d.y-s.position.y};s.force.x+=p.x,s.force.y+=p.y,s.torque+=c.x*p.y-c.y*p.x},u._totalProperties=function(s){for(var d={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=s.parts.length===1?0:1;p<s.parts.length;p++){var c=s.parts[p],g=c.mass!==1/0?c.mass:1;d.mass+=g,d.area+=c.area,d.inertia+=c.inertia,d.centre=h.add(d.centre,h.mult(c.position,g))}return d.centre=h.div(d.centre,d.mass),d}})()},69351:(i,$,e)=>{var u={};i.exports=u;var G=e(35810),h=e(53402),r=e(15647),o=e(22562);(function(){u.create=function(n){return h.extend({id:h.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},u.setModified=function(n,l,f,s){if(G.trigger(n,"compositeModified",n),n.isModified=l,l&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),f&&n.parent&&u.setModified(n.parent,l,f,s),s)for(var d=0;d<n.composites.length;d++){var p=n.composites[d];u.setModified(p,l,f,s)}},u.add=function(n,l){var f=[].concat(l);G.trigger(n,"beforeAdd",{object:l});for(var s=0;s<f.length;s++){var d=f[s];switch(d.type){case"body":if(d.parent!==d){h.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(n,d);break;case"constraint":u.addConstraint(n,d);break;case"composite":u.addComposite(n,d);break;case"mouseConstraint":u.addConstraint(n,d.constraint);break}}return G.trigger(n,"afterAdd",{object:l}),n},u.remove=function(n,l,f){var s=[].concat(l);G.trigger(n,"beforeRemove",{object:l});for(var d=0;d<s.length;d++){var p=s[d];switch(p.type){case"body":u.removeBody(n,p,f);break;case"constraint":u.removeConstraint(n,p,f);break;case"composite":u.removeComposite(n,p,f);break;case"mouseConstraint":u.removeConstraint(n,p.constraint);break}}return G.trigger(n,"afterRemove",{object:l}),n},u.addComposite=function(n,l){return n.composites.push(l),l.parent=n,u.setModified(n,!0,!0,!1),n},u.removeComposite=function(n,l,f){var s=h.indexOf(n.composites,l);if(s!==-1&&u.removeCompositeAt(n,s),f)for(var d=0;d<n.composites.length;d++)u.removeComposite(n.composites[d],l,!0);return n},u.removeCompositeAt=function(n,l){return n.composites.splice(l,1),u.setModified(n,!0,!0,!1),n},u.addBody=function(n,l){return n.bodies.push(l),u.setModified(n,!0,!0,!1),n},u.removeBody=function(n,l,f){var s=h.indexOf(n.bodies,l);if(s!==-1&&u.removeBodyAt(n,s),f)for(var d=0;d<n.composites.length;d++)u.removeBody(n.composites[d],l,!0);return n},u.removeBodyAt=function(n,l){return n.bodies.splice(l,1),u.setModified(n,!0,!0,!1),n},u.addConstraint=function(n,l){return n.constraints.push(l),u.setModified(n,!0,!0,!1),n},u.removeConstraint=function(n,l,f){var s=h.indexOf(n.constraints,l);if(s!==-1&&u.removeConstraintAt(n,s),f)for(var d=0;d<n.composites.length;d++)u.removeConstraint(n.composites[d],l,!0);return n},u.removeConstraintAt=function(n,l){return n.constraints.splice(l,1),u.setModified(n,!0,!0,!1),n},u.clear=function(n,l,f){if(f)for(var s=0;s<n.composites.length;s++)u.clear(n.composites[s],l,!0);return l?n.bodies=n.bodies.filter(function(d){return d.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,u.setModified(n,!0,!0,!1),n},u.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var l=[].concat(n.bodies),f=0;f<n.composites.length;f++)l=l.concat(u.allBodies(n.composites[f]));return n.cache&&(n.cache.allBodies=l),l},u.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var l=[].concat(n.constraints),f=0;f<n.composites.length;f++)l=l.concat(u.allConstraints(n.composites[f]));return n.cache&&(n.cache.allConstraints=l),l},u.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var l=[].concat(n.composites),f=0;f<n.composites.length;f++)l=l.concat(u.allComposites(n.composites[f]));return n.cache&&(n.cache.allComposites=l),l},u.get=function(n,l,f){var s,d;switch(f){case"body":s=u.allBodies(n);break;case"constraint":s=u.allConstraints(n);break;case"composite":s=u.allComposites(n).concat(n);break}return s?(d=s.filter(function(p){return p.id.toString()===l.toString()}),d.length===0?null:d[0]):null},u.move=function(n,l,f){return u.remove(n,l),u.add(f,l),n},u.rebase=function(n){for(var l=u.allBodies(n).concat(u.allConstraints(n)).concat(u.allComposites(n)),f=0;f<l.length;f++)l[f].id=h.nextId();return n},u.translate=function(n,l,f){for(var s=f?u.allBodies(n):n.bodies,d=0;d<s.length;d++)o.translate(s[d],l);return n},u.rotate=function(n,l,f,s){for(var d=Math.cos(l),p=Math.sin(l),c=s?u.allBodies(n):n.bodies,g=0;g<c.length;g++){var j=c[g],k=j.position.x-f.x,tt=j.position.y-f.y;o.setPosition(j,{x:f.x+(k*d-tt*p),y:f.y+(k*p+tt*d)}),o.rotate(j,l)}return n},u.scale=function(n,l,f,s,d){for(var p=d?u.allBodies(n):n.bodies,c=0;c<p.length;c++){var g=p[c],j=g.position.x-s.x,k=g.position.y-s.y;o.setPosition(g,{x:s.x+j*l,y:s.y+k*f}),o.scale(g,l,f)}return n},u.bounds=function(n){for(var l=u.allBodies(n),f=[],s=0;s<l.length;s+=1){var d=l[s];f.push(d.bounds.min,d.bounds.max)}return r.create(f)}})()},4372:(i,$,e)=>{var u={};i.exports=u;var G=e(69351);(function(){u.create=G.create,u.add=G.add,u.remove=G.remove,u.clear=G.clear,u.addComposite=G.addComposite,u.addBody=G.addBody,u.addConstraint=G.addConstraint})()},52284:(i,$,e)=>{var u={};i.exports=u;var G=e(41598),h=e(4506);(function(){var r=[],o={overlap:0,axis:null},n={overlap:0,axis:null};u.create=function(l,f){return{pair:null,collided:!1,bodyA:l,bodyB:f,parentA:l.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},u.collides=function(l,f,s){if(u._overlapAxes(o,l.vertices,f.vertices,l.axes),o.overlap<=0||(u._overlapAxes(n,f.vertices,l.vertices,f.axes),n.overlap<=0))return null;var d=s&&s.table[h.id(l,f)],p;d?p=d.collision:(p=u.create(l,f),p.collided=!0,p.bodyA=l.id<f.id?l:f,p.bodyB=l.id<f.id?f:l,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),l=p.bodyA,f=p.bodyB;var c;o.overlap<n.overlap?c=o:c=n;var g=p.normal,j=p.supports,k=c.axis,tt=k.x,_=k.y;tt*(f.position.x-l.position.x)+_*(f.position.y-l.position.y)<0?(g.x=tt,g.y=_):(g.x=-tt,g.y=-_),p.tangent.x=-g.y,p.tangent.y=g.x,p.depth=c.overlap,p.penetration.x=g.x*p.depth,p.penetration.y=g.y*p.depth;var nt=u._findSupports(l,f,g,1),it=0;if(G.contains(l.vertices,nt[0])&&(j[it++]=nt[0]),G.contains(l.vertices,nt[1])&&(j[it++]=nt[1]),it<2){var rt=u._findSupports(f,l,g,-1);G.contains(f.vertices,rt[0])&&(j[it++]=rt[0]),it<2&&G.contains(f.vertices,rt[1])&&(j[it++]=rt[1])}return it===0&&(j[it++]=nt[0]),j.length=it,p},u._overlapAxes=function(l,f,s,d){var p=f.length,c=s.length,g=f[0].x,j=f[0].y,k=s[0].x,tt=s[0].y,_=d.length,nt=Number.MAX_VALUE,it=0,rt,st,at,ot,ht,dt;for(ht=0;ht<_;ht++){var ut=d[ht],ft=ut.x,gt=ut.y,xt=g*ft+j*gt,Et=k*ft+tt*gt,pt=xt,mt=Et;for(dt=1;dt<p;dt+=1)ot=f[dt].x*ft+f[dt].y*gt,ot>pt?pt=ot:ot<xt&&(xt=ot);for(dt=1;dt<c;dt+=1)ot=s[dt].x*ft+s[dt].y*gt,ot>mt?mt=ot:ot<Et&&(Et=ot);if(st=pt-Et,at=mt-xt,rt=st<at?st:at,rt<nt&&(nt=rt,it=ht,rt<=0))break}l.axis=d[it],l.overlap=nt},u._projectToAxis=function(l,f,s){for(var d=f[0].x*s.x+f[0].y*s.y,p=d,c=1;c<f.length;c+=1){var g=f[c].x*s.x+f[c].y*s.y;g>p?p=g:g<d&&(d=g)}l.min=d,l.max=p},u._findSupports=function(l,f,s,d){var p=f.vertices,c=p.length,g=l.position.x,j=l.position.y,k=s.x*d,tt=s.y*d,_=Number.MAX_VALUE,nt,it,rt,st,at;for(at=0;at<c;at+=1)it=p[at],st=k*(g-it.x)+tt*(j-it.y),st<_&&(_=st,nt=it);return rt=p[(c+nt.index-1)%c],_=k*(g-rt.x)+tt*(j-rt.y),it=p[(nt.index+1)%c],k*(g-it.x)+tt*(j-it.y)<_?(r[0]=nt,r[1]=it,r):(r[0]=nt,r[1]=rt,r)}})()},43424:i=>{var $={};i.exports=$,function(){$.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},81388:(i,$,e)=>{var u={};i.exports=u;var G=e(53402),h=e(52284);(function(){u.create=function(r){var o={bodies:[],pairs:null};return G.extend(o,r)},u.setBodies=function(r,o){r.bodies=o.slice(0)},u.clear=function(r){r.bodies=[]},u.collisions=function(r){var o=[],n=r.pairs,l=r.bodies,f=l.length,s=u.canCollide,d=h.collides,p,c;for(l.sort(u._compareBoundsX),p=0;p<f;p++){var g=l[p],j=g.bounds,k=g.bounds.max.x,tt=g.bounds.max.y,_=g.bounds.min.y,nt=g.isStatic||g.isSleeping,it=g.parts.length,rt=it===1;for(c=p+1;c<f;c++){var st=l[c],at=st.bounds;if(at.min.x>k)break;if(!(tt<at.min.y||_>at.max.y)&&!(nt&&(st.isStatic||st.isSleeping))&&s(g.collisionFilter,st.collisionFilter)){var ot=st.parts.length;if(rt&&ot===1){var ht=d(g,st,n);ht&&o.push(ht)}else for(var dt=it>1?1:0,ut=ot>1?1:0,ft=dt;ft<it;ft++)for(var gt=g.parts[ft],j=gt.bounds,xt=ut;xt<ot;xt++){var Et=st.parts[xt],at=Et.bounds;if(!(j.min.x>at.max.x||j.max.x<at.min.x||j.max.y<at.min.y||j.min.y>at.max.y)){var ht=d(gt,Et,n);ht&&o.push(ht)}}}}}return o},u.canCollide=function(r,o){return r.group===o.group&&r.group!==0?r.group>0:(r.mask&o.category)!==0&&(o.mask&r.category)!==0},u._compareBoundsX=function(r,o){return r.bounds.min.x-o.bounds.min.x}})()},4506:(i,$,e)=>{var u={};i.exports=u;var G=e(43424);(function(){u.create=function(h,r){var o=h.bodyA,n=h.bodyB,l={id:u.id(o,n),bodyA:o,bodyB:n,collision:h,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:o.isSensor||n.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(l,h,r),l},u.update=function(h,r,o){var n=h.contacts,l=r.supports,f=h.activeContacts,s=r.parentA,d=r.parentB,p=s.vertices.length;h.isActive=!0,h.timeUpdated=o,h.collision=r,h.separation=r.depth,h.inverseMass=s.inverseMass+d.inverseMass,h.friction=s.friction<d.friction?s.friction:d.friction,h.frictionStatic=s.frictionStatic>d.frictionStatic?s.frictionStatic:d.frictionStatic,h.restitution=s.restitution>d.restitution?s.restitution:d.restitution,h.slop=s.slop>d.slop?s.slop:d.slop,r.pair=h,f.length=0;for(var c=0;c<l.length;c++){var g=l[c],j=g.body===s?g.index:p+g.index,k=n[j];k?f.push(k):f.push(n[j]=G.create(g))}},u.setActive=function(h,r,o){r?(h.isActive=!0,h.timeUpdated=o):(h.isActive=!1,h.activeContacts.length=0)},u.id=function(h,r){return h.id<r.id?"A"+h.id+"B"+r.id:"A"+r.id+"B"+h.id}})()},99561:(i,$,e)=>{var u={};i.exports=u;var G=e(4506),h=e(53402);(function(){u.create=function(r){return h.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},u.update=function(r,o,n){var l=r.list,f=l.length,s=r.table,d=o.length,p=r.collisionStart,c=r.collisionEnd,g=r.collisionActive,j,k,tt,_;for(p.length=0,c.length=0,g.length=0,_=0;_<f;_++)l[_].confirmedActive=!1;for(_=0;_<d;_++)j=o[_],tt=j.pair,tt?(tt.isActive?g.push(tt):p.push(tt),G.update(tt,j,n),tt.confirmedActive=!0):(tt=G.create(j,n),s[tt.id]=tt,p.push(tt),l.push(tt));var nt=[];for(f=l.length,_=0;_<f;_++)tt=l[_],tt.confirmedActive||(G.setActive(tt,!1,n),c.push(tt),!tt.collision.bodyA.isSleeping&&!tt.collision.bodyB.isSleeping&&nt.push(_));for(_=0;_<nt.length;_++)k=nt[_]-_,tt=l[k],l.splice(k,1),delete s[tt.id]},u.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(i,$,e)=>{var u={};i.exports=u;var G=e(31725),h=e(52284),r=e(15647),o=e(66280),n=e(41598);(function(){u.collides=function(l,f){for(var s=[],d=f.length,p=l.bounds,c=h.collides,g=r.overlaps,j=0;j<d;j++){var k=f[j],tt=k.parts.length,_=tt===1?0:1;if(l!==k&&g(k.bounds,p))for(var nt=_;nt<tt;nt++){var it=k.parts[nt];if(g(it.bounds,p)){var rt=c(it,l);if(rt){s.push(rt);break}}}}return s},u.ray=function(l,f,s,d){d=d||1e-100;for(var p=G.angle(f,s),c=G.magnitude(G.sub(f,s)),g=(s.x+f.x)*.5,j=(s.y+f.y)*.5,k=o.rectangle(g,j,c,d,{angle:p}),tt=u.collides(k,l),_=0;_<tt.length;_+=1){var nt=tt[_];nt.body=nt.bodyB=nt.bodyA}return tt},u.region=function(l,f,s){for(var d=[],p=0;p<l.length;p++){var c=l[p],g=r.overlaps(c.bounds,f);(g&&!s||!g&&s)&&d.push(c)}return d},u.point=function(l,f){for(var s=[],d=0;d<l.length;d++){var p=l[d];if(r.contains(p.bounds,f))for(var c=p.parts.length===1?0:1;c<p.parts.length;c++){var g=p.parts[c];if(r.contains(g.bounds,f)&&n.contains(g.vertices,f)){s.push(p);break}}}return s}})()},66272:(i,$,e)=>{var u={};i.exports=u;var G=e(41598),h=e(53402),r=e(15647);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(o){var n,l,f,s=o.length;for(n=0;n<s;n++)l=o[n],l.isActive&&(f=l.activeContacts.length,l.collision.parentA.totalContacts+=f,l.collision.parentB.totalContacts+=f)},u.solvePosition=function(o,n,l){var f,s,d,p,c,g,j,k,tt=u._positionDampen*(l||1),_=h.clamp(n/h._baseDelta,0,1),nt=o.length;for(f=0;f<nt;f++)s=o[f],!(!s.isActive||s.isSensor)&&(d=s.collision,p=d.parentA,c=d.parentB,g=d.normal,s.separation=g.x*(c.positionImpulse.x+d.penetration.x-p.positionImpulse.x)+g.y*(c.positionImpulse.y+d.penetration.y-p.positionImpulse.y));for(f=0;f<nt;f++)s=o[f],!(!s.isActive||s.isSensor)&&(d=s.collision,p=d.parentA,c=d.parentB,g=d.normal,k=s.separation-s.slop*_,(p.isStatic||c.isStatic)&&(k*=2),p.isStatic||p.isSleeping||(j=tt/p.totalContacts,p.positionImpulse.x+=g.x*k*j,p.positionImpulse.y+=g.y*k*j),c.isStatic||c.isSleeping||(j=tt/c.totalContacts,c.positionImpulse.x-=g.x*k*j,c.positionImpulse.y-=g.y*k*j))},u.postSolvePosition=function(o){for(var n=u._positionWarming,l=o.length,f=G.translate,s=r.update,d=0;d<l;d++){var p=o[d],c=p.positionImpulse,g=c.x,j=c.y,k=p.velocity;if(p.totalContacts=0,g!==0||j!==0){for(var tt=0;tt<p.parts.length;tt++){var _=p.parts[tt];f(_.vertices,c),s(_.bounds,_.vertices,k),_.position.x+=g,_.position.y+=j}p.positionPrev.x+=g,p.positionPrev.y+=j,g*k.x+j*k.y<0?(c.x=0,c.y=0):(c.x*=n,c.y*=n)}}},u.preSolveVelocity=function(o){var n=o.length,l,f;for(l=0;l<n;l++){var s=o[l];if(!(!s.isActive||s.isSensor)){var d=s.activeContacts,p=d.length,c=s.collision,g=c.parentA,j=c.parentB,k=c.normal,tt=c.tangent;for(f=0;f<p;f++){var _=d[f],nt=_.vertex,it=_.normalImpulse,rt=_.tangentImpulse;if(it!==0||rt!==0){var st=k.x*it+tt.x*rt,at=k.y*it+tt.y*rt;g.isStatic||g.isSleeping||(g.positionPrev.x+=st*g.inverseMass,g.positionPrev.y+=at*g.inverseMass,g.anglePrev+=g.inverseInertia*((nt.x-g.position.x)*at-(nt.y-g.position.y)*st)),j.isStatic||j.isSleeping||(j.positionPrev.x-=st*j.inverseMass,j.positionPrev.y-=at*j.inverseMass,j.anglePrev-=j.inverseInertia*((nt.x-j.position.x)*at-(nt.y-j.position.y)*st))}}}}},u.solveVelocity=function(o,n){var l=n/h._baseDelta,f=l*l,s=f*l,d=-u._restingThresh*l,p=u._restingThreshTangent,c=u._frictionNormalMultiplier*l,g=u._frictionMaxStatic,j=o.length,k,tt,_,nt;for(_=0;_<j;_++){var it=o[_];if(!(!it.isActive||it.isSensor)){var rt=it.collision,st=rt.parentA,at=rt.parentB,ot=st.velocity,ht=at.velocity,dt=rt.normal.x,ut=rt.normal.y,ft=rt.tangent.x,gt=rt.tangent.y,xt=it.activeContacts,Et=xt.length,pt=1/Et,mt=st.inverseMass+at.inverseMass,lt=it.friction*it.frictionStatic*c;for(ot.x=st.position.x-st.positionPrev.x,ot.y=st.position.y-st.positionPrev.y,ht.x=at.position.x-at.positionPrev.x,ht.y=at.position.y-at.positionPrev.y,st.angularVelocity=st.angle-st.anglePrev,at.angularVelocity=at.angle-at.anglePrev,nt=0;nt<Et;nt++){var ct=xt[nt],vt=ct.vertex,yt=vt.x-st.position.x,Tt=vt.y-st.position.y,Ct=vt.x-at.position.x,St=vt.y-at.position.y,Dt=ot.x-Tt*st.angularVelocity,Mt=ot.y+yt*st.angularVelocity,At=ht.x-St*at.angularVelocity,wt=ht.y+Ct*at.angularVelocity,It=Dt-At,Pt=Mt-wt,Ot=dt*It+ut*Pt,bt=ft*It+gt*Pt,Vt=it.separation+Ot,Ut=Math.min(Vt,1);Ut=Vt<0?0:Ut;var Ft=Ut*lt;bt<-Ft||bt>Ft?(tt=bt>0?bt:-bt,k=it.friction*(bt>0?1:-1)*s,k<-tt?k=-tt:k>tt&&(k=tt)):(k=bt,tt=g);var Nt=yt*ut-Tt*dt,Lt=Ct*ut-St*dt,kt=pt/(mt+st.inverseInertia*Nt*Nt+at.inverseInertia*Lt*Lt),Kt=(1+it.restitution)*Ot*kt;if(k*=kt,Ot<d)ct.normalImpulse=0;else{var Ue=ct.normalImpulse;ct.normalImpulse+=Kt,ct.normalImpulse>0&&(ct.normalImpulse=0),Kt=ct.normalImpulse-Ue}if(bt<-p||bt>p)ct.tangentImpulse=0;else{var Ne=ct.tangentImpulse;ct.tangentImpulse+=k,ct.tangentImpulse<-tt&&(ct.tangentImpulse=-tt),ct.tangentImpulse>tt&&(ct.tangentImpulse=tt),k=ct.tangentImpulse-Ne}var Se=dt*Kt+ft*k,Jt=ut*Kt+gt*k;st.isStatic||st.isSleeping||(st.positionPrev.x+=Se*st.inverseMass,st.positionPrev.y+=Jt*st.inverseMass,st.anglePrev+=(yt*Jt-Tt*Se)*st.inverseInertia),at.isStatic||at.isSleeping||(at.positionPrev.x-=Se*at.inverseMass,at.positionPrev.y-=Jt*at.inverseMass,at.anglePrev-=(Ct*Jt-St*Se)*at.inverseInertia)}}}}})()},48140:(i,$,e)=>{var u={};i.exports=u;var G=e(41598),h=e(31725),r=e(53614),o=e(15647),n=e(66615),l=e(53402);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(f){var s=f;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var d=s.bodyA?h.add(s.bodyA.position,s.pointA):s.pointA,p=s.bodyB?h.add(s.bodyB.position,s.pointB):s.pointB,c=h.magnitude(h.sub(d,p));s.length=typeof s.length<"u"?s.length:c,s.id=s.id||l.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var g={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(g.type="pin",g.anchors=!1):s.stiffness<.9&&(g.type="spring"),s.render=l.extend(g,s.render),s},u.preSolveAll=function(f){for(var s=0;s<f.length;s+=1){var d=f[s],p=d.constraintImpulse;d.isStatic||p.x===0&&p.y===0&&p.angle===0||(d.position.x+=p.x,d.position.y+=p.y,d.angle+=p.angle)}},u.solveAll=function(f,s){for(var d=l.clamp(s/l._baseDelta,0,1),p=0;p<f.length;p+=1){var c=f[p],g=!c.bodyA||c.bodyA&&c.bodyA.isStatic,j=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(g||j)&&u.solve(f[p],d)}for(p=0;p<f.length;p+=1)c=f[p],g=!c.bodyA||c.bodyA&&c.bodyA.isStatic,j=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!g&&!j&&u.solve(f[p],d)},u.solve=function(f,s){var d=f.bodyA,p=f.bodyB,c=f.pointA,g=f.pointB;if(!(!d&&!p)){d&&!d.isStatic&&(h.rotate(c,d.angle-f.angleA,c),f.angleA=d.angle),p&&!p.isStatic&&(h.rotate(g,p.angle-f.angleB,g),f.angleB=p.angle);var j=c,k=g;if(d&&(j=h.add(d.position,c)),p&&(k=h.add(p.position,g)),!(!j||!k)){var tt=h.sub(j,k),_=h.magnitude(tt);_<u._minLength&&(_=u._minLength);var nt=(_-f.length)/_,it=f.stiffness>=1||f.length===0,rt=it?f.stiffness*s:f.stiffness*s*s,st=f.damping*s,at=h.mult(tt,nt*rt),ot=(d?d.inverseMass:0)+(p?p.inverseMass:0),ht=(d?d.inverseInertia:0)+(p?p.inverseInertia:0),dt=ot+ht,ut,ft,gt,xt,Et;if(st>0){var pt=h.create();gt=h.div(tt,_),Et=h.sub(p&&h.sub(p.position,p.positionPrev)||pt,d&&h.sub(d.position,d.positionPrev)||pt),xt=h.dot(gt,Et)}d&&!d.isStatic&&(ft=d.inverseMass/ot,d.constraintImpulse.x-=at.x*ft,d.constraintImpulse.y-=at.y*ft,d.position.x-=at.x*ft,d.position.y-=at.y*ft,st>0&&(d.positionPrev.x-=st*gt.x*xt*ft,d.positionPrev.y-=st*gt.y*xt*ft),ut=h.cross(c,at)/dt*u._torqueDampen*d.inverseInertia*(1-f.angularStiffness),d.constraintImpulse.angle-=ut,d.angle-=ut),p&&!p.isStatic&&(ft=p.inverseMass/ot,p.constraintImpulse.x+=at.x*ft,p.constraintImpulse.y+=at.y*ft,p.position.x+=at.x*ft,p.position.y+=at.y*ft,st>0&&(p.positionPrev.x+=st*gt.x*xt*ft,p.positionPrev.y+=st*gt.y*xt*ft),ut=h.cross(g,at)/dt*u._torqueDampen*p.inverseInertia*(1-f.angularStiffness),p.constraintImpulse.angle+=ut,p.angle+=ut)}}},u.postSolveAll=function(f){for(var s=0;s<f.length;s++){var d=f[s],p=d.constraintImpulse;if(!(d.isStatic||p.x===0&&p.y===0&&p.angle===0)){r.set(d,!1);for(var c=0;c<d.parts.length;c++){var g=d.parts[c];G.translate(g.vertices,p),c>0&&(g.position.x+=p.x,g.position.y+=p.y),p.angle!==0&&(G.rotate(g.vertices,p.angle,d.position),n.rotate(g.axes,p.angle),c>0&&h.rotateAbout(g.position,p.angle,d.position,g.position)),o.update(g.bounds,g.vertices,d.velocity)}p.angle*=u._warming,p.x*=u._warming,p.y*=u._warming}}},u.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},u.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},u.currentLength=function(f){var s=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),d=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),p=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),c=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),g=s-p,j=d-c;return Math.sqrt(g*g+j*j)}})()},53402:(i,$,e)=>{var u={};i.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(h,r){var o,n,l;typeof r=="boolean"?(o=2,l=r):(o=1,l=!0);for(var f=o;f<arguments.length;f++){var s=arguments[f];if(s)for(var d in s)l&&s[d]&&s[d].constructor===Object&&(!h[d]||h[d].constructor===Object)?(h[d]=h[d]||{},u.extend(h[d],l,s[d])):h[d]=s[d]}return h},u.clone=function(h,r){return u.extend({},r,h)},u.keys=function(h){if(Object.keys)return Object.keys(h);var r=[];for(var o in h)r.push(o);return r},u.values=function(h){var r=[];if(Object.keys){for(var o=Object.keys(h),n=0;n<o.length;n++)r.push(h[o[n]]);return r}for(var l in h)r.push(h[l]);return r},u.get=function(h,r,o,n){r=r.split(".").slice(o,n);for(var l=0;l<r.length;l+=1)h=h[r[l]];return h},u.set=function(h,r,o,n,l){var f=r.split(".").slice(n,l);return u.get(h,r,0,-1)[f[f.length-1]]=o,o},u.shuffle=function(h){for(var r=h.length-1;r>0;r--){var o=Math.floor(u.random()*(r+1)),n=h[r];h[r]=h[o],h[o]=n}return h},u.choose=function(h){return h[Math.floor(u.random()*h.length)]},u.isElement=function(h){return typeof HTMLElement<"u"?h instanceof HTMLElement:!!(h&&h.nodeType&&h.nodeName)},u.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"},u.isFunction=function(h){return typeof h=="function"},u.isPlainObject=function(h){return typeof h=="object"&&h.constructor===Object},u.isString=function(h){return toString.call(h)==="[object String]"},u.clamp=function(h,r,o){return h<r?r:h>o?o:h},u.sign=function(h){return h<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(h,r){return h=typeof h<"u"?h:0,r=typeof r<"u"?r:1,h+G()*(r-h)};var G=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(h){return h=h.replace("#",""),h.length==3&&(h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2)),parseInt(h,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var h=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[h]||(u.warn(h),u._warnedOnce[h]=!0)},u.deprecated=function(h,r,o){h[r]=u.chain(function(){u.warnOnce("\u{1F505} deprecated \u{1F505}",o)},h[r])},u.nextId=function(){return u._nextId++},u.indexOf=function(h,r){if(h.indexOf)return h.indexOf(r);for(var o=0;o<h.length;o++)if(h[o]===r)return o;return-1},u.map=function(h,r){if(h.map)return h.map(r);for(var o=[],n=0;n<h.length;n+=1)o.push(r(h[n]));return o},u.topologicalSort=function(h){var r=[],o=[],n=[];for(var l in h)!o[l]&&!n[l]&&u._topologicalSort(l,o,n,h,r);return r},u._topologicalSort=function(h,r,o,n,l){var f=n[h]||[];o[h]=!0;for(var s=0;s<f.length;s+=1){var d=f[s];o[d]||r[d]||u._topologicalSort(d,r,o,n,l)}o[h]=!1,r[h]=!0,l.push(h)},u.chain=function(){for(var h=[],r=0;r<arguments.length;r+=1){var o=arguments[r];o._chained?h.push.apply(h,o._chained):h.push(o)}var n=function(){for(var l,f=new Array(arguments.length),s=0,d=arguments.length;s<d;s++)f[s]=arguments[s];for(s=0;s<h.length;s+=1){var p=h[s].apply(l,f);typeof p<"u"&&(l=p)}return l};return n._chained=h,n},u.chainPathBefore=function(h,r,o){return u.set(h,r,u.chain(o,u.get(h,r)))},u.chainPathAfter=function(h,r,o){return u.set(h,r,u.chain(u.get(h,r),o))},u.setDecomp=function(h){u._decomp=h},u.getDecomp=function(){var h=u._decomp;try{!h&&typeof window<"u"&&(h=window.decomp),!h&&typeof e.g<"u"&&(h=e.g.decomp)}catch{h=null}return h}}()},48413:(i,$,e)=>{var u={};i.exports=u;var G=e(53614),h=e(66272),r=e(81388),o=e(99561),n=e(35810),l=e(69351),f=e(48140),s=e(53402),d=e(22562);(function(){u.create=function(p){p=p||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},g=s.extend(c,p);return g.world=p.world||l.create({label:"World"}),g.pairs=p.pairs||o.create(),g.detector=p.detector||r.create(),g.grid={buckets:[]},g.world.gravity=g.gravity,g.broadphase=g.grid,g.metrics={},g},u.update=function(p,c){var g=s.now(),j=p.world,k=p.detector,tt=p.pairs,_=p.timing,nt=_.timestamp,it;c=typeof c<"u"?c:s._baseDelta,c*=_.timeScale,_.timestamp+=c,_.lastDelta=c;var rt={timestamp:_.timestamp,delta:c};n.trigger(p,"beforeUpdate",rt);var st=l.allBodies(j),at=l.allConstraints(j);for(j.isModified&&(r.setBodies(k,st),l.setModified(j,!1,!1,!0)),p.enableSleeping&&G.update(st,c),u._bodiesApplyGravity(st,p.gravity),c>0&&u._bodiesUpdate(st,c),n.trigger(p,"beforeSolve",rt),f.preSolveAll(st),it=0;it<p.constraintIterations;it++)f.solveAll(at,c);f.postSolveAll(st),k.pairs=p.pairs;var ot=r.collisions(k);o.update(tt,ot,nt),p.enableSleeping&&G.afterCollisions(tt.list),tt.collisionStart.length>0&&n.trigger(p,"collisionStart",{pairs:tt.collisionStart,timestamp:_.timestamp,delta:c});var ht=s.clamp(20/p.positionIterations,0,1);for(h.preSolvePosition(tt.list),it=0;it<p.positionIterations;it++)h.solvePosition(tt.list,c,ht);for(h.postSolvePosition(st),f.preSolveAll(st),it=0;it<p.constraintIterations;it++)f.solveAll(at,c);for(f.postSolveAll(st),h.preSolveVelocity(tt.list),it=0;it<p.velocityIterations;it++)h.solveVelocity(tt.list,c);return u._bodiesUpdateVelocities(st),tt.collisionActive.length>0&&n.trigger(p,"collisionActive",{pairs:tt.collisionActive,timestamp:_.timestamp,delta:c}),tt.collisionEnd.length>0&&n.trigger(p,"collisionEnd",{pairs:tt.collisionEnd,timestamp:_.timestamp,delta:c}),u._bodiesClearForces(st),n.trigger(p,"afterUpdate",rt),p.timing.lastElapsed=s.now()-g,p},u.merge=function(p,c){if(s.extend(p,c),c.world){p.world=c.world,u.clear(p);for(var g=l.allBodies(p.world),j=0;j<g.length;j++){var k=g[j];G.set(k,!1),k.id=s.nextId()}}},u.clear=function(p){o.clear(p.pairs),r.clear(p.detector)},u._bodiesClearForces=function(p){for(var c=p.length,g=0;g<c;g++){var j=p[g];j.force.x=0,j.force.y=0,j.torque=0}},u._bodiesApplyGravity=function(p,c){var g=typeof c.scale<"u"?c.scale:.001,j=p.length;if(!(c.x===0&&c.y===0||g===0))for(var k=0;k<j;k++){var tt=p[k];tt.ignoreGravity||tt.isStatic||tt.isSleeping||(tt.force.y+=tt.mass*c.y*g,tt.force.x+=tt.mass*c.x*g)}},u._bodiesUpdate=function(p,c){for(var g=p.length,j=0;j<g;j++){var k=p[j];k.isStatic||k.isSleeping||d.update(k,c)}},u._bodiesUpdateVelocities=function(p){for(var c=p.length,g=0;g<c;g++)d.updateVelocities(p[g])}})()},35810:(i,$,e)=>{var u={};i.exports=u;var G=e(53402);(function(){u.on=function(h,r,o){for(var n=r.split(" "),l,f=0;f<n.length;f++)l=n[f],h.events=h.events||{},h.events[l]=h.events[l]||[],h.events[l].push(o);return o},u.off=function(h,r,o){if(!r){h.events={};return}typeof r=="function"&&(o=r,r=G.keys(h.events).join(" "));for(var n=r.split(" "),l=0;l<n.length;l++){var f=h.events[n[l]],s=[];if(o&&f)for(var d=0;d<f.length;d++)f[d]!==o&&s.push(f[d]);h.events[n[l]]=s}},u.trigger=function(h,r,o){var n,l,f,s,d=h.events;if(d&&G.keys(d).length>0){o||(o={}),n=r.split(" ");for(var p=0;p<n.length;p++)if(l=n[p],f=d[l],f){s=G.clone(o,!1),s.name=l,s.source=h;for(var c=0;c<f.length;c++)f[c].apply(h,[s])}}}})()},6790:(i,$,e)=>{var u={};i.exports=u;var G=e(73832),h=e(53402);(function(){u.name="matter-js",u.version="0.19.0",u.uses=[],u.used=[],u.use=function(){G.use(u,Array.prototype.slice.call(arguments))},u.before=function(r,o){return r=r.replace(/^Matter./,""),h.chainPathBefore(u,r,o)},u.after=function(r,o){return r=r.replace(/^Matter./,""),h.chainPathAfter(u,r,o)}})()},73832:(i,$,e)=>{var u={};i.exports=u;var G=e(53402);(function(){u._registry={},u.register=function(h){if(u.isPlugin(h)||G.warn("Plugin.register:",u.toString(h),"does not implement all required fields."),h.name in u._registry){var r=u._registry[h.name],o=u.versionParse(h.version).number,n=u.versionParse(r.version).number;o>n?(G.warn("Plugin.register:",u.toString(r),"was upgraded to",u.toString(h)),u._registry[h.name]=h):o<n?G.warn("Plugin.register:",u.toString(r),"can not be downgraded to",u.toString(h)):h!==r&&G.warn("Plugin.register:",u.toString(h),"is already registered to different plugin object")}else u._registry[h.name]=h;return h},u.resolve=function(h){return u._registry[u.dependencyParse(h).name]},u.toString=function(h){return typeof h=="string"?h:(h.name||"anonymous")+"@"+(h.version||h.range||"0.0.0")},u.isPlugin=function(h){return h&&h.name&&h.version&&h.install},u.isUsed=function(h,r){return h.used.indexOf(r)>-1},u.isFor=function(h,r){var o=h.for&&u.dependencyParse(h.for);return!h.for||r.name===o.name&&u.versionSatisfies(r.version,o.range)},u.use=function(h,r){if(h.uses=(h.uses||[]).concat(r||[]),h.uses.length===0){G.warn("Plugin.use:",u.toString(h),"does not specify any dependencies to install.");return}for(var o=u.dependencies(h),n=G.topologicalSort(o),l=[],f=0;f<n.length;f+=1)if(n[f]!==h.name){var s=u.resolve(n[f]);if(!s){l.push("\u274C "+n[f]);continue}u.isUsed(h,s.name)||(u.isFor(s,h)||(G.warn("Plugin.use:",u.toString(s),"is for",s.for,"but installed on",u.toString(h)+"."),s._warned=!0),s.install?s.install(h):(G.warn("Plugin.use:",u.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(l.push("\u{1F536} "+u.toString(s)),delete s._warned):l.push("\u2705 "+u.toString(s)),h.used.push(s.name))}l.length>0&&!s.silent&&G.info(l.join("  "))},u.dependencies=function(h,r){var o=u.dependencyParse(h),n=o.name;if(r=r||{},!(n in r)){h=u.resolve(h)||h,r[n]=G.map(h.uses||[],function(f){u.isPlugin(f)&&u.register(f);var s=u.dependencyParse(f),d=u.resolve(f);return d&&!u.versionSatisfies(d.version,s.range)?(G.warn("Plugin.dependencies:",u.toString(d),"does not satisfy",u.toString(s),"used by",u.toString(o)+"."),d._warned=!0,h._warned=!0):d||(G.warn("Plugin.dependencies:",u.toString(f),"used by",u.toString(o),"could not be resolved."),h._warned=!0),s.name});for(var l=0;l<r[n].length;l+=1)u.dependencies(r[n][l],r);return r}},u.dependencyParse=function(h){if(G.isString(h)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(h)||G.warn("Plugin.dependencyParse:",h,"is not a valid dependency string."),{name:h.split("@")[0],range:h.split("@")[1]||"*"}}return{name:h.name,range:h.range||h.version}},u.versionParse=function(h){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(h)||G.warn("Plugin.versionParse:",h,"is not a valid version or range.");var o=r.exec(h),n=Number(o[4]),l=Number(o[5]),f=Number(o[6]);return{isRange:!!(o[1]||o[2]),version:o[3],range:h,operator:o[1]||o[2]||"",major:n,minor:l,patch:f,parts:[n,l,f],prerelease:o[7],number:n*1e8+l*1e4+f}},u.versionSatisfies=function(h,r){r=r||"*";var o=u.versionParse(r),n=u.versionParse(h);if(o.isRange){if(o.operator==="*"||h==="*")return!0;if(o.operator===">")return n.number>o.number;if(o.operator===">=")return n.number>=o.number;if(o.operator==="~")return n.major===o.major&&n.minor===o.minor&&n.patch>=o.patch;if(o.operator==="^")return o.major>0?n.major===o.major&&n.number>=o.number:o.minor>0?n.minor===o.minor&&n.patch>=o.patch:n.patch===o.patch}return h===r||h==="*"}})()},53614:(i,$,e)=>{var u={};i.exports=u;var G=e(22562),h=e(35810),r=e(53402);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(o,n){for(var l=n/r._baseDelta,f=u._motionSleepThreshold,s=0;s<o.length;s++){var d=o[s],p=G.getSpeed(d),c=G.getAngularSpeed(d),g=p*p+c*c;if(d.force.x!==0||d.force.y!==0){u.set(d,!1);continue}var j=Math.min(d.motion,g),k=Math.max(d.motion,g);d.motion=u._minBias*j+(1-u._minBias)*k,d.sleepThreshold>0&&d.motion<f?(d.sleepCounter+=1,d.sleepCounter>=d.sleepThreshold/l&&u.set(d,!0)):d.sleepCounter>0&&(d.sleepCounter-=1)}},u.afterCollisions=function(o){for(var n=u._motionSleepThreshold,l=0;l<o.length;l++){var f=o[l];if(f.isActive){var s=f.collision,d=s.bodyA.parent,p=s.bodyB.parent;if(!(d.isSleeping&&p.isSleeping||d.isStatic||p.isStatic)&&(d.isSleeping||p.isSleeping)){var c=d.isSleeping&&!d.isStatic?d:p,g=c===d?p:d;!c.isStatic&&g.motion>n&&u.set(c,!1)}}}},u.set=function(o,n){var l=o.isSleeping;n?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,l||h.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,l&&h.trigger(o,"sleepEnd"))}})()},66280:(i,$,e)=>{var u={};i.exports=u;var G=e(41598),h=e(53402),r=e(22562),o=e(15647),n=e(31725);(function(){u.rectangle=function(l,f,s,d,p){p=p||{};var c={label:"Rectangle Body",position:{x:l,y:f},vertices:G.fromPath("L 0 0 L "+s+" 0 L "+s+" "+d+" L 0 "+d)};if(p.chamfer){var g=p.chamfer;c.vertices=G.chamfer(c.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete p.chamfer}return r.create(h.extend({},c,p))},u.trapezoid=function(l,f,s,d,p,c){c=c||{},p*=.5;var g=(1-p*2)*s,j=s*p,k=j+g,tt=k+j,_;p<.5?_="L 0 0 L "+j+" "+-d+" L "+k+" "+-d+" L "+tt+" 0":_="L 0 0 L "+k+" "+-d+" L "+tt+" 0";var nt={label:"Trapezoid Body",position:{x:l,y:f},vertices:G.fromPath(_)};if(c.chamfer){var it=c.chamfer;nt.vertices=G.chamfer(nt.vertices,it.radius,it.quality,it.qualityMin,it.qualityMax),delete c.chamfer}return r.create(h.extend({},nt,c))},u.circle=function(l,f,s,d,p){d=d||{};var c={label:"Circle Body",circleRadius:s};p=p||25;var g=Math.ceil(Math.max(10,Math.min(p,s)));return g%2===1&&(g+=1),u.polygon(l,f,g,s,h.extend({},c,d))},u.polygon=function(l,f,s,d,p){if(p=p||{},s<3)return u.circle(l,f,d,p);for(var c=2*Math.PI/s,g="",j=c*.5,k=0;k<s;k+=1){var tt=j+k*c,_=Math.cos(tt)*d,nt=Math.sin(tt)*d;g+="L "+_.toFixed(3)+" "+nt.toFixed(3)+" "}var it={label:"Polygon Body",position:{x:l,y:f},vertices:G.fromPath(g)};if(p.chamfer){var rt=p.chamfer;it.vertices=G.chamfer(it.vertices,rt.radius,rt.quality,rt.qualityMin,rt.qualityMax),delete p.chamfer}return r.create(h.extend({},it,p))},u.fromVertices=function(l,f,s,d,p,c,g,j){var k=h.getDecomp(),tt,_,nt,it,rt,st,at,ot,ht,dt,ut;for(tt=!!(k&&k.quickDecomp),d=d||{},nt=[],p=typeof p<"u"?p:!1,c=typeof c<"u"?c:.01,g=typeof g<"u"?g:10,j=typeof j<"u"?j:.01,h.isArray(s[0])||(s=[s]),dt=0;dt<s.length;dt+=1)if(st=s[dt],it=G.isConvex(st),rt=!it,rt&&!tt&&h.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),it||!tt)it?st=G.clockwiseSort(st):st=G.hull(st),nt.push({position:{x:l,y:f},vertices:st});else{var ft=st.map(function(Ct){return[Ct.x,Ct.y]});k.makeCCW(ft),c!==!1&&k.removeCollinearPoints(ft,c),j!==!1&&k.removeDuplicatePoints&&k.removeDuplicatePoints(ft,j);var gt=k.quickDecomp(ft);for(at=0;at<gt.length;at++){var xt=gt[at],Et=xt.map(function(Ct){return{x:Ct[0],y:Ct[1]}});g>0&&G.area(Et)<g||nt.push({position:G.centre(Et),vertices:Et})}}for(at=0;at<nt.length;at++)nt[at]=r.create(h.extend(nt[at],d));if(p){var pt=5;for(at=0;at<nt.length;at++){var mt=nt[at];for(ot=at+1;ot<nt.length;ot++){var lt=nt[ot];if(o.overlaps(mt.bounds,lt.bounds)){var ct=mt.vertices,vt=lt.vertices;for(ht=0;ht<mt.vertices.length;ht++)for(ut=0;ut<lt.vertices.length;ut++){var yt=n.magnitudeSquared(n.sub(ct[(ht+1)%ct.length],vt[ut])),Tt=n.magnitudeSquared(n.sub(ct[ht],vt[(ut+1)%vt.length]));yt<pt&&Tt<pt&&(ct[ht].isInternal=!0,vt[ut].isInternal=!0)}}}}}return nt.length>1?(_=r.create(h.extend({parts:nt.slice(0)},d)),r.setPosition(_,{x:l,y:f}),_):nt[0]},u.flagCoincidentParts=function(l,f){f===void 0&&(f=5);for(var s=0;s<l.length;s++)for(var d=l[s],p=s+1;p<l.length;p++){var c=l[p];if(o.overlaps(d.bounds,c.bounds))for(var g=d.vertices,j=c.vertices,k=0;k<d.vertices.length;k++)for(var tt=0;tt<c.vertices.length;tt++){var _=n.magnitudeSquared(n.sub(g[(k+1)%g.length],j[tt])),nt=n.magnitudeSquared(n.sub(g[k],j[(tt+1)%j.length]));_<f&&nt<f&&(g[k].isInternal=!0,j[tt].isInternal=!0)}}return l}})()},74116:(i,$,e)=>{var u={};i.exports=u;var G=e(69351),h=e(48140),r=e(53402),o=e(22562),n=e(66280);(function(){u.stack=function(l,f,s,d,p,c,g){for(var j=G.create({label:"Stack"}),k=l,tt=f,_,nt=0,it=0;it<d;it++){for(var rt=0,st=0;st<s;st++){var at=g(k,tt,st,it,_,nt);if(at){var ot=at.bounds.max.y-at.bounds.min.y,ht=at.bounds.max.x-at.bounds.min.x;ot>rt&&(rt=ot),o.translate(at,{x:ht*.5,y:ot*.5}),k=at.bounds.max.x+p,G.addBody(j,at),_=at,nt+=1}else k+=p}tt+=rt+c,k=l}return j},u.chain=function(l,f,s,d,p,c){for(var g=l.bodies,j=1;j<g.length;j++){var k=g[j-1],tt=g[j],_=k.bounds.max.y-k.bounds.min.y,nt=k.bounds.max.x-k.bounds.min.x,it=tt.bounds.max.y-tt.bounds.min.y,rt=tt.bounds.max.x-tt.bounds.min.x,st={bodyA:k,pointA:{x:nt*f,y:_*s},bodyB:tt,pointB:{x:rt*d,y:it*p}},at=r.extend(st,c);G.addConstraint(l,h.create(at))}return l.label+=" Chain",l},u.mesh=function(l,f,s,d,p){var c=l.bodies,g,j,k,tt,_;for(g=0;g<s;g++){for(j=1;j<f;j++)k=c[j-1+g*f],tt=c[j+g*f],G.addConstraint(l,h.create(r.extend({bodyA:k,bodyB:tt},p)));if(g>0)for(j=0;j<f;j++)k=c[j+(g-1)*f],tt=c[j+g*f],G.addConstraint(l,h.create(r.extend({bodyA:k,bodyB:tt},p))),d&&j>0&&(_=c[j-1+(g-1)*f],G.addConstraint(l,h.create(r.extend({bodyA:_,bodyB:tt},p)))),d&&j<f-1&&(_=c[j+1+(g-1)*f],G.addConstraint(l,h.create(r.extend({bodyA:_,bodyB:tt},p))))}return l.label+=" Mesh",l},u.pyramid=function(l,f,s,d,p,c,g){return u.stack(l,f,s,d,p,c,function(j,k,tt,_,nt,it){var rt=Math.min(d,Math.ceil(s/2)),st=nt?nt.bounds.max.x-nt.bounds.min.x:0;if(!(_>rt)){_=rt-_;var at=_,ot=s-1-_;if(!(tt<at||tt>ot)){it===1&&o.translate(nt,{x:(tt+(s%2===1?1:-1))*st,y:0});var ht=nt?tt*st:0;return g(l+ht+tt*p,k,tt,_,nt,it)}}})},u.newtonsCradle=function(l,f,s,d,p){for(var c=G.create({label:"Newtons Cradle"}),g=0;g<s;g++){var j=1.9,k=n.circle(l+g*(d*j),f+p,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),tt=h.create({pointA:{x:l+g*(d*j),y:f},bodyB:k});G.addBody(c,k),G.addConstraint(c,tt)}return c},u.car=function(l,f,s,d,p){var c=o.nextGroup(!0),g=20,j=-s*.5+g,k=s*.5-g,tt=0,_=G.create({label:"Car"}),nt=n.rectangle(l,f,s,d,{collisionFilter:{group:c},chamfer:{radius:d*.5},density:2e-4}),it=n.circle(l+j,f+tt,p,{collisionFilter:{group:c},friction:.8}),rt=n.circle(l+k,f+tt,p,{collisionFilter:{group:c},friction:.8}),st=h.create({bodyB:nt,pointB:{x:j,y:tt},bodyA:it,stiffness:1,length:0}),at=h.create({bodyB:nt,pointB:{x:k,y:tt},bodyA:rt,stiffness:1,length:0});return G.addBody(_,nt),G.addBody(_,it),G.addBody(_,rt),G.addConstraint(_,st),G.addConstraint(_,at),_},u.softBody=function(l,f,s,d,p,c,g,j,k,tt){k=r.extend({inertia:1/0},k),tt=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},tt);var _=u.stack(l,f,s,d,p,c,function(nt,it){return n.circle(nt,it,j,k)});return u.mesh(_,s,d,g,tt),_.label="Soft Body",_}})()},66615:(i,$,e)=>{var u={};i.exports=u;var G=e(31725),h=e(53402);(function(){u.fromVertices=function(r){for(var o={},n=0;n<r.length;n++){var l=(n+1)%r.length,f=G.normalise({x:r[l].y-r[n].y,y:r[n].x-r[l].x}),s=f.y===0?1/0:f.x/f.y;s=s.toFixed(3).toString(),o[s]=f}return h.values(o)},u.rotate=function(r,o){if(o!==0)for(var n=Math.cos(o),l=Math.sin(o),f=0;f<r.length;f++){var s=r[f],d;d=s.x*n-s.y*l,s.y=s.x*l+s.y*n,s.x=d}}})()},15647:i=>{var $={};i.exports=$,function(){$.create=function(e){var u={min:{x:0,y:0},max:{x:0,y:0}};return e&&$.update(u,e),u},$.update=function(e,u,G){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var h=0;h<u.length;h++){var r=u[h];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}G&&(G.x>0?e.max.x+=G.x:e.min.x+=G.x,G.y>0?e.max.y+=G.y:e.min.y+=G.y)},$.contains=function(e,u){return u.x>=e.min.x&&u.x<=e.max.x&&u.y>=e.min.y&&u.y<=e.max.y},$.overlaps=function(e,u){return e.min.x<=u.max.x&&e.max.x>=u.min.x&&e.max.y>=u.min.y&&e.min.y<=u.max.y},$.translate=function(e,u){e.min.x+=u.x,e.max.x+=u.x,e.min.y+=u.y,e.max.y+=u.y},$.shift=function(e,u){var G=e.max.x-e.min.x,h=e.max.y-e.min.y;e.min.x=u.x,e.max.x=u.x+G,e.min.y=u.y,e.max.y=u.y+h}}()},74058:(i,$,e)=>{var u={};i.exports=u;var G=e(15647),h=e(53402);(function(){u.pathToVertices=function(r,o){typeof window<"u"&&!("SVGPathSeg"in window)&&h.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,l,f,s,d,p,c,g,j,k,tt=[],_,nt,it=0,rt=0,st=0;o=o||15;var at=function(ht,dt,ut){var ft=ut%2===1&&ut>1;if(!j||ht!=j.x||dt!=j.y){j&&ft?(_=j.x,nt=j.y):(_=0,nt=0);var gt={x:_+ht,y:nt+dt};(ft||!j)&&(j=gt),tt.push(gt),rt=_+ht,st=nt+dt}},ot=function(ht){var dt=ht.pathSegTypeAsLetter.toUpperCase();if(dt!=="Z"){switch(dt){case"M":case"L":case"T":case"C":case"S":case"Q":rt=ht.x,st=ht.y;break;case"H":rt=ht.x;break;case"V":st=ht.y;break}at(rt,st,ht.pathSegType)}};for(u._svgPathToAbsolute(r),f=r.getTotalLength(),p=[],n=0;n<r.pathSegList.numberOfItems;n+=1)p.push(r.pathSegList.getItem(n));for(c=p.concat();it<f;){if(k=r.getPathSegAtLength(it),d=p[k],d!=g){for(;c.length&&c[0]!=d;)ot(c.shift());g=d}switch(d.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=r.getPointAtLength(it),at(s.x,s.y,0);break}it+=o}for(n=0,l=c.length;n<l;++n)ot(c[n]);return tt},u._svgPathToAbsolute=function(r){for(var o,n,l,f,s,d,p=r.pathSegList,c=0,g=0,j=p.numberOfItems,k=0;k<j;++k){var tt=p.getItem(k),_=tt.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(_))"x"in tt&&(c=tt.x),"y"in tt&&(g=tt.y);else switch("x1"in tt&&(l=c+tt.x1),"x2"in tt&&(s=c+tt.x2),"y1"in tt&&(f=g+tt.y1),"y2"in tt&&(d=g+tt.y2),"x"in tt&&(c+=tt.x),"y"in tt&&(g+=tt.y),_){case"m":p.replaceItem(r.createSVGPathSegMovetoAbs(c,g),k);break;case"l":p.replaceItem(r.createSVGPathSegLinetoAbs(c,g),k);break;case"h":p.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(c),k);break;case"v":p.replaceItem(r.createSVGPathSegLinetoVerticalAbs(g),k);break;case"c":p.replaceItem(r.createSVGPathSegCurvetoCubicAbs(c,g,l,f,s,d),k);break;case"s":p.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(c,g,s,d),k);break;case"q":p.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(c,g,l,f),k);break;case"t":p.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(c,g),k);break;case"a":p.replaceItem(r.createSVGPathSegArcAbs(c,g,tt.r1,tt.r2,tt.angle,tt.largeArcFlag,tt.sweepFlag),k);break;case"z":case"Z":c=o,g=n;break}(_=="M"||_=="m")&&(o=c,n=g)}}})()},31725:i=>{var $={};i.exports=$,function(){$.create=function(e,u){return{x:e||0,y:u||0}},$.clone=function(e){return{x:e.x,y:e.y}},$.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},$.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},$.rotate=function(e,u,G){var h=Math.cos(u),r=Math.sin(u);G||(G={});var o=e.x*h-e.y*r;return G.y=e.x*r+e.y*h,G.x=o,G},$.rotateAbout=function(e,u,G,h){var r=Math.cos(u),o=Math.sin(u);h||(h={});var n=G.x+((e.x-G.x)*r-(e.y-G.y)*o);return h.y=G.y+((e.x-G.x)*o+(e.y-G.y)*r),h.x=n,h},$.normalise=function(e){var u=$.magnitude(e);return u===0?{x:0,y:0}:{x:e.x/u,y:e.y/u}},$.dot=function(e,u){return e.x*u.x+e.y*u.y},$.cross=function(e,u){return e.x*u.y-e.y*u.x},$.cross3=function(e,u,G){return(u.x-e.x)*(G.y-e.y)-(u.y-e.y)*(G.x-e.x)},$.add=function(e,u,G){return G||(G={}),G.x=e.x+u.x,G.y=e.y+u.y,G},$.sub=function(e,u,G){return G||(G={}),G.x=e.x-u.x,G.y=e.y-u.y,G},$.mult=function(e,u){return{x:e.x*u,y:e.y*u}},$.div=function(e,u){return{x:e.x/u,y:e.y/u}},$.perp=function(e,u){return u=u===!0?-1:1,{x:u*-e.y,y:u*e.x}},$.neg=function(e){return{x:-e.x,y:-e.y}},$.angle=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)},$._temp=[$.create(),$.create(),$.create(),$.create(),$.create(),$.create()]}()},41598:(i,$,e)=>{var u={};i.exports=u;var G=e(31725),h=e(53402);(function(){u.create=function(r,o){for(var n=[],l=0;l<r.length;l++){var f=r[l],s={x:f.x,y:f.y,index:l,body:o,isInternal:!1};n.push(s)}return n},u.fromPath=function(r,o){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,l=[];return r.replace(n,function(f,s,d){l.push({x:parseFloat(s),y:parseFloat(d)})}),u.create(l,o)},u.centre=function(r){for(var o=u.area(r,!0),n={x:0,y:0},l,f,s,d=0;d<r.length;d++)s=(d+1)%r.length,l=G.cross(r[d],r[s]),f=G.mult(G.add(r[d],r[s]),l),n=G.add(n,f);return G.div(n,6*o)},u.mean=function(r){for(var o={x:0,y:0},n=0;n<r.length;n++)o.x+=r[n].x,o.y+=r[n].y;return G.div(o,r.length)},u.area=function(r,o){for(var n=0,l=r.length-1,f=0;f<r.length;f++)n+=(r[l].x-r[f].x)*(r[l].y+r[f].y),l=f;return o?n/2:Math.abs(n)/2},u.inertia=function(r,o){for(var n=0,l=0,f=r,s,d,p=0;p<f.length;p++)d=(p+1)%f.length,s=Math.abs(G.cross(f[d],f[p])),n+=s*(G.dot(f[d],f[d])+G.dot(f[d],f[p])+G.dot(f[p],f[p])),l+=s;return o/6*(n/l)},u.translate=function(r,o,n){n=typeof n<"u"?n:1;var l=r.length,f=o.x*n,s=o.y*n,d;for(d=0;d<l;d++)r[d].x+=f,r[d].y+=s;return r},u.rotate=function(r,o,n){if(o!==0){var l=Math.cos(o),f=Math.sin(o),s=n.x,d=n.y,p=r.length,c,g,j,k;for(k=0;k<p;k++)c=r[k],g=c.x-s,j=c.y-d,c.x=s+(g*l-j*f),c.y=d+(g*f+j*l);return r}},u.contains=function(r,o){for(var n=o.x,l=o.y,f=r.length,s=r[f-1],d,p=0;p<f;p++){if(d=r[p],(n-s.x)*(d.y-s.y)+(l-s.y)*(s.x-d.x)>0)return!1;s=d}return!0},u.scale=function(r,o,n,l){if(o===1&&n===1)return r;l=l||u.centre(r);for(var f,s,d=0;d<r.length;d++)f=r[d],s=G.sub(f,l),r[d].x=l.x+s.x*o,r[d].y=l.y+s.y*n;return r},u.chamfer=function(r,o,n,l,f){typeof o=="number"?o=[o]:o=o||[8],n=typeof n<"u"?n:-1,l=l||2,f=f||14;for(var s=[],d=0;d<r.length;d++){var p=r[d-1>=0?d-1:r.length-1],c=r[d],g=r[(d+1)%r.length],j=o[d<o.length?d:o.length-1];if(j===0){s.push(c);continue}var k=G.normalise({x:c.y-p.y,y:p.x-c.x}),tt=G.normalise({x:g.y-c.y,y:c.x-g.x}),_=Math.sqrt(2*Math.pow(j,2)),nt=G.mult(h.clone(k),j),it=G.normalise(G.mult(G.add(k,tt),.5)),rt=G.sub(c,G.mult(it,_)),st=n;n===-1&&(st=Math.pow(j,.32)*1.75),st=h.clamp(st,l,f),st%2===1&&(st+=1);for(var at=Math.acos(G.dot(k,tt)),ot=at/st,ht=0;ht<st;ht++)s.push(G.add(G.rotate(nt,ot*ht),rt))}return s},u.clockwiseSort=function(r){var o=u.mean(r);return r.sort(function(n,l){return G.angle(o,n)-G.angle(o,l)}),r},u.isConvex=function(r){var o=0,n=r.length,l,f,s,d;if(n<3)return null;for(l=0;l<n;l++)if(f=(l+1)%n,s=(l+2)%n,d=(r[f].x-r[l].x)*(r[s].y-r[f].y),d-=(r[f].y-r[l].y)*(r[s].x-r[f].x),d<0?o|=1:d>0&&(o|=2),o===3)return!1;return o!==0?!0:null},u.hull=function(r){var o=[],n=[],l,f;for(r=r.slice(0),r.sort(function(s,d){var p=s.x-d.x;return p!==0?p:s.y-d.y}),f=0;f<r.length;f+=1){for(l=r[f];n.length>=2&&G.cross3(n[n.length-2],n[n.length-1],l)<=0;)n.pop();n.push(l)}for(f=r.length-1;f>=0;f-=1){for(l=r[f];o.length>=2&&G.cross3(o[o.length-2],o[o.length-1],l)<=0;)o.pop();o.push(l)}return o.pop(),n.pop(),o.concat(n)}})()},18210:(i,$,e)=>{var u=e(19933),G={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(h){h.after("Body.create",function(){G.Body.init(this)}),h.before("Engine.update",function(r){G.Engine.update(r)})},Body:{init:function(h){h.plugin.attractors=h.plugin.attractors||[]}},Engine:{update:function(h){for(var r=u.Composite.allBodies(h.world),o=0;o<r.length;o++){var n=r[o],l=n.plugin.attractors;if(l&&l.length>0)for(var f=0;f<r.length;f++){var s=r[f];if(o!==f)for(var d=0;d<l.length;d++){var p=l[d],c=p;u.Common.isFunction(p)&&(c=p(n,s)),c&&u.Body.applyForce(s,s.position,c)}}}}},Attractors:{gravityConstant:.001,gravity:function(h,r){var o=u.Vector.sub(r.position,h.position),n=u.Vector.magnitudeSquared(o)||1e-4,l=u.Vector.normalise(o),f=-G.Attractors.gravityConstant*(h.mass*r.mass/n),s=u.Vector.mult(l,f);u.Body.applyForce(h,h.position,u.Vector.neg(s)),u.Body.applyForce(r,r.position,s)}}};i.exports=G},40178:i=>{var $={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(u){u.pairs.map(function(G){var h=G.bodyA,r=G.bodyB;h.gameObject&&h.gameObject.emit("collide",h,r,G),r.gameObject&&r.gameObject.emit("collide",r,h,G),e.Events.trigger(h,"onCollide",{pair:G}),e.Events.trigger(r,"onCollide",{pair:G}),h.onCollideCallback&&h.onCollideCallback(G),r.onCollideCallback&&r.onCollideCallback(G),h.onCollideWith[r.id]&&h.onCollideWith[r.id](r,G),r.onCollideWith[h.id]&&r.onCollideWith[h.id](h,G)})}),e.Events.on(this,"collisionActive",function(u){u.pairs.map(function(G){var h=G.bodyA,r=G.bodyB;h.gameObject&&h.gameObject.emit("collideActive",h,r,G),r.gameObject&&r.gameObject.emit("collideActive",r,h,G),e.Events.trigger(h,"onCollideActive",{pair:G}),e.Events.trigger(r,"onCollideActive",{pair:G}),h.onCollideActiveCallback&&h.onCollideActiveCallback(G),r.onCollideActiveCallback&&r.onCollideActiveCallback(G)})}),e.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(G){var h=G.bodyA,r=G.bodyB;h.gameObject&&h.gameObject.emit("collideEnd",h,r,G),r.gameObject&&r.gameObject.emit("collideEnd",r,h,G),e.Events.trigger(h,"onCollideEnd",{pair:G}),e.Events.trigger(r,"onCollideEnd",{pair:G}),h.onCollideEndCallback&&h.onCollideEndCallback(G),r.onCollideEndCallback&&r.onCollideEndCallback(G)})})})}};i.exports=$},74507:(i,$,e)=>{var u=e(19933),G={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(h){h.after("Engine.update",function(){G.Engine.update(this)})},Engine:{update:function(h){for(var r=h.world,o=u.Composite.allBodies(r),n=u.Composite.allComposites(r),l=0;l<o.length;l+=1){var f=o[l];f.plugin.wrap&&G.Body.wrap(f,f.plugin.wrap)}for(l=0;l<n.length;l+=1){var s=n[l];s.plugin.wrap&&G.Composite.wrap(s,s.plugin.wrap)}}},Bounds:{wrap:function(h,r){var o=null,n=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(h.min.x>r.max.x?o=r.min.x-h.max.x:h.max.x<r.min.x&&(o=r.max.x-h.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(h.min.y>r.max.y?n=r.min.y-h.max.y:h.max.y<r.min.y&&(n=r.max.y-h.min.y)),o!==null||n!==null)return{x:o||0,y:n||0}}},Body:{wrap:function(h,r){var o=G.Bounds.wrap(h.bounds,r);return o&&u.Body.translate(h,o),o}},Composite:{bounds:function(h){for(var r=u.Composite.allBodies(h),o=[],n=0;n<r.length;n+=1){var l=r[n];o.push(l.bounds.min,l.bounds.max)}return u.Bounds.create(o)},wrap:function(h,r){var o=G.Bounds.wrap(G.Composite.bounds(h),r);return o&&u.Composite.translate(h,o),o}}};i.exports=G},55973:i=>{i.exports={decomp:at,quickDecomp:ut,isSimple:ht,removeCollinearPoints:ft,removeDuplicatePoints:gt,makeCCW:g};function $(pt,mt,lt){lt=lt||0;var ct=[0,0],vt,yt,Tt,Ct,St,Dt,Mt;return vt=pt[1][1]-pt[0][1],yt=pt[0][0]-pt[1][0],Tt=vt*pt[0][0]+yt*pt[0][1],Ct=mt[1][1]-mt[0][1],St=mt[0][0]-mt[1][0],Dt=Ct*mt[0][0]+St*mt[0][1],Mt=vt*St-Ct*yt,xt(Mt,0,lt)||(ct[0]=(St*Tt-yt*Dt)/Mt,ct[1]=(vt*Dt-Ct*Tt)/Mt),ct}function e(pt,mt,lt,ct){var vt=mt[0]-pt[0],yt=mt[1]-pt[1],Tt=ct[0]-lt[0],Ct=ct[1]-lt[1];if(Tt*yt-Ct*vt===0)return!1;var St=(vt*(lt[1]-pt[1])+yt*(pt[0]-lt[0]))/(Tt*yt-Ct*vt),Dt=(Tt*(pt[1]-lt[1])+Ct*(lt[0]-pt[0]))/(Ct*vt-Tt*yt);return St>=0&&St<=1&&Dt>=0&&Dt<=1}function u(pt,mt,lt){return(mt[0]-pt[0])*(lt[1]-pt[1])-(lt[0]-pt[0])*(mt[1]-pt[1])}function G(pt,mt,lt){return u(pt,mt,lt)>0}function h(pt,mt,lt){return u(pt,mt,lt)>=0}function r(pt,mt,lt){return u(pt,mt,lt)<0}function o(pt,mt,lt){return u(pt,mt,lt)<=0}var n=[],l=[];function f(pt,mt,lt,ct){if(ct){var vt=n,yt=l;vt[0]=mt[0]-pt[0],vt[1]=mt[1]-pt[1],yt[0]=lt[0]-mt[0],yt[1]=lt[1]-mt[1];var Tt=vt[0]*yt[0]+vt[1]*yt[1],Ct=Math.sqrt(vt[0]*vt[0]+vt[1]*vt[1]),St=Math.sqrt(yt[0]*yt[0]+yt[1]*yt[1]),Dt=Math.acos(Tt/(Ct*St));return Dt<ct}else return u(pt,mt,lt)===0}function s(pt,mt){var lt=mt[0]-pt[0],ct=mt[1]-pt[1];return lt*lt+ct*ct}function d(pt,mt){var lt=pt.length;return pt[mt<0?mt%lt+lt:mt%lt]}function p(pt){pt.length=0}function c(pt,mt,lt,ct){for(var vt=lt;vt<ct;vt++)pt.push(mt[vt])}function g(pt){for(var mt=0,lt=pt,ct=1;ct<pt.length;++ct)(lt[ct][1]<lt[mt][1]||lt[ct][1]===lt[mt][1]&&lt[ct][0]>lt[mt][0])&&(mt=ct);return G(d(pt,mt-1),d(pt,mt),d(pt,mt+1))?!1:(j(pt),!0)}function j(pt){for(var mt=[],lt=pt.length,ct=0;ct!==lt;ct++)mt.push(pt.pop());for(var ct=0;ct!==lt;ct++)pt[ct]=mt[ct]}function k(pt,mt){return r(d(pt,mt-1),d(pt,mt),d(pt,mt+1))}var tt=[],_=[];function nt(pt,mt,lt){var ct,vt,yt=tt,Tt=_;if(h(d(pt,mt+1),d(pt,mt),d(pt,lt))&&o(d(pt,mt-1),d(pt,mt),d(pt,lt)))return!1;vt=s(d(pt,mt),d(pt,lt));for(var Ct=0;Ct!==pt.length;++Ct)if(!((Ct+1)%pt.length===mt||Ct===mt)&&h(d(pt,mt),d(pt,lt),d(pt,Ct+1))&&o(d(pt,mt),d(pt,lt),d(pt,Ct))&&(yt[0]=d(pt,mt),yt[1]=d(pt,lt),Tt[0]=d(pt,Ct),Tt[1]=d(pt,Ct+1),ct=$(yt,Tt),s(d(pt,mt),ct)<vt))return!1;return!0}function it(pt,mt,lt){for(var ct=0;ct!==pt.length;++ct)if(!(ct===mt||ct===lt||(ct+1)%pt.length===mt||(ct+1)%pt.length===lt)&&e(d(pt,mt),d(pt,lt),d(pt,ct),d(pt,ct+1)))return!1;return!0}function rt(pt,mt,lt,ct){var vt=ct||[];if(p(vt),mt<lt)for(var yt=mt;yt<=lt;yt++)vt.push(pt[yt]);else{for(var yt=0;yt<=lt;yt++)vt.push(pt[yt]);for(var yt=mt;yt<pt.length;yt++)vt.push(pt[yt])}return vt}function st(pt){for(var mt=[],lt=[],ct=[],vt=[],yt=Number.MAX_VALUE,Tt=0;Tt<pt.length;++Tt)if(k(pt,Tt)){for(var Ct=0;Ct<pt.length;++Ct)if(nt(pt,Tt,Ct)){lt=st(rt(pt,Tt,Ct,vt)),ct=st(rt(pt,Ct,Tt,vt));for(var St=0;St<ct.length;St++)lt.push(ct[St]);lt.length<yt&&(mt=lt,yt=lt.length,mt.push([d(pt,Tt),d(pt,Ct)]))}}return mt}function at(pt){var mt=st(pt);return mt.length>0?ot(pt,mt):[pt]}function ot(pt,mt){if(mt.length===0)return[pt];if(mt instanceof Array&&mt.length&&mt[0]instanceof Array&&mt[0].length===2&&mt[0][0]instanceof Array){for(var lt=[pt],ct=0;ct<mt.length;ct++)for(var vt=mt[ct],yt=0;yt<lt.length;yt++){var Tt=lt[yt],Ct=ot(Tt,vt);if(Ct){lt.splice(yt,1),lt.push(Ct[0],Ct[1]);break}}return lt}else{var vt=mt,ct=pt.indexOf(vt[0]),yt=pt.indexOf(vt[1]);return ct!==-1&&yt!==-1?[rt(pt,ct,yt),rt(pt,yt,ct)]:!1}}function ht(pt){var mt=pt,lt;for(lt=0;lt<mt.length-1;lt++)for(var ct=0;ct<lt-1;ct++)if(e(mt[lt],mt[lt+1],mt[ct],mt[ct+1]))return!1;for(lt=1;lt<mt.length-2;lt++)if(e(mt[0],mt[mt.length-1],mt[lt],mt[lt+1]))return!1;return!0}function dt(pt,mt,lt,ct,vt){vt=vt||0;var yt=mt[1]-pt[1],Tt=pt[0]-mt[0],Ct=yt*pt[0]+Tt*pt[1],St=ct[1]-lt[1],Dt=lt[0]-ct[0],Mt=St*lt[0]+Dt*lt[1],At=yt*Dt-St*Tt;return xt(At,0,vt)?[0,0]:[(Dt*Ct-Tt*Mt)/At,(yt*Mt-St*Ct)/At]}function ut(pt,mt,lt,ct,vt,yt,Tt){yt=yt||100,Tt=Tt||0,vt=vt||25,mt=typeof mt<"u"?mt:[],lt=lt||[],ct=ct||[];var Ct=[0,0],St=[0,0],Dt=[0,0],Mt=0,At=0,wt=0,It=0,Pt=0,Ot=0,bt=0,Vt=[],Ut=[],Ft=pt,Nt=pt;if(Nt.length<3)return mt;if(Tt++,Tt>yt)return console.warn("quickDecomp: max level ("+yt+") reached."),mt;for(var Lt=0;Lt<pt.length;++Lt)if(k(Ft,Lt)){lt.push(Ft[Lt]),Mt=At=Number.MAX_VALUE;for(var kt=0;kt<pt.length;++kt)G(d(Ft,Lt-1),d(Ft,Lt),d(Ft,kt))&&o(d(Ft,Lt-1),d(Ft,Lt),d(Ft,kt-1))&&(Dt=dt(d(Ft,Lt-1),d(Ft,Lt),d(Ft,kt),d(Ft,kt-1)),r(d(Ft,Lt+1),d(Ft,Lt),Dt)&&(wt=s(Ft[Lt],Dt),wt<At&&(At=wt,St=Dt,Ot=kt))),G(d(Ft,Lt+1),d(Ft,Lt),d(Ft,kt+1))&&o(d(Ft,Lt+1),d(Ft,Lt),d(Ft,kt))&&(Dt=dt(d(Ft,Lt+1),d(Ft,Lt),d(Ft,kt),d(Ft,kt+1)),G(d(Ft,Lt-1),d(Ft,Lt),Dt)&&(wt=s(Ft[Lt],Dt),wt<Mt&&(Mt=wt,Ct=Dt,Pt=kt)));if(Ot===(Pt+1)%pt.length)Dt[0]=(St[0]+Ct[0])/2,Dt[1]=(St[1]+Ct[1])/2,ct.push(Dt),Lt<Pt?(c(Vt,Ft,Lt,Pt+1),Vt.push(Dt),Ut.push(Dt),Ot!==0&&c(Ut,Ft,Ot,Ft.length),c(Ut,Ft,0,Lt+1)):(Lt!==0&&c(Vt,Ft,Lt,Ft.length),c(Vt,Ft,0,Pt+1),Vt.push(Dt),Ut.push(Dt),c(Ut,Ft,Ot,Lt+1));else{if(Ot>Pt&&(Pt+=pt.length),It=Number.MAX_VALUE,Pt<Ot)return mt;for(var kt=Ot;kt<=Pt;++kt)h(d(Ft,Lt-1),d(Ft,Lt),d(Ft,kt))&&o(d(Ft,Lt+1),d(Ft,Lt),d(Ft,kt))&&(wt=s(d(Ft,Lt),d(Ft,kt)),wt<It&&it(Ft,Lt,kt)&&(It=wt,bt=kt%pt.length));Lt<bt?(c(Vt,Ft,Lt,bt+1),bt!==0&&c(Ut,Ft,bt,Nt.length),c(Ut,Ft,0,Lt+1)):(Lt!==0&&c(Vt,Ft,Lt,Nt.length),c(Vt,Ft,0,bt+1),c(Ut,Ft,bt,Lt+1))}return Vt.length<Ut.length?(ut(Vt,mt,lt,ct,vt,yt,Tt),ut(Ut,mt,lt,ct,vt,yt,Tt)):(ut(Ut,mt,lt,ct,vt,yt,Tt),ut(Vt,mt,lt,ct,vt,yt,Tt)),mt}return mt.push(pt),mt}function ft(pt,mt){for(var lt=0,ct=pt.length-1;pt.length>3&&ct>=0;--ct)f(d(pt,ct-1),d(pt,ct),d(pt,ct+1),mt)&&(pt.splice(ct%pt.length,1),lt++);return lt}function gt(pt,mt){for(var lt=pt.length-1;lt>=1;--lt)for(var ct=pt[lt],vt=lt-1;vt>=0;--vt)if(Et(ct,pt[vt],mt)){pt.splice(lt,1);continue}}function xt(pt,mt,lt){return lt=lt||0,Math.abs(pt-mt)<=lt}function Et(pt,mt,lt){return xt(pt[0],mt[0],lt)&&xt(pt[1],mt[1],lt)}},52018:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});i.exports=G},42363:i=>{var $={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};i.exports=$},37277:i=>{var $={},e={},u={};u.register=function(G,h,r,o){o===void 0&&(o=!1),$[G]={plugin:h,mapping:r,custom:o}},u.registerCustom=function(G,h,r,o){e[G]={plugin:h,mapping:r,data:o}},u.hasCore=function(G){return $.hasOwnProperty(G)},u.hasCustom=function(G){return e.hasOwnProperty(G)},u.getCore=function(G){return $[G]},u.getCustom=function(G){return e[G]},u.getCustomClass=function(G){return e.hasOwnProperty(G)?e[G].plugin:null},u.remove=function(G){$.hasOwnProperty(G)&&delete $[G]},u.removeCustom=function(G){e.hasOwnProperty(G)&&delete e[G]},u.destroyCorePlugins=function(){for(var G in $)$.hasOwnProperty(G)&&delete $[G]},u.destroyCustomPlugins=function(){for(var G in e)e.hasOwnProperty(G)&&delete e[G]},i.exports=u},77332:(i,$,e)=>{var u=e(83419),G=e(8443),h=e(50792),r=e(74099),o=e(44603),n=e(39429),l=e(95540),f=e(37277),s=e(72905),d=new u({Extends:h,initialize:function(c){h.call(this),this.game=c,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],c.isBooted?this.boot():c.events.once(G.BOOT,this.boot,this)},boot:function(){var p,c,g,j,k,tt,_,nt=this.game.config,it=nt.installGlobalPlugins;for(it=it.concat(this._pendingGlobal),p=0;p<it.length;p++)c=it[p],g=l(c,"key",null),j=l(c,"plugin",null),k=l(c,"start",!1),tt=l(c,"mapping",null),_=l(c,"data",null),g&&(j?this.install(g,j,k,tt,_):console.warn("Missing `plugin` for key: "+g));for(it=nt.installScenePlugins,it=it.concat(this._pendingScene),p=0;p<it.length;p++)c=it[p],g=l(c,"key",null),j=l(c,"plugin",null),tt=l(c,"mapping",null),g&&(j?this.installScenePlugin(g,j,tt):console.warn("Missing `plugin` for key: "+g));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(G.DESTROY,this.destroy,this)},addToScene:function(p,c,g){var j,k,tt,_=this.game,nt=p.scene,it=p.settings.map,rt=p.settings.isBooted;for(j=0;j<c.length;j++)k=c[j],_[k]?(p[k]=_[k],it.hasOwnProperty(k)&&(nt[it[k]]=p[k])):k==="game"&&it.hasOwnProperty(k)&&(nt[it[k]]=_);for(var st=0;st<g.length;st++)for(tt=g[st],j=0;j<tt.length;j++)if(k=tt[j],!!f.hasCore(k)){var at=f.getCore(k),ot=at.mapping,ht=new at.plugin(nt,this,ot);p[ot]=ht,at.custom?nt[ot]=ht:it.hasOwnProperty(ot)&&(nt[it[ot]]=ht),rt&&ht.boot()}for(tt=this.plugins,j=0;j<tt.length;j++){var dt=tt[j];dt.mapping&&(nt[dt.mapping]=dt.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,c,g,j,k){if(k===void 0&&(k=!1),typeof c!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(f.hasCore(p)||f.register(p,c,g,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!k&&f.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(j){var tt=new c(j,this,p);j.sys[p]=tt,g&&g!==""&&(j[g]=tt),tt.boot()}},install:function(p,c,g,j,k){if(g===void 0&&(g=!1),j===void 0&&(j=null),k===void 0&&(k=null),typeof c!="function")return console.warn("Invalid Plugin: "+p),null;if(f.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(j!==null&&(g=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:c,start:g,mapping:j,data:k});else if(f.registerCustom(p,c,j,k),g)return this.start(p);return null},getIndex:function(p){for(var c=this.plugins,g=0;g<c.length;g++){var j=c[g];if(j.key===p)return g}return-1},getEntry:function(p){var c=this.getIndex(p);if(c!==-1)return this.plugins[c]},isActive:function(p){var c=this.getEntry(p);return c&&c.active},start:function(p,c){c===void 0&&(c=p);var g=this.getEntry(c);return g&&!g.active?(g.active=!0,g.plugin.start()):g||(g=this.createEntry(p,c)),g?g.plugin:null},createEntry:function(p,c){var g=f.getCustom(p);if(g){var j=new g.plugin(this);g={key:c,plugin:j,active:!0,mapping:g.mapping,data:g.data},this.plugins.push(g),j.init(g.data),j.start()}return g},stop:function(p){var c=this.getEntry(p);return c&&c.active&&(c.active=!1,c.plugin.stop()),this},get:function(p,c){c===void 0&&(c=!0);var g=this.getEntry(p);if(g)return g.plugin;var j=this.getClass(p);return j&&c?(g=this.createEntry(p,p),g?g.plugin:null):j||null},getClass:function(p){return f.getCustomClass(p)},removeGlobalPlugin:function(p){var c=this.getEntry(p);c&&s(this.plugins,c),f.removeCustom(p)},removeScenePlugin:function(p){s(this.scenePlugins,p),f.remove(p)},registerGameObject:function(p,c,g){return c&&n.register(p,c),g&&o.register(p,g),this},removeGameObject:function(p,c,g){return c===void 0&&(c=!0),g===void 0&&(g=!0),c&&n.remove(p),g&&o.remove(p),this},registerFileType:function(p,c,g){r.register(p,c),g&&g.sys.load&&(g.sys.load[p]=c)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});i.exports=d},45145:(i,$,e)=>{var u=e(52018),G=e(83419),h=e(44594),r=new G({Extends:u,initialize:function(n,l,f){u.call(this,l),this.scene=n,this.systems=n.sys,this.pluginKey=f,n.sys.events.once(h.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});i.exports=r},18922:(i,$,e)=>{i.exports={BasePlugin:e(52018),DefaultPlugins:e(42363),PluginCache:e(37277),PluginManager:e(77332),ScenePlugin:e(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(i){let $=performance.now(),e=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,G=(h,r)=>{let o=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(n>u){let l=this.mozFrameDelay||o.totalFrameDelay-e.totalFrameDelay||0,f=r-h;i(r,{presentationTime:r+l*1e3,expectedDisplayTime:r+f,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+f/1e3,presentedFrames:n,processingDuration:l}),delete this._rvfcpolyfillmap[$]}else this._rvfcpolyfillmap[$]=requestAnimationFrame(l=>G(r,l))};return this._rvfcpolyfillmap[$]=requestAnimationFrame(h=>G($,h)),$},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(i){cancelAnimationFrame(this._rvfcpolyfillmap[i]),delete this._rvfcpolyfillmap[i]})},10312:i=>{i.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:i=>{var $={DEFAULT:0,LINEAR:0,NEAREST:1};i.exports=$},68627:(i,$,e)=>{var u=e(19715),G=e(32880),h=e(83419),r=e(8054),o=e(50792),n=e(92503),l=e(56373),f=e(97480),s=e(69442),d=e(61340),p=new h({Extends:o,initialize:function(g){o.call(this);var j=g.config;this.config={clearBeforeRender:j.clearBeforeRender,backgroundColor:j.backgroundColor,antialias:j.antialias,roundPixels:j.roundPixels},this.game=g,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=g.canvas;var k={alpha:g.config.transparent,desynchronized:g.config.desynchronized,willReadFrequently:!1};this.gameContext=j.context?j.context:this.gameCanvas.getContext("2d",k),this.currentContext=this.gameContext,this.antialias=g.config.antialias,this.blendModes=l(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(s.READY,this.boot,this)},boot:function(){var c=this.game,g=c.scale.baseSize;this.width=g.width,this.height=g.height,this.isBooted=!0,c.scale.on(f.RESIZE,this.onResize,this),this.resize(g.width,g.height)},onResize:function(c,g){(g.width!==this.width||g.height!==this.height)&&this.resize(g.width,g.height)},resize:function(c,g){this.width=c,this.height=g,this.emit(n.RESIZE,c,g)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(c){return this.currentContext.globalCompositeOperation=c,this},setContext:function(c){return this.currentContext=c||this.gameContext,this},setAlpha:function(c){return this.currentContext.globalAlpha=c,this},preRender:function(){var c=this.gameContext,g=this.config,j=this.width,k=this.height;c.globalAlpha=1,c.globalCompositeOperation="source-over",c.setTransform(1,0,0,1,0,0),g.clearBeforeRender&&(c.clearRect(0,0,j,k),g.transparent||(c.fillStyle=g.backgroundColor.rgba,c.fillRect(0,0,j,k))),c.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(c,g,j){var k=g.length;this.emit(n.RENDER,c,j);var tt=j.x,_=j.y,nt=j.width,it=j.height,rt=j.renderToTexture?j.context:c.sys.context;rt.save(),this.game.scene.customViewports&&(rt.beginPath(),rt.rect(tt,_,nt,it),rt.clip()),j.emit(u.PRE_RENDER,j),this.currentContext=rt;var st=j.mask;st&&st.preRenderCanvas(this,null,j._maskCamera),j.transparent||(rt.fillStyle=j.backgroundColor.rgba,rt.fillRect(tt,_,nt,it)),rt.globalAlpha=j.alpha,rt.globalCompositeOperation="source-over",this.drawCount+=k,j.renderToTexture&&j.emit(u.PRE_RENDER,j),j.matrix.copyToContext(rt);for(var at=0;at<k;at++){var ot=g[at];ot.mask&&ot.mask.preRenderCanvas(this,ot,j),ot.renderCanvas(this,ot,j),ot.mask&&ot.mask.postRenderCanvas(this,ot,j)}rt.setTransform(1,0,0,1,0,0),rt.globalCompositeOperation="source-over",rt.globalAlpha=1,j.flashEffect.postRenderCanvas(rt),j.fadeEffect.postRenderCanvas(rt),j.dirty=!1,st&&st.postRenderCanvas(this),rt.restore(),j.renderToTexture&&(j.emit(u.POST_RENDER,j),j.renderToGame&&c.sys.context.drawImage(j.canvas,tt,_)),j.emit(u.POST_RENDER,j)},postRender:function(){var c=this.gameContext;c.restore(),this.emit(n.POST_RENDER);var g=this.snapshotState;g.callback&&(G(this.gameCanvas,g),g.callback=null)},snapshotCanvas:function(c,g,j,k,tt,_,nt,it,rt){j===void 0&&(j=!1),this.snapshotArea(k,tt,_,nt,g,it,rt);var st=this.snapshotState;return st.getPixel=j,G(c,st),st.callback=null,this},snapshot:function(c,g,j){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,c,g,j)},snapshotArea:function(c,g,j,k,tt,_,nt){var it=this.snapshotState;return it.callback=tt,it.type=_,it.encoder=nt,it.getPixel=!1,it.x=c,it.y=g,it.width=Math.min(j,this.gameCanvas.width),it.height=Math.min(k,this.gameCanvas.height),this},snapshotPixel:function(c,g,j){return this.snapshotArea(c,g,1,1,j),this.snapshotState.getPixel=!0,this},batchSprite:function(c,g,j,k){var tt=j.alpha*c.alpha;if(tt!==0){var _=this.currentContext,nt=this._tempMatrix1,it=this._tempMatrix2,rt=g.canvasData,st=rt.x,at=rt.y,ot=g.cutWidth,ht=g.cutHeight,dt=g.customPivot,ut=g.source.resolution,ft=c.displayOriginX,gt=c.displayOriginY,xt=-ft+g.x,Et=-gt+g.y;if(c.isCropped){var pt=c._crop;(pt.flipX!==c.flipX||pt.flipY!==c.flipY)&&g.updateCropUVs(pt,c.flipX,c.flipY),ot=pt.cw,ht=pt.ch,st=pt.cx,at=pt.cy,xt=-ft+pt.x,Et=-gt+pt.y,c.flipX&&(xt>=0?xt=-(xt+ot):xt<0&&(xt=Math.abs(xt)-ot)),c.flipY&&(Et>=0?Et=-(Et+ht):Et<0&&(Et=Math.abs(Et)-ht))}var mt=1,lt=1;c.flipX&&(dt||(xt+=-g.realWidth+ft*2),mt=-1),c.flipY&&(dt||(Et+=-g.realHeight+gt*2),lt=-1);var ct=c.x,vt=c.y;it.applyITRS(ct,vt,c.rotation,c.scaleX*mt,c.scaleY*lt),nt.copyFrom(j.matrix),k?(nt.multiplyWithOffset(k,-j.scrollX*c.scrollFactorX,-j.scrollY*c.scrollFactorY),it.e=ct,it.f=vt):(it.e-=j.scrollX*c.scrollFactorX,it.f-=j.scrollY*c.scrollFactorY),nt.multiply(it),j.roundPixels&&(nt.e=Math.round(nt.e),nt.f=Math.round(nt.f)),_.save(),nt.setToContext(_),_.globalCompositeOperation=this.blendModes[c.blendMode],_.globalAlpha=tt,_.imageSmoothingEnabled=!g.source.scaleMode,c.mask&&c.mask.preRenderCanvas(this,c,j),ot>0&&ht>0&&(j.roundPixels?_.drawImage(g.source.image,st,at,ot,ht,Math.round(xt),Math.round(Et),Math.round(ot/ut),Math.round(ht/ut)):_.drawImage(g.source.image,st,at,ot,ht,xt,Et,ot/ut,ht/ut)),c.mask&&c.mask.postRenderCanvas(this,c,j),_.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});i.exports=p},55830:(i,$,e)=>{i.exports={CanvasRenderer:e(68627),GetBlendModes:e(56373),SetTransform:e(20926)}},56373:(i,$,e)=>{var u=e(10312),G=e(89289),h=function(){var r=[],o=G.supportNewBlendModes,n="source-over";return r[u.NORMAL]=n,r[u.ADD]="lighter",r[u.MULTIPLY]=o?"multiply":n,r[u.SCREEN]=o?"screen":n,r[u.OVERLAY]=o?"overlay":n,r[u.DARKEN]=o?"darken":n,r[u.LIGHTEN]=o?"lighten":n,r[u.COLOR_DODGE]=o?"color-dodge":n,r[u.COLOR_BURN]=o?"color-burn":n,r[u.HARD_LIGHT]=o?"hard-light":n,r[u.SOFT_LIGHT]=o?"soft-light":n,r[u.DIFFERENCE]=o?"difference":n,r[u.EXCLUSION]=o?"exclusion":n,r[u.HUE]=o?"hue":n,r[u.SATURATION]=o?"saturation":n,r[u.COLOR]=o?"color":n,r[u.LUMINOSITY]=o?"luminosity":n,r[u.ERASE]="destination-out",r[u.SOURCE_IN]="source-in",r[u.SOURCE_OUT]="source-out",r[u.SOURCE_ATOP]="source-atop",r[u.DESTINATION_OVER]="destination-over",r[u.DESTINATION_IN]="destination-in",r[u.DESTINATION_OUT]="destination-out",r[u.DESTINATION_ATOP]="destination-atop",r[u.LIGHTER]="lighter",r[u.COPY]="copy",r[u.XOR]="xor",r};i.exports=h},20926:(i,$,e)=>{var u=e(91296),G=function(h,r,o,n,l){var f=n.alpha*o.alpha;if(f<=0)return!1;var s=u(o,n,l).calc;return r.globalCompositeOperation=h.blendModes[o.blendMode],r.globalAlpha=f,r.save(),s.setToContext(r),r.imageSmoothingEnabled=o.frame?!o.frame.source.scaleMode:h.antialias,!0};i.exports=G},63899:i=>{i.exports="losewebgl"},6119:i=>{i.exports="postrender"},48070:i=>{i.exports="prerender"},15640:i=>{i.exports="render"},8912:i=>{i.exports="resize"},87124:i=>{i.exports="restorewebgl"},92503:(i,$,e)=>{i.exports={LOSE_WEBGL:e(63899),POST_RENDER:e(6119),PRE_RENDER:e(48070),RENDER:e(15640),RESIZE:e(8912),RESTORE_WEBGL:e(87124)}},36909:(i,$,e)=>{i.exports={Events:e(92503),Snapshot:e(89966)},i.exports.Canvas=e(55830),i.exports.WebGL=e(4159)},32880:(i,$,e)=>{var u=e(27919),G=e(40987),h=e(95540),r=function(o,n){var l=h(n,"callback"),f=h(n,"type","image/png"),s=h(n,"encoder",.92),d=Math.abs(Math.round(h(n,"x",0))),p=Math.abs(Math.round(h(n,"y",0))),c=Math.floor(h(n,"width",o.width)),g=Math.floor(h(n,"height",o.height)),j=h(n,"getPixel",!1);if(j){var k=o.getContext("2d",{willReadFrequently:!1}),tt=k.getImageData(d,p,1,1),_=tt.data;l.call(null,new G(_[0],_[1],_[2],_[3]))}else if(d!==0||p!==0||c!==o.width||g!==o.height){var nt=u.createWebGL(this,c,g),it=nt.getContext("2d",{willReadFrequently:!0});c>0&&g>0&&it.drawImage(o,d,p,c,g,0,0,c,g);var rt=new Image;rt.onerror=function(){l.call(null),u.remove(nt)},rt.onload=function(){l.call(null,rt),u.remove(nt)},rt.src=nt.toDataURL(f,s)}else{var st=new Image;st.onerror=function(){l.call(null)},st.onload=function(){l.call(null,st)},st.src=o.toDataURL(f,s)}};i.exports=r},88815:(i,$,e)=>{var u=e(27919),G=e(40987),h=e(95540),r=function(o,n){var l=o,f=h(n,"callback"),s=h(n,"type","image/png"),d=h(n,"encoder",.92),p=Math.abs(Math.round(h(n,"x",0))),c=Math.abs(Math.round(h(n,"y",0))),g=h(n,"getPixel",!1),j=h(n,"isFramebuffer",!1),k=j?h(n,"bufferWidth",1):l.drawingBufferWidth,tt=j?h(n,"bufferHeight",1):l.drawingBufferHeight;if(g){var _=new Uint8Array(4),nt=j?c:tt-c;l.readPixels(p,nt,1,1,l.RGBA,l.UNSIGNED_BYTE,_),f.call(null,new G(_[0],_[1],_[2],_[3]))}else{var it=Math.floor(h(n,"width",k)),rt=Math.floor(h(n,"height",tt)),st=it*rt*4,at=new Uint8Array(st);l.readPixels(p,tt-c-rt,it,rt,l.RGBA,l.UNSIGNED_BYTE,at);for(var ot=u.createWebGL(this,it,rt),ht=ot.getContext("2d",{willReadFrequently:!0}),dt=ht.getImageData(0,0,it,rt),ut=dt.data,ft=0;ft<rt;ft++)for(var gt=0;gt<it;gt++){var xt=((rt-ft-1)*it+gt)*4,Et=j?st-(ft*it+(it-gt))*4:(ft*it+gt)*4;ut[Et+0]=at[xt+0],ut[Et+1]=at[xt+1],ut[Et+2]=at[xt+2],ut[Et+3]=at[xt+3]}ht.putImageData(dt,0,0);var pt=new Image;pt.onerror=function(){f.call(null),u.remove(ot)},pt.onload=function(){f.call(null,pt),u.remove(ot)},pt.src=ot.toDataURL(s,d)}};i.exports=r},89966:(i,$,e)=>{i.exports={Canvas:e(32880),WebGL:e(88815)}},7530:(i,$,e)=>{var u=e(83419),G=e(36060),h=e(90330),r=e(82264),o=e(95540),n=e(32302),l=e(63448),f=e(31302),s=e(58918),d=e(14811),p=e(92651),c=e(96569),g=e(56527),j=e(57516),k=e(43439),tt=e(81041),_=e(12385),nt=e(7589),it=e(95428),rt=e(72905),st=new u({initialize:function(ot){this.game=ot.game,this.renderer=ot,this.classes=new h([[G.UTILITY_PIPELINE,nt],[G.MULTI_PIPELINE,j],[G.BITMAPMASK_PIPELINE,f],[G.SINGLE_PIPELINE,_],[G.ROPE_PIPELINE,tt],[G.LIGHT_PIPELINE,c],[G.POINTLIGHT_PIPELINE,k],[G.MOBILE_PIPELINE,g]]),this.postPipelineClasses=new h,this.pipelines=new h,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(at,ot,ht){var dt=this.renderer,ut=this.renderTargets;this.frameInc=Math.floor(o(at,"frameInc",32));var ft=dt.width,gt=dt.height,xt=this.game.config.disablePreFX,Et=this.game.config.disablePostFX;if(Et||this.postPipelineClasses.setAll([[String(d.BARREL),s.Barrel],[String(d.BLOOM),s.Bloom],[String(d.BLUR),s.Blur],[String(d.BOKEH),s.Bokeh],[String(d.CIRCLE),s.Circle],[String(d.COLOR_MATRIX),s.ColorMatrix],[String(d.DISPLACEMENT),s.Displacement],[String(d.GLOW),s.Glow],[String(d.GRADIENT),s.Gradient],[String(d.PIXELATE),s.Pixelate],[String(d.SHADOW),s.Shadow],[String(d.SHINE),s.Shine],[String(d.VIGNETTE),s.Vignette],[String(d.WIPE),s.Wipe]]),!xt){this.classes.set(G.FX_PIPELINE,p);for(var pt=Math.min(ft,gt),mt=Math.ceil(pt/this.frameInc),lt=1;lt<mt;lt++){var ct=lt*this.frameInc;ut.push(new n(dt,ct,ct)),ut.push(new n(dt,ct,ct)),ut.push(new n(dt,ct,ct)),this.maxDimension=ct}ut.push(new n(dt,ft,gt,1,0,!0,!0)),ut.push(new n(dt,ft,gt,1,0,!0,!0)),ut.push(new n(dt,ft,gt,1,0,!0,!0))}var vt,yt,Tt=this,Ct=this.game;if(this.classes.each(function(Dt,Mt){vt=Tt.add(Dt,new Mt({game:Ct})),Dt===G.UTILITY_PIPELINE&&(Tt.UTILITY_PIPELINE=vt,Tt.fullFrame1=vt.fullFrame1,Tt.fullFrame2=vt.fullFrame2,Tt.halfFrame1=vt.halfFrame1,Tt.halfFrame2=vt.halfFrame2)}),this.MULTI_PIPELINE=this.get(G.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(G.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(G.MOBILE_PIPELINE),xt||(this.FX_PIPELINE=this.get(G.FX_PIPELINE)),at)for(yt in at){var St=at[yt];vt=new St(Ct),vt.name=yt,vt.isPostFX?this.postPipelineClasses.set(yt,St):this.has(yt)||(this.classes.set(yt,St),this.add(yt,vt))}this.default=this.get(ot),ht&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(at){var ot=this.get(at);return ot&&(this.default=ot),ot},add:function(at,ot){if(ot.isPostFX){console.warn(at+" is a Post Pipeline. Use `addPostPipeline` instead");return}var ht=this.pipelines,dt=this.renderer;return ht.has(at)?console.warn("Pipeline exists: "+at):(ot.name=at,ot.manager=this,ht.set(at,ot)),ot.hasBooted||ot.boot(),dt.width!==0&&dt.height!==0&&!ot.isPreFX&&ot.resize(dt.width,dt.height),ot},addPostPipeline:function(at,ot){this.postPipelineClasses.has(at)||this.postPipelineClasses.set(at,ot)},flush:function(){this.current&&this.current.flush()},has:function(at){var ot=this.pipelines;return typeof at=="string"?ot.has(at):!!ot.contains(at)},get:function(at){var ot=this.pipelines;if(typeof at=="string")return ot.get(at);if(ot.contains(at))return at},getPostPipeline:function(at,ot,ht){var dt=this.postPipelineClasses,ut,ft="",gt=typeof at;if(gt==="string"||gt==="number"?(ut=dt.get(at),ft=at):gt==="function"?(dt.contains(at)&&(ut=at),ft=at.name):gt==="object"&&(ut=dt.get(at.name),ft=at.name),ut){var xt=new ut(this.game,ht);return xt.name=ft,ot&&(xt.gameObject=ot),this.postPipelineInstances.push(xt),xt}},removePostPipeline:function(at){rt(this.postPipelineInstances,at)},remove:function(at,ot,ht){ot===void 0&&(ot=!0),ht===void 0&&(ht=!0),this.pipelines.delete(at),ot&&this.classes.delete(at),ht&&this.postPipelineClasses.delete(at)},set:function(at,ot,ht){if(!at.isPostFX)return this.isCurrent(at,ht)||(this.flush(),this.current&&this.current.unbind(),this.current=at,at.bind(ht)),at.updateProjectionMatrix(),at.onBind(ot),at},preBatch:function(at){if(at.hasPostPipeline){this.flush();for(var ot=at.postPipelines,ht=ot.length-1;ht>=0;ht--){var dt=ot[ht];dt.active&&dt.preBatch(at)}}},postBatch:function(at){if(at.hasPostPipeline){this.flush();for(var ot=at.postPipelines,ht=0;ht<ot.length;ht++){var dt=ot[ht];dt.active&&dt.postBatch(at)}}},preBatchCamera:function(at){if(at.hasPostPipeline){this.flush();for(var ot=at.postPipelines,ht=ot.length-1;ht>=0;ht--){var dt=ot[ht];dt.active&&dt.preBatch(at)}}},postBatchCamera:function(at){if(at.hasPostPipeline){this.flush();for(var ot=at.postPipelines,ht=0;ht<ot.length;ht++){var dt=ot[ht];dt.active&&dt.postBatch(at)}}},isCurrent:function(at,ot){var ht=this.renderer,dt=this.current;return dt&&!ot&&(ot=dt.currentShader),!(dt!==at||ot.program!==ht.currentProgram)},copyFrame:function(at,ot,ht,dt,ut){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(at,ot,ht,dt,ut),this},copyToGame:function(at){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(at),this},drawFrame:function(at,ot,ht,dt){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(at,ot,ht,dt),this},blendFrames:function(at,ot,ht,dt,ut){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(at,ot,ht,dt,ut),this},blendFramesAdditive:function(at,ot,ht,dt,ut){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(at,ot,ht,dt,ut),this},clearFrame:function(at,ot){return this.UTILITY_PIPELINE.clearFrame(at,ot),this},blitFrame:function(at,ot,ht,dt,ut,ft){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(at,ot,ht,dt,ut,ft),this},copyFrameRect:function(at,ot,ht,dt,ut,ft,gt,xt){return this.UTILITY_PIPELINE.copyFrameRect(at,ot,ht,dt,ut,ft,gt,xt),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(at){return this.UTILITY_PIPELINE.bind(at)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(at,ot){ot.restoreContext()}),it(this.postPipelineInstances,function(at){at.restoreContext()})},rebind:function(at){at===void 0&&this.previous&&(at=this.previous);var ot=this.renderer,ht=ot.gl;ht.disable(ht.DEPTH_TEST),ht.disable(ht.CULL_FACE),ot.hasActiveStencilMask()?ht.clear(ht.DEPTH_BUFFER_BIT):(ht.disable(ht.STENCIL_TEST),ht.clear(ht.DEPTH_BUFFER_BIT|ht.STENCIL_BUFFER_BIT)),ht.viewport(0,0,ot.width,ot.height),ot.currentProgram=null,ot.setBlendMode(0,!0);var dt=ot.vaoExtension;dt&&dt.bindVertexArrayOES(null);var ut=this.pipelines.entries;for(var ft in ut)ut[ft].glReset=!0;at&&(this.current=at,at.rebind())},clear:function(){var at=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,at.currentProgram=null,at.setBlendMode(0,!0);var ot=at.vaoExtension;ot&&ot.bindVertexArrayOES(null)},getRenderTarget:function(at){var ot=this.renderTargets,ht=3;if(at>this.maxDimension)return this.targetIndex=ot.length-ht,ot[this.targetIndex];var dt=(l(at,this.frameInc,0,!0)-1)*ht;return this.targetIndex=dt,ot[dt]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});i.exports=st},32302:(i,$,e)=>{var u=e(83419),G=e(92503),h=new u({initialize:function(o,n,l,f,s,d,p,c,g){f===void 0&&(f=1),s===void 0&&(s=0),d===void 0&&(d=!0),p===void 0&&(p=!1),c===void 0&&(c=!0),g===void 0&&(g=!0),this.renderer=o,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=s,this.autoClear=d,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=g,this.resize(n,l),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(G.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(G.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,o){if(r=Math.round(r*this.scale),o=Math.round(o*this.scale),r<=0&&(r=1),o<=0&&(o=1),this.autoResize&&(r!==this.width||o!==this.height)){var n=this.renderer;n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),this.texture=n.createTextureFromSource(null,r,o,this.minFilter,this.forceClamp),this.framebuffer=n.createFramebuffer(r,o,this.texture,this.hasDepthBuffer),this.width=r,this.height=o}return this},willResize:function(r,o){return r=Math.round(r*this.scale),o=Math.round(o*this.scale),r<=0&&(r=1),o<=0&&(o=1),r!==this.width||o!==this.height},bind:function(r,o,n){r===void 0&&(r=!1);var l=this.renderer;if(r&&l.flush(),o&&n&&this.resize(o,n),l.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var f=this.renderer.gl;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)}l.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,o=r.gl;r.pushFramebuffer(this.framebuffer),o.disable(o.SCISSOR_TEST),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var o=this.renderer;return r&&o.flush(),o.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(G.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});i.exports=h},70554:i=>{i.exports={getTintFromFloats:function($,e,u,G){var h=($*255|0)&255,r=(e*255|0)&255,o=(u*255|0)&255,n=(G*255|0)&255;return(n<<24|h<<16|r<<8|o)>>>0},getTintAppendFloatAlpha:function($,e){var u=(e*255|0)&255;return(u<<24|$)>>>0},getTintAppendFloatAlphaAndSwap:function($,e){var u=($>>16|0)&255,G=($>>8|0)&255,h=($|0)&255,r=(e*255|0)&255;return(r<<24|h<<16|G<<8|u)>>>0},getFloatsFromUintRGB:function($){var e=($>>16|0)&255,u=($>>8|0)&255,G=($|0)&255;return[e/255,u/255,G/255]},checkShaderMax:function($,e){var u=Math.min(16,$.getParameter($.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?u:Math.min(u,e)},parseFragmentShaderMaxTextures:function($,e){if(!$)return"";for(var u="",G=0;G<e;G++)G>0&&(u+=`
	else `),G<e-1&&(u+="if (outTexId < "+G+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+G+"], outTexCoord);",u+=`
	}`;return $=$.replace(/%count%/gi,e.toString()),$.replace(/%forloop%/gi,u)},setGlowQuality:function($,e,u,G){return u===void 0&&(u=e.config.glowFXQuality),G===void 0&&(G=e.config.glowFXDistance),$=$.replace(/__SIZE__/gi,(1/u/G).toFixed(7)),$=$.replace(/__DIST__/gi,G.toFixed(0)+".0"),$}}},29100:(i,$,e)=>{var u=e(83419),G=e(62644),h=e(50792),r=e(77085),o=e(95540),n=e(37867),l=e(92503),f=e(32302),s=e(70554),d=e(38683),p=new u({Extends:h,initialize:function(g){h.call(this);var j=g.game,k=j.renderer,tt=k.gl;this.name=o(g,"name","WebGLPipeline"),this.game=j,this.renderer=k,this.manager,this.gl=tt,this.view=j.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(g,"topology",tt.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(g,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=g,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=o(g,"resizeUniform","")},boot:function(){var c,g=this.gl,j=this.config,k=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var tt=this.renderTargets,_=o(j,"renderTarget",!1);typeof _=="boolean"&&_&&(_=1);var nt=k.width,it=k.height;if(typeof _=="number")for(c=0;c<_;c++)tt.push(new f(k,nt,it,1,0,!0));else if(Array.isArray(_))for(c=0;c<_.length;c++){var rt=o(_[c],"scale",1),st=o(_[c],"minFilter",0),at=o(_[c],"autoClear",1),ot=o(_[c],"autoResize",!1),ht=o(_[c],"width",null),dt=o(_[c],"height",ht);ht?tt.push(new f(k,ht,dt,1,st,at,ot)):tt.push(new f(k,nt,it,rt,st,at,ot))}tt.length&&(this.currentRenderTarget=tt[0]),this.setShadersFromConfig(j);var ut=this.shaders,ft=0;for(c=0;c<ut.length;c++)ut[c].vertexSize>ft&&(ft=ut[c].vertexSize);var gt=o(j,"batchSize",k.config.batchSize);this.vertexCapacity=gt*6;var xt=new ArrayBuffer(this.vertexCapacity*ft);this.vertexData=xt,this.bytes=new Uint8Array(xt),this.vertexViewF32=new Float32Array(xt),this.vertexViewU32=new Uint32Array(xt);var Et=o(j,"vertices",null);for(Et?(this.vertexViewF32.set(Et),this.vertexBuffer=k.createVertexBuffer(xt,g.STATIC_DRAW)):this.vertexBuffer=k.createVertexBuffer(xt.byteLength,g.DYNAMIC_DRAW),this.setVertexBuffer(),c=ut.length-1;c>=0;c--)ut[c].rebind();this.hasBooted=!0,k.on(l.RESIZE,this.resize,this),k.on(l.PRE_RENDER,this.onPreRender,this),k.on(l.RENDER,this.onRender,this),k.on(l.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,g,j){var k=this.renderer;if(c!==this.currentShader||k.currentProgram!==this.currentShader.program){this.flush();var tt=this.setVertexBuffer(j);tt&&!g&&(g=!0),c.bind(g,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var g=this.shaders,j=0;j<g.length;j++)if(g[j].name===c)return g[j]},setShadersFromConfig:function(c){var g,j=this.shaders,k=this.renderer;for(g=0;g<j.length;g++)j[g].destroy();var tt="vertShader",_="fragShader",nt="attributes",it=o(c,tt,null),rt=s.parseFragmentShaderMaxTextures(o(c,_,null),k.maxTextures),st=o(c,nt,null),at=o(c,"shaders",[]),ot=at.length;if(ot===0)it&&rt&&(this.shaders=[new d(this,"default",it,rt,G(st))]);else{var ht=[];for(g=0;g<ot;g++){var dt=at[g],ut,ft,gt,xt;if(typeof dt=="string"?(ut="default",ft=it,gt=s.parseFragmentShaderMaxTextures(dt,k.maxTextures),xt=st):(ut=o(dt,"name","default"),ft=o(dt,tt,it),gt=s.parseFragmentShaderMaxTextures(o(dt,_,rt),k.maxTextures),xt=o(dt,nt,st)),ut==="default"){var Et=gt.split(`
`),pt=Et[0].trim();pt.indexOf("#define SHADER_NAME")>-1&&(ut=pt.substring(20))}ft&&gt&&ht.push(new d(this,ut,ft,gt,G(xt)))}this.shaders=ht}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var g=this.currentBatch;g&&(g.texture.push(c),g.unit++,g.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var g=this.currentBatch,j=g.texture.indexOf(c);return j===-1?g.texture.length===this.renderer.maxTextures?this.createBatch(c):(g.unit++,g.maxUnit++,g.texture.push(c),this.currentUnit=g.unit,this.currentTexture=c,g.unit):(this.currentUnit=j,this.currentTexture=c,j)},setGameObject:function(c,g){return g===void 0&&(g=c.frame),this.pushBatch(g.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,g){(c!==this.width||g!==this.height)&&this.flush(),this.width=c,this.height=g;for(var j=this.renderTargets,k=0;k<j.length;k++)j[k].resize(c,g);return this.setProjectionMatrix(c,g),this.resizeUniform&&this.set2f(this.resizeUniform,c,g),this.emit(r.RESIZE,c,g,this),this.onResize(c,g),this},setProjectionMatrix:function(c,g){var j=this.projectionMatrix;if(!j)return this;this.projectionWidth=c,this.projectionHeight=g,j.ortho(0,c,g,0,-1e3,1e3);for(var k=this.shaders,tt="uProjectionMatrix",_=0;_<k.length;_++){var nt=k[_];nt.hasUniform(tt)&&(nt.resetUniform(tt),nt.setMatrix4fv(tt,!1,j.val,nt))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var g=this.projectionMatrix;if(!g)return this;var j=this.projectionWidth,k=this.projectionHeight;c?g.ortho(0,j,0,k,-1e3,1e3):g.ortho(0,j,k,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,g.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,g=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==g)&&this.setProjectionMatrix(c,g)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var g=!1,j=this.gl;return j.getParameter(j.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(j.bindBuffer(j.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,g=!0),c.bind(g),this.currentShader=c,this.activeTextures.length=0,this.emit(r.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var g=this.shaders,j=g.length-1;j>=0;j--){var k=g[j].rebind();(!c||k===c)&&(this.currentShader=k)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,g=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,g&&this.setVertexBuffer();for(var j=0;j<c.length;j++){var k=c[j];k.syncUniforms(),g&&k.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var g=this.gl;return this.gl.bindBuffer(g.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var g=this.gl,j=this.vertexCount,k=this.currentShader.vertexSize,tt=this.topology;if(this.active){this.setVertexBuffer(),j===this.vertexCapacity?g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.DYNAMIC_DRAW):g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,j*k));var _,nt,it,rt=this.batch,st=this.activeTextures;if(this.forceZero)for(st[0]||g.activeTexture(g.TEXTURE0),_=0;_<rt.length;_++)nt=rt[_],it=nt.texture[0],st[0]!==it&&(g.bindTexture(g.TEXTURE_2D,it.webGLTexture),st[0]=it),g.drawArrays(tt,nt.start,nt.count);else for(_=0;_<rt.length;_++){nt=rt[_];for(var at=0;at<=nt.maxUnit;at++)it=nt.texture[at],st[at]!==it&&(g.activeTexture(g.TEXTURE0+at),g.bindTexture(g.TEXTURE_2D,it.webGLTexture),st[at]=it);g.drawArrays(tt,nt.start,nt.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,g,j,k,tt,_,nt){var it=this.vertexViewF32,rt=this.vertexViewU32,st=this.vertexCount*this.currentShader.vertexComponentCount-1;it[++st]=c,it[++st]=g,it[++st]=j,it[++st]=k,it[++st]=tt,it[++st]=_,rt[++st]=nt,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut,ft,gt,xt,Et,pt){pt===void 0&&(pt=this.currentUnit);var mt=!1;this.shouldFlush(6)&&(this.flush(),mt=!0),this.currentBatch||(pt=this.setTexture2D(Et));var lt=this.vertexViewF32,ct=this.vertexViewU32,vt=this.vertexCount*this.currentShader.vertexComponentCount-1;return lt[++vt]=g,lt[++vt]=j,lt[++vt]=st,lt[++vt]=at,lt[++vt]=pt,lt[++vt]=xt,ct[++vt]=dt,lt[++vt]=k,lt[++vt]=tt,lt[++vt]=st,lt[++vt]=ht,lt[++vt]=pt,lt[++vt]=xt,ct[++vt]=ft,lt[++vt]=_,lt[++vt]=nt,lt[++vt]=ot,lt[++vt]=ht,lt[++vt]=pt,lt[++vt]=xt,ct[++vt]=gt,lt[++vt]=g,lt[++vt]=j,lt[++vt]=st,lt[++vt]=at,lt[++vt]=pt,lt[++vt]=xt,ct[++vt]=dt,lt[++vt]=_,lt[++vt]=nt,lt[++vt]=ot,lt[++vt]=ht,lt[++vt]=pt,lt[++vt]=xt,ct[++vt]=gt,lt[++vt]=it,lt[++vt]=rt,lt[++vt]=ot,lt[++vt]=at,lt[++vt]=pt,lt[++vt]=xt,ct[++vt]=ut,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),mt},batchTri:function(c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut,ft,gt){gt===void 0&&(gt=this.currentUnit);var xt=!1;this.shouldFlush(3)&&(this.flush(),xt=!0),this.currentBatch||(gt=this.setTexture2D(ft));var Et=this.vertexViewF32,pt=this.vertexViewU32,mt=this.vertexCount*this.currentShader.vertexComponentCount-1;return Et[++mt]=g,Et[++mt]=j,Et[++mt]=it,Et[++mt]=rt,Et[++mt]=gt,Et[++mt]=ut,pt[++mt]=ot,Et[++mt]=k,Et[++mt]=tt,Et[++mt]=it,Et[++mt]=at,Et[++mt]=gt,Et[++mt]=ut,pt[++mt]=ht,Et[++mt]=_,Et[++mt]=nt,Et[++mt]=st,Et[++mt]=at,Et[++mt]=gt,Et[++mt]=ut,pt[++mt]=dt,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),xt},drawFillRect:function(c,g,j,k,tt,_,nt,it){nt===void 0&&(nt=this.renderer.whiteTexture),it===void 0&&(it=!0),c=Math.floor(c),g=Math.floor(g);var rt=Math.floor(c+j),st=Math.floor(g+k),at=this.setTexture2D(nt),ot=s.getTintAppendFloatAlphaAndSwap(tt,_),ht=0,dt=0,ut=1,ft=1;it&&(dt=1,ft=0),this.batchQuad(null,c,g,c,st,rt,st,rt,g,ht,dt,ut,ft,ot,ot,ot,ot,0,nt,at)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,g){g===void 0&&(g=0);var j=this.gl;return j.activeTexture(j.TEXTURE0+g),j.bindTexture(j.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,g){return this.bindTexture(c.texture,g)},setTime:function(c,g){return this.set1f(c,this.game.loop.getDuration(),g),this},setBoolean:function(c,g,j){return j===void 0&&(j=this.currentShader),j.setBoolean(c,g),this},set1f:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set1f(c,g),this},set2f:function(c,g,j,k){return k===void 0&&(k=this.currentShader),k.set2f(c,g,j),this},set3f:function(c,g,j,k,tt){return tt===void 0&&(tt=this.currentShader),tt.set3f(c,g,j,k),this},set4f:function(c,g,j,k,tt,_){return _===void 0&&(_=this.currentShader),_.set4f(c,g,j,k,tt),this},set1fv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set1fv(c,g),this},set2fv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set2fv(c,g),this},set3fv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set3fv(c,g),this},set4fv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set4fv(c,g),this},set1iv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set1iv(c,g),this},set2iv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set2iv(c,g),this},set3iv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set3iv(c,g),this},set4iv:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set4iv(c,g),this},set1i:function(c,g,j){return j===void 0&&(j=this.currentShader),j.set1i(c,g),this},set2i:function(c,g,j,k){return k===void 0&&(k=this.currentShader),k.set2i(c,g,j),this},set3i:function(c,g,j,k,tt){return tt===void 0&&(tt=this.currentShader),tt.set3i(c,g,j,k),this},set4i:function(c,g,j,k,tt,_){return _===void 0&&(_=this.currentShader),_.set4i(c,g,j,k,tt),this},setMatrix2fv:function(c,g,j,k){return k===void 0&&(k=this.currentShader),k.setMatrix2fv(c,g,j),this},setMatrix3fv:function(c,g,j,k){return k===void 0&&(k=this.currentShader),k.setMatrix3fv(c,g,j),this},setMatrix4fv:function(c,g,j,k){return k===void 0&&(k=this.currentShader),k.setMatrix4fv(c,g,j),this},destroy:function(){this.emit(r.DESTROY,this);var c,g=this.shaders;for(c=0;c<g.length;c++)g[c].destroy();var j=this.renderTargets;for(c=0;c<j.length;c++)j[c].destroy();var k=this.renderer;return k.deleteBuffer(this.vertexBuffer),k.off(l.RESIZE,this.resize,this),k.off(l.PRE_RENDER,this.onPreRender,this),k.off(l.RENDER,this.onRender,this),k.off(l.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});i.exports=p},74797:(i,$,e)=>{var u=e(95428),G=e(72905),h=e(19715),r=e(83419),o=e(8054),n=e(50792),l=e(92503),f=e(50030),s=e(37867),d=e(29747),p=e(7530),c=e(32302),g=e(97480),j=e(69442),k=e(70554),tt=e(88815),_=e(26128),nt=e(1482),it=e(82751),rt=e(84387),st=e(93567),at=e(57183),ot=!1;if(0)var ht;var dt=new r({Extends:n,initialize:function(ft){n.call(this);var gt=ft.config,xt={alpha:gt.transparent,desynchronized:gt.desynchronized,depth:!0,antialias:gt.antialiasGL,premultipliedAlpha:gt.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:gt.failIfMajorPerformanceCaveat,powerPreference:gt.powerPreference,preserveDrawingBuffer:gt.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:gt.clearBeforeRender,antialias:gt.antialias,backgroundColor:gt.backgroundColor,contextCreation:xt,roundPixels:gt.roundPixels,maxTextures:gt.maxTextures,maxTextureSize:gt.maxTextureSize,batchSize:gt.batchSize,maxLights:gt.maxLights,mipmapFilter:gt.mipmapFilter},this.game=ft,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=ft.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(ut){var ft,gt=this.game,xt=this.canvas,Et=ut.backgroundColor;if(ot&&(this.spector=new ht.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),gt.config.context?ft=gt.config.context:ft=xt.getContext("webgl",ut.contextCreation)||xt.getContext("experimental-webgl",ut.contextCreation),!ft||ft.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=ft;var pt=this,mt=function(){var vt=ft.getSupportedExtensions();pt.supportedExtensions=vt;var yt="ANGLE_instanced_arrays";pt.instancedArraysExtension=vt.indexOf(yt)>-1?ft.getExtension(yt):null;var Tt="OES_vertex_array_object";pt.vaoExtension=vt.indexOf(Tt)>-1?ft.getExtension(Tt):null};mt(),this.contextLostHandler=function(vt){pt.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),pt.emit(l.LOSE_WEBGL,pt),vt.preventDefault()},xt.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(vt){if(ft.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}pt.currentProgram=null,pt.currentFramebuffer=null,pt.setBlendMode(o.BlendModes.NORMAL),ft.disable(ft.BLEND),ft.disable(ft.DEPTH_TEST),ft.enable(ft.CULL_FACE),pt.compression=pt.getCompressedTextures();var yt=function(Tt){Tt.createResource()};u(pt.glTextureWrappers,yt),u(pt.glBufferWrappers,yt),u(pt.glFramebufferWrappers,yt),u(pt.glProgramWrappers,yt),u(pt.glAttribLocationWrappers,yt),u(pt.glUniformLocationWrappers,yt),pt.createTemporaryTextures(),pt.pipelines.restoreContext(),pt.resize(pt.game.scale.baseSize.width,pt.game.scale.baseSize.height),mt(),pt.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),pt.emit(l.RESTORE_WEBGL,pt),vt.preventDefault()},xt.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),gt.context=ft;for(var lt=0;lt<=27;lt++)this.blendModes.push({func:[ft.ONE,ft.ONE_MINUS_SRC_ALPHA],equation:ft.FUNC_ADD});this.blendModes[1].func=[ft.ONE,ft.DST_ALPHA],this.blendModes[2].func=[ft.DST_COLOR,ft.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[ft.ONE,ft.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[ft.ZERO,ft.ONE_MINUS_SRC_ALPHA],equation:ft.FUNC_REVERSE_SUBTRACT},this.glFormats=[ft.BYTE,ft.SHORT,ft.UNSIGNED_BYTE,ft.UNSIGNED_SHORT,ft.FLOAT],this.glFuncMap={mat2:{func:ft.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:ft.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:ft.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:ft.uniform1f,length:1},"1fv":{func:ft.uniform1fv,length:1},"1i":{func:ft.uniform1i,length:1},"1iv":{func:ft.uniform1iv,length:1},"2f":{func:ft.uniform2f,length:2},"2fv":{func:ft.uniform2fv,length:1},"2i":{func:ft.uniform2i,length:2},"2iv":{func:ft.uniform2iv,length:1},"3f":{func:ft.uniform3f,length:3},"3fv":{func:ft.uniform3fv,length:1},"3i":{func:ft.uniform3i,length:3},"3iv":{func:ft.uniform3iv,length:1},"4f":{func:ft.uniform4f,length:4},"4fv":{func:ft.uniform4fv,length:1},"4i":{func:ft.uniform4i,length:4},"4iv":{func:ft.uniform4iv,length:1}},(!ut.maxTextures||ut.maxTextures===-1)&&(ut.maxTextures=ft.getParameter(ft.MAX_TEXTURE_IMAGE_UNITS)),ut.maxTextureSize||(ut.maxTextureSize=ft.getParameter(ft.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),ft.disable(ft.DEPTH_TEST),ft.disable(ft.CULL_FACE),ft.enable(ft.BLEND),ft.clearColor(Et.redGL,Et.greenGL,Et.blueGL,Et.alphaGL);var ct=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return ct.indexOf(ut.mipmapFilter)!==-1&&(this.mipmapFilter=ft[ut.mipmapFilter]),this.maxTextures=k.checkShaderMax(ft,ut.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),gt.textures.once(j.READY,this.boot,this),this},boot:function(){var ut=this.game,ft=this.pipelines,gt=ut.scale.baseSize,xt=gt.width,Et=gt.height;this.width=xt,this.height=Et,this.isBooted=!0,this.renderTarget=new c(this,xt,Et,1,0,!0,!0),this.maskTarget=new c(this,xt,Et,1,0,!0,!0),this.maskSource=new c(this,xt,Et,1,0,!0,!0);var pt=ut.config;ft.boot(pt.pipeline,pt.defaultPipeline,pt.autoMobilePipeline),this.blankTexture=ut.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=ut.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=ut.textures.getFrame("__WHITE").glTexture;var mt=this.gl;mt.bindFramebuffer(mt.FRAMEBUFFER,null),mt.enable(mt.SCISSOR_TEST),ut.scale.on(g.RESIZE,this.onResize,this),this.resize(xt,Et)},createTemporaryTextures:function(){for(var ut=this.gl,ft=0;ft<this.maxTextures;ft++){var gt=ut.createTexture();ut.activeTexture(ut.TEXTURE0+ft),ut.bindTexture(ut.TEXTURE_2D,gt),ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,1,1,0,ut.RGBA,ut.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(ft)}},captureFrame:function(ut,ft){ut===void 0&&(ut=!1),ft===void 0&&(ft=!1),ot&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,ut,ft),this._debugCapture=!0)},captureNextFrame:function(){ot&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(ot&&this.spector)return this.spector.getFps()},log:function(){if(ot&&this.spector){var ut=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(ut)}},startCapture:function(ut,ft,gt){ut===void 0&&(ut=0),ft===void 0&&(ft=!1),gt===void 0&&(gt=!1),ot&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,ut,ft,gt),this._debugCapture=!0)},stopCapture:function(){if(ot&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(ut){if(ot){var ft=this.spector.getResultUI();ft.display(ut),this._debugCapture=!1}},onResize:function(ut,ft){(ft.width!==this.width||ft.height!==this.height)&&this.resize(ft.width,ft.height)},beginCapture:function(ut,ft){ut===void 0&&(ut=this.width),ft===void 0&&(ft=this.height),this.renderTarget.bind(!0,ut,ft),this.setProjectionMatrix(ut,ft)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(ut,ft){var gt=this.gl;return this.width=ut,this.height=ft,this.setProjectionMatrix(ut,ft),gt.viewport(0,0,ut,ft),this.drawingBufferHeight=gt.drawingBufferHeight,gt.scissor(0,gt.drawingBufferHeight-ft,ut,ft),this.defaultScissor[2]=ut,this.defaultScissor[3]=ft,this.emit(l.RESIZE,ut,ft),this},getCompressedTextures:function(){var ut="WEBGL_compressed_texture_",ft="WEBKIT_"+ut,gt="EXT_texture_compression_",xt=function(pt,mt){var lt=pt.getExtension(ut+mt)||pt.getExtension(ft+mt)||pt.getExtension(gt+mt);if(lt){var ct={};for(var vt in lt)ct[lt[vt]]=vt;return ct}},Et=this.gl;return{ETC:xt(Et,"etc"),ETC1:xt(Et,"etc1"),ATC:xt(Et,"atc"),ASTC:xt(Et,"astc"),BPTC:xt(Et,"bptc"),RGTC:xt(Et,"rgtc"),PVRTC:xt(Et,"pvrtc"),S3TC:xt(Et,"s3tc"),S3TCSRGB:xt(Et,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(ut,ft){var gt=this.compression[ut.toUpperCase()];if(ft in gt)return gt[ft]},supportsCompressedTexture:function(ut,ft){var gt=this.compression[ut.toUpperCase()];return gt?ft?ft in gt:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(ut,ft){return(ut!==this.projectionWidth||ft!==this.projectionHeight)&&(this.projectionWidth=ut,this.projectionHeight=ft,this.projectionMatrix.ortho(0,ut,ft,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(ut){return this.supportedExtensions?this.supportedExtensions.indexOf(ut):!1},getExtension:function(ut){return this.hasExtension(ut)?(ut in this.extensions||(this.extensions[ut]=this.gl.getExtension(ut)),this.extensions[ut]):null},flush:function(){this.pipelines.flush()},pushScissor:function(ut,ft,gt,xt,Et){Et===void 0&&(Et=this.drawingBufferHeight);var pt=this.scissorStack,mt=[ut,ft,gt,xt];return pt.push(mt),this.setScissor(ut,ft,gt,xt,Et),this.currentScissor=mt,mt},setScissor:function(ut,ft,gt,xt,Et){Et===void 0&&(Et=this.drawingBufferHeight);var pt=this.gl,mt=this.currentScissor,lt=gt>0&&xt>0;if(mt&&lt){var ct=mt[0],vt=mt[1],yt=mt[2],Tt=mt[3];lt=ct!==ut||vt!==ft||yt!==gt||Tt!==xt}lt&&(this.flush(),pt.scissor(ut,Et-ft-xt,gt,xt))},resetScissor:function(){var ut=this.gl;ut.enable(ut.SCISSOR_TEST);var ft=this.currentScissor;if(ft){var gt=ft[0],xt=ft[1],Et=ft[2],pt=ft[3];Et>0&&pt>0&&ut.scissor(gt,this.drawingBufferHeight-xt-pt,Et,pt)}},popScissor:function(){var ut=this.scissorStack;ut.pop();var ft=ut[ut.length-1];ft&&this.setScissor(ft[0],ft[1],ft[2],ft[3]),this.currentScissor=ft},hasActiveStencilMask:function(){var ut=this.currentMask.mask,ft=this.currentCameraMask.mask;return ut&&ut.isStencil||ft&&ft.isStencil},resetViewport:function(){var ut=this.gl;ut.viewport(0,0,this.width,this.height),this.drawingBufferHeight=ut.drawingBufferHeight},setBlendMode:function(ut,ft){ft===void 0&&(ft=!1);var gt=this.gl,xt=this.blendModes[ut];return ft||ut!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==ut?(this.flush(),gt.enable(gt.BLEND),gt.blendEquation(xt.equation),xt.func.length>2?gt.blendFuncSeparate(xt.func[0],xt.func[1],xt.func[2],xt.func[3]):gt.blendFunc(xt.func[0],xt.func[1]),this.currentBlendMode=ut,!0):!1},addBlendMode:function(ut,ft){var gt=this.blendModes.push({func:ut,equation:ft});return gt-1},updateBlendMode:function(ut,ft,gt){return this.blendModes[ut]&&(this.blendModes[ut].func=ft,gt&&(this.blendModes[ut].equation=gt)),this},removeBlendMode:function(ut){return ut>17&&this.blendModes[ut]&&this.blendModes.splice(ut,1),this},pushFramebuffer:function(ut,ft,gt,xt,Et){return ut===this.currentFramebuffer?this:(this.fboStack.push(ut),this.setFramebuffer(ut,ft,gt,xt,Et))},setFramebuffer:function(ut,ft,gt,xt,Et){if(ft===void 0&&(ft=!1),gt===void 0&&(gt=!0),xt===void 0&&(xt=null),Et===void 0&&(Et=!1),ut===this.currentFramebuffer)return this;var pt=this.gl,mt=this.width,lt=this.height;return ut&&ut.renderTexture&&gt?(mt=ut.renderTexture.width,lt=ut.renderTexture.height):this.flush(),ut?pt.bindFramebuffer(pt.FRAMEBUFFER,ut.webGLFramebuffer):pt.bindFramebuffer(pt.FRAMEBUFFER,null),gt&&pt.viewport(0,0,mt,lt),xt&&pt.framebufferTexture2D(pt.FRAMEBUFFER,pt.COLOR_ATTACHMENT0,pt.TEXTURE_2D,xt.webGLTexture,0),Et&&(pt.clearColor(0,0,0,0),pt.clear(pt.COLOR_BUFFER_BIT)),ft&&(ut?(this.drawingBufferHeight=lt,this.pushScissor(0,0,mt,lt)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=ut,this},popFramebuffer:function(ut,ft){ut===void 0&&(ut=!1),ft===void 0&&(ft=!0);var gt=this.fboStack;gt.pop();var xt=gt[gt.length-1];return xt||(xt=null),this.setFramebuffer(xt,ut,ft),xt},restoreFramebuffer:function(ut,ft){ut===void 0&&(ut=!1),ft===void 0&&(ft=!0);var gt=this.fboStack,xt=gt[gt.length-1];xt||(xt=null),this.currentFramebuffer=null,this.setFramebuffer(xt,ut,ft)},setProgram:function(ut){return ut!==this.currentProgram?(this.flush(),this.gl.useProgram(ut.webGLProgram),this.currentProgram=ut,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(ut,ft,gt,xt,Et){Et===void 0&&(Et=!1);var pt=this.gl,mt=pt.NEAREST,lt=pt.NEAREST,ct=pt.CLAMP_TO_EDGE,vt=null;ft=ut?ut.width:ft,gt=ut?ut.height:gt;var yt=f(ft,gt);if(yt&&!Et&&(ct=pt.REPEAT),xt===o.ScaleModes.LINEAR&&this.config.antialias){var Tt=ut&&ut.compressed,Ct=!Tt&&yt||Tt&&ut.mipmaps.length>1;mt=this.mipmapFilter&&Ct?this.mipmapFilter:pt.LINEAR,lt=pt.LINEAR}return!ut&&typeof ft=="number"&&typeof gt=="number"?vt=this.createTexture2D(0,mt,lt,ct,ct,pt.RGBA,null,ft,gt):vt=this.createTexture2D(0,mt,lt,ct,ct,pt.RGBA,ut),vt},createTexture2D:function(ut,ft,gt,xt,Et,pt,mt,lt,ct,vt,yt,Tt){typeof lt!="number"&&(lt=mt?mt.width:1),typeof ct!="number"&&(ct=mt?mt.height:1);var Ct=new it(this.gl,ut,ft,gt,xt,Et,pt,mt,lt,ct,vt,yt,Tt);return this.glTextureWrappers.push(Ct),Ct},createFramebuffer:function(ut,ft,gt,xt){this.currentFramebuffer=null;var Et=new rt(this.gl,ut,ft,gt,xt);return this.glFramebufferWrappers.push(Et),Et},beginBitmapMask:function(ut,ft){var gt=this.gl;gt&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==ut&&(this.currentMask.mask=ut,this.currentMask.camera=ft))},drawBitmapMask:function(ut,ft,gt){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),ut.renderWebGL(this,ut,ft),this.maskSource.unbind(!0),this.maskTarget.unbind();var xt=this.gl,Et=this.getCurrentStencilMask();Et?(xt.enable(xt.STENCIL_TEST),Et.mask.applyStencil(this,Et.camera,!0)):this.currentMask.mask=null,this.pipelines.set(gt),xt.activeTexture(xt.TEXTURE0),xt.bindTexture(xt.TEXTURE_2D,this.maskTarget.texture.webGLTexture),xt.activeTexture(xt.TEXTURE1),xt.bindTexture(xt.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(ut,ft){var gt=new nt(this.gl,ut,ft);return this.glProgramWrappers.push(gt),gt},createVertexBuffer:function(ut,ft){var gt=this.gl,xt=new _(gt,ut,gt.ARRAY_BUFFER,ft);return this.glBufferWrappers.push(xt),xt},createAttribLocation:function(ut,ft){var gt=new st(this.gl,ut,ft);return this.glAttribLocationWrappers.push(gt),gt},createUniformLocation:function(ut,ft){var gt=new at(this.gl,ut,ft);return this.glUniformLocationWrappers.push(gt),gt},createIndexBuffer:function(ut,ft){var gt=this.gl,xt=new _(gt,ut,gt.ELEMENT_ARRAY_BUFFER,ft);return this.glBufferWrappers.push(xt),xt},deleteTexture:function(ut){if(ut)return G(this.glTextureWrappers,ut),ut.destroy(),this},deleteFramebuffer:function(ut){return ut?(G(this.fboStack,ut),G(this.glFramebufferWrappers,ut),ut.destroy(),this):this},deleteProgram:function(ut){return ut&&(G(this.glProgramWrappers,ut),ut.destroy()),this},deleteAttribLocation:function(ut){return ut&&(G(this.glAttribLocationWrappers,ut),ut.destroy()),this},deleteUniformLocation:function(ut){return ut&&(G(this.glUniformLocationWrappers,ut),ut.destroy()),this},deleteBuffer:function(ut){return ut?(G(this.glBufferWrappers,ut),ut.destroy(),this):this},preRenderCamera:function(ut){var ft=ut.x,gt=ut.y,xt=ut.width,Et=ut.height,pt=ut.backgroundColor;if(ut.emit(h.PRE_RENDER,ut),this.pipelines.preBatchCamera(ut),this.pushScissor(ft,gt,xt,Et),ut.mask&&(this.currentCameraMask.mask=ut.mask,this.currentCameraMask.camera=ut._maskCamera,ut.mask.preRenderWebGL(this,ut,ut._maskCamera)),pt.alphaGL>0){var mt=this.pipelines.setMulti();mt.drawFillRect(ft,gt,xt,Et,k.getTintFromFloats(pt.blueGL,pt.greenGL,pt.redGL,1),pt.alphaGL)}},getCurrentStencilMask:function(){var ut=null,ft=this.maskStack,gt=this.currentCameraMask;return ft.length>0?ut=ft[ft.length-1]:gt.mask&&gt.mask.isStencil&&(ut=gt),ut},postRenderCamera:function(ut){var ft=ut.flashEffect,gt=ut.fadeEffect;if(ft.isRunning||gt.isRunning||gt.isComplete){var xt=this.pipelines.setMulti();ft.postRenderWebGL(xt,k.getTintFromFloats),gt.postRenderWebGL(xt,k.getTintFromFloats)}ut.dirty=!1,this.popScissor(),ut.mask&&(this.currentCameraMask.mask=null,ut.mask.postRenderWebGL(this,ut._maskCamera)),this.pipelines.postBatchCamera(ut),ut.emit(h.POST_RENDER,ut)},preRender:function(){if(!this.contextLost){var ut=this.gl;if(ut.bindFramebuffer(ut.FRAMEBUFFER,null),this.config.clearBeforeRender){var ft=this.config.backgroundColor;ut.clearColor(ft.redGL,ft.greenGL,ft.blueGL,ft.alphaGL),ut.clear(ut.COLOR_BUFFER_BIT|ut.DEPTH_BUFFER_BIT|ut.STENCIL_BUFFER_BIT)}ut.enable(ut.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&ut.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(l.PRE_RENDER)}},render:function(ut,ft,gt){if(!this.contextLost){var xt=ft.length;if(this.emit(l.RENDER,ut,gt),this.preRenderCamera(gt),xt===0){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(gt);return}this.currentType="";for(var Et=this.currentMask,pt=0;pt<xt;pt++){this.finalType=pt===xt-1;var mt=ft[pt],lt=mt.mask;Et=this.currentMask,Et.mask&&Et.mask!==lt&&Et.mask.postRenderWebGL(this,Et.camera),lt&&Et.mask!==lt&&lt.preRenderWebGL(this,mt,gt),mt.blendMode!==this.currentBlendMode&&this.setBlendMode(mt.blendMode);var ct=mt.type;ct!==this.currentType&&(this.newType=!0,this.currentType=ct),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=ft[pt+1].type===this.currentType,mt.renderWebGL(this,mt,gt),this.newType=!1}Et=this.currentMask,Et.mask&&Et.mask.postRenderWebGL(this,Et.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(gt)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(l.POST_RENDER);var ut=this.snapshotState;ut.callback&&(tt(this.gl,ut),ut.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var ut=this.gl,ft=this.getCurrentStencilMask();if(ft){var gt=ft.mask;ut.enable(ut.STENCIL_TEST),gt.invertAlpha?ut.stencilFunc(ut.NOTEQUAL,gt.level,255):ut.stencilFunc(ut.EQUAL,gt.level,255)}},snapshot:function(ut,ft,gt){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,ut,ft,gt)},snapshotArea:function(ut,ft,gt,xt,Et,pt,mt){var lt=this.snapshotState;return lt.callback=Et,lt.type=pt,lt.encoder=mt,lt.getPixel=!1,lt.x=ut,lt.y=ft,lt.width=gt,lt.height=xt,this},snapshotPixel:function(ut,ft,gt){return this.snapshotArea(ut,ft,1,1,gt),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(ut,ft,gt,xt,Et,pt,mt,lt,ct,vt,yt){Et===void 0&&(Et=!1),pt===void 0&&(pt=0),mt===void 0&&(mt=0),lt===void 0&&(lt=ft),ct===void 0&&(ct=gt),vt==="pixel"&&(Et=!0,vt="image/png");var Tt=this.currentFramebuffer;this.snapshotArea(pt,mt,lt,ct,xt,vt,yt);var Ct=this.snapshotState;return Ct.getPixel=Et,Ct.isFramebuffer=!0,Ct.bufferWidth=ft,Ct.bufferHeight=gt,Ct.width=Math.min(Ct.width,ft),Ct.height=Math.min(Ct.height,gt),this.setFramebuffer(ut),tt(this.gl,Ct),this.setFramebuffer(Tt),Ct.callback=null,Ct.isFramebuffer=!1,this},canvasToTexture:function(ut,ft,gt,xt){gt===void 0&&(gt=!1),xt===void 0&&(xt=!1);var Et=this.gl,pt=Et.NEAREST,mt=Et.NEAREST,lt=ut.width,ct=ut.height,vt=Et.CLAMP_TO_EDGE,yt=f(lt,ct);return!gt&&yt&&(vt=Et.REPEAT),this.config.antialias&&(pt=yt&&this.mipmapFilter?this.mipmapFilter:Et.LINEAR,mt=Et.LINEAR),ft?(ft.update(ut,lt,ct,xt,vt,vt,pt,mt,ft.format),ft):this.createTexture2D(0,pt,mt,vt,vt,Et.RGBA,ut,lt,ct,!0,!1,xt)},createCanvasTexture:function(ut,ft,gt){return ft===void 0&&(ft=!1),gt===void 0&&(gt=!1),this.canvasToTexture(ut,null,ft,gt)},updateCanvasTexture:function(ut,ft,gt,xt){return gt===void 0&&(gt=!1),xt===void 0&&(xt=!1),this.canvasToTexture(ut,ft,xt,gt)},videoToTexture:function(ut,ft,gt,xt){gt===void 0&&(gt=!1),xt===void 0&&(xt=!1);var Et=this.gl,pt=Et.NEAREST,mt=Et.NEAREST,lt=ut.videoWidth,ct=ut.videoHeight,vt=Et.CLAMP_TO_EDGE,yt=f(lt,ct);return!gt&&yt&&(vt=Et.REPEAT),this.config.antialias&&(pt=yt&&this.mipmapFilter?this.mipmapFilter:Et.LINEAR,mt=Et.LINEAR),ft?(ft.update(ut,lt,ct,xt,vt,vt,pt,mt,ft.format),ft):this.createTexture2D(0,pt,mt,vt,vt,Et.RGBA,ut,lt,ct,!0,!0,xt)},createVideoTexture:function(ut,ft,gt){return ft===void 0&&(ft=!1),gt===void 0&&(gt=!1),this.videoToTexture(ut,null,ft,gt)},updateVideoTexture:function(ut,ft,gt,xt){return gt===void 0&&(gt=!1),xt===void 0&&(xt=!1),this.videoToTexture(ut,ft,xt,gt)},createUint8ArrayTexture:function(ut,ft,gt){var xt=this.gl,Et=xt.NEAREST,pt=xt.NEAREST,mt=xt.CLAMP_TO_EDGE,lt=f(ft,gt);return lt&&(mt=xt.REPEAT),this.createTexture2D(0,Et,pt,mt,mt,xt.RGBA,ut,ft,gt)},setTextureFilter:function(ut,ft){var gt=this.gl,xt=ft===0?gt.LINEAR:gt.NEAREST;gt.activeTexture(gt.TEXTURE0);var Et=gt.getParameter(gt.TEXTURE_BINDING_2D);return gt.bindTexture(gt.TEXTURE_2D,ut.webGLTexture),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_MIN_FILTER,xt),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_MAG_FILTER,xt),ut.minFilter=xt,ut.magFilter=xt,Et&&gt.bindTexture(gt.TEXTURE_2D,Et),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var ut=function(ft){ft.destroy()};u(this.glAttribLocationWrappers,ut),u(this.glBufferWrappers,ut),u(this.glFramebufferWrappers,ut),u(this.glProgramWrappers,ut),u(this.glTextureWrappers,ut),u(this.glUniformLocationWrappers,ut),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,ot&&(this.spector=null)}});i.exports=dt},38683:(i,$,e)=>{var u=e(83419),G=e(95428),h=e(95540),r=e(14500),o=new u({initialize:function(l,f,s,d,p){this.pipeline=l,this.name=f,this.renderer=l.renderer,this.gl=this.renderer.gl,this.fragSrc=d,this.vertSrc=s,this.program=this.renderer.createProgram(s,d),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(n){var l=0,f=0,s=[];this.vertexComponentCount=0;for(var d=0;d<n.length;d++){var p=n[d],c=p.name,g=h(p,"size",1),j=h(p,"type",r.FLOAT),k=j.enum,tt=j.size,_=!!p.normalized;s.push({name:c,size:g,type:k,normalized:_,offset:f,enabled:!1,location:-1}),tt===4?l+=g:l++,f+=g*tt}this.vertexSize=f,this.vertexComponentCount=l,this.attributes=s},bind:function(n,l){return n===void 0&&(n=!1),l===void 0&&(l=!1),l&&this.pipeline.flush(),this.renderer.setProgram(this.program),n&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(n){n===void 0&&(n=!1);for(var l=this.gl,f=this.renderer,s=this.vertexSize,d=this.attributes,p=this.program,c=0;c<d.length;c++){var g=d[c],j=g.size,k=g.type,tt=g.offset,_=g.enabled,nt=g.location,it=!!g.normalized;if(n){nt!==-1&&f.deleteAttribLocation(nt);var rt=this.renderer.createAttribLocation(p,g.name);rt.webGLAttribLocation>=0?(l.enableVertexAttribArray(rt.webGLAttribLocation),l.vertexAttribPointer(rt.webGLAttribLocation,j,k,it,s,tt),g.enabled=!0,g.location=rt):rt.webGLAttribLocation!==-1&&l.disableVertexAttribArray(rt.webGLAttribLocation)}else _?l.vertexAttribPointer(nt.webGLAttribLocation,j,k,it,s,tt):!_&&nt!==-1&&nt.webGLAttribLocation>-1&&(l.disableVertexAttribArray(nt.webGLAttribLocation),g.location=-1)}return this},createUniforms:function(){var n=this.gl,l=this.program,f=this.uniforms,s,d,p,c=n.getProgramParameter(l.webGLProgram,n.ACTIVE_UNIFORMS);for(s=0;s<c;s++){var g=n.getActiveUniform(l.webGLProgram,s);if(g){d=g.name,p=this.renderer.createUniformLocation(l,d),p!==null&&(f[d]={name:d,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var j=d.indexOf("[");j>0&&(d=d.substr(0,j),f.hasOwnProperty(d)||(p=this.renderer.createUniformLocation(l,d),p!==null&&(f[d]={name:d,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var n=this.gl;this.renderer.setProgram(this.program);for(var l in this.uniforms){var f=this.uniforms[l];f.setter&&f.setter.call(n,f.location.webGLUniformLocation,f.value1,f.value2,f.value3,f.value4)}},hasUniform:function(n){return this.uniforms.hasOwnProperty(n)},resetUniform:function(n){var l=this.uniforms[n];return l&&(l.value1=null,l.value2=null,l.value3=null,l.value4=null),this},setUniform1:function(n,l,f,s){var d=this.uniforms[l];return d?((s||d.value1!==f)&&(d.setter||(d.setter=n),d.value1=f,this.renderer.setProgram(this.program),n.call(this.gl,d.location.webGLUniformLocation,f),this.pipeline.currentShader=this),this):this},setUniform2:function(n,l,f,s,d){var p=this.uniforms[l];return p?((d||p.value1!==f||p.value2!==s)&&(p.setter||(p.setter=n),p.value1=f,p.value2=s,this.renderer.setProgram(this.program),n.call(this.gl,p.location.webGLUniformLocation,f,s),this.pipeline.currentShader=this),this):this},setUniform3:function(n,l,f,s,d,p){var c=this.uniforms[l];return c?((p||c.value1!==f||c.value2!==s||c.value3!==d)&&(c.setter||(c.setter=n),c.value1=f,c.value2=s,c.value3=d,this.renderer.setProgram(this.program),n.call(this.gl,c.location.webGLUniformLocation,f,s,d),this.pipeline.currentShader=this),this):this},setUniform4:function(n,l,f,s,d,p,c){var g=this.uniforms[l];return g?((c||g.value1!==f||g.value2!==s||g.value3!==d||g.value4!==p)&&(g.setter||(g.setter=n),g.value1=f,g.value2=s,g.value3=d,g.value4=p,this.renderer.setProgram(this.program),n.call(this.gl,g.location.webGLUniformLocation,f,s,d,p),this.pipeline.currentShader=this),this):this},setBoolean:function(n,l){return this.setUniform1(this.gl.uniform1i,n,Number(l))},set1f:function(n,l){return this.setUniform1(this.gl.uniform1f,n,l)},set2f:function(n,l,f){return this.setUniform2(this.gl.uniform2f,n,l,f)},set3f:function(n,l,f,s){return this.setUniform3(this.gl.uniform3f,n,l,f,s)},set4f:function(n,l,f,s,d){return this.setUniform4(this.gl.uniform4f,n,l,f,s,d)},set1fv:function(n,l){return this.setUniform1(this.gl.uniform1fv,n,l,!0)},set2fv:function(n,l){return this.setUniform1(this.gl.uniform2fv,n,l,!0)},set3fv:function(n,l){return this.setUniform1(this.gl.uniform3fv,n,l,!0)},set4fv:function(n,l){return this.setUniform1(this.gl.uniform4fv,n,l,!0)},set1iv:function(n,l){return this.setUniform1(this.gl.uniform1iv,n,l,!0)},set2iv:function(n,l){return this.setUniform1(this.gl.uniform2iv,n,l,!0)},set3iv:function(n,l){return this.setUniform1(this.gl.uniform3iv,n,l,!0)},set4iv:function(n,l){return this.setUniform1(this.gl.uniform4iv,n,l,!0)},set1i:function(n,l){return this.setUniform1(this.gl.uniform1i,n,l)},set2i:function(n,l,f){return this.setUniform2(this.gl.uniform2i,n,l,f)},set3i:function(n,l,f,s){return this.setUniform3(this.gl.uniform3i,n,l,f,s)},set4i:function(n,l,f,s,d){return this.setUniform4(this.gl.uniform4i,n,l,f,s,d)},setMatrix2fv:function(n,l,f){return this.setUniform2(this.gl.uniformMatrix2fv,n,l,f,!0)},setMatrix3fv:function(n,l,f){return this.setUniform2(this.gl.uniformMatrix3fv,n,l,f,!0)},setMatrix4fv:function(n,l,f){return this.setUniform2(this.gl.uniformMatrix4fv,n,l,f,!0)},createProgram:function(n,l){return n===void 0&&(n=this.vertSrc),l===void 0&&(l=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=n,this.fragSrc=l,this.program=this.renderer.createProgram(n,l),this.createUniforms(),this.rebind()},destroy:function(){var n=this.renderer;G(this.uniforms,function(l){n.deleteUniformLocation(l.location)}),this.uniforms=null,G(this.attributes,function(l){n.deleteAttribLocation(l.location)}),this.attributes=null,n.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});i.exports=o},14500:i=>{var $={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};i.exports=$},4159:(i,$,e)=>{var u=e(14500),G=e(79291),h={PipelineManager:e(7530),Pipelines:e(96615),RenderTarget:e(32302),Utils:e(70554),WebGLPipeline:e(29100),WebGLRenderer:e(74797),WebGLShader:e(38683),Wrappers:e(9503)};h=G(!1,h,u),i.exports=h},31302:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(78908),r=e(85191),o=e(14500),n=e(29100),l=new u({Extends:n,initialize:function(s){s.fragShader=G(s,"fragShader",h),s.vertShader=G(s,"vertShader",r),s.batchSize=G(s,"batchSize",1),s.vertices=G(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=G(s,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),n.call(this,s)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,s){n.prototype.resize.call(this,f,s),this.set2f("uResolution",f,s)},beginMask:function(f,s,d){this.renderer.beginBitmapMask(f,d)},endMask:function(f,s,d){var p=this.gl,c=this.renderer,g=f.bitmapMask;g&&p&&(c.drawBitmapMask(g,s,this),d&&this.set2f("uResolution",d.width,d.height),this.set1i("uInvertMaskAlpha",f.invertAlpha),p.drawArrays(this.topology,0,3),d&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});i.exports=l},92651:(i,$,e)=>{var u=e(83419),G=e(58918),h=e(14811),r=e(95540),o=e(43558),n=e(89350),l=e(70554),f=new u({Extends:o,initialize:function(d){d.shaders=[l.setGlowQuality(n.FXGlowFrag,d.game),n.FXShadowFrag,n.FXPixelateFrag,n.FXVignetteFrag,n.FXShineFrag,n.FXBlurLowFrag,n.FXBlurMedFrag,n.FXBlurHighFrag,n.FXGradientFrag,n.FXBloomFrag,n.ColorMatrixFrag,n.FXCircleFrag,n.FXBarrelFrag,n.FXDisplacementFrag,n.FXWipeFrag,n.FXBokehFrag],o.call(this,d);var p=this.game;this.glow=new G.Glow(p),this.shadow=new G.Shadow(p),this.pixelate=new G.Pixelate(p),this.vignette=new G.Vignette(p),this.shine=new G.Shine(p),this.gradient=new G.Gradient(p),this.circle=new G.Circle(p),this.barrel=new G.Barrel(p),this.wipe=new G.Wipe(p),this.bokeh=new G.Bokeh(p);var c=[];c[h.GLOW]=this.onGlow,c[h.SHADOW]=this.onShadow,c[h.PIXELATE]=this.onPixelate,c[h.VIGNETTE]=this.onVignette,c[h.SHINE]=this.onShine,c[h.BLUR]=this.onBlur,c[h.GRADIENT]=this.onGradient,c[h.BLOOM]=this.onBloom,c[h.COLOR_MATRIX]=this.onColorMatrix,c[h.CIRCLE]=this.onCircle,c[h.BARREL]=this.onBarrel,c[h.DISPLACEMENT]=this.onDisplacement,c[h.WIPE]=this.onWipe,c[h.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(s,d,p){this.source=s,this.target=d,this.swap=p;var c=s.width,g=s.height,j=this.tempSprite,k=this.fxHandlers;if(j&&j.preFX)for(var tt=j.preFX.list,_=0;_<tt.length;_++){var nt=tt[_];nt.active&&k[nt.type].call(this,nt,c,g)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,d=this.target;this.copy(s,d),this.source=d,this.target=s},onGlow:function(s,d,p){var c=this.shaders[h.GLOW];this.setShader(c),this.glow.onPreRender(s,c,d,p),this.runDraw()},onShadow:function(s){var d=this.shaders[h.SHADOW];this.setShader(d),this.shadow.onPreRender(s,d),this.runDraw()},onPixelate:function(s,d,p){var c=this.shaders[h.PIXELATE];this.setShader(c),this.pixelate.onPreRender(s,c,d,p),this.runDraw()},onVignette:function(s){var d=this.shaders[h.VIGNETTE];this.setShader(d),this.vignette.onPreRender(s,d),this.runDraw()},onShine:function(s,d,p){var c=this.shaders[h.SHINE];this.setShader(c),this.shine.onPreRender(s,c,d,p),this.runDraw()},onBlur:function(s,d,p){var c=r(s,"quality"),g=this.shaders[h.BLUR+c];this.setShader(g),this.set1i("uMainSampler",0),this.set2f("resolution",d,p),this.set1f("strength",r(s,"strength")),this.set3fv("color",r(s,"glcolor"));for(var j=r(s,"x"),k=r(s,"y"),tt=r(s,"steps"),_=0;_<tt;_++)this.set2f("offset",j,0),this.runDraw(),this.set2f("offset",0,k),this.runDraw()},onGradient:function(s){var d=this.shaders[h.GRADIENT];this.setShader(d),this.gradient.onPreRender(s,d),this.runDraw()},onBloom:function(s,d,p){var c=this.shaders[h.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",r(s,"blurStrength")),this.set3fv("color",r(s,"glcolor"));for(var g=2/d*r(s,"offsetX"),j=2/p*r(s,"offsetY"),k=r(s,"steps"),tt=0;tt<k;tt++)this.set2f("offset",g,0),this.runDraw(),this.set2f("offset",0,j),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,d,p){var c=this.shaders[h.CIRCLE];this.setShader(c),this.circle.onPreRender(s,c,d,p),this.runDraw()},onBarrel:function(s){var d=this.shaders[h.BARREL];this.setShader(d),this.barrel.onPreRender(s,d),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[h.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var d=this.shaders[h.WIPE];this.setShader(d),this.wipe.onPreRender(s,d),this.runDraw()},onBokeh:function(s,d,p){var c=this.shaders[h.BOKEH];this.setShader(c),this.bokeh.onPreRender(s,c,d,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});i.exports=f},96569:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(31063),r=e(57516),o=e(61340),n=e(26099),l=e(29100),f=new u({Extends:r,initialize:function(d){var p=G(d,"fragShader",h);d.fragShader=p.replace("%LIGHT_COUNT%",d.game.renderer.config.maxLights),r.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new n,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){l.prototype.boot.call(this)},onRender:function(s,d){var p=s.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var c=p.getLights(d),g=c.length;this.lightsActive=!0;var j,k=this.renderer,tt=k.height,_=d.matrix,nt=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",g),j=0;j<g;j++){var it=c[j].light,rt=it.color,st="uLights["+j+"].";_.transformPoint(it.x,it.y,nt),this.set2f(st+"position",nt.x-d.scrollX*it.scrollFactorX*d.zoom,tt-(nt.y-d.scrollY*it.scrollFactorY*d.zoom)),this.set3f(st+"color",rt.r,rt.g,rt.b),this.set1f(st+"intensity",it.intensity),this.set1f(st+"radius",it.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(s){var p=-s,c=Math.cos(p),g=Math.sin(p);d[1]=g,d[3]=-g,d[0]=d[4]=c}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=s}},setTexture2D:function(s,d){var p=this.renderer;s===void 0&&(s=p.whiteTexture);var c=this.getNormalMap(d);this.isNewNormalMap(s,c)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(c),this.currentNormalMap=c);var g=0;if(d&&d.parentContainer){var j=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);g=j.rotationNormalized}else d&&(g=d.rotation);return this.setNormalMapRotation(g),0},setGameObject:function(s,d){d===void 0&&(d=s.frame);var p=d.glTexture,c=this.getNormalMap(s);if(this.isNewNormalMap(p,c)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(c),this.currentNormalMap=c),s.parentContainer){var g=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(g.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return 0},isNewNormalMap:function(s,d){return this.currentTexture!==s||this.currentNormalMap!==d},getNormalMap:function(s){var d;if(s)s.displayTexture?d=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?d=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?d=s.tileset[0].image.dataSource[0]:d=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return d?d.glTexture:this.renderer.normalTexture},batchSprite:function(s,d,p){this.lightsActive&&r.prototype.batchSprite.call(this,s,d,p)},batchTexture:function(s,d,p,c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut,ft,gt,xt,Et,pt,mt,lt,ct,vt,yt,Tt,Ct,St,Dt){this.lightsActive&&r.prototype.batchTexture.call(this,s,d,p,c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut,ft,gt,xt,Et,pt,mt,lt,ct,vt,yt,Tt,Ct,St,Dt)},batchTextureFrame:function(s,d,p,c,g,j,k){this.lightsActive&&r.prototype.batchTextureFrame.call(this,s,d,p,c,g,j,k)}});i.exports=f},56527:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(57516),r=e(45561),o=e(60722),n=e(14500),l=e(29100),f=new u({Extends:h,initialize:function(d){d.fragShader=G(d,"fragShader",r),d.vertShader=G(d,"vertShader",o),d.attributes=G(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),d.forceZero=!0,d.resizeUniform="uResolution",h.call(this,d)},boot:function(){l.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height),this.set1i("uRoundPixels",s.config.roundPixels)}});i.exports=f},57516:(i,$,e)=>{var u=e(83419),G=e(94811),h=e(95540),r=e(98840),o=e(44667),n=e(61340),l=e(70554),f=e(14500),s=e(29100),d=new u({Extends:s,initialize:function(c){var g=c.game.renderer,j=h(c,"fragShader",r);c.fragShader=l.parseFragmentShaderMaxTextures(j,g.maxTextures),c.vertShader=h(c,"vertShader",o),c.attributes=h(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",s.call(this,c),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)},batchSprite:function(p,c,g){this.manager.set(this,p);var j=this._tempMatrix1,k=this._tempMatrix2,tt=this._tempMatrix3,_=p.frame,nt=_.glTexture,it=_.u0,rt=_.v0,st=_.u1,at=_.v1,ot=_.x,ht=_.y,dt=_.cutWidth,ut=_.cutHeight,ft=_.customPivot,gt=p.displayOriginX,xt=p.displayOriginY,Et=-gt+ot,pt=-xt+ht;if(p.isCropped){var mt=p._crop;(mt.flipX!==p.flipX||mt.flipY!==p.flipY)&&_.updateCropUVs(mt,p.flipX,p.flipY),it=mt.u0,rt=mt.v0,st=mt.u1,at=mt.v1,dt=mt.width,ut=mt.height,ot=mt.x,ht=mt.y,Et=-gt+ot,pt=-xt+ht}var lt=1,ct=1;p.flipX&&(ft||(Et+=-_.realWidth+gt*2),lt=-1),p.flipY&&(ft||(pt+=-_.realHeight+xt*2),ct=-1);var vt=p.x,yt=p.y;k.applyITRS(vt,yt,p.rotation,p.scaleX*lt,p.scaleY*ct),j.copyFrom(c.matrix),g?(j.multiplyWithOffset(g,-c.scrollX*p.scrollFactorX,-c.scrollY*p.scrollFactorY),k.e=vt,k.f=yt):(k.e-=c.scrollX*p.scrollFactorX,k.f-=c.scrollY*p.scrollFactorY),j.multiply(k,tt);var Tt=tt.setQuad(Et,pt,Et+dt,pt+ut),Ct=l.getTintAppendFloatAlpha,St=c.alpha,Dt=Ct(p.tintTopLeft,St*p._alphaTL),Mt=Ct(p.tintTopRight,St*p._alphaTR),At=Ct(p.tintBottomLeft,St*p._alphaBL),wt=Ct(p.tintBottomRight,St*p._alphaBR);this.shouldFlush(6)&&this.flush();var It=this.setGameObject(p,_);this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",c.roundPixels),this.batchQuad(p,Tt[0],Tt[1],Tt[2],Tt[3],Tt[4],Tt[5],Tt[6],Tt[7],it,rt,st,at,Dt,Mt,At,wt,p.tintFill,nt,It),this.manager.postBatch(p)},batchTexture:function(p,c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut,ft,gt,xt,Et,pt,mt,lt,ct,vt,yt,Tt,Ct,St,Dt,Mt,At,wt){wt===void 0&&(wt=!1),this.manager.set(this,p);var It=this._tempMatrix1,Pt=this._tempMatrix2,Ot=this._tempMatrix3,bt=gt/g+Tt,Vt=xt/j+Ct,Ut=(gt+Et)/g+Tt,Ft=(xt+pt)/j+Ct,Nt=_,Lt=nt,kt=-ut,Kt=-ft;if(p.isCropped){var Ue=p._crop,Ne=Ue.width,Se=Ue.height;Nt=Ne,Lt=Se,_=Ne,nt=Se,gt=Ue.x,xt=Ue.y;var Jt=gt,Ve=xt;at&&(Jt=Et-Ue.x-Ne),ot&&(Ve=pt-Ue.y-Se),bt=Jt/g+Tt,Vt=Ve/j+Ct,Ut=(Jt+Ne)/g+Tt,Ft=(Ve+Se)/j+Ct,kt=-ut+gt,Kt=-ft+xt}ot=ot^(!Mt&&c.isRenderTexture?1:0),at&&(Nt*=-1,kt+=_),ot&&(Lt*=-1,Kt+=nt),Pt.applyITRS(k,tt,st,it,rt),It.copyFrom(St.matrix),Dt?(It.multiplyWithOffset(Dt,-St.scrollX*ht,-St.scrollY*dt),Pt.e=k,Pt.f=tt):(Pt.e-=St.scrollX*ht,Pt.f-=St.scrollY*dt),It.multiply(Pt,Ot);var Oe=Ot.setQuad(kt,Kt,kt+Nt,Kt+Lt);At==null&&(At=this.setTexture2D(c)),p&&!wt&&this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",St.roundPixels),this.batchQuad(p,Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6],Oe[7],bt,Vt,Ut,Ft,mt,lt,ct,vt,yt,c,At),p&&!wt&&this.manager.postBatch(p)},batchTextureFrame:function(p,c,g,j,k,tt,_){this.manager.set(this);var nt=this._tempMatrix1.copyFrom(tt),it=this._tempMatrix2;_?nt.multiply(_,it):it=nt;var rt=it.setQuad(c,g,c+p.width,g+p.height),st=this.setTexture2D(p.source.glTexture);j=l.getTintAppendFloatAlpha(j,k),this.batchQuad(null,rt[0],rt[1],rt[2],rt[3],rt[4],rt[5],rt[6],rt[7],p.u0,p.v0,p.u1,p.v1,j,j,j,j,0,p.glTexture,st)},batchFillRect:function(p,c,g,j,k,tt){this.renderer.pipelines.set(this);var _=this.calcMatrix;tt&&tt.multiply(k,_);var nt=_.setQuad(p,c,p+g,c+j),it=this.fillTint;this.batchQuad(null,nt[0],nt[1],nt[2],nt[3],nt[4],nt[5],nt[6],nt[7],0,0,1,1,it.TL,it.TR,it.BL,it.BR,2)},batchFillTriangle:function(p,c,g,j,k,tt,_,nt){this.renderer.pipelines.set(this);var it=this.calcMatrix;nt&&nt.multiply(_,it);var rt=it.getX(p,c),st=it.getY(p,c),at=it.getX(g,j),ot=it.getY(g,j),ht=it.getX(k,tt),dt=it.getY(k,tt),ut=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,rt,st,at,ot,ht,dt,0,0,1,1,ut.TL,ut.TR,ut.BL,2)},batchStrokeTriangle:function(p,c,g,j,k,tt,_,nt,it){var rt=this.tempTriangle;rt[0].x=p,rt[0].y=c,rt[0].width=_,rt[1].x=g,rt[1].y=j,rt[1].width=_,rt[2].x=k,rt[2].y=tt,rt[2].width=_,rt[3].x=p,rt[3].y=c,rt[3].width=_,this.batchStrokePath(rt,_,!1,nt,it)},batchFillPath:function(p,c,g){this.renderer.pipelines.set(this);var j=this.calcMatrix;g&&g.multiply(c,j);for(var k=p.length,tt=this.polygonCache,_,nt,it=this.fillTint.TL,rt=this.fillTint.TR,st=this.fillTint.BL,at=0;at<k;++at)nt=p[at],tt.push(nt.x,nt.y);_=G(tt),k=_.length,this.currentShader.set1i("uRoundPixels",!1);for(var ot=0;ot<k;ot+=3){var ht=_[ot+0]*2,dt=_[ot+1]*2,ut=_[ot+2]*2,ft=tt[ht+0],gt=tt[ht+1],xt=tt[dt+0],Et=tt[dt+1],pt=tt[ut+0],mt=tt[ut+1],lt=j.getX(ft,gt),ct=j.getY(ft,gt),vt=j.getX(xt,Et),yt=j.getY(xt,Et),Tt=j.getX(pt,mt),Ct=j.getY(pt,mt);this.batchTri(null,lt,ct,vt,yt,Tt,Ct,0,0,1,1,it,rt,st,2)}tt.length=0},batchStrokePath:function(p,c,g,j,k){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var tt=p.length-1,_=0;_<tt;_++){var nt=p[_],it=p[_+1];this.batchLine(nt.x,nt.y,it.x,it.y,nt.width/2,it.width/2,c,_,!g&&_===tt-1,j,k)}},batchLine:function(p,c,g,j,k,tt,_,nt,it,rt,st){this.renderer.pipelines.set(this);var at=this.calcMatrix;st&&st.multiply(rt,at);var ot=g-p,ht=j-c,dt=Math.sqrt(ot*ot+ht*ht);if(dt!==0){var ut=k*(j-c)/dt,ft=k*(p-g)/dt,gt=tt*(j-c)/dt,xt=tt*(p-g)/dt,Et=g-gt,pt=j-xt,mt=p-ut,lt=c-ft,ct=g+gt,vt=j+xt,yt=p+ut,Tt=c+ft,Ct=at.getX(Et,pt),St=at.getY(Et,pt),Dt=at.getX(mt,lt),Mt=at.getY(mt,lt),At=at.getX(ct,vt),wt=at.getY(ct,vt),It=at.getX(yt,Tt),Pt=at.getY(yt,Tt),Ot=this.strokeTint,bt=Ot.TL,Vt=Ot.TR,Ut=Ot.BL,Ft=Ot.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,It,Pt,Dt,Mt,Ct,St,At,wt,0,0,1,1,bt,Vt,Ut,Ft,2),!(_<=2)){var Nt=this.prevQuad,Lt=this.firstQuad;nt>0&&Nt[4]?this.batchQuad(null,It,Pt,Dt,Mt,Nt[0],Nt[1],Nt[2],Nt[3],0,0,1,1,bt,Vt,Ut,Ft,2):(Lt[0]=It,Lt[1]=Pt,Lt[2]=Dt,Lt[3]=Mt,Lt[4]=1),it&&Lt[4]?this.batchQuad(null,Ct,St,At,wt,Lt[0],Lt[1],Lt[2],Lt[3],0,0,1,1,bt,Vt,Ut,Ft,2):(Nt[0]=Ct,Nt[1]=St,Nt[2]=At,Nt[3]=wt,Nt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});i.exports=d},43439:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(4127),r=e(89924),o=e(29100),n=new u({Extends:o,initialize:function(f){f.vertShader=G(f,"vertShader",r),f.fragShader=G(f,"fragShader",h),f.attributes=G(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,f)},onRender:function(l,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(l,f,s,d,p,c,g,j,k,tt,_,nt){var it=l.color,rt=l.intensity,st=l.radius,at=l.attenuation,ot=it.r*rt,ht=it.g*rt,dt=it.b*rt,ut=f.alpha*l.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,d,_,nt,st,at,ot,ht,dt,ut),this.batchLightVert(p,c,_,nt,st,at,ot,ht,dt,ut),this.batchLightVert(g,j,_,nt,st,at,ot,ht,dt,ut),this.batchLightVert(s,d,_,nt,st,at,ot,ht,dt,ut),this.batchLightVert(g,j,_,nt,st,at,ot,ht,dt,ut),this.batchLightVert(k,tt,_,nt,st,at,ot,ht,dt,ut),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(l,f,s,d,p,c,g,j,k,tt){var _=this.vertexViewF32,nt=this.vertexCount*this.currentShader.vertexComponentCount-1;_[++nt]=l,_[++nt]=f,_[++nt]=s,_[++nt]=d,_[++nt]=p,_[++nt]=c,_[++nt]=g,_[++nt]=j,_[++nt]=k,_[++nt]=tt,this.vertexCount++}});i.exports=n},84057:(i,$,e)=>{var u=e(83419),G=e(89422),h=e(95540),r=e(27681),o=e(49627),n=e(29100),l=new u({Extends:n,initialize:function(s){s.renderTarget=h(s,"renderTarget",1),s.fragShader=h(s,"fragShader",r),s.vertShader=h(s,"vertShader",o),s.attributes=h(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new G,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){n.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height),this.set1i("uRoundPixels",s.config.roundPixels);for(var d=this.renderTargets,p=0;p<d.length;p++)d[p].autoResize=!0},postBatch:function(f){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(f){this.bindAndDraw(f)},getController:function(f){return f!==void 0?f:this.controller?this.controller:this},copySprite:function(f,s,d){d===void 0&&(d=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,f.texture.webGLTexture);var c=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,s.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),d&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,c))},copyFrame:function(f,s,d,p,c){this.manager.copyFrame(f,s,d,p,c)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,s,d){this.manager.drawFrame(f,s,d,this.colorMatrix)},blendFrames:function(f,s,d,p,c){this.manager.blendFrames(f,s,d,p,c)},blendFramesAdditive:function(f,s,d,p,c){this.manager.blendFramesAdditive(f,s,d,p,c)},clearFrame:function(f,s){this.manager.clearFrame(f,s)},blitFrame:function(f,s,d,p,c,g){this.manager.blitFrame(f,s,d,p,c,g)},copyFrameRect:function(f,s,d,p,c,g,j,k){this.manager.copyFrameRect(f,s,d,p,c,g,j,k)},bindAndDraw:function(f,s,d,p,c){d===void 0&&(d=!0),p===void 0&&(p=!0);var g=this.gl,j=this.renderer;this.bind(c),this.set1i("uMainSampler",0),s?(g.viewport(0,0,s.width,s.height),g.bindFramebuffer(g.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,s.texture.webGLTexture,0),d&&(p?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT))):(j.popFramebuffer(!1,!1),j.currentFramebuffer||g.viewport(0,0,j.width,j.height)),j.restoreStencilMask(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,f.texture.webGLTexture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),s&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,j.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),n.prototype.destroy.call(this),this}});i.exports=l},43558:(i,$,e)=>{var u=e(10312),G=e(67502),h=e(83419),r=e(96293),o=e(95540),n=e(57516),l=e(27681),f=e(87841),s=e(32302),d=e(45561),p=e(60722),c=e(29100),g=new h({Extends:n,initialize:function(k){var tt=o(k,"fragShader",l),_=o(k,"vertShader",p),nt=o(k,"drawShader",l),it=[{name:"DrawSprite",fragShader:d,vertShader:p},{name:"CopySprite",fragShader:tt,vertShader:_},{name:"DrawGame",fragShader:nt,vertShader:p},{name:"ColorMatrix",fragShader:r}],rt=o(k,"shaders",[]);k.shaders=it.concat(rt),k.vertShader||(k.vertShader=_),k.batchSize=1,n.call(this,k),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new f,this.targetBounds=new f,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var j=this.shaders,k=this.renderer;this.drawSpriteShader=j[0],this.copyShader=j[1],this.gameShader=j[2],this.colorMatrixShader=j[3],this.fsTarget=new s(k,k.width,k.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var tt=new ArrayBuffer(168);this.quadVertexData=tt,this.quadVertexViewF32=new Float32Array(tt),this.quadVertexBuffer=k.createVertexBuffer(tt,this.gl.STATIC_DRAW),this.onResize(k.width,k.height),this.currentShader=this.copyShader,this.set2f("uResolution",k.width,k.height),this.set1i("uRoundPixels",k.config.roundPixels)},onResize:function(j,k){var tt=this.quadVertexViewF32;tt[1]=k,tt[22]=k,tt[14]=j,tt[28]=j,tt[35]=j,tt[36]=k},batchQuad:function(j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut,ft,gt,xt,Et,pt,mt){var lt=Math.min(k,_,it,st),ct=Math.min(tt,nt,rt,at),vt=Math.max(k,_,it,st),yt=Math.max(tt,nt,rt,at),Tt=vt-lt,Ct=yt-ct,St=this.spriteBounds.setTo(lt,ct,Tt,Ct),Dt=j?j.preFX.padding:0,Mt=Tt+Dt*2,At=Ct+Dt*2,wt=Math.abs(Math.max(Mt,At)),It=this.manager.getRenderTarget(wt),Pt=this.targetBounds.setTo(0,0,It.width,It.height);G(Pt,St.centerX,St.centerY),this.tempSprite=j;var Ot=this.gl,bt=this.renderer;bt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",bt.width,bt.height),this.set1i("uRoundPixels",bt.config.roundPixels),this.flipProjectionMatrix(!0),j&&(this.onDrawSprite(j,It),j.preFX.onFX(this));var Vt=this.fsTarget;return this.flush(),Ot.viewport(0,0,bt.width,bt.height),Ot.bindFramebuffer(Ot.FRAMEBUFFER,Vt.framebuffer.webGLFramebuffer),Ot.framebufferTexture2D(Ot.FRAMEBUFFER,Ot.COLOR_ATTACHMENT0,Ot.TEXTURE_2D,Vt.texture.webGLTexture,0),Ot.clearColor(0,0,0,0),Ot.clear(Ot.COLOR_BUFFER_BIT),this.setTexture2D(mt),this.batchVert(k,tt,ot,ht,0,pt,ft),this.batchVert(_,nt,ot,ut,0,pt,xt),this.batchVert(it,rt,dt,ut,0,pt,Et),this.batchVert(k,tt,ot,ht,0,pt,ft),this.batchVert(it,rt,dt,ut,0,pt,Et),this.batchVert(st,at,dt,ht,0,pt,gt),this.flush(),this.flipProjectionMatrix(!1),Ot.activeTexture(Ot.TEXTURE0),Ot.bindTexture(Ot.TEXTURE_2D,It.texture.webGLTexture),Ot.copyTexSubImage2D(Ot.TEXTURE_2D,0,0,0,Pt.x,Pt.y,Pt.width,Pt.height),Ot.bindFramebuffer(Ot.FRAMEBUFFER,null),Ot.bindTexture(Ot.TEXTURE_2D,null),this.onBatch(j),this.currentShader=this.copyShader,this.onDraw(It,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(j,k,tt,_,nt,it,rt){tt===void 0&&(tt=!0),_===void 0&&(_=!0),nt===void 0&&(nt=!1),rt===void 0&&(rt=this.copyShader);var st=this.gl,at=this.tempSprite;it&&(rt=this.colorMatrixShader),this.currentShader=rt;var ot=this.setVertexBuffer(this.quadVertexBuffer);rt.bind(ot,!1);var ht=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",ht.width,ht.height),this.set1i("uRoundPixels",ht.config.roundPixels),at.preFX.onFXCopy(this),this.onCopySprite(j,k,at),it&&(this.set1fv("uColorMatrix",it.getData()),this.set1f("uAlpha",it.alpha)),st.activeTexture(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,j.texture.webGLTexture),j.height>k.height)st.viewport(0,0,j.width,j.height),this.setTargetUVs(j,k);else{var dt=k.height-j.height;st.viewport(0,dt,j.width,j.height),this.resetUVs()}if(st.bindFramebuffer(st.FRAMEBUFFER,k.framebuffer.webGLFramebuffer),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,k.texture.webGLTexture,0),tt&&(st.clearColor(0,0,0,+!_),st.clear(st.COLOR_BUFFER_BIT)),nt){var ut=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}st.bufferData(st.ARRAY_BUFFER,this.quadVertexData,st.STATIC_DRAW),st.drawArrays(st.TRIANGLES,0,6),nt&&this.renderer.setBlendMode(ut),st.bindFramebuffer(st.FRAMEBUFFER,null)},copy:function(j,k){var tt=this.gl;this.set1i("uMainSampler",0),tt.activeTexture(tt.TEXTURE0),tt.bindTexture(tt.TEXTURE_2D,j.texture.webGLTexture),tt.viewport(0,0,j.width,j.height),this.setUVs(0,0,0,1,1,1,1,0),tt.bindFramebuffer(tt.FRAMEBUFFER,k.framebuffer.webGLFramebuffer),tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,k.texture.webGLTexture,0),tt.clearColor(0,0,0,0),tt.clear(tt.COLOR_BUFFER_BIT),tt.bufferData(tt.ARRAY_BUFFER,this.quadVertexData,tt.STATIC_DRAW),tt.drawArrays(tt.TRIANGLES,0,6),tt.bindFramebuffer(tt.FRAMEBUFFER,null)},blendFrames:function(j,k,tt,_,nt){this.manager.blendFrames(j,k,tt,_,nt)},blendFramesAdditive:function(j,k,tt,_,nt){this.manager.blendFramesAdditive(j,k,tt,_,nt)},drawToGame:function(j){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(j)},copyToGame:function(j){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(j)},bindAndDraw:function(j){var k=this.gl,tt=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(j.texture);var _=this._tempMatrix1.loadIdentity(),nt=this.targetBounds.x,it=this.targetBounds.y,rt=nt+j.width,st=it+j.height,at=_.getX(nt,it),ot=_.getX(nt,st),ht=_.getX(rt,st),dt=_.getX(rt,it),ut=_.getY(nt,it),ft=_.getY(nt,st),gt=_.getY(rt,st),xt=_.getY(rt,it),Et=16777215;this.batchVert(at,ut,0,0,0,0,Et),this.batchVert(ot,ft,0,1,0,0,Et),this.batchVert(ht,gt,1,1,0,0,Et),this.batchVert(at,ut,0,0,0,0,Et),this.batchVert(ht,gt,1,1,0,0,Et),this.batchVert(dt,xt,1,0,0,0,Et),tt.restoreFramebuffer(!1,!0),tt.currentFramebuffer||k.viewport(0,0,tt.width,tt.height),tt.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(j){this.drawToGame(j)},setUVs:function(j,k,tt,_,nt,it,rt,st){var at=this.quadVertexViewF32;at[2]=j,at[3]=k,at[9]=tt,at[10]=_,at[16]=nt,at[17]=it,at[23]=j,at[24]=k,at[30]=nt,at[31]=it,at[37]=rt,at[38]=st},setTargetUVs:function(j,k){var tt=k.height/j.height;tt>.5?tt=.5-(tt-.5):tt=.5+(.5-tt),this.setUVs(0,tt,0,1+tt,1,1+tt,1,tt)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,n.prototype.destroy.call(this),this}});i.exports=g},81041:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(57516),r=new u({Extends:h,initialize:function(n){n.topology=5,n.batchSize=G(n,"batchSize",256),h.call(this,n)}});i.exports=r},12385:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(57516),r=e(45561),o=e(60722),n=e(29100),l=new u({Extends:h,initialize:function(s){s.fragShader=G(s,"fragShader",r),s.vertShader=G(s,"vertShader",o),s.forceZero=!0,h.call(this,s)},boot:function(){n.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height),this.set1i("uRoundPixels",f.config.roundPixels)}});i.exports=l},7589:(i,$,e)=>{var u=e(35407),G=e(10312),h=e(83419),r=e(89422),o=e(96293),n=e(36682),l=e(95540),f=e(48247),s=e(49627),d=e(29100),p=new h({Extends:d,initialize:function(g){g.renderTarget=l(g,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),g.vertShader=l(g,"vertShader",s),g.shaders=l(g,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:o}]),g.attributes=l(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),g.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],g.batchSize=1,d.call(this,g),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var c=this.shaders,g=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=g[0],this.fullFrame2=g[1],this.halfFrame1=g[2],this.halfFrame2=g[3]},copyFrame:function(c,g,j,k,tt){j===void 0&&(j=1),k===void 0&&(k=!0),tt===void 0&&(tt=!0);var _=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",j),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,c.texture.webGLTexture),g?(_.viewport(0,0,g.width,g.height),_.bindFramebuffer(_.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,g.texture.webGLTexture,0)):_.viewport(0,0,c.width,c.height),k&&(tt?_.clearColor(0,0,0,0):_.clearColor(0,0,0,1),_.clear(_.COLOR_BUFFER_BIT)),_.bufferData(_.ARRAY_BUFFER,this.vertexData,_.STATIC_DRAW),_.drawArrays(_.TRIANGLES,0,6),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null)},blitFrame:function(c,g,j,k,tt,_,nt){j===void 0&&(j=1),k===void 0&&(k=!0),tt===void 0&&(tt=!0),_===void 0&&(_=!1),nt===void 0&&(nt=!1);var it=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",j),it.activeTexture(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,c.texture.webGLTexture),c.height>g.height)it.viewport(0,0,c.width,c.height),this.setTargetUVs(c,g);else{var rt=g.height-c.height;it.viewport(0,rt,c.width,c.height)}if(it.bindFramebuffer(it.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,g.texture.webGLTexture,0),k&&(tt?it.clearColor(0,0,0,0):it.clearColor(0,0,0,1),it.clear(it.COLOR_BUFFER_BIT)),_){var st=this.renderer.currentBlendMode;this.renderer.setBlendMode(G.ERASE)}nt&&this.flipY(),it.bufferData(it.ARRAY_BUFFER,this.vertexData,it.STATIC_DRAW),it.drawArrays(it.TRIANGLES,0,6),_&&this.renderer.setBlendMode(st),it.bindFramebuffer(it.FRAMEBUFFER,null),it.bindTexture(it.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,g,j,k,tt,_,nt,it){nt===void 0&&(nt=!0),it===void 0&&(it=!0);var rt=this.gl;rt.bindFramebuffer(rt.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,c.texture.webGLTexture,0),nt&&(it?rt.clearColor(0,0,0,0):rt.clearColor(0,0,0,1),rt.clear(rt.COLOR_BUFFER_BIT)),rt.activeTexture(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,g.texture.webGLTexture),rt.copyTexSubImage2D(rt.TEXTURE_2D,0,0,0,j,k,tt,_),rt.bindFramebuffer(rt.FRAMEBUFFER,null),rt.bindTexture(rt.TEXTURE_2D,null)},copyToGame:function(c){var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,c.texture.webGLTexture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6)},drawFrame:function(c,g,j,k){j===void 0&&(j=!0),k===void 0&&(k=this.colorMatrix);var tt=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",k.getData()),this.set1f("uAlpha",k.alpha),tt.activeTexture(tt.TEXTURE0),tt.bindTexture(tt.TEXTURE_2D,c.texture.webGLTexture),g?(tt.viewport(0,0,g.width,g.height),tt.bindFramebuffer(tt.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,g.texture.webGLTexture,0)):tt.viewport(0,0,c.width,c.height),j?tt.clearColor(0,0,0,0):tt.clearColor(0,0,0,1),tt.clear(tt.COLOR_BUFFER_BIT),tt.bufferData(tt.ARRAY_BUFFER,this.vertexData,tt.STATIC_DRAW),tt.drawArrays(tt.TRIANGLES,0,6),tt.bindFramebuffer(tt.FRAMEBUFFER,null),tt.bindTexture(tt.TEXTURE_2D,null)},blendFrames:function(c,g,j,k,tt,_){k===void 0&&(k=1),tt===void 0&&(tt=!0),_===void 0&&(_=this.linearShader);var nt=this.gl;this.setShader(_),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",k),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,c.texture.webGLTexture),nt.activeTexture(nt.TEXTURE1),nt.bindTexture(nt.TEXTURE_2D,g.texture.webGLTexture),j?(nt.bindFramebuffer(nt.FRAMEBUFFER,j.framebuffer.webGLFramebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,j.texture.webGLTexture,0),nt.viewport(0,0,j.width,j.height)):nt.viewport(0,0,c.width,c.height),tt?nt.clearColor(0,0,0,0):nt.clearColor(0,0,0,1),nt.clear(nt.COLOR_BUFFER_BIT),nt.bufferData(nt.ARRAY_BUFFER,this.vertexData,nt.STATIC_DRAW),nt.drawArrays(nt.TRIANGLES,0,6),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null)},blendFramesAdditive:function(c,g,j,k,tt){this.blendFrames(c,g,j,k,tt,this.addShader)},clearFrame:function(c,g){g===void 0&&(g=!0);var j=this.gl;j.viewport(0,0,c.width,c.height),j.bindFramebuffer(j.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),g?j.clearColor(0,0,0,0):j.clearColor(0,0,0,1),j.clear(j.COLOR_BUFFER_BIT);var k=this.renderer.currentFramebuffer;j.bindFramebuffer(j.FRAMEBUFFER,k.webGLFramebuffer)},setUVs:function(c,g,j,k,tt,_,nt,it){var rt=this.vertexViewF32;rt[2]=c,rt[3]=g,rt[6]=j,rt[7]=k,rt[10]=tt,rt[11]=_,rt[14]=c,rt[15]=g,rt[18]=tt,rt[19]=_,rt[22]=nt,rt[23]=it},setTargetUVs:function(c,g){var j=g.height/c.height;j>.5?j=.5-(j-.5):j=.5+(.5-j),this.setUVs(0,j,0,1+j,1,1+j,1,j)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});i.exports=p},36060:i=>{var $={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};i.exports=$},84817:i=>{i.exports="pipelineafterflush"},36712:i=>{i.exports="pipelinebeforeflush"},40285:i=>{i.exports="pipelinebind"},65918:i=>{i.exports="pipelineboot"},92852:i=>{i.exports="pipelinedestroy"},56072:i=>{i.exports="pipelinerebind"},57566:i=>{i.exports="pipelineresize"},77085:(i,$,e)=>{i.exports={AFTER_FLUSH:e(84817),BEFORE_FLUSH:e(36712),BIND:e(40285),BOOT:e(65918),DESTROY:e(92852),REBIND:e(56072),RESIZE:e(57566)}},54812:(i,$,e)=>{var u=e(83419),G=e(99155),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.amount=1},onPreRender:function(o,n){o=this.getController(o),this.set1f("amount",o.amount,n)}});i.exports=r},67329:(i,$,e)=>{var u=e(83419),G=e(24400),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(o){o=this.getController(o),this.set1f("strength",o.blurStrength),this.set3fv("color",o.glcolor)},onDraw:function(o){var n=this.getController(),l=this.fullFrame1,f=this.fullFrame2;this.copyFrame(o,f);for(var s=2/o.width*n.offsetX,d=2/o.height*n.offsetY,p=0;p<n.steps;p++)this.set2f("offset",s,0),this.copySprite(o,l),this.set2f("offset",0,d),this.copySprite(l,o);this.blendFrames(f,o,l,n.strength),this.copyToGame(l)}});i.exports=r},8861:(i,$,e)=>{var u=e(83419),G=e(41514),h=e(51078),r=e(94328),o=e(84057),n=new u({Extends:o,initialize:function(f){o.call(this,{game:f,shaders:[{name:"Gaussian5",fragShader:G},{name:"Gaussian9",fragShader:h},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(l){var f=this.getController(),s=this.gl,d=this.fullFrame1,p=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[f.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,l.width,l.height),this.set1i("uMainSampler",0),this.set2f("resolution",l.width,l.height),this.set1f("strength",f.strength),this.set3fv("color",f.glcolor);for(var c=0;c<f.steps;c++)this.set2f("offset",f.x,0),this.copySprite(l,d),this.set2f("offset",0,f.y),this.copySprite(d,l);s.bindFramebuffer(s.FRAMEBUFFER,p),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(l)}});i.exports=n},51051:(i,$,e)=>{var u=e(83419),G=e(90610),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(o,n,l,f){o=this.getController(o),this.set1f("radius",o.radius,n),this.set1f("amount",o.amount,n),this.set1f("contrast",o.contrast,n),this.set1f("strength",o.strength,n),this.set2f("blur",o.blurX,o.blurY,n),this.setBoolean("isTiltShift",o.isTiltShift,n),l&&f&&this.set2f("resolution",l,f,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});i.exports=r},89428:(i,$,e)=>{var u=e(83419),G=e(91899),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(o,n,l,f){o=this.getController(o),this.set1f("scale",o.scale,n),this.set1f("feather",o.feather,n),this.set1f("thickness",o.thickness,n),this.set3fv("color",o.glcolor,n),this.set4fv("backgroundColor",o.glcolor2,n),l&&f&&this.set2f("resolution",l,f,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});i.exports=r},88904:(i,$,e)=>{var u=e(83419),G=e(84057),h=new u({Extends:G,initialize:function(o){G.call(this,{game:o})},onDraw:function(r){var o=this.fullFrame1;this.controller?this.manager.drawFrame(r,o,!0,this.controller):this.drawFrame(r,o),this.copyToGame(o)}});i.exports=h},63563:(i,$,e)=>{var u=e(83419),G=e(47838),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(o){var n=this.game.textures.getFrame(o);n&&(this.glTexture=n.glTexture)},onDraw:function(o){var n=this.getController(),l=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.copySprite(o,l),this.copyToGame(l)}});i.exports=r},94045:(i,$,e)=>{var u=e(83419),G=e(95540),h=e(98656),r=e(84057),o=e(70554),n=new u({Extends:r,initialize:function(f,s){var d=G(s,"quality",.1),p=G(s,"distance",10);r.call(this,{game:f,fragShader:o.setGlowQuality(h,f,d,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(l,f,s,d){l=this.getController(l),this.set1f("outerStrength",l.outerStrength,f),this.set1f("innerStrength",l.innerStrength,f),this.set4fv("glowColor",l.glcolor,f),this.setBoolean("knockout",l.knockout,f),s&&d&&this.set2f("resolution",s,d,f)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});i.exports=n},74088:(i,$,e)=>{var u=e(83419),G=e(70463),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(o,n){o=this.getController(o),this.set1f("alpha",o.alpha,n),this.set1i("size",o.size,n),this.set3fv("color1",o.glcolor1,n),this.set3fv("color2",o.glcolor2,n),this.set2f("positionFrom",o.fromX,o.fromY,n),this.set2f("positionTo",o.toX,o.toY,n)}});i.exports=r},99636:(i,$,e)=>{var u=e(83419),G=e(50831),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.amount=1},onPreRender:function(o,n,l,f){o=this.getController(o),this.set1f("amount",o.amount,n),l&&f&&this.set2f("resolution",l,f,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});i.exports=r},34700:(i,$,e)=>{var u=e(83419),G=e(92595),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(o,n){o=this.getController(o);var l=o.samples;this.set1i("samples",l,n),this.set1f("intensity",o.intensity,n),this.set1f("decay",o.decay,n),this.set1f("power",o.power/l,n),this.set2f("lightPosition",o.x,o.y,n),this.set4fv("color",o.glcolor,n)}});i.exports=r},91157:(i,$,e)=>{var u=e(83419),G=e(72464),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(o,n,l,f){o=this.getController(o),this.setTime("time",n),this.set1f("speed",o.speed,n),this.set1f("lineWidth",o.lineWidth,n),this.set1f("gradient",o.gradient,n),this.setBoolean("reveal",o.reveal,n),l&&f&&this.set2f("resolution",l,f,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});i.exports=r},27797:(i,$,e)=>{var u=e(83419),G=e(39249),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(o,n){o=this.getController(o),this.set1f("radius",o.radius,n),this.set1f("strength",o.strength,n),this.set2f("position",o.x,o.y,n)}});i.exports=r},67603:(i,$,e)=>{var u=e(83419),G=e(2878),h=e(84057),r=new u({Extends:h,initialize:function(n){h.call(this,{game:n,fragShader:G}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(o,n){o=this.getController(o);var l=o.progress,f=o.wipeWidth,s=o.direction,d=o.axis;this.set4f("config",l,f,s,d,n),this.setBoolean("reveal",o.reveal,n)}});i.exports=r},58918:(i,$,e)=>{var u={Barrel:e(54812),Bloom:e(67329),Blur:e(8861),Bokeh:e(51051),Circle:e(89428),ColorMatrix:e(88904),Displacement:e(63563),Glow:e(94045),Gradient:e(74088),Pixelate:e(99636),Shadow:e(34700),Shine:e(91157),Vignette:e(27797),Wipe:e(67603)};i.exports=u},96615:(i,$,e)=>{var u=e(36060),G=e(79291),h={FX:e(58918),BitmapMaskPipeline:e(31302),Events:e(77085),FXPipeline:e(92651),LightPipeline:e(96569),MobilePipeline:e(56527),MultiPipeline:e(57516),PointLightPipeline:e(43439),PostFXPipeline:e(84057),PreFXPipeline:e(43558),RopePipeline:e(81041),SinglePipeline:e(12385),UtilityPipeline:e(7589)};h=G(!1,h,u),i.exports=h},35407:i=>{i.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:i=>{i.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:i=>{i.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:i=>{i.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:i=>{i.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:i=>{i.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:i=>{i.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:i=>{i.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:i=>{i.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:i=>{i.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:i=>{i.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:i=>{i.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:i=>{i.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:i=>{i.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:i=>{i.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:i=>{i.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:i=>{i.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:i=>{i.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:i=>{i.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:i=>{i.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:i=>{i.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:i=>{i.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:i=>{i.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:i=>{i.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:i=>{i.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:i=>{i.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:i=>{i.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:i=>{i.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:i=>{i.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:i=>{i.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:i=>{i.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:i=>{i.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:i=>{i.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:i=>{i.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(i,$,e)=>{i.exports={AddBlendFrag:e(35407),BitmapMaskFrag:e(78908),BitmapMaskVert:e(85191),ColorMatrixFrag:e(96293),CopyFrag:e(36682),FXBarrelFrag:e(99155),FXBloomFrag:e(24400),FXBlurHighFrag:e(94328),FXBlurLowFrag:e(41514),FXBlurMedFrag:e(51078),FXBokehFrag:e(90610),FXCircleFrag:e(91899),FXDisplacementFrag:e(47838),FXGlowFrag:e(98656),FXGradientFrag:e(70463),FXPixelateFrag:e(50831),FXShadowFrag:e(92595),FXShineFrag:e(72464),FXVignetteFrag:e(39249),FXWipeFrag:e(2878),LightFrag:e(31063),LinearBlendFrag:e(48247),MeshFrag:e(41214),MeshVert:e(39653),MobileFrag:e(62143),MobileVert:e(47940),MultiFrag:e(98840),MultiVert:e(44667),PointLightFrag:e(4127),PointLightVert:e(89924),PostFXFrag:e(27681),QuadVert:e(49627),SingleFrag:e(45561),SingleVert:e(60722)}},93567:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n){this.webGLAttribLocation=-1,this.gl=r,this.program=o,this.name=n,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var h=this.gl;h.isContextLost()||(this.webGLAttribLocation=h.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});i.exports=G},26128:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n,l){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=o,this.bufferType=n,this.bufferUsage=l,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var h=this.gl;if(!h.isContextLost()){var r=this.bufferType,o=h.createBuffer();this.webGLBuffer=o,h.bindBuffer(r,this.webGLBuffer),h.bufferData(r,this.initialDataOrSize,this.bufferUsage),h.bindBuffer(r,null)}}},destroy:function(){var h=this.gl;h.isContextLost()||h.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});i.exports=G},84387:(i,$,e)=>{var u=e(83419),G={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},h=new u({initialize:function(o,n,l,f,s){this.webGLFramebuffer=null,this.gl=o,this.width=n,this.height=l,this.renderTexture=f,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var o=this.renderTexture,n=0,l=r.createFramebuffer();if(this.webGLFramebuffer=l,r.bindFramebuffer(r.FRAMEBUFFER,l),o.isRenderTexture=!0,o.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o.webGLTexture,0),n=r.checkFramebufferStatus(r.FRAMEBUFFER),n!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(G[n]||n));if(this.addDepthStencilBuffer){var f=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,f),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,f)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var o=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(o));var n=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&r.deleteRenderbuffer(n),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});i.exports=h},1482:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n){this.webGLProgram=null,this.gl=r,this.vertexSource=o,this.fragmentSource=n,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var r=h.createProgram(),o=h.createShader(h.VERTEX_SHADER),n=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(o,this.vertexSource),h.shaderSource(n,this.fragmentSource),h.compileShader(o),h.compileShader(n);var l=`Shader failed:
`;if(!h.getShaderParameter(o,h.COMPILE_STATUS))throw new Error("Vertex "+l+h.getShaderInfoLog(o));if(!h.getShaderParameter(n,h.COMPILE_STATUS))throw new Error("Fragment "+l+h.getShaderInfoLog(n));if(h.attachShader(r,o),h.attachShader(r,n),h.linkProgram(r),!h.getProgramParameter(r,h.LINK_STATUS))throw new Error("Link "+l+h.getProgramInfoLog(r));h.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});i.exports=G},82751:(i,$,e)=>{var u=e(83419),G=e(50030),h=new u({initialize:function(o,n,l,f,s,d,p,c,g,j,k,tt,_){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=o,this.mipLevel=n,this.minFilter=l,this.magFilter=f,this.wrapT=s,this.wrapS=d,this.format=p,this.pixels=c,this.width=g,this.height=j,this.pma=k??!0,this.forceSize=!!tt,this.flipY=!!_,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof h){this.webGLTexture=this.pixels.webGLTexture;return}var o=r.createTexture();o.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=o,this._processTexture()}},update:function(r,o,n,l,f,s,d,p,c){if(!(o===0||n===0)){this.pixels=r,this.width=o,this.height=n,this.flipY=l,this.wrapS=f,this.wrapT=s,this.minFilter=d,this.magFilter=p,this.format=c;var g=this.gl;g.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var o=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var n=this.pixels,l=this.mipLevel,f=this.width,s=this.height,d=this.format,p=!1;if(n==null)r.texImage2D(r.TEXTURE_2D,l,d,f,s,0,d,r.UNSIGNED_BYTE,null),p=G(f,s);else if(n.compressed){f=n.width,s=n.height,p=n.generateMipmap;for(var c=0;c<n.mipmaps.length;c++)r.compressedTexImage2D(r.TEXTURE_2D,c,n.internalFormat,n.mipmaps[c].width,n.mipmaps[c].height,0,n.mipmaps[c].data)}else n instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,l,d,f,s,0,d,r.UNSIGNED_BYTE,n),p=G(f,s)):(this.forceSize||(f=n.width,s=n.height),r.texImage2D(r.TEXTURE_2D,l,d,d,r.UNSIGNED_BYTE,n),p=G(f,s));p&&r.generateMipmap(r.TEXTURE_2D),o?r.bindTexture(r.TEXTURE_2D,o):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof h||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});i.exports=h},57183:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n){this.webGLUniformLocation=null,this.gl=r,this.program=o,this.name=n,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var h=this.gl;h.isContextLost()||(this.webGLUniformLocation=h.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});i.exports=G},9503:(i,$,e)=>{var u={WebGLAttribLocationWrapper:e(93567),WebGLBufferWrapper:e(26128),WebGLProgramWrapper:e(1482),WebGLTextureWrapper:e(82751),WebGLFramebufferWrapper:e(84387),WebGLUniformLocationWrapper:e(57183)};i.exports=u},76531:(i,$,e)=>{var u=e(13560),G=e(83419),h=e(50792),r=e(97480),o=e(8443),n=e(57811),l=e(74403),f=e(45818),s=e(29747),d=e(87841),p=e(86555),c=e(56583),g=e(26099),j=e(38058),k=new G({Extends:h,initialize:function(_){h.call(this),this.game=_,this.canvas,this.canvasBounds=new d,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new g(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var tt=this.game;this.canvas=tt.canvas,this.fullscreen=tt.device.fullscreen,this.scaleMode!==u.SCALE_MODE.RESIZE&&this.scaleMode!==u.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),tt.events.on(o.PRE_STEP,this.step,this),tt.events.once(o.READY,this.refresh,this),tt.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(tt){this.getParent(tt),this.getParentBounds();var _=tt.width,nt=tt.height,it=tt.scaleMode,rt=tt.zoom,st=tt.autoRound;if(typeof _=="string")if(_.substr(-1)!=="%")_=parseInt(_,10);else{var at=this.parentSize.width;at===0&&(at=window.innerWidth);var ot=parseInt(_,10)/100;_=Math.floor(at*ot)}if(typeof nt=="string")if(nt.substr(-1)!=="%")nt=parseInt(nt,10);else{var ht=this.parentSize.height;ht===0&&(ht=window.innerHeight);var dt=parseInt(nt,10)/100;nt=Math.floor(ht*dt)}this.scaleMode=it,this.autoRound=st,this.autoCenter=tt.autoCenter,this.resizeInterval=tt.resizeInterval,st&&(_=Math.floor(_),nt=Math.floor(nt)),this.gameSize.setSize(_,nt),rt===u.ZOOM.MAX_ZOOM&&(rt=this.getMaxZoom()),this.zoom=rt,rt!==1&&(this._resetZoom=!0),this.baseSize.setSize(_,nt),st&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),tt.minWidth>0&&this.displaySize.setMin(tt.minWidth*rt,tt.minHeight*rt),tt.maxWidth>0&&this.displaySize.setMax(tt.maxWidth*rt,tt.maxHeight*rt),this.displaySize.setSize(_,nt),(tt.snapWidth>0||tt.snapHeight>0)&&this.displaySize.setSnap(tt.snapWidth,tt.snapHeight),this.orientation=f(_,nt)},getParent:function(tt){var _=tt.parent;if(_!==null){if(this.parent=l(_),this.parentIsWindow=this.parent===document.body,tt.expandParent&&tt.scaleMode!==u.SCALE_MODE.NONE){var nt=this.parent.getBoundingClientRect();(this.parentIsWindow||nt.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",nt=this.parent.getBoundingClientRect(),!this.parentIsWindow&&nt.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}tt.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(tt.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var tt=this.parentSize,_=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(_.height=n(!0));var nt=_.width,it=_.height;if(tt.width!==nt||tt.height!==it)return tt.setSize(nt,it),!0;if(this.canvas){var rt=this.canvasBounds,st=this.canvas.getBoundingClientRect();if(st.x!==rt.x||st.y!==rt.y)return!0}return!1},lockOrientation:function(tt){var _=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return _?_.call(screen,tt):!1},setParentSize:function(tt,_){return this.parentSize.setSize(tt,_),this.refresh()},setGameSize:function(tt,_){var nt=this.autoRound;nt&&(tt=Math.floor(tt),_=Math.floor(_));var it=this.width,rt=this.height;return this.gameSize.resize(tt,_),this.baseSize.resize(tt,_),nt&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(tt/_),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(it,rt)},resize:function(tt,_){var nt=this.zoom,it=this.autoRound;it&&(tt=Math.floor(tt),_=Math.floor(_));var rt=this.width,st=this.height;this.gameSize.resize(tt,_),this.baseSize.resize(tt,_),it&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(tt*nt,_*nt),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var at=this.canvas.style,ot=tt*nt,ht=_*nt;return it&&(ot=Math.floor(ot),ht=Math.floor(ht)),(ot!==tt||ht!==_)&&(at.width=ot+"px",at.height=ht+"px"),this.refresh(rt,st)},setZoom:function(tt){return this.zoom=tt,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(tt,_){return tt===void 0&&(tt=0),_===void 0&&(_=tt),this.displaySize.setSnap(tt,_),this.refresh()},refresh:function(tt,_){tt===void 0&&(tt=this.width),_===void 0&&(_=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var nt=this.game.domContainer;if(nt){this.baseSize.setCSS(nt);var it=this.canvas.style,rt=nt.style;rt.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",rt.marginLeft=it.marginLeft,rt.marginTop=it.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,tt,_),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var tt=f(this.width,this.height);tt!==this.orientation&&(this.orientation=tt,this.emit(r.ORIENTATION_CHANGE,tt))}},updateScale:function(){var tt=this.canvas.style,_=this.gameSize.width,nt=this.gameSize.height,it,rt,st=this.zoom,at=this.autoRound;if(this.scaleMode===u.SCALE_MODE.NONE)this.displaySize.setSize(_*st,nt*st),it=this.displaySize.width,rt=this.displaySize.height,at&&(it=Math.floor(it),rt=Math.floor(rt)),this._resetZoom&&(tt.width=it+"px",tt.height=rt+"px",this._resetZoom=!1);else if(this.scaleMode===u.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),it=this.displaySize.width,rt=this.displaySize.height,at&&(it=Math.floor(it),rt=Math.floor(rt)),this.canvas.width=it,this.canvas.height=rt;else if(this.scaleMode===u.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),it=this.displaySize.width,rt=this.displaySize.height,at&&(it=Math.floor(it),rt=Math.floor(rt)),tt.width=it+"px",tt.height=rt+"px";var ot=this.parentSize.width/this.gameSize.width,ht=this.parentSize.height/this.gameSize.height;ot<ht?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/ot):this.baseSize.setSize(this.displaySize.width/ht,this.gameSize.height),it=this.baseSize.width,rt=this.baseSize.height,at&&(it=Math.floor(it),rt=Math.floor(rt)),this.canvas.width=it,this.canvas.height=rt}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),it=this.displaySize.width,rt=this.displaySize.height,at&&(it=Math.floor(it),rt=Math.floor(rt)),tt.width=it+"px",tt.height=rt+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var tt=c(this.parentSize.width,this.gameSize.width,0,!0),_=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(tt,_),1)},updateCenter:function(){var tt=this.autoCenter;if(tt!==u.CENTER.NO_CENTER){var _=this.canvas,nt=_.style,it=_.getBoundingClientRect(),rt=it.width,st=it.height,at=Math.floor((this.parentSize.width-rt)/2),ot=Math.floor((this.parentSize.height-st)/2);tt===u.CENTER.CENTER_HORIZONTALLY?ot=0:tt===u.CENTER.CENTER_VERTICALLY&&(at=0),nt.marginLeft=at+"px",nt.marginTop=ot+"px"}},updateBounds:function(){var tt=this.canvasBounds,_=this.canvas.getBoundingClientRect();tt.x=_.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),tt.y=_.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),tt.width=_.width,tt.height=_.height},transformX:function(tt){return(tt-this.canvasBounds.left)*this.displayScale.x},transformY:function(tt){return(tt-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(tt){tt===void 0&&(tt={navigationUI:"hide"});var _=this.fullscreen;if(!_.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!_.active){var nt=this.getFullscreenTarget();_.keyboard?nt[_.request](Element.ALLOW_KEYBOARD_INPUT):nt[_.request](tt)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(tt){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,tt)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var tt=document.createElement("div");tt.style.margin="0",tt.style.padding="0",tt.style.width="100%",tt.style.height="100%",this.fullscreenTarget=tt,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var _=this.canvas.parentNode;_.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var tt=this.fullscreenTarget;if(tt&&tt.parentNode){var _=tt.parentNode;_.insertBefore(this.canvas,tt),_.removeChild(tt)}}},stopFullscreen:function(){var tt=this.fullscreen;if(!tt.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;tt.active&&document[tt.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(tt){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(tt)},startListeners:function(){var tt=this,_=this.domlisteners;if(_.orientationChange=function(){tt.updateBounds(),tt._checkOrientation=!0,tt.dirty=!0,tt.refresh()},_.windowResize=function(){tt.updateBounds(),tt.dirty=!0},window.addEventListener("orientationchange",_.orientationChange,!1),window.addEventListener("resize",_.windowResize,!1),this.fullscreen.available){_.fullScreenChange=function(it){return tt.onFullScreenChange(it)},_.fullScreenError=function(it){return tt.onFullScreenError(it)};var nt=["webkit","moz",""];nt.forEach(function(it){document.addEventListener(it+"fullscreenchange",_.fullScreenChange,!1),document.addEventListener(it+"fullscreenerror",_.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",_.fullScreenChange,!1),document.addEventListener("MSFullscreenError",_.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(tt,_){tt instanceof j||(_=tt,tt=void 0),_===void 0&&(_=new d);var nt=this.baseSize,it=this.parentSize,rt=this.canvasBounds,st=this.displayScale,at=rt.x>=0?0:-(rt.x*st.x),ot=rt.y>=0?0:-(rt.y*st.y),ht;it.width>=rt.width?ht=nt.width:ht=nt.width-(rt.width-it.width)*st.x;var dt;return it.height>=rt.height?dt=nt.height:dt=nt.height-(rt.height-it.height)*st.y,_.setTo(at,ot,ht,dt),tt&&(_.width/=tt.zoomX,_.height/=tt.zoomY,_.centerX=tt.centerX+tt.scrollX,_.centerY=tt.centerY+tt.scrollY),_},step:function(tt,_){this.parent&&(this._lastCheck+=_,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var tt=this.domlisteners;window.removeEventListener("orientationchange",tt.orientationChange,!1),window.removeEventListener("resize",tt.windowResize,!1);var _=["webkit","moz",""];_.forEach(function(nt){document.removeEventListener(nt+"fullscreenchange",tt.fullScreenChange,!1),document.removeEventListener(nt+"fullscreenerror",tt.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",tt.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",tt.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});i.exports=k},64743:i=>{i.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:i=>{i.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:i=>{i.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:i=>{i.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(i,$,e)=>{var u={CENTER:e(64743),ORIENTATION:e(39218),SCALE_MODE:e(81050),ZOOM:e(80805)};i.exports=u},56139:i=>{i.exports="enterfullscreen"},2336:i=>{i.exports="fullscreenfailed"},47412:i=>{i.exports="fullscreenunsupported"},51452:i=>{i.exports="leavefullscreen"},20666:i=>{i.exports="orientationchange"},47945:i=>{i.exports="resize"},97480:(i,$,e)=>{i.exports={ENTER_FULLSCREEN:e(56139),FULLSCREEN_FAILED:e(2336),FULLSCREEN_UNSUPPORTED:e(47412),LEAVE_FULLSCREEN:e(51452),ORIENTATION_CHANGE:e(20666),RESIZE:e(47945)}},93364:(i,$,e)=>{var u=e(79291),G=e(13560),h={Center:e(64743),Events:e(97480),Orientation:e(39218),ScaleManager:e(76531),ScaleModes:e(81050),Zoom:e(80805)};h=u(!1,h,G.CENTER),h=u(!1,h,G.ORIENTATION),h=u(!1,h,G.SCALE_MODE),h=u(!1,h,G.ZOOM),i.exports=h},27397:(i,$,e)=>{var u=e(95540),G=e(35355),h=function(r){var o=r.game.config.defaultPhysicsSystem,n=u(r.settings,"physics",!1);if(!(!o&&!n)){var l=[];if(o&&l.push(G(o+"Physics")),n)for(var f in n)f=G(f.concat("Physics")),l.indexOf(f)===-1&&l.push(f);return l}};i.exports=h},52106:(i,$,e)=>{var u=e(95540),G=function(h){var r=h.plugins.getDefaultScenePlugins(),o=u(h.settings,"plugins",!1);return Array.isArray(o)?o:r||[]};i.exports=G},87033:i=>{var $={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};i.exports=$},97482:(i,$,e)=>{var u=e(83419),G=e(2368),h=new u({initialize:function(o){this.sys=new G(this,o),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});i.exports=h},60903:(i,$,e)=>{var u=e(83419),G=e(89993),h=e(44594),r=e(8443),o=e(35154),n=e(54899),l=e(29747),f=e(97482),s=e(2368),d=new u({initialize:function(c,g){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,g){Array.isArray(g)||(g=[g]);for(var j=0;j<g.length;j++)this._pending.push({key:"default",scene:g[j],autoStart:j===0,data:{}})}c.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new f),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var p,c,g,j;for(p=0;p<this._pending.length;p++){c=this._pending[p],g=c.key,j=c.scene;var k;j instanceof f?k=this.createSceneFromInstance(g,j):typeof j=="object"?k=this.createSceneFromObject(g,j):typeof j=="function"&&(k=this.createSceneFromFunction(g,j)),g=k.sys.settings.key,this.keys[g]=k,this.scenes.push(k),this._data[g]&&(k.sys.settings.data=this._data[g].data,this._data[g].autoStart&&(c.autoStart=!0)),(c.autoStart||k.sys.settings.active)&&this._start.push(g)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)c=this._start[p],this.start(c);this._start.length=0}},processQueue:function(){var p=this._pending.length,c=this._queue.length;if(!(p===0&&c===0)){var g,j;if(p){for(g=0;g<p;g++)j=this._pending[g],this.add(j.key,j.scene,j.autoStart,j.data);for(g=0;g<this._start.length;g++)j=this._start[g],this.start(j);this._start.length=0,this._pending.length=0}for(g=0;g<this._queue.length;g++)j=this._queue[g],this[j.op](j.keyA,j.keyB);this._queue.length=0}},add:function(p,c,g,j){if(g===void 0&&(g=!1),j===void 0&&(j={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:c,autoStart:g,data:j}),this.isBooted||(this._data[p]={data:j}),null;p=this.getKey(p,c);var k;return c instanceof f?k=this.createSceneFromInstance(p,c):typeof c=="object"?(c.key=p,k=this.createSceneFromObject(p,c)):typeof c=="function"&&(k=this.createSceneFromFunction(p,c)),k.sys.settings.data=j,p=k.sys.settings.key,this.keys[p]=k,this.scenes.push(k),(g||k.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),k},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var c=this.getScene(p);if(!c||c.sys.isTransitioning())return this;var g=this.scenes.indexOf(c),j=c.sys.settings.key;g>-1&&(delete this.keys[j],this.scenes.splice(g,1),this._start.indexOf(j)>-1&&(g=this._start.indexOf(j),this._start.splice(g,1)),c.sys.destroy())}return this},bootScene:function(p){var c=p.sys,g=c.settings;c.sceneUpdate=l,p.init&&(p.init.call(p,g.data),g.status=G.INIT,g.isTransition&&c.events.emit(h.TRANSITION_INIT,g.transitionFrom,g.transitionDuration));var j;c.load&&(j=c.load,j.reset()),j&&p.preload?(p.preload.call(p),g.status=G.LOADING,j.once(n.COMPLETE,this.loadComplete,this),j.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,c){this.processQueue(),this.isProcessing=!0;for(var g=this.scenes.length-1;g>=0;g--){var j=this.scenes[g].sys;j.settings.status>G.START&&j.settings.status<=G.RUNNING&&j.step(p,c),j.scenePlugin&&j.scenePlugin._target&&j.scenePlugin.step(p,c)}},render:function(p){for(var c=0;c<this.scenes.length;c++){var g=this.scenes[c].sys;g.settings.visible&&g.settings.status>=G.LOADING&&g.settings.status<G.SLEEPING&&g.render(p)}this.isProcessing=!1},create:function(p){var c=p.sys,g=c.settings;p.create&&(g.status=G.CREATING,p.create.call(p,g.data),g.status===G.DESTROYED)||(g.isTransition&&c.events.emit(h.TRANSITION_START,g.transitionFrom,g.transitionDuration),p.update&&(c.sceneUpdate=p.update),g.status=G.RUNNING,c.events.emit(h.CREATE,p))},createSceneFromFunction:function(p,c){var g=new c;if(g instanceof f){var j=g.sys.settings.key;if(j!==""&&(p=j),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,g)}else return g.sys=new s(g),g.sys.settings.key=p,g.sys.init(this.game),g},createSceneFromInstance:function(p,c){var g=c.sys.settings.key;return g===""&&(c.sys.settings.key=p),c.sys.init(this.game),c},createSceneFromObject:function(p,c){var g=new f(c),j=g.sys.settings.key;j!==""?p=j:g.sys.settings.key=p,g.sys.init(this.game);for(var k=["init","preload","create","update","render"],tt=0;tt<k.length;tt++){var _=o(c,k[tt],null);_&&(g[k[tt]]=_)}if(c.hasOwnProperty("extend")){for(var nt in c.extend)if(c.extend.hasOwnProperty(nt)){var it=c.extend[nt];nt==="data"&&g.hasOwnProperty("data")&&typeof it=="object"?g.data.merge(it):nt!=="sys"&&(g[nt]=it)}}return g},getKey:function(p,c){if(p||(p="default"),typeof c=="function")return p;if(c instanceof f?p=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(p=c.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,c){p===void 0&&(p=!0),c===void 0&&(c=!1);for(var g=[],j=this.scenes,k=0;k<j.length;k++){var tt=j[k];tt&&(!p||p&&tt.sys.isActive())&&g.push(tt)}return c?g.reverse():g},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var c=0;c<this.scenes.length;c++)if(p===this.scenes[c])return p;return null},isActive:function(p){var c=this.getScene(p);return c?c.sys.isActive():null},isPaused:function(p){var c=this.getScene(p);return c?c.sys.isPaused():null},isVisible:function(p){var c=this.getScene(p);return c?c.sys.isVisible():null},isSleeping:function(p){var c=this.getScene(p);return c?c.sys.isSleeping():null},pause:function(p,c){var g=this.getScene(p);return g&&g.sys.pause(c),this},resume:function(p,c){var g=this.getScene(p);return g&&g.sys.resume(c),this},sleep:function(p,c){var g=this.getScene(p);return g&&!g.sys.isTransitioning()&&g.sys.sleep(c),this},wake:function(p,c){var g=this.getScene(p);return g&&g.sys.wake(c),this},run:function(p,c){var g=this.getScene(p);if(!g){for(var j=0;j<this._pending.length;j++)if(this._pending[j].key===p){this.queueOp("start",p,c);break}return this}g.sys.isSleeping()?g.sys.wake(c):g.sys.isPaused()?g.sys.resume(c):this.start(p,c)},start:function(p,c){if(!this.isBooted)return this._data[p]={autoStart:!0,data:c},this;var g=this.getScene(p);if(!g)return console.warn("Scene not found for key: "+p),this;var j=g.sys,k=j.settings.status;if(k>=G.START&&k<=G.CREATING)return this;if(k>=G.RUNNING&&k<=G.SLEEPING)j.shutdown(),j.sceneUpdate=l,j.start(c);else{j.sceneUpdate=l,j.start(c);var tt;if(j.load&&(tt=j.load),tt&&j.settings.hasOwnProperty("pack")&&(tt.reset(),tt.addPack({payload:j.settings.pack})))return j.settings.status=G.LOADING,tt.once(n.COMPLETE,this.payloadComplete,this),tt.start(),this}return this.bootScene(g),this},stop:function(p,c){var g=this.getScene(p);if(g&&!g.sys.isTransitioning()&&g.sys.settings.status!==G.SHUTDOWN){var j=g.sys.load;j&&(j.off(n.COMPLETE,this.loadComplete,this),j.off(n.COMPLETE,this.payloadComplete,this)),g.sys.shutdown(c)}return this},switch:function(p,c){var g=this.getScene(p),j=this.getScene(c);return g&&j&&g!==j&&(this.sleep(p),this.isSleeping(c)?this.wake(c):this.start(c)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var c=this.getScene(p);return this.scenes.indexOf(c)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c!==-1&&c<this.scenes.length){var g=this.getScene(p);this.scenes.splice(c,1),this.scenes.push(g)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c!==-1&&c>0){var g=this.getScene(p);this.scenes.splice(c,1),this.scenes.unshift(g)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c>0){var g=c-1,j=this.getScene(p),k=this.getAt(g);this.scenes[c]=k,this.scenes[g]=j}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c<this.scenes.length-1){var g=c+1,j=this.getScene(p),k=this.getAt(g);this.scenes[c]=k,this.scenes[g]=j}}return this},moveAbove:function(p,c){if(p===c)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:c});else{var g=this.getIndex(p),j=this.getIndex(c);if(g!==-1&&j!==-1&&j<g){var k=this.getAt(j);this.scenes.splice(j,1),this.scenes.splice(g+(j>g),0,k)}}return this},moveBelow:function(p,c){if(p===c)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:c});else{var g=this.getIndex(p),j=this.getIndex(c);if(g!==-1&&j!==-1&&j>g){var k=this.getAt(j);this.scenes.splice(j,1),g===0?this.scenes.unshift(k):this.scenes.splice(g-(j<g),0,k)}}return this},queueOp:function(p,c,g){return this._queue.push({op:p,keyA:c,keyB:g}),this},swapPosition:function(p,c){if(p===c)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:c});else{var g=this.getIndex(p),j=this.getIndex(c);if(g!==j&&g!==-1&&j!==-1){var k=this.getAt(g);this.scenes[g]=this.scenes[j],this.scenes[j]=k}}return this},dump:function(){for(var p=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],g=0;g<this.scenes.length;g++){var j=this.scenes[g].sys,k=j.settings.visible&&(j.settings.status===G.RUNNING||j.settings.status===G.PAUSED)?"[*] ":"[-] ";k+=j.settings.key+" ("+c[j.settings.status]+")",p.push(k)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var c=this.scenes[p].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=l,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});i.exports=d},52209:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(44594),r=e(95540),o=e(37277),n=new G({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},start:function(l,f){return l===void 0&&(l=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",l,f),this},restart:function(l){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,l),this},transition:function(l){l===void 0&&(l={});var f=r(l,"target",!1),s=this.manager.getScene(f);if(!f||!this.checkValidTransition(s))return!1;var d=r(l,"duration",1e3);this._elapsed=0,this._target=s,this._duration=d,this._willSleep=r(l,"sleep",!1),this._willRemove=r(l,"remove",!1);var p=r(l,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=r(l,"onUpdateScope",this.scene));var c=r(l,"allowInput",!1);this.settings.transitionAllowInput=c;var g=s.sys.settings;g.isTransition=!0,g.transitionFrom=this.scene,g.transitionDuration=d,g.transitionAllowInput=c,r(l,"moveAbove",!1)?this.manager.moveAbove(this.key,f):r(l,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),s.sys.isSleeping()?s.sys.wake(r(l,"data")):this.manager.start(f,r(l,"data"));var j=r(l,"onStart",null),k=r(l,"onStartScope",this.scene);return j&&j.call(k,this.scene,s,d),this.systems.events.emit(h.TRANSITION_OUT,s,d),!0},checkValidTransition:function(l){return!(!l||l.sys.isActive()||l.sys.isTransitioning()||l===this.scene||this.systems.isTransitioning())},step:function(l,f){this._elapsed+=f,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var l=this._target.sys,f=this._target.sys.settings;l.events.emit(h.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(l,f,s,d){return this.manager.add(l,f,s,d)},launch:function(l,f){return l&&l!==this.key&&this.manager.queueOp("start",l,f),this},run:function(l,f){return l&&l!==this.key&&this.manager.queueOp("run",l,f),this},pause:function(l,f){return l===void 0&&(l=this.key),this.manager.queueOp("pause",l,f),this},resume:function(l,f){return l===void 0&&(l=this.key),this.manager.queueOp("resume",l,f),this},sleep:function(l,f){return l===void 0&&(l=this.key),this.manager.queueOp("sleep",l,f),this},wake:function(l,f){return l===void 0&&(l=this.key),this.manager.queueOp("wake",l,f),this},switch:function(l){return l!==this.key&&this.manager.queueOp("switch",this.key,l),this},stop:function(l,f){return l===void 0&&(l=this.key),this.manager.queueOp("stop",l,f),this},setActive:function(l,f,s){f===void 0&&(f=this.key);var d=this.manager.getScene(f);return d&&d.sys.setActive(l,s),this},setVisible:function(l,f){f===void 0&&(f=this.key);var s=this.manager.getScene(f);return s&&s.sys.setVisible(l),this},isSleeping:function(l){return l===void 0&&(l=this.key),this.manager.isSleeping(l)},isActive:function(l){return l===void 0&&(l=this.key),this.manager.isActive(l)},isPaused:function(l){return l===void 0&&(l=this.key),this.manager.isPaused(l)},isVisible:function(l){return l===void 0&&(l=this.key),this.manager.isVisible(l)},swapPosition:function(l,f){return f===void 0&&(f=this.key),l!==f&&this.manager.swapPosition(l,f),this},moveAbove:function(l,f){return f===void 0&&(f=this.key),l!==f&&this.manager.moveAbove(l,f),this},moveBelow:function(l,f){return f===void 0&&(f=this.key),l!==f&&this.manager.moveBelow(l,f),this},remove:function(l){return l===void 0&&(l=this.key),this.manager.remove(l),this},moveUp:function(l){return l===void 0&&(l=this.key),this.manager.moveUp(l),this},moveDown:function(l){return l===void 0&&(l=this.key),this.manager.moveDown(l),this},bringToTop:function(l){return l===void 0&&(l=this.key),this.manager.bringToTop(l),this},sendToBack:function(l){return l===void 0&&(l=this.key),this.manager.sendToBack(l),this},get:function(l){return this.manager.getScene(l)},getStatus:function(l){var f=this.manager.getScene(l);if(f)return f.sys.getStatus()},getIndex:function(l){return l===void 0&&(l=this.key),this.manager.getIndex(l)},shutdown:function(){var l=this.systems.events;l.off(h.SHUTDOWN,this.shutdown,this),l.off(h.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",n,"scenePlugin"),i.exports=n},55681:(i,$,e)=>{var u=e(89993),G=e(35154),h=e(46975),r=e(87033),o={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:u.PENDING,key:G(n,"key",""),active:G(n,"active",!1),visible:G(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:G(n,"pack",!1),cameras:G(n,"cameras",null),map:G(n,"map",h(r,G(n,"mapAdd",{}))),physics:G(n,"physics",{}),loader:G(n,"loader",{}),plugins:G(n,"plugins",!1),input:G(n,"input",{})}}};i.exports=o},2368:(i,$,e)=>{var u=e(83419),G=e(89993),h=e(42363),r=e(44594),o=e(27397),n=e(52106),l=e(29747),f=e(55681),s=new u({initialize:function(p,c){this.scene=p,this.game,this.renderer,this.config=c,this.settings=f.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=l},init:function(d){this.settings.status=G.INIT,this.sceneUpdate=l,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var p=d.plugins;this.plugins=p,p.addToScene(this,h.Global,[h.CoreScene,n(this),o(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(d,p){var c=this.events;c.emit(r.PRE_UPDATE,d,p),c.emit(r.UPDATE,d,p),this.sceneUpdate.call(this.scene,d,p),c.emit(r.POST_UPDATE,d,p)},render:function(d){var p=this.displayList;p.depthSort(),this.events.emit(r.PRE_RENDER,d),this.cameras.render(d,p),this.events.emit(r.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var p=this.settings,c=this.getStatus();return c!==G.CREATING&&c!==G.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=G.PAUSED,p.active=!1,this.events.emit(r.PAUSE,this,d)),this},resume:function(d){var p=this.events,c=this.settings;return this.settings.active||(c.status=G.RUNNING,c.active=!0,p.emit(r.RESUME,this,d)),this},sleep:function(d){var p=this.settings,c=this.getStatus();return c!==G.CREATING&&c!==G.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=G.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(r.SLEEP,this,d)),this},wake:function(d){var p=this.events,c=this.settings;return c.status=G.RUNNING,c.active=!0,c.visible=!0,p.emit(r.WAKE,this,d),c.isTransition&&p.emit(r.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var d=this.settings.status;return d>G.PENDING&&d<=G.RUNNING},isSleeping:function(){return this.settings.status===G.SLEEPING},isActive:function(){return this.settings.status===G.RUNNING},isPaused:function(){return this.settings.status===G.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,p){return d?this.resume(p):this.pause(p)},start:function(d){var p=this.events,c=this.settings;d&&(c.data=d),c.status=G.START,c.active=!0,c.visible=!0,p.emit(r.START,this),p.emit(r.READY,this,d)},shutdown:function(d){var p=this.events,c=this.settings;p.off(r.TRANSITION_INIT),p.off(r.TRANSITION_START),p.off(r.TRANSITION_COMPLETE),p.off(r.TRANSITION_OUT),c.status=G.SHUTDOWN,c.active=!1,c.visible=!1,p.emit(r.SHUTDOWN,this,d)},destroy:function(){var d=this.events,p=this.settings;p.status=G.DESTROYED,p.active=!1,p.visible=!1,d.emit(r.DESTROY,this),d.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],g=0;g<c.length;g++)this[c[g]]=null}});i.exports=s},89993:i=>{var $={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};i.exports=$},69830:i=>{i.exports="addedtoscene"},7919:i=>{i.exports="boot"},46763:i=>{i.exports="create"},11763:i=>{i.exports="destroy"},71555:i=>{i.exports="pause"},36735:i=>{i.exports="postupdate"},3809:i=>{i.exports="prerender"},90716:i=>{i.exports="preupdate"},58262:i=>{i.exports="ready"},91633:i=>{i.exports="removedfromscene"},10319:i=>{i.exports="render"},87132:i=>{i.exports="resume"},81961:i=>{i.exports="shutdown"},90194:i=>{i.exports="sleep"},6265:i=>{i.exports="start"},33178:i=>{i.exports="transitioncomplete"},43063:i=>{i.exports="transitioninit"},11259:i=>{i.exports="transitionout"},61611:i=>{i.exports="transitionstart"},45209:i=>{i.exports="transitionwake"},22966:i=>{i.exports="update"},21747:i=>{i.exports="wake"},44594:(i,$,e)=>{i.exports={ADDED_TO_SCENE:e(69830),BOOT:e(7919),CREATE:e(46763),DESTROY:e(11763),PAUSE:e(71555),POST_UPDATE:e(36735),PRE_RENDER:e(3809),PRE_UPDATE:e(90716),READY:e(58262),REMOVED_FROM_SCENE:e(91633),RENDER:e(10319),RESUME:e(87132),SHUTDOWN:e(81961),SLEEP:e(90194),START:e(6265),TRANSITION_COMPLETE:e(33178),TRANSITION_INIT:e(43063),TRANSITION_OUT:e(11259),TRANSITION_START:e(61611),TRANSITION_WAKE:e(45209),UPDATE:e(22966),WAKE:e(21747)}},62194:(i,$,e)=>{var u=e(89993),G=e(79291),h={Events:e(44594),GetPhysicsPlugins:e(27397),GetScenePlugins:e(52106),SceneManager:e(60903),ScenePlugin:e(52209),Settings:e(55681),Systems:e(2368)};h=G(!1,h,u),i.exports=h},30341:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(14463),r=e(79291),o=e(29747),n=new u({Extends:G,initialize:function(f,s,d){G.call(this),this.manager=f,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,d),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(console.error("addMarker "+l.name+" already exists in Sound"),!1):(l=r(!0,{name:"",start:0,duration:this.totalDuration-(l.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},l),this.markers[l.name]=l,!0)},updateMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(this.markers[l.name]=r(!0,this.markers[l.name],l),!0):(console.warn("Audio Marker: "+l.name+" missing in Sound: "+this.key),!1)},removeMarker:function(l){var f=this.markers[l];return f?(this.markers[l]=null,f):null},play:function(l,f){if(l===void 0&&(l=""),typeof l=="object"&&(f=l,l=""),typeof l!="string")return!1;if(!l)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[l])return console.warn("Marker: "+l+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[l],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var l=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,s=Math.pow(l,f);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(h.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});i.exports=n},85034:(i,$,e)=>{var u=e(83419),G=e(41786),h=e(50792),r=e(14463),o=e(8443),n=e(46710),l=e(58731),f=e(29747),s=e(26099),d=new u({Extends:h,initialize:function(c){h.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s,c.events.on(o.BLUR,this.onGameBlur,this),c.events.on(o.FOCUS,this.onGameFocus,this),c.events.on(o.PRE_STEP,this.update,this),c.events.once(o.DESTROY,this.destroy,this)},add:f,addAudioSprite:function(p,c){c===void 0&&(c={});var g=this.add(p,c);g.spritemap=this.jsonCache.get(p).spritemap;for(var j in g.spritemap)if(g.spritemap.hasOwnProperty(j)){var k=G(c),tt=g.spritemap[j];k.loop=tt.hasOwnProperty("loop")?tt.loop:!1,g.addMarker({name:j,start:tt.start,duration:tt.end-tt.start,config:k})}return g},get:function(p){return l(this.sounds,"key",p)},getAll:function(p){return p?n(this.sounds,"key",p):n(this.sounds)},getAllPlaying:function(){return n(this.sounds,"isPlaying",!0)},play:function(p,c){var g=this.add(p);return g.once(r.COMPLETE,g.destroy,g),c?c.name?(g.addMarker(c),g.play(c.name)):g.play(c):g.play()},playAudioSprite:function(p,c,g){var j=this.addAudioSprite(p);return j.once(r.COMPLETE,j.destroy,j),j.play(c,g)},remove:function(p){var c=this.sounds.indexOf(p);return c!==-1?(p.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var c=0,g=this.sounds.length-1;g>=0;g--){var j=this.sounds[g];j.key===p&&(j.destroy(),this.sounds.splice(g,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:f,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(p){var c=0;return this.getAll(p).forEach(function(g){g.stop()&&c++}),c},unlock:f,onBlur:f,onFocus:f,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var g=this.sounds.length-1;g>=0;g--)this.sounds[g].pendingRemove&&this.sounds.splice(g,1);this.sounds.forEach(function(j){j.update(p,c)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,c){var g=this;this.sounds.forEach(function(j,k){j&&!j.pendingRemove&&p.call(c||g,j,k,g.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(r.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,p)}}});i.exports=d},14747:(i,$,e)=>{var u=e(33684),G=e(25960),h=e(57490),r={create:function(o){var n=o.config.audio,l=o.device.audio;return n.noAudio||!l.webAudio&&!l.audioData?new G(o):l.webAudio&&!n.disableWebAudio?new h(o):new u(o)}};i.exports=r},19723:i=>{i.exports="complete"},98882:i=>{i.exports="decodedall"},57506:i=>{i.exports="decoded"},73146:i=>{i.exports="destroy"},11305:i=>{i.exports="detune"},40577:i=>{i.exports="detune"},30333:i=>{i.exports="mute"},20394:i=>{i.exports="rate"},21802:i=>{i.exports="volume"},1299:i=>{i.exports="looped"},99190:i=>{i.exports="loop"},97125:i=>{i.exports="mute"},89259:i=>{i.exports="pan"},79986:i=>{i.exports="pauseall"},17586:i=>{i.exports="pause"},19618:i=>{i.exports="play"},42306:i=>{i.exports="rate"},10387:i=>{i.exports="resumeall"},48959:i=>{i.exports="resume"},9960:i=>{i.exports="seek"},19180:i=>{i.exports="stopall"},98328:i=>{i.exports="stop"},50401:i=>{i.exports="unlocked"},52498:i=>{i.exports="volume"},14463:(i,$,e)=>{i.exports={COMPLETE:e(19723),DECODED:e(57506),DECODED_ALL:e(98882),DESTROY:e(73146),DETUNE:e(11305),GLOBAL_DETUNE:e(40577),GLOBAL_MUTE:e(30333),GLOBAL_RATE:e(20394),GLOBAL_VOLUME:e(21802),LOOP:e(99190),LOOPED:e(1299),MUTE:e(97125),PAN:e(89259),PAUSE_ALL:e(79986),PAUSE:e(17586),PLAY:e(19618),RATE:e(42306),RESUME_ALL:e(10387),RESUME:e(48959),SEEK:e(9960),STOP_ALL:e(19180),STOP:e(98328),UNLOCKED:e(50401),VOLUME:e(52498)}},64895:(i,$,e)=>{var u=e(30341),G=e(83419),h=e(14463),r=e(45319),o=new G({Extends:u,initialize:function(l,f,s){if(s===void 0&&(s={}),this.tags=l.game.cache.audio.get(f),!this.tags)throw new Error('No cached audio asset with key "'+f);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,l,f,s)},play:function(n,l){return this.manager.isLocked(this,"play",[n,l])||!u.prototype.play.call(this,n,l)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(h.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,l=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),l===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+l*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var l=this.tags[n];if(l.dataset.used==="false")return l.dataset.used="true",this.audio=l,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(d){d.key===this.key&&d.audio&&f.push(d)},this),f.sort(function(d,p){return d.loop===p.loop?p.seek/p.duration-d.seek/d.duration:d.loop?1:-1});var s=f[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(l){console.warn(l)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var l=this.currentMarker?this.currentMarker.start:0,f=l+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=f-this.manager.loopEndOffset?(this.audio.currentTime=l+Math.max(0,s-f),s=this.audio.currentTime):s<l&&(this.audio.currentTime+=l,s=this.audio.currentTime),s<this.previousTime&&this.emit(h.LOOPED,this);else if(s>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(h.COMPLETE,this);return}this.previousTime=s}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(h.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(h.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,h.RATE,n)&&(this.calculateRate(),this.emit(h.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,h.DETUNE,n)&&(this.calculateRate(),this.emit(h.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(h.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(h.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(h.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});i.exports=o},33684:(i,$,e)=>{var u=e(85034),G=e(83419),h=e(14463),r=e(64895),o=new G({Extends:u,initialize:function(l){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,l)},add:function(n,l){var f=new r(this,n,l);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(d,p){for(var c=0;c<p.length;c++)if(p[c].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var l=!1,f=function(){l=!0},s=function(){if(l){l=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",s);var d=[];if(n.game.cache.audio.entries.each(function(c,g){for(var j=0;j<g.length;j++){var k=g[j];k.dataset.locked==="true"&&d.push(k)}return!0}),d.length!==0){var p=d[d.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,d.forEach(function(c){c.dataset.locked="false"}),n.unlocked=!0},d.forEach(function(c){c.load()})}};this.once(h.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var d=this.lockedActionsQueue.shift();d.sound[d.prop].apply?d.sound[d.prop].apply(d.sound,d.value||[]):d.sound[d.prop]=d.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,l,f){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:l,value:f}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(l){l.updateMute()}),this.emit(h.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(l){l.updateVolume()}),this.emit(h.GLOBAL_VOLUME,this,n)}}});i.exports=o},23717:(i,$,e)=>{i.exports={SoundManagerCreator:e(14747),Events:e(14463),BaseSound:e(30341),BaseSoundManager:e(85034),WebAudioSound:e(71741),WebAudioSoundManager:e(57490),HTML5AudioSound:e(64895),HTML5AudioSoundManager:e(33684),NoAudioSound:e(4603),NoAudioSoundManager:e(25960)}},4603:(i,$,e)=>{var u=e(30341),G=e(83419),h=e(50792),r=e(79291),o=e(29747),n=function(){return!1},l=function(){return null},f=function(){return this},s=new G({Extends:h,initialize:function(p,c,g){g===void 0&&(g={}),h.call(this),this.manager=p,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},g),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:n,updateMarker:n,removeMarker:l,play:n,pause:n,resume:n,stop:n,setMute:f,setVolume:f,setRate:f,setDetune:f,setSeek:f,setLoop:f,setPan:f,applyConfig:l,resetConfig:l,update:o,calculateRate:l,destroy:function(){u.prototype.destroy.call(this)}});i.exports=s},25960:(i,$,e)=>{var u=e(85034),G=e(83419),h=e(50792),r=e(4603),o=e(29747),n=new G({Extends:h,initialize:function(f){h.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(l,f){var s=new r(this,l,f);return this.sounds.push(s),s},addAudioSprite:function(l,f){var s=this.add(l,f);return s.spritemap={},s},get:function(l){return u.prototype.get.call(this,l)},getAll:function(l){return u.prototype.getAll.call(this,l)},play:function(l,f){return!1},playAudioSprite:function(l,f,s){return!1},remove:function(l){return u.prototype.remove.call(this,l)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(l){return u.prototype.removeByKey.call(this,l)},stopByKey:function(l){return u.prototype.stopByKey.call(this,l)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(l,f){u.prototype.forEachActiveSound.call(this,l,f)},destroy:function(){u.prototype.destroy.call(this)}});i.exports=n},71741:(i,$,e)=>{var u=e(30341),G=e(83419),h=e(14463),r=e(95540),o=new G({Extends:u,initialize:function(l,f,s){if(s===void 0&&(s={}),this.audioBuffer=l.game.cache.audio.get(f),!this.audioBuffer)throw new Error('Audio key "'+f+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=l.context.createGain(),this.volumeNode=l.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),l.context.createPanner&&(this.spatialNode=l.context.createPanner(),this.volumeNode.connect(this.spatialNode)),l.context.createStereoPanner?(this.pannerNode=l.context.createStereoPanner(),l.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(l.destination)):l.context.createPanner?this.spatialNode.connect(l.destination):this.volumeNode.connect(l.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,l,f,s)},play:function(n,l){return u.prototype.play.call(this,n,l)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(h.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(h.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(h.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,l=this.currentConfig.delay,f=this.manager.context.currentTime+l,s=(this.currentMarker?this.currentMarker.start:0)+n,d=this.duration-n;this.playTime=f-n,this.startTime=f,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,f),Math.max(0,s),Math.max(0,d)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),l=this.currentMarker?this.currentMarker.start:0,f=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,l),Math.max(0,f))},createBufferSource:function(){var n=this,l=this.manager.context.createBufferSource();return l.buffer=this.audioBuffer,l.connect(this.muteNode),l.onended=function(f){f.target===n.source&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},l},stopAndRemoveBufferSource:function(){if(this.source){var n=this.source;this.source=null,n.stop(),n.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var n=this.currentConfig.source;if(n&&this.manager.context.createPanner){var l=this.spatialNode;l.panningModel=r(n,"panningModel","equalpower"),l.distanceModel=r(n,"distanceModel","inverse"),l.orientationX.value=r(n,"orientationX",0),l.orientationY.value=r(n,"orientationY",0),l.orientationZ.value=r(n,"orientationZ",-1),l.refDistance=r(n,"refDistance",1),l.maxDistance=r(n,"maxDistance",1e4),l.rolloffFactor=r(n,"rolloffFactor",1),l.coneInnerAngle=r(n,"coneInnerAngle",360),l.coneOuterAngle=r(n,"coneOuterAngle",0),l.coneOuterGain=r(n,"coneOuterGain",0),this.spatialSource=r(n,"follow",null),this.spatialSource||(l.positionX.value=r(n,"x",0),l.positionY.value=r(n,"y",0),l.positionZ.value=r(n,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(n){this.spatialNode&&(this.spatialNode.positionX.value=n)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(n){this.spatialNode&&(this.spatialNode.positionY.value=n)}},update:function(){if(this.isPlaying&&this.spatialSource){var n=r(this.spatialSource,"x",null),l=r(this.spatialSource,"y",null);n&&n!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=n),l&&l!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=l)}this.hasEnded?(u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(h.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(h.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,l=0;l<this.rateUpdates.length;l++){var f=0;l<this.rateUpdates.length-1?f=this.rateUpdates[l+1].time:f=this.manager.context.currentTime-this.playTime,n+=(f-this.rateUpdates[l].time)*this.rateUpdates[l].rate}return n},getLoopTime:function(){for(var n=0,l=0;l<this.rateUpdates.length-1;l++)n+=(this.rateUpdates[l+1].time-this.rateUpdates[l].time)*this.rateUpdates[l].rate;var f=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+f.time+(this.duration-n)/f.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(h.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(h.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(h.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(h.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(h.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(h.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(n){this.currentConfig.pan=n,this.pannerNode&&this.pannerNode.pan.setValueAtTime(n,this.manager.context.currentTime),this.emit(h.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});i.exports=o},57490:(i,$,e)=>{var u=e(53134),G=e(85034),h=e(83419),r=e(14463),o=e(8443),n=e(71741),l=e(95540),f=new h({Extends:G,initialize:function(d){this.context=this.createAudioContext(d),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),G.call(this,d),this.locked&&d.isBooted?this.unlock():d.events.once(o.BOOT,this.unlock,this)},createAudioContext:function(s){var d=s.config.audio;if(d.context)return d.context.resume(),d.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,d){var p=new n(this,s,d);return this.sounds.push(p),p},decodeAudio:function(s,d){var p;Array.isArray(s)?p=s:p=[{key:s,data:d}];for(var c=this.game.cache.audio,g=p.length,j=0;j<p.length;j++){var k=p[j],tt=k.key,_=k.data;typeof _=="string"&&(_=u(_));var nt=(function(rt,st){c.add(rt,st),this.emit(r.DECODED,rt),g--,g===0&&this.emit(r.DECODED_ALL)}).bind(this,tt),it=(function(rt,st){console.error("Error decoding audio: "+rt+" - ",st?st.message:""),g--,g===0&&this.emit(r.DECODED_ALL)}).bind(this,tt);this.context.decodeAudioData(_,nt,it)}},setListenerPosition:function(s,d){return s===void 0&&(s=this.game.scale.width/2),d===void 0&&(d=this.game.scale.height/2),this.listenerPosition.set(s,d),this},unlock:function(){var s=this,d=document.body,p=function c(){if(s.context&&d){var g=d.removeEventListener.bind(d);s.context.resume().then(function(){g("touchstart",c),g("touchend",c),g("click",c),g("keydown",c),s.unlocked=!0},function(){g("touchstart",c),g("touchend",c),g("click",c),g("keydown",c)})}};d&&(d.addEventListener("touchstart",p,!1),d.addEventListener("touchend",p,!1),d.addEventListener("click",p,!1),d.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,d){var p=this.context.listener;if(p&&p.positionX!==void 0){var c=l(this.listenerPosition,"x",null),g=l(this.listenerPosition,"y",null);c&&c!==this._spatialx&&(this._spatialx=p.positionX.value=c),g&&g!==this._spatialy&&(this._spatialy=p.positionY.value=g)}G.prototype.update.call(this,s,d),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}G.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(r.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(r.GLOBAL_VOLUME,this,s)}}});i.exports=f},73162:(i,$,e)=>{var u=e(37105),G=e(83419),h=e(29747),r=e(19186),o=new G({initialize:function(l){this.parent=l,this.list=[],this.position=0,this.addCallback=h,this.removeCallback=h,this._sortKey=""},add:function(n,l){return l?u.Add(this.list,n):u.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,l,f){return f?u.AddAt(this.list,n,l):u.AddAt(this.list,n,l,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,l){return n?(l===void 0&&(l=function(f,s){return f[n]-s[n]}),r(this.list,l),this):this},getByName:function(n){return u.GetFirst(this.list,"name",n)},getRandom:function(n,l){return u.GetRandom(this.list,n,l)},getFirst:function(n,l,f,s){return u.GetFirst(this.list,n,l,f,s)},getAll:function(n,l,f,s){return u.GetAll(this.list,n,l,f,s)},count:function(n,l){return u.CountAllMatching(this.list,n,l)},swap:function(n,l){u.Swap(this.list,n,l)},moveTo:function(n,l){return u.MoveTo(this.list,n,l)},moveAbove:function(n,l){return u.MoveAbove(this.list,n,l)},moveBelow:function(n,l){return u.MoveBelow(this.list,n,l)},remove:function(n,l){return l?u.Remove(this.list,n):u.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,l){return l?u.RemoveAt(this.list,n):u.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,l,f){return f?u.RemoveBetween(this.list,n,l):u.RemoveBetween(this.list,n,l,this.removeCallback,this)},removeAll:function(n){for(var l=this.list.length;l--;)this.remove(this.list[l],n);return this},bringToTop:function(n){return u.BringToTop(this.list,n)},sendToBack:function(n){return u.SendToBack(this.list,n)},moveUp:function(n){return u.MoveUp(this.list,n),n},moveDown:function(n){return u.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(n,l){return u.Replace(this.list,n,l)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,l,f,s){return u.SetAll(this.list,n,l,f,s),this},each:function(n,l){for(var f=[null],s=2;s<arguments.length;s++)f.push(arguments[s]);for(s=0;s<this.list.length;s++)f[0]=this.list[s],n.apply(l,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});i.exports=o},90330:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(h){if(Array.isArray(h))for(var r=0;r<h.length;r++)this.set(h[r][0],h[r][1]);return this},set:function(h,r){return this.has(h)||this.size++,this.entries[h]=r,this},get:function(h){if(this.has(h))return this.entries[h]},getArray:function(){var h=[],r=this.entries;for(var o in r)h.push(r[o]);return h},has:function(h){return this.entries.hasOwnProperty(h)},delete:function(h){return this.has(h)&&(delete this.entries[h],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(h){delete this.entries[h]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var h=[],r=this.entries;for(var o in r)h.push(r[o]);return h},dump:function(){var h=this.entries;console.group("Map");for(var r in h)console.log(r,h[r]);console.groupEnd()},each:function(h){var r=this.entries;for(var o in r)if(h(o,r[o])===!1)break;return this},contains:function(h){var r=this.entries;for(var o in r)if(r[o]===h)return!0;return!1},merge:function(h,r){r===void 0&&(r=!1);var o=this.entries,n=h.entries;for(var l in n)o.hasOwnProperty(l)&&r?o[l]=n[l]:this.set(l,n[l]);return this}});i.exports=G},25774:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(82348),r=new u({Extends:G,initialize:function(){G.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(o){return this._active.indexOf(o)>-1},isPending:function(o){return this._toProcess>0&&this._pending.indexOf(o)>-1},isDestroying:function(o){return this._destroy.indexOf(o)>-1},add:function(o){return this.checkQueue&&this.isActive(o)&&!this.isDestroying(o)||this.isPending(o)||(this._pending.push(o),this._toProcess++),o},remove:function(o){if(this.isPending(o)){var n=this._pending,l=n.indexOf(o);l!==-1&&n.splice(l,1)}else this.isActive(o)&&(this._destroy.push(o),this._toProcess++);return o},removeAll:function(){for(var o=this._active,n=this._destroy,l=o.length;l--;)n.push(o[l]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var o=this._destroy,n=this._active,l,f;for(l=0;l<o.length;l++){f=o[l];var s=n.indexOf(f);s!==-1&&(n.splice(s,1),this.emit(h.PROCESS_QUEUE_REMOVE,f))}for(o.length=0,o=this._pending,l=0;l<o.length;l++)f=o[l],(!this.checkQueue||this.checkQueue&&n.indexOf(f)===-1)&&(n.push(f),this.emit(h.PROCESS_QUEUE_ADD,f));return o.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});i.exports=r},59542:(i,$,e)=>{var u=e(43886);function G(_){var nt=[".left",".top",".right",".bottom"];if(!(this instanceof G))return new G(_,nt);this._maxEntries=Math.max(4,_||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}G.prototype={all:function(){return this._all(this.data,[])},search:function(_){var nt=this.data,it=[],rt=this.toBBox;if(!j(_,nt))return it;for(var st=[],at,ot,ht,dt;nt;){for(at=0,ot=nt.children.length;at<ot;at++)ht=nt.children[at],dt=nt.leaf?rt(ht):ht,j(_,dt)&&(nt.leaf?it.push(ht):g(_,dt)?this._all(ht,it):st.push(ht));nt=st.pop()}return it},collides:function(_){var nt=this.data,it=this.toBBox;if(!j(_,nt))return!1;for(var rt=[],st,at,ot,ht;nt;){for(st=0,at=nt.children.length;st<at;st++)if(ot=nt.children[st],ht=nt.leaf?it(ot):ot,j(_,ht)){if(nt.leaf||g(_,ht))return!0;rt.push(ot)}nt=rt.pop()}return!1},load:function(_){if(!(_&&_.length))return this;if(_.length<this._minEntries){for(var nt=0,it=_.length;nt<it;nt++)this.insert(_[nt]);return this}var rt=this._build(_.slice(),0,_.length-1,0);if(!this.data.children.length)this.data=rt;else if(this.data.height===rt.height)this._splitRoot(this.data,rt);else{if(this.data.height<rt.height){var st=this.data;this.data=rt,rt=st}this._insert(rt,this.data.height-rt.height-1,!0)}return this},insert:function(_){return _&&this._insert(_,this.data.height-1),this},clear:function(){return this.data=k([]),this},remove:function(_,nt){if(!_)return this;for(var it=this.data,rt=this.toBBox(_),st=[],at=[],ot,ht,dt,ut;it||st.length;){if(it||(it=st.pop(),ht=st[st.length-1],ot=at.pop(),ut=!0),it.leaf&&(dt=h(_,it.children,nt),dt!==-1))return it.children.splice(dt,1),st.push(it),this._condense(st),this;!ut&&!it.leaf&&g(it,rt)?(st.push(it),at.push(ot),ot=0,ht=it,it=it.children[0]):ht?(ot++,it=ht.children[ot],ut=!1):it=null}return this},toBBox:function(_){return _},compareMinX:l,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(_){return this.data=_,this},_all:function(_,nt){for(var it=[];_;)_.leaf?nt.push.apply(nt,_.children):it.push.apply(it,_.children),_=it.pop();return nt},_build:function(_,nt,it,rt){var st=it-nt+1,at=this._maxEntries,ot;if(st<=at)return ot=k(_.slice(nt,it+1)),r(ot,this.toBBox),ot;rt||(rt=Math.ceil(Math.log(st)/Math.log(at)),at=Math.ceil(st/Math.pow(at,rt-1))),ot=k([]),ot.leaf=!1,ot.height=rt;var ht=Math.ceil(st/at),dt=ht*Math.ceil(Math.sqrt(at)),ut,ft,gt,xt;for(tt(_,nt,it,dt,this.compareMinX),ut=nt;ut<=it;ut+=dt)for(gt=Math.min(ut+dt-1,it),tt(_,ut,gt,ht,this.compareMinY),ft=ut;ft<=gt;ft+=ht)xt=Math.min(ft+ht-1,gt),ot.children.push(this._build(_,ft,xt,rt-1));return r(ot,this.toBBox),ot},_chooseSubtree:function(_,nt,it,rt){for(var st,at,ot,ht,dt,ut,ft,gt;rt.push(nt),!(nt.leaf||rt.length-1===it);){for(ft=gt=1/0,st=0,at=nt.children.length;st<at;st++)ot=nt.children[st],dt=s(ot),ut=p(_,ot)-dt,ut<gt?(gt=ut,ft=dt<ft?dt:ft,ht=ot):ut===gt&&dt<ft&&(ft=dt,ht=ot);nt=ht||nt.children[0]}return nt},_insert:function(_,nt,it){var rt=this.toBBox,st=it?_:rt(_),at=[],ot=this._chooseSubtree(st,this.data,nt,at);for(ot.children.push(_),n(ot,st);nt>=0&&at[nt].children.length>this._maxEntries;)this._split(at,nt),nt--;this._adjustParentBBoxes(st,at,nt)},_split:function(_,nt){var it=_[nt],rt=it.children.length,st=this._minEntries;this._chooseSplitAxis(it,st,rt);var at=this._chooseSplitIndex(it,st,rt),ot=k(it.children.splice(at,it.children.length-at));ot.height=it.height,ot.leaf=it.leaf,r(it,this.toBBox),r(ot,this.toBBox),nt?_[nt-1].children.push(ot):this._splitRoot(it,ot)},_splitRoot:function(_,nt){this.data=k([_,nt]),this.data.height=_.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(_,nt,it){var rt,st,at,ot,ht,dt,ut,ft;for(dt=ut=1/0,rt=nt;rt<=it-nt;rt++)st=o(_,0,rt,this.toBBox),at=o(_,rt,it,this.toBBox),ot=c(st,at),ht=s(st)+s(at),ot<dt?(dt=ot,ft=rt,ut=ht<ut?ht:ut):ot===dt&&ht<ut&&(ut=ht,ft=rt);return ft},_chooseSplitAxis:function(_,nt,it){var rt=_.leaf?this.compareMinX:l,st=_.leaf?this.compareMinY:f,at=this._allDistMargin(_,nt,it,rt),ot=this._allDistMargin(_,nt,it,st);at<ot&&_.children.sort(rt)},_allDistMargin:function(_,nt,it,rt){_.children.sort(rt);var st=this.toBBox,at=o(_,0,nt,st),ot=o(_,it-nt,it,st),ht=d(at)+d(ot),dt,ut;for(dt=nt;dt<it-nt;dt++)ut=_.children[dt],n(at,_.leaf?st(ut):ut),ht+=d(at);for(dt=it-nt-1;dt>=nt;dt--)ut=_.children[dt],n(ot,_.leaf?st(ut):ut),ht+=d(ot);return ht},_adjustParentBBoxes:function(_,nt,it){for(var rt=it;rt>=0;rt--)n(nt[rt],_)},_condense:function(_){for(var nt=_.length-1,it;nt>=0;nt--)_[nt].children.length===0?nt>0?(it=_[nt-1].children,it.splice(it.indexOf(_[nt]),1)):this.clear():r(_[nt],this.toBBox)},compareMinX:function(_,nt){return _.left-nt.left},compareMinY:function(_,nt){return _.top-nt.top},toBBox:function(_){return{minX:_.left,minY:_.top,maxX:_.right,maxY:_.bottom}}};function h(_,nt,it){if(!it)return nt.indexOf(_);for(var rt=0;rt<nt.length;rt++)if(it(_,nt[rt]))return rt;return-1}function r(_,nt){o(_,0,_.children.length,nt,_)}function o(_,nt,it,rt,st){st||(st=k(null)),st.minX=1/0,st.minY=1/0,st.maxX=-1/0,st.maxY=-1/0;for(var at=nt,ot;at<it;at++)ot=_.children[at],n(st,_.leaf?rt(ot):ot);return st}function n(_,nt){return _.minX=Math.min(_.minX,nt.minX),_.minY=Math.min(_.minY,nt.minY),_.maxX=Math.max(_.maxX,nt.maxX),_.maxY=Math.max(_.maxY,nt.maxY),_}function l(_,nt){return _.minX-nt.minX}function f(_,nt){return _.minY-nt.minY}function s(_){return(_.maxX-_.minX)*(_.maxY-_.minY)}function d(_){return _.maxX-_.minX+(_.maxY-_.minY)}function p(_,nt){return(Math.max(nt.maxX,_.maxX)-Math.min(nt.minX,_.minX))*(Math.max(nt.maxY,_.maxY)-Math.min(nt.minY,_.minY))}function c(_,nt){var it=Math.max(_.minX,nt.minX),rt=Math.max(_.minY,nt.minY),st=Math.min(_.maxX,nt.maxX),at=Math.min(_.maxY,nt.maxY);return Math.max(0,st-it)*Math.max(0,at-rt)}function g(_,nt){return _.minX<=nt.minX&&_.minY<=nt.minY&&nt.maxX<=_.maxX&&nt.maxY<=_.maxY}function j(_,nt){return nt.minX<=_.maxX&&nt.minY<=_.maxY&&nt.maxX>=_.minX&&nt.maxY>=_.minY}function k(_){return{children:_,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function tt(_,nt,it,rt,st){for(var at=[nt,it],ot;at.length;)it=at.pop(),nt=at.pop(),!(it-nt<=rt)&&(ot=nt+Math.ceil((it-nt)/rt/2)*rt,u(_,ot,nt,it,st),at.push(nt,ot,ot,it))}i.exports=G},35072:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var o=0;o<r.length;o++)this.set(r[o])},set:function(h){return this.entries.indexOf(h)===-1&&this.entries.push(h),this},get:function(h,r){for(var o=0;o<this.entries.length;o++){var n=this.entries[o];if(n[h]===r)return n}},getArray:function(){return this.entries.slice(0)},delete:function(h){var r=this.entries.indexOf(h);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var h=0;h<this.entries.length;h++){var r=this.entries[h];console.log(r)}console.groupEnd()},each:function(h,r){var o,n=this.entries.slice(),l=n.length;if(r)for(o=0;o<l&&h.call(r,n[o],o)!==!1;o++);else for(o=0;o<l&&h(n[o],o)!==!1;o++);return this},iterate:function(h,r){var o,n=this.entries.length;if(r)for(o=0;o<n&&h.call(r,this.entries[o],o)!==!1;o++);else for(o=0;o<n&&h(this.entries[o],o)!==!1;o++);return this},iterateLocal:function(h){var r,o=[];for(r=1;r<arguments.length;r++)o.push(arguments[r]);var n=this.entries.length;for(r=0;r<n;r++){var l=this.entries[r];l[h].apply(l,o)}return this},clear:function(){return this.entries.length=0,this},contains:function(h){return this.entries.indexOf(h)>-1},union:function(h){var r=new G;return h.entries.forEach(function(o){r.set(o)}),this.entries.forEach(function(o){r.set(o)}),r},intersect:function(h){var r=new G;return this.entries.forEach(function(o){h.contains(o)&&r.set(o)}),r},difference:function(h){var r=new G;return this.entries.forEach(function(o){h.contains(o)||r.set(o)}),r},size:{get:function(){return this.entries.length},set:function(h){return h<this.entries.length?this.entries.length=h:this.entries.length}}});i.exports=G},86555:(i,$,e)=>{var u=e(45319),G=e(83419),h=e(56583),r=e(26099),o=new G({initialize:function(l,f,s,d){l===void 0&&(l=0),f===void 0&&(f=l),s===void 0&&(s=0),d===void 0&&(d=null),this._width=l,this._height=f,this._parent=d,this.aspectMode=s,this.aspectRatio=f===0?1:l/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.snapTo.set(n,l),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.minWidth=u(n,0,this.maxWidth),this.minHeight=u(l,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,l){return n===void 0&&(n=Number.MAX_VALUE),l===void 0&&(l=n),this.maxWidth=u(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(l,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,l){switch(n===void 0&&(n=0),l===void 0&&(l=n),this.aspectMode){case o.NONE:this._width=this.getNewWidth(h(n,this.snapTo.x)),this._height=this.getNewHeight(h(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(h(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(h(l,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(n,l,!0);break;case o.ENVELOP:this.constrain(n,l,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,l){return this._width=this.getNewWidth(h(n,this.snapTo.x)),this._height=this.getNewHeight(h(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,l){return l===void 0&&(l=!0),n=u(n,this.minWidth,this.maxWidth),l&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,l){return l===void 0&&(l=!0),n=u(n,this.minHeight,this.maxHeight),l&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,l,f){n===void 0&&(n=0),l===void 0&&(l=n),f===void 0&&(f=!0),n=this.getNewWidth(n),l=this.getNewHeight(l);var s=this.snapTo,d=l===0?1:n/l;return f&&this.aspectRatio>d||!f&&this.aspectRatio<d?(n=h(n,s.x),l=n/this.aspectRatio,s.y>0&&(l=h(l,s.y),n=l*this.aspectRatio)):(f&&this.aspectRatio<d||!f&&this.aspectRatio>d)&&(l=h(l,s.y),n=l*this.aspectRatio,s.x>0&&(n=h(n,s.x),l=n*(1/this.aspectRatio))),this._width=n,this._height=l,this},fitTo:function(n,l){return this.constrain(n,l,!0)},envelop:function(n,l){return this.constrain(n,l,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,i.exports=o},15238:i=>{i.exports="add"},56187:i=>{i.exports="remove"},82348:(i,$,e)=>{i.exports={PROCESS_QUEUE_ADD:e(15238),PROCESS_QUEUE_REMOVE:e(56187)}},41392:(i,$,e)=>{i.exports={Events:e(82348),List:e(73162),Map:e(90330),ProcessQueue:e(25774),RTree:e(59542),Set:e(35072),Size:e(86555)}},57382:(i,$,e)=>{var u=e(83419),G=e(45319),h=e(40987),r=e(8054),o=e(50030),n=e(79237),l=new u({Extends:n,initialize:function(s,d,p,c,g){n.call(this,s,d,p,c,g),this.add("__BASE",0,0,0,c,g),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=g,this.imageData=this.context.getImageData(0,0,c,g),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(f,s,d,p){return p===void 0&&(p=!0),this.context.drawImage(d,f,s),p&&this.update(),this},drawFrame:function(f,s,d,p,c){d===void 0&&(d=0),p===void 0&&(p=0),c===void 0&&(c=!0);var g=this.manager.getFrame(f,s);if(g){var j=g.canvasData,k=g.cutWidth,tt=g.cutHeight,_=g.source.resolution;this.context.drawImage(g.source.image,j.x,j.y,k,tt,d,p,k/_,tt/_),c&&this.update()}return this},setPixel:function(f,s,d,p,c,g){g===void 0&&(g=255),f=Math.abs(Math.floor(f)),s=Math.abs(Math.floor(s));var j=this.getIndex(f,s);if(j>-1){var k=this.context.getImageData(f,s,1,1);k.data[0]=d,k.data[1]=p,k.data[2]=c,k.data[3]=g,this.context.putImageData(k,f,s)}return this},putData:function(f,s,d,p,c,g,j){return p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=f.width),j===void 0&&(j=f.height),this.context.putImageData(f,s,d,p,c,g,j),this},getData:function(f,s,d,p){f=G(Math.floor(f),0,this.width-1),s=G(Math.floor(s),0,this.height-1),d=G(d,1,this.width-f),p=G(p,1,this.height-s);var c=this.context.getImageData(f,s,d,p);return c},getPixel:function(f,s,d){d||(d=new h);var p=this.getIndex(f,s);if(p>-1){var c=this.data,g=c[p+0],j=c[p+1],k=c[p+2],tt=c[p+3];d.setTo(g,j,k,tt)}return d},getPixels:function(f,s,d,p){f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=this.width),p===void 0&&(p=d),f=Math.abs(Math.round(f)),s=Math.abs(Math.round(s));for(var c=G(f,0,this.width),g=G(f+d,0,this.width),j=G(s,0,this.height),k=G(s+p,0,this.height),tt=new h,_=[],nt=j;nt<k;nt++){for(var it=[],rt=c;rt<g;rt++)tt=this.getPixel(rt,nt,tt),it.push({x:rt,y:nt,color:tt.color,alpha:tt.alphaGL});_.push(it)}return _},getIndex:function(f,s){return f=Math.abs(Math.round(f)),s=Math.abs(Math.round(s)),f<this.width&&s<this.height?(f+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,s,d,p,c){return f===void 0&&(f=0),s===void 0&&(s=0),d===void 0&&(d=this.width),p===void 0&&(p=this.height),c===void 0&&(c=!0),this.context.clearRect(f,s,d,p),c&&this.update(),this},setSize:function(f,s){return s===void 0&&(s=f),(f!==this.width||s!==this.height)&&(this.canvas.width=f,this.canvas.height=s,this._source.width=f,this._source.height=s,this._source.isPowerOf2=o(f,s),this.frames.__BASE.setSize(f,s,0,0),this.width=f,this.height=s,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});i.exports=l},81320:(i,$,e)=>{var u=e(10312),G=e(71911),h=e(27919),r=e(83419),o=e(8054),n=e(4327),l=e(95540),f=e(36060),s=e(32302),d=e(79237),p=e(70554),c=new r({Extends:d,initialize:function(j,k,tt,_){tt===void 0&&(tt=256),_===void 0&&(_=256),this.type="DynamicTexture";var nt=j.game.renderer,it=nt&&nt.type===o.CANVAS,rt=it?h.create2D(this,tt,_):[this];d.call(this,j,k,rt,tt,_),this.add("__BASE",0,0,0,tt,_),this.renderer=nt,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=it?rt:null,this.context=it?rt.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new G(0,0,tt,_).setScene(j.game.scene.systemScene,!1),this.renderTarget=it?null:new s(nt,tt,_,1,0,!1,!0,!0,!1),this.pipeline=it?null:nt.pipelines.get(f.SINGLE_PIPELINE),this.setSize(tt,_)},setSize:function(g,j){j===void 0&&(j=g);var k=this.get(),tt=k.source;if(g!==this.width||j!==this.height){this.canvas&&(this.canvas.width=g,this.canvas.height=j);var _=this.renderTarget;_&&(_.willResize(g,j)&&_.resize(g,j),_.texture!==tt.glTexture&&this.renderer.deleteTexture(tt.glTexture),this.setFromRenderTarget()),this.camera.setSize(g,j),tt.width=g,tt.height=j,k.setSize(g,j),this.width=g,this.height=j}else{var nt=this.getSourceImage();k.cutX+g>nt.width&&(g=nt.width-k.cutX),k.cutY+j>nt.height&&(j=nt.height-k.cutY),k.setSize(g,j,k.cutX,k.cutY)}return this},setFromRenderTarget:function(){var g=this.get(),j=g.source,k=this.renderTarget;return j.isRenderTexture=!0,j.isGLTexture=!0,j.glTexture=k.texture,this},setIsSpriteTexture:function(g){return this.isSpriteTexture=g,this},fill:function(g,j,k,tt,_,nt){var it=this.camera,rt=this.renderer;j===void 0&&(j=1),k===void 0&&(k=0),tt===void 0&&(tt=0),_===void 0&&(_=this.width),nt===void 0&&(nt=this.height);var st=g>>16&255,at=g>>8&255,ot=g&255,ht=this.renderTarget;if(it.preRender(),ht){ht.bind(!0);var dt=this.pipeline.manager.set(this.pipeline),ut=rt.width/ht.width,ft=rt.height/ht.height,gt=ht.height-(tt+nt);dt.drawFillRect(k*ut,gt*ft,_*ut,nt*ft,p.getTintFromFloats(ot/255,at/255,st/255,1),j),ht.unbind(!0)}else{var xt=this.context;rt.setContext(xt),xt.globalCompositeOperation="source-over",xt.fillStyle="rgba("+st+","+at+","+ot+","+j+")",xt.fillRect(k,tt,_,nt),rt.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var g=this.context,j=this.renderTarget;j?j.clear():g&&(g.save(),g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,this.width,this.height),g.restore()),this.dirty=!1}return this},stamp:function(g,j,k,tt,_){k===void 0&&(k=0),tt===void 0&&(tt=0);var nt=l(_,"alpha",1),it=l(_,"tint",16777215),rt=l(_,"angle",0),st=l(_,"rotation",0),at=l(_,"scale",1),ot=l(_,"scaleX",at),ht=l(_,"scaleY",at),dt=l(_,"originX",.5),ut=l(_,"originY",.5),ft=l(_,"blendMode",0),gt=l(_,"erase",!1),xt=l(_,"skipBatch",!1),Et=this.manager.resetStamp(nt,it);return Et.setAngle(0),rt!==0?Et.setAngle(rt):st!==0&&Et.setRotation(st),Et.setScale(ot,ht),Et.setTexture(g,j),Et.setOrigin(dt,ut),Et.setBlendMode(ft),gt&&(this._eraseMode=!0),xt?this.batchGameObject(Et,k,tt):this.draw(Et,k,tt),gt&&(this._eraseMode=!1),this},erase:function(g,j,k){return this._eraseMode=!0,this.draw(g,j,k),this._eraseMode=!1,this},draw:function(g,j,k,tt,_){return this.beginDraw(),this.batchDraw(g,j,k,tt,_),this.endDraw(),this},drawFrame:function(g,j,k,tt,_,nt){return this.beginDraw(),this.batchDrawFrame(g,j,k,tt,_,nt),this.endDraw(),this},repeat:function(g,j,k,tt,_,nt,it,rt,st){if(k===void 0&&(k=0),tt===void 0&&(tt=0),_===void 0&&(_=this.width),nt===void 0&&(nt=this.height),it===void 0&&(it=1),rt===void 0&&(rt=16777215),st===void 0&&(st=!1),g instanceof n?j=g:j=this.manager.getFrame(g,j),!j)return this;var at=this.manager.resetStamp(it,rt);at.setFrame(j),at.setOrigin(0);var ot=j.width,ht=j.height;_=Math.floor(_),nt=Math.floor(nt);var dt=Math.ceil(_/ot),ut=Math.ceil(nt/ht),ft=dt*ot-_,gt=ut*ht-nt;ft>0&&(ft=ot-ft),gt>0&&(gt=ht-gt),k<0&&(dt+=Math.ceil(Math.abs(k)/ot)),tt<0&&(ut+=Math.ceil(Math.abs(tt)/ht));var xt=k,Et=tt,pt=!1,mt=this.manager.stampCrop.setTo(0,0,ot,ht);st||this.beginDraw();for(var lt=0;lt<ut;lt++){if(Et+ht<0){Et+=ht;continue}for(var ct=0;ct<dt;ct++){if(pt=!1,xt+ot<0){xt+=ot;continue}else xt<0&&(pt=!0,mt.width=ot+xt,mt.x=ot-mt.width);Et<0&&(pt=!0,mt.height=ht+Et,mt.y=ht-mt.height),ft>0&&ct===dt-1&&(pt=!0,mt.width=ft),gt>0&&lt===ut-1&&(pt=!0,mt.height=gt),pt&&at.setCrop(mt),this.batchGameObject(at,xt,Et),at.isCropped=!1,mt.setTo(0,0,ot,ht),xt+=ot}xt=k,Et+=ht}return st||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var g=this.camera,j=this.renderer,k=this.renderTarget;g.preRender(),k?j.beginCapture(k.width,k.height):j.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(g,j,k,tt,_){return Array.isArray(g)||(g=[g]),this.batchList(g,j,k,tt,_),this},batchDrawFrame:function(g,j,k,tt,_,nt){k===void 0&&(k=0),tt===void 0&&(tt=0),_===void 0&&(_=1),nt===void 0&&(nt=16777215);var it=this.manager.getFrame(g,j);return it&&(this.renderTarget?this.pipeline.batchTextureFrame(it,k,tt,nt,_,this.camera.matrix,null):this.batchTextureFrame(it,k,tt,_,nt)),this},endDraw:function(g){if(g===void 0&&(g=this._eraseMode),this.isDrawing){var j=this.renderer,k=this.renderTarget;if(k){var tt=j.endCapture(),_=j.pipelines.setUtility();_.blitFrame(tt,k,1,!1,!1,g,this.isSpriteTexture),j.resetScissor(),j.resetViewport()}else j.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(g,j,k,tt,_){var nt=g.length;if(nt!==0)for(var it=0;it<nt;it++){var rt=g[it];!rt||rt===this||(rt.renderWebGL||rt.renderCanvas?this.batchGameObject(rt,j,k):rt.isParent||rt.list?this.batchGroup(rt.getChildren(),j,k):typeof rt=="string"?this.batchTextureFrameKey(rt,null,j,k,tt,_):rt instanceof n?this.batchTextureFrame(rt,j,k,tt,_):Array.isArray(rt)&&this.batchList(rt,j,k,tt,_))}},batchGroup:function(g,j,k){j===void 0&&(j=0),k===void 0&&(k=0);for(var tt=0;tt<g.length;tt++){var _=g[tt];_.willRender(this.camera)&&this.batchGameObject(_,_.x+j,_.y+k)}},batchGameObject:function(g,j,k){j===void 0&&(j=g.x),k===void 0&&(k=g.y);var tt=g.x,_=g.y,nt=this.camera,it=this.renderer,rt=this._eraseMode,st=g.mask;if(g.setPosition(j,k),this.canvas){if(rt){var at=g.blendMode;g.blendMode=u.ERASE}st&&st.preRenderCanvas(it,g,nt),g.renderCanvas(it,g,nt,null),st&&st.postRenderCanvas(it,g,nt),rt&&(g.blendMode=at)}else it&&(st&&st.preRenderWebGL(it,g,nt),rt||it.setBlendMode(g.blendMode),g.renderWebGL(it,g,nt),st&&st.postRenderWebGL(it,nt,this.renderTarget));g.setPosition(tt,_)},batchTextureFrameKey:function(g,j,k,tt,_,nt){var it=this.manager.getFrame(g,j);it&&this.batchTextureFrame(it,k,tt,_,nt)},batchTextureFrame:function(g,j,k,tt,_){j===void 0&&(j=0),k===void 0&&(k=0),tt===void 0&&(tt=1),_===void 0&&(_=16777215);var nt=this.camera.matrix,it=this.renderTarget;if(it)this.pipeline.batchTextureFrame(g,j,k,_,tt,nt,null);else{var rt=this.context,st=g.canvasData,at=g.source.image;rt.save(),rt.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",rt.globalAlpha=tt,nt.setToContext(rt),st.width>0&&st.height>0&&rt.drawImage(at,st.x,st.y,st.width,st.height,j,k,st.width,st.height),rt.restore()}},snapshotArea:function(g,j,k,tt,_,nt,it){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,_,!1,g,j,k,tt,nt,it):this.renderer.snapshotCanvas(this.canvas,_,!1,g,j,k,tt,nt,it),this},snapshot:function(g,j,k){return this.snapshotArea(0,0,this.width,this.height,g,j,k)},snapshotPixel:function(g,j,k){return this.snapshotArea(g,j,1,1,k,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(g,j,k,tt){var _=this.manager.resetStamp();_.setTexture(this),_.setOrigin(0),_.renderWebGL(g,_,k,tt)},renderCanvas:function(){},destroy:function(){var g=this.manager.stamp;g&&g.texture===this&&this.manager.resetStamp(),d.prototype.destroy.call(this),h.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});i.exports=c},4327:(i,$,e)=>{var u=e(83419),G=e(45319),h=e(79291),r=new u({initialize:function(n,l,f,s,d,p,c){this.texture=n,this.name=l,this.source=n.source[f],this.sourceIndex=f,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,c,s,d)},setSize:function(o,n,l,f){l===void 0&&(l=0),f===void 0&&(f=0),this.cutX=l,this.cutY=f,this.cutWidth=o,this.cutHeight=n,this.width=o,this.height=n,this.halfWidth=Math.floor(o*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(o/2),this.centerY=Math.floor(n/2);var s=this.data,d=s.cut;d.x=l,d.y=f,d.w=o,d.h=n,d.r=l+o,d.b=f+n,s.sourceSize.w=o,s.sourceSize.h=n,s.spriteSourceSize.w=o,s.spriteSourceSize.h=n,s.radius=.5*Math.sqrt(o*o+n*n);var p=s.drawImage;return p.x=l,p.y=f,p.width=o,p.height=n,this.updateUVs()},setTrim:function(o,n,l,f,s,d){var p=this.data,c=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=o,p.sourceSize.h=n,c.x=l,c.y=f,c.w=s,c.h=d,c.r=l+s,c.b=f+d,this.x=l,this.y=f,this.width=s,this.height=d,this.halfWidth=s*.5,this.halfHeight=d*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(d/2),this.updateUVs()},setScale9:function(o,n,l,f){var s=this.data;return s.scale9=!0,s.is3Slice=n===0&&f===this.height,s.scale9Borders.x=o,s.scale9Borders.y=n,s.scale9Borders.w=l,s.scale9Borders.h=f,this},setCropUVs:function(o,n,l,f,s,d,p){var c=this.cutX,g=this.cutY,j=this.cutWidth,k=this.cutHeight,tt=this.realWidth,_=this.realHeight;n=G(n,0,tt),l=G(l,0,_),f=G(f,0,tt-n),s=G(s,0,_-l);var nt=c+n,it=g+l,rt=f,st=s,at=this.data;if(at.trim){var ot=at.spriteSourceSize;f=G(f,0,j-n),s=G(s,0,k-l);var ht=n+f,dt=l+s,ut=!(ot.r<n||ot.b<l||ot.x>ht||ot.y>dt);if(ut){var ft=Math.max(ot.x,n),gt=Math.max(ot.y,l),xt=Math.min(ot.r,ht)-ft,Et=Math.min(ot.b,dt)-gt;rt=xt,st=Et,d?nt=c+(j-(ft-ot.x)-xt):nt=c+(ft-ot.x),p?it=g+(k-(gt-ot.y)-Et):it=g+(gt-ot.y),n=ft,l=gt,f=xt,s=Et}else nt=0,it=0,rt=0,st=0}else d&&(nt=c+(j-n-f)),p&&(it=g+(k-l-s));var pt=this.source.width,mt=this.source.height;return o.u0=Math.max(0,nt/pt),o.v0=Math.max(0,it/mt),o.u1=Math.min(1,(nt+rt)/pt),o.v1=Math.min(1,(it+st)/mt),o.x=n,o.y=l,o.cx=nt,o.cy=it,o.cw=rt,o.ch=st,o.width=f,o.height=s,o.flipX=d,o.flipY=p,o},updateCropUVs:function(o,n,l){return this.setCropUVs(o,o.x,o.y,o.width,o.height,n,l)},setUVs:function(o,n,l,f,s,d){var p=this.data.drawImage;return p.width=o,p.height=n,this.u0=l,this.v0=f,this.u1=s,this.v1=d,this},updateUVs:function(){var o=this.cutX,n=this.cutY,l=this.cutWidth,f=this.cutHeight,s=this.data.drawImage;s.width=l,s.height=f;var d=this.source.width,p=this.source.height;return this.u0=o/d,this.v0=n/p,this.u1=(o+l)/d,this.v1=(n+f)/p,this},updateUVsInverted:function(){var o=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/o,this.v0=this.cutY/n,this.u1=this.cutX/o,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var o=new r(this.texture,this.name,this.sourceIndex);return o.cutX=this.cutX,o.cutY=this.cutY,o.cutWidth=this.cutWidth,o.cutHeight=this.cutHeight,o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o.halfWidth=this.halfWidth,o.halfHeight=this.halfHeight,o.centerX=this.centerX,o.centerY=this.centerY,o.rotated=this.rotated,o.data=h(!0,o.data,this.data),o.updateUVs(),o},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});i.exports=r},79237:(i,$,e)=>{var u=e(83419),G=e(4327),h=e(11876),r='Texture "%s" has no frame "%s"',o=new u({initialize:function(l,f,s,d,p){Array.isArray(s)||(s=[s]),this.manager=l,this.key=f,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<s.length;c++)this.source.push(new h(this,s[c],d,p))},add:function(n,l,f,s,d,p){if(this.has(n))return null;var c=new G(this,n,l,f,s,d,p);return this.frames[n]=c,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,c},remove:function(n){if(this.has(n)){var l=this.get(n);return l.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames.hasOwnProperty(n)},get:function(n){n||(n=this.firstFrame);var l=this.frames[n];return l||(console.warn(r,this.key,n),l=this.frames[this.firstFrame]),l},getTextureSourceIndex:function(n){for(var l=0;l<this.source.length;l++)if(this.source[l]===n)return l;return-1},getFramesFromTextureSource:function(n,l){l===void 0&&(l=!1);var f=[];for(var s in this.frames)if(!(s==="__BASE"&&!l)){var d=this.frames[s];d.sourceIndex===n&&f.push(d)}return f},getFrameBounds:function(n){n===void 0&&(n=0);for(var l=this.getFramesFromTextureSource(n),f=1/0,s=1/0,d=0,p=0,c=0;c<l.length;c++){var g=l[c];g.cutX<f&&(f=g.cutX),g.cutY<s&&(s=g.cutY),g.cutX+g.cutWidth>d&&(d=g.cutX+g.cutWidth),g.cutY+g.cutHeight>p&&(p=g.cutY+g.cutHeight)}return{x:f,y:s,width:d-f,height:p-s}},getFrameNames:function(n){n===void 0&&(n=!1);var l=Object.keys(this.frames);if(!n){var f=l.indexOf("__BASE");f!==-1&&l.splice(f,1)}return l},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var l=this.frames[n];return l?l.source.image:(console.warn(r,this.key,n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var l=this.frames[n],f;return l?f=l.sourceIndex:(console.warn(r,this.key,n),f=this.frames.__BASE.sourceIndex),this.dataSource[f].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var f=this.source[l];this.dataSource.push(new h(this,n[l],f.width,f.height))}},setFilter:function(n){var l;for(l=0;l<this.source.length;l++)this.source[l].setFilter(n);for(l=0;l<this.dataSource.length;l++)this.dataSource[l].setFilter(n)},destroy:function(){var n,l=this.source,f=this.dataSource;for(n=0;n<l.length;n++)l[n]&&l[n].destroy();for(n=0;n<f.length;n++)f[n]&&f[n].destroy();for(var s in this.frames){var d=this.frames[s];d&&d.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});i.exports=o},17130:(i,$,e)=>{var u=e(27919),G=e(57382),h=e(83419),r=e(40987),o=e(8054),n=e(81320),l=e(50792),f=e(69442),s=e(4327),d=e(8443),p=e(99584),c=e(35154),g=e(88571),j=e(41212),k=e(61309),tt=e(87841),_=e(79237),nt=new h({Extends:l,initialize:function(rt){l.call(this),this.game=rt,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new tt,this.silentWarnings=!1,rt.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(f.LOAD,this.updatePending,this),this.on(f.ERROR,this.updatePending,this);var it=this.game.config;this.addBase64("__DEFAULT",it.defaultImage),this.addBase64("__MISSING",it.missingImage),this.addBase64("__WHITE",it.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(d.DESTROY,this.destroy,this),this.game.events.once(d.SYSTEM_READY,function(rt){this.stamp=new g(rt).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(f.LOAD),this.off(f.ERROR),this.emit(f.READY))},checkKey:function(it){return this.exists(it)?(this.silentWarnings||console.error("Texture key already in use: "+it),!1):!0},remove:function(it){if(typeof it=="string")if(this.exists(it))it=this.get(it);else return this.silentWarnings||console.warn("No texture found matching key: "+it),this;var rt=it.key;return this.list.hasOwnProperty(rt)&&(it.destroy(),this.emit(f.REMOVE,rt),this.emit(f.REMOVE_KEY+rt)),this},removeKey:function(it){return this.list.hasOwnProperty(it)&&delete this.list[it],this},addBase64:function(it,rt){if(this.checkKey(it)){var st=this,at=new Image;at.onerror=function(){st.emit(f.ERROR,it)},at.onload=function(){var ot=st.create(it,at);k.Image(ot,0),st.emit(f.ADD,it,ot),st.emit(f.ADD_KEY+it,ot),st.emit(f.LOAD,it,ot)},at.src=rt}return this},getBase64:function(it,rt,st,at){st===void 0&&(st="image/png"),at===void 0&&(at=.92);var ot="",ht=this.getFrame(it,rt);if(ht&&(ht.source.isRenderTexture||ht.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(ht){var dt=ht.canvasData,ut=u.create2D(this,dt.width,dt.height),ft=ut.getContext("2d",{willReadFrequently:!0});dt.width>0&&dt.height>0&&ft.drawImage(ht.source.image,dt.x,dt.y,dt.width,dt.height,0,0,dt.width,dt.height),ot=ut.toDataURL(st,at),u.remove(ut)}return ot},addImage:function(it,rt,st){var at=null;return this.checkKey(it)&&(at=this.create(it,rt),k.Image(at,0),st&&at.setDataSource(st),this.emit(f.ADD,it,at),this.emit(f.ADD_KEY+it,at)),at},addGLTexture:function(it,rt){var st=null;if(this.checkKey(it)){var at=rt.width,ot=rt.height;st=this.create(it,rt,at,ot),st.add("__BASE",0,0,0,at,ot),this.emit(f.ADD,it,st),this.emit(f.ADD_KEY+it,st)}return st},addCompressedTexture:function(it,rt,st){var at=null;if(this.checkKey(it)){if(at=this.create(it,rt),at.add("__BASE",0,0,0,rt.width,rt.height),st){var ot=function(dt,ut,ft){Array.isArray(ft.textures)||Array.isArray(ft.frames)?k.JSONArray(dt,ut,ft):k.JSONHash(dt,ut,ft)};if(Array.isArray(st))for(var ht=0;ht<st.length;ht++)ot(at,ht,st[ht]);else ot(at,0,st)}this.emit(f.ADD,it,at),this.emit(f.ADD_KEY+it,at)}return at},addRenderTexture:function(it,rt){var st=null;return this.checkKey(it)&&(st=this.create(it,rt),st.add("__BASE",0,0,0,rt.width,rt.height),this.emit(f.ADD,it,st),this.emit(f.ADD_KEY+it,st)),st},generate:function(it,rt){if(this.checkKey(it)){var st=u.create(this,1,1);return rt.canvas=st,p(rt),this.addCanvas(it,st)}else return null},createCanvas:function(it,rt,st){if(rt===void 0&&(rt=256),st===void 0&&(st=256),this.checkKey(it)){var at=u.create(this,rt,st,o.CANVAS,!0);return this.addCanvas(it,at)}return null},addCanvas:function(it,rt,st){st===void 0&&(st=!1);var at=null;return st?at=new G(this,it,rt,rt.width,rt.height):this.checkKey(it)&&(at=new G(this,it,rt,rt.width,rt.height),this.list[it]=at,this.emit(f.ADD,it,at),this.emit(f.ADD_KEY+it,at)),at},addDynamicTexture:function(it,rt,st){var at=null;return typeof it=="string"&&!this.exists(it)?at=new n(this,it,rt,st):(at=it,it=at.key),this.checkKey(it)?(this.list[it]=at,this.emit(f.ADD,it,at),this.emit(f.ADD_KEY+it,at)):at=null,at},addAtlas:function(it,rt,st,at){return Array.isArray(st.textures)||Array.isArray(st.frames)?this.addAtlasJSONArray(it,rt,st,at):this.addAtlasJSONHash(it,rt,st,at)},addAtlasJSONArray:function(it,rt,st,at){var ot=null;if(rt instanceof _?(it=rt.key,ot=rt):this.checkKey(it)&&(ot=this.create(it,rt)),ot){if(Array.isArray(st))for(var ht=st.length===1,dt=0;dt<ot.source.length;dt++){var ut=ht?st[0]:st[dt];k.JSONArray(ot,dt,ut)}else k.JSONArray(ot,0,st);at&&ot.setDataSource(at),this.emit(f.ADD,it,ot),this.emit(f.ADD_KEY+it,ot)}return ot},addAtlasJSONHash:function(it,rt,st,at){var ot=null;if(rt instanceof _?(it=rt.key,ot=rt):this.checkKey(it)&&(ot=this.create(it,rt)),ot){if(Array.isArray(st))for(var ht=0;ht<st.length;ht++)k.JSONHash(ot,ht,st[ht]);else k.JSONHash(ot,0,st);at&&ot.setDataSource(at),this.emit(f.ADD,it,ot),this.emit(f.ADD_KEY+it,ot)}return ot},addAtlasXML:function(it,rt,st,at){var ot=null;return rt instanceof _?(it=rt.key,ot=rt):this.checkKey(it)&&(ot=this.create(it,rt)),ot&&(k.AtlasXML(ot,0,st),at&&ot.setDataSource(at),this.emit(f.ADD,it,ot),this.emit(f.ADD_KEY+it,ot)),ot},addUnityAtlas:function(it,rt,st,at){var ot=null;return rt instanceof _?(it=rt.key,ot=rt):this.checkKey(it)&&(ot=this.create(it,rt)),ot&&(k.UnityYAML(ot,0,st),at&&ot.setDataSource(at),this.emit(f.ADD,it,ot),this.emit(f.ADD_KEY+it,ot)),ot},addSpriteSheet:function(it,rt,st,at){var ot=null;if(rt instanceof _?(it=rt.key,ot=rt):this.checkKey(it)&&(ot=this.create(it,rt)),ot){var ht=ot.source[0].width,dt=ot.source[0].height;k.SpriteSheet(ot,0,0,0,ht,dt,st),at&&ot.setDataSource(at),this.emit(f.ADD,it,ot),this.emit(f.ADD_KEY+it,ot)}return ot},addSpriteSheetFromAtlas:function(it,rt){if(!this.checkKey(it))return null;var st=c(rt,"atlas",null),at=c(rt,"frame",null);if(!(!st||!at)){var ot=this.get(st),ht=ot.get(at);if(ht){var dt=ht.source.image;dt||(dt=ht.source.glTexture);var ut=this.create(it,dt);return ht.trimmed?k.SpriteSheetFromAtlas(ut,ht,rt):k.SpriteSheet(ut,0,ht.cutX,ht.cutY,ht.cutWidth,ht.cutHeight,rt),this.emit(f.ADD,it,ut),this.emit(f.ADD_KEY+it,ut),ut}}},addUint8Array:function(it,rt,st,at){if(!this.checkKey(it)||rt.length/4!==st*at)return null;var ot=this.create(it,rt,st,at);return ot.add("__BASE",0,0,0,st,at),this.emit(f.ADD,it,ot),this.emit(f.ADD_KEY+it,ot),ot},create:function(it,rt,st,at){var ot=null;return this.checkKey(it)&&(ot=new _(this,it,rt,st,at),this.list[it]=ot),ot},exists:function(it){return this.list.hasOwnProperty(it)},get:function(it){return it===void 0&&(it="__DEFAULT"),this.list[it]?this.list[it]:it instanceof _?it:it instanceof s?it.texture:this.list.__MISSING},cloneFrame:function(it,rt){if(this.list[it])return this.list[it].get(rt).clone()},getFrame:function(it,rt){if(this.list[it])return this.list[it].get(rt)},parseFrame:function(it){if(it){if(typeof it=="string")return this.getFrame(it);if(Array.isArray(it)&&it.length===2)return this.getFrame(it[0],it[1]);if(j(it))return this.getFrame(it.key,it.frame);if(it instanceof _)return it.get();if(it instanceof s)return it}else return},getTextureKeys:function(){var it=[];for(var rt in this.list)rt!=="__DEFAULT"&&rt!=="__MISSING"&&rt!=="__WHITE"&&rt!=="__NORMAL"&&it.push(rt);return it},getPixel:function(it,rt,st,at){var ot=this.getFrame(st,at);if(ot){it-=ot.x,rt-=ot.y;var ht=ot.data.cut;if(it+=ht.x,rt+=ht.y,it>=ht.x&&it<ht.r&&rt>=ht.y&&rt<ht.b){var dt=this._tempContext;dt.clearRect(0,0,1,1),dt.drawImage(ot.source.image,it,rt,1,1,0,0,1,1);var ut=dt.getImageData(0,0,1,1);return new r(ut.data[0],ut.data[1],ut.data[2],ut.data[3])}}return null},getPixelAlpha:function(it,rt,st,at){var ot=this.getFrame(st,at);if(ot){it-=ot.x,rt-=ot.y;var ht=ot.data.cut;if(it+=ht.x,rt+=ht.y,it>=ht.x&&it<ht.r&&rt>=ht.y&&rt<ht.b){var dt=this._tempContext;dt.clearRect(0,0,1,1),dt.drawImage(ot.source.image,it,rt,1,1,0,0,1,1);var ut=dt.getImageData(0,0,1,1);return ut.data[3]}}return null},setTexture:function(it,rt,st){return this.list[rt]&&(it.texture=this.list[rt],it.frame=it.texture.get(st)),it},renameTexture:function(it,rt){var st=this.get(it);return st&&it!==rt?(st.key=rt,this.list[rt]=st,delete this.list[it],!0):!1},each:function(it,rt){for(var st=[null],at=1;at<arguments.length;at++)st.push(arguments[at]);for(var ot in this.list)st[0]=this.list[ot],it.apply(rt,st)},resetStamp:function(it,rt){it===void 0&&(it=1),rt===void 0&&(rt=16777215);var st=this.stamp;return st.setCrop(),st.setPosition(0),st.setAngle(0),st.setScale(1),st.setAlpha(it),st.setTint(rt),st.setTexture("__WHITE"),st},destroy:function(){for(var it in this.list)this.list[it].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});i.exports=nt},11876:(i,$,e)=>{var u=e(27919),G=e(83419),h=e(50030),r=e(29795),o=e(82751),n=new G({initialize:function(f,s,d,p,c){c===void 0&&(c=!1);var g=f.manager.game;this.renderer=g.renderer,this.texture=f,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=d||s.naturalWidth||s.videoWidth||s.width||0,this.height=p||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof o,this.isPowerOf2=h(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(g)},init:function(l){var f=this.renderer;if(f){var s=this.source;if(f.gl){var d=this.image,p=this.flipY,c=this.width,g=this.height,j=this.scaleMode;this.isCanvas?this.glTexture=f.createCanvasTexture(d,!1,p):this.isVideo?this.glTexture=f.createVideoTexture(d,!1,p):this.isRenderTexture?this.glTexture=f.createTextureFromSource(null,c,g,j):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=f.createTextureFromSource(s,void 0,void 0,j):s instanceof Uint8Array?this.glTexture=f.createUint8ArrayTexture(s,c,g,j):this.glTexture=f.createTextureFromSource(d,c,g,j)}else this.isRenderTexture&&(this.image=s.canvas)}l.config.antialias||this.setFilter(1)},setFilter:function(l){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,l),this.scaleMode=l},setFlipY:function(l){return l===void 0&&(l=!0),l===this.flipY?this:(this.flipY=l,this.update(),this)},update:function(){var l=this.renderer,f=this.image,s=this.flipY,d=l.gl;d&&this.isCanvas?l.updateCanvasTexture(f,this.glTexture,s):d&&this.isVideo&&l.updateVideoTexture(f,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});i.exports=n},19673:i=>{var $={LINEAR:0,NEAREST:1};i.exports=$},44538:i=>{i.exports="addtexture"},63486:i=>{i.exports="addtexture-"},94851:i=>{i.exports="onerror"},29099:i=>{i.exports="onload"},8678:i=>{i.exports="ready"},86415:i=>{i.exports="removetexture"},30879:i=>{i.exports="removetexture-"},69442:(i,$,e)=>{i.exports={ADD:e(44538),ADD_KEY:e(63486),ERROR:e(94851),LOAD:e(29099),READY:e(8678),REMOVE:e(86415),REMOVE_KEY:e(30879)}},27458:(i,$,e)=>{var u=e(79291),G=e(19673),h={CanvasTexture:e(57382),DynamicTexture:e(81320),Events:e(69442),FilterMode:G,Frame:e(4327),Parsers:e(61309),Texture:e(79237),TextureManager:e(17130),TextureSource:e(11876)};h=u(!1,h,G),i.exports=h},89905:i=>{var $=function(e,u,G){if(!G.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var h=e.source[u];e.add("__BASE",u,0,0,h.width,h.height);for(var r=G.getElementsByTagName("SubTexture"),o,n=0;n<r.length;n++){var l=r[n].attributes,f=l.name.value,s=parseInt(l.x.value,10),d=parseInt(l.y.value,10),p=parseInt(l.width.value,10),c=parseInt(l.height.value,10);if(o=e.add(f,u,s,d,p,c),l.frameX){var g=Math.abs(parseInt(l.frameX.value,10)),j=Math.abs(parseInt(l.frameY.value,10)),k=parseInt(l.frameWidth.value,10),tt=parseInt(l.frameHeight.value,10);o.setTrim(p,c,g,j,k,tt)}}return e};i.exports=$},72893:i=>{var $=function(e,u){var G=e.source[u];return e.add("__BASE",u,0,0,G.width,G.height),e};i.exports=$},4832:i=>{var $=function(e,u){var G=e.source[u];return e.add("__BASE",u,0,0,G.width,G.height),e};i.exports=$},78566:(i,$,e)=>{var u=e(41786),G=function(h,r,o){if(!o.frames&&!o.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=h.source[r];h.add("__BASE",r,0,0,n.width,n.height);for(var l=Array.isArray(o.textures)?o.textures[r].frames:o.frames,f,s=0;s<l.length;s++){var d=l[s];if(f=h.add(d.filename,r,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+d.filename);continue}d.trimmed&&f.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=d.anchor||d.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),d.scale9Borders&&f.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),f.customData=u(d)}for(var c in o)c!=="frames"&&(Array.isArray(o[c])?h.customData[c]=o[c].slice(0):h.customData[c]=o[c]);return h};i.exports=G},39711:(i,$,e)=>{var u=e(41786),G=function(h,r,o){if(!o.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=h.source[r];h.add("__BASE",r,0,0,n.width,n.height);var l=o.frames,f;for(var s in l)if(l.hasOwnProperty(s)){var d=l[s];if(f=h.add(s,r,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+s);continue}d.trimmed&&f.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=d.anchor||d.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),d.scale9Borders&&f.setScale9(d.scale9Borders.x,d.scale9Borders.y,d.scale9Borders.w,d.scale9Borders.h),f.customData=u(d)}for(var c in o)c!=="frames"&&(Array.isArray(o[c])?h.customData[c]=o[c].slice(0):h.customData[c]=o[c]);return h};i.exports=G},31403:i=>{var $=function(e){var u=[171,75,84,88,32,49,49,187,13,10,26,10],G,h=new Uint8Array(e,0,12);for(G=0;G<h.length;G++)if(h[G]!==u[G]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(e,12,13*r),n=o.getUint32(0,!0)===67305985,l=o.getUint32(1*r,n);if(l!==0){console.warn("KTXParser - Only compressed formats supported");return}var f=o.getUint32(4*r,n),s=o.getUint32(6*r,n),d=o.getUint32(7*r,n),p=Math.max(1,o.getUint32(11*r,n)),c=o.getUint32(12*r,n),g=new Array(p),j=12+13*4+c,k=s,tt=d;for(G=0;G<p;G++){var _=new Int32Array(e,j,1)[0];j+=4,g[G]={data:new Uint8Array(e,j,_),width:k,height:tt},k=Math.max(1,k>>1),tt=Math.max(1,tt>>1),j+=_}return{mipmaps:g,width:s,height:d,internalFormat:f,compressed:!0,generateMipmap:!1}};i.exports=$},82038:i=>{function $(rt,st,at,ot,ht,dt,ut){return ut===void 0&&(ut=16),Math.floor((rt+at)/ht)*Math.floor((st+ot)/dt)*ut}function e(rt,st){return rt=Math.max(rt,16),st=Math.max(st,8),rt*st/4}function u(rt,st){return rt=Math.max(rt,8),st=Math.max(st,8),rt*st/2}function G(rt,st){return Math.ceil(rt/4)*Math.ceil(st/4)*16}function h(rt,st){return $(rt,st,3,3,4,4,8)}function r(rt,st){return $(rt,st,3,3,4,4)}function o(rt,st){return $(rt,st,4,3,5,4)}function n(rt,st){return $(rt,st,4,4,5,5)}function l(rt,st){return $(rt,st,5,4,6,5)}function f(rt,st){return $(rt,st,5,5,6,6)}function s(rt,st){return $(rt,st,7,4,8,5)}function d(rt,st){return $(rt,st,7,5,8,6)}function p(rt,st){return $(rt,st,7,7,8,8)}function c(rt,st){return $(rt,st,9,4,10,5)}function g(rt,st){return $(rt,st,9,5,10,6)}function j(rt,st){return $(rt,st,9,7,10,8)}function k(rt,st){return $(rt,st,9,9,10,10)}function tt(rt,st){return $(rt,st,11,9,12,10)}function _(rt,st){return $(rt,st,11,11,12,12)}var nt={0:{sizeFunc:e,glFormat:[35841]},1:{sizeFunc:e,glFormat:[35843]},2:{sizeFunc:u,glFormat:[35840]},3:{sizeFunc:u,glFormat:[35842]},6:{sizeFunc:h,glFormat:[36196]},7:{sizeFunc:h,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:G,glFormat:[36494,36495]},15:{sizeFunc:G,glFormat:[36492,36493]},22:{sizeFunc:h,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:h,glFormat:[37494,37495]},25:{sizeFunc:h,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:o,glFormat:[37809,37841]},29:{sizeFunc:n,glFormat:[37810,37842]},30:{sizeFunc:l,glFormat:[37811,37843]},31:{sizeFunc:f,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:d,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:g,glFormat:[37817,37849]},37:{sizeFunc:j,glFormat:[37818,37850]},38:{sizeFunc:k,glFormat:[37819,37851]},39:{sizeFunc:tt,glFormat:[37820,37852]},40:{sizeFunc:_,glFormat:[37821,37853]}},it=function(rt){for(var st=new Uint32Array(rt,0,13),at=st[0],ot=at===55727696,ht=ot?st[2]:st[3],dt=st[4],ut=nt[ht].glFormat[dt],ft=nt[ht].sizeFunc,gt=st[11],xt=st[7],Et=st[6],pt=52+st[12],mt=new Uint8Array(rt,pt),lt=new Array(gt),ct=0,vt=xt,yt=Et,Tt=0;Tt<gt;Tt++){var Ct=ft(vt,yt);lt[Tt]={data:new Uint8Array(mt.buffer,mt.byteOffset+ct,Ct),width:vt,height:yt},vt=Math.max(1,vt>>1),yt=Math.max(1,yt>>1),ct+=Ct}return{mipmaps:lt,width:xt,height:Et,internalFormat:ut,compressed:!0,generateMipmap:!1}};i.exports=it},75549:(i,$,e)=>{var u=e(95540),G=function(h,r,o,n,l,f,s){var d=u(s,"frameWidth",null),p=u(s,"frameHeight",d);if(d===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=h.source[r];h.add("__BASE",r,0,0,c.width,c.height);var g=u(s,"startFrame",0),j=u(s,"endFrame",-1),k=u(s,"margin",0),tt=u(s,"spacing",0),_=Math.floor((l-k+tt)/(d+tt)),nt=Math.floor((f-k+tt)/(p+tt)),it=_*nt;it===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",h.key),(g>it||g<-it)&&(g=0),g<0&&(g=it+g),(j===-1||j>it||j<g)&&(j=it);for(var rt=k,st=k,at=0,ot=0,ht=0,dt=0;dt<it;dt++){at=0,ot=0;var ut=rt+d,ft=st+p;ut>l&&(at=ut-l),ft>f&&(ot=ft-f),dt>=g&&dt<=j&&(h.add(ht,r,o+rt,n+st,d-at,p-ot),ht++),rt+=d+tt,rt+d>l&&(rt=k,st+=p+tt)}return h};i.exports=G},47534:(i,$,e)=>{var u=e(95540),G=function(h,r,o){var n=u(o,"frameWidth",null),l=u(o,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=h.source[0];h.add("__BASE",0,0,0,f.width,f.height);var s=u(o,"startFrame",0),d=u(o,"endFrame",-1),p=u(o,"margin",0),c=u(o,"spacing",0),g=r.cutX,j=r.cutY,k=r.cutWidth,tt=r.cutHeight,_=r.realWidth,nt=r.realHeight,it=Math.floor((_-p+c)/(n+c)),rt=Math.floor((nt-p+c)/(l+c)),st=it*rt,at=r.x,ot=n-at,ht=n-(_-k-at),dt=r.y,ut=l-dt,ft=l-(nt-tt-dt);(s>st||s<-st)&&(s=0),s<0&&(s=st+s),d!==-1&&(st=s+(d+1));for(var gt,xt=p,Et=p,pt=0,mt=0,lt=0;lt<rt;lt++){for(var ct=lt===0,vt=lt===rt-1,yt=0;yt<it;yt++){var Tt=yt===0,Ct=yt===it-1;if(gt=h.add(pt,mt,g+xt,j+Et,n,l),Tt||ct||Ct||vt){var St=Tt?at:0,Dt=ct?dt:0,Mt=0,At=0;Tt&&(Mt+=n-ot),Ct&&(Mt+=n-ht),ct&&(At+=l-ut),vt&&(At+=l-ft);var wt=n-Mt,It=l-At;gt.cutWidth=wt,gt.cutHeight=It,gt.setTrim(n,l,St,Dt,wt,It)}xt+=c,Tt?xt+=ot:Ct?xt+=ht:xt+=n,pt++}xt=p,Et+=c,ct?Et+=ut:vt?Et+=ft:Et+=l}return h};i.exports=G},86147:i=>{var $=0,e=function(G,h,r,o){var n=$-o.y-o.height;G.add(r,h,o.x,n,o.width,o.height)},u=function(G,h,r){var o=G.source[h];G.add("__BASE",h,0,0,o.width,o.height),$=o.height;for(var n=r.split(`
`),l=/^[ ]*(- )*(\w+)+[: ]+(.*)/,f="",s="",d={x:0,y:0,width:0,height:0},p=0;p<n.length;p++){var c=n[p].match(l);if(c){var g=c[1]==="- ",j=c[2],k=c[3];if(g&&(s!==f&&(e(G,h,s,d),f=s),d={x:0,y:0,width:0,height:0}),j==="name"){s=k;continue}switch(j){case"x":case"y":case"width":case"height":d[j]=parseInt(k,10);break}}}return s!==f&&e(G,h,s,d),G};i.exports=u},55222:(i,$,e)=>{var u=e(50030),G=function(f){for(var s=f.mipmaps,d=1;d<s.length;d++){var p=s[d].width,c=s[d].height;if(!u(p,c))return console.warn("Mip level "+d+" is not a power-of-two size: "+p+"x"+c),!1}var g=l[f.internalFormat];return g?g(f):(console.warn("No format checker found for internal format "+f.internalFormat+". Assuming valid."),!0)};function h(f){for(var s=f.mipmaps,d=0;d<s.length;d++){var p=s[d].width,c=s[d].height;if((p<<d)%4!==0||(c<<d)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+d+" is "+p+"x"+c),!1}return!0}function r(){return!0}function o(f){var s=f.mipmaps,d=s[0];return u(d.width,d.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+d.width+"x"+d.height),!1)}function n(f){var s=f.mipmaps,d=s[0];return d.width%4!==0||d.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+d.width+"x"+d.height+" pixels"),!1):!0}var l={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:h,36493:h,36494:h,36495:h,36283:h,36284:h,36285:h,36286:h,35840:o,35841:o,35842:o,35843:o,33776:h,33777:h,33778:h,33779:h,35916:n,35917:n,35918:n,35919:n};i.exports=G},61309:(i,$,e)=>{i.exports={AtlasXML:e(89905),Canvas:e(72893),Image:e(4832),JSONArray:e(78566),JSONHash:e(39711),KTXParser:e(31403),PVRParser:e(82038),SpriteSheet:e(75549),SpriteSheetFromAtlas:e(47534),UnityYAML:e(86147)}},80341:i=>{i.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r,o,n,l,f,s,d){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),f===void 0&&(f=0),s===void 0&&(s=0),this.name=r,this.firstgid=o|0,this.imageWidth=n|0,this.imageHeight=l|0,this.imageMargin=f|0,this.imageSpacing=s|0,this.properties=d||{},this.images=[],this.total=0},containsImageIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},addImage:function(h,r){return this.images.push({gid:h,image:r}),this.total++,this}});i.exports=G},27462:(i,$,e)=>{var u=e(83419),G=new u({initialize:function(r){if(this.gids=[],r!==void 0)for(var o=0;o<r.length;++o)for(var n=r[o],l=0;l<n.total;++l)this.gids[n.firstgid+l]=n;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(h){this.gids=h?this._gids:void 0}},getTypeIncludingTile:function(h){if(h.type!==void 0&&h.type!=="")return h.type;if(!(!this.gids||h.gid===void 0)){var r=this.gids[h.gid];if(r){var o=r.getTileData(h.gid);if(o)return o.type}}},setTextureAndFrame:function(h,r,o,n){if(r===null&&this.gids&&n.gid!==void 0){var l=this.gids[n.gid];l&&(r===null&&l.image!==void 0&&(r=l.image.key),o===null&&(o=n.gid-l.firstgid),h.scene.textures.getFrame(r,o)||(r=null,o=null))}h.setTexture(r,o)},setPropertiesFromTiledObject:function(h,r){if(this.gids!==void 0&&r.gid!==void 0){var o=this.gids[r.gid];o!==void 0&&this.setFromJSON(h,o.getTileProperties(r.gid))}this.setFromJSON(h,r.properties)},setFromJSON:function(h,r){if(r){if(Array.isArray(r)){for(var o=0;o<r.length;o++){var n=r[o];h[n.name]!==void 0?h[n.name]=n.value:h.setData(n.name,n.value)}return}for(var l in r)h[l]!==void 0?h[l]=r[l]:h.setData(l,r[l])}}});i.exports=G},31989:(i,$,e)=>{var u=e(80341),G=e(87010),h=e(46177),r=e(49075),o=function(n,l,f,s,d,p,c,g){f===void 0&&(f=32),s===void 0&&(s=32),d===void 0&&(d=10),p===void 0&&(p=10),g===void 0&&(g=!1);var j=null;if(Array.isArray(c)){var k=l!==void 0?l:"map";j=h(k,u.ARRAY_2D,c,f,s,g)}else if(l!==void 0){var tt=n.cache.tilemap.get(l);tt?j=h(l,tt.format,tt.data,f,s,g):console.warn("No map data found for key "+l)}return j===null&&(j=new G({tileWidth:f,tileHeight:s,width:d,height:p})),new r(n,j)};i.exports=o},23029:(i,$,e)=>{var u=e(83419),G=e(31401),h=e(91907),r=e(62644),o=e(93232),n=new u({Mixins:[G.AlphaSingle,G.Flip,G.Visible],initialize:function(f,s,d,p,c,g,j,k){this.layer=f,this.index=s,this.x=d,this.y=p,this.width=c,this.height=g,this.right,this.bottom,this.baseWidth=j!==void 0?j:c,this.baseHeight=k!==void 0?k:g,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(l,f){return!(l<this.pixelX||f<this.pixelY||l>this.right||f>this.bottom)},copy:function(l){return this.index=l.index,this.alpha=l.alpha,this.properties=r(l.properties),this.visible=l.visible,this.setFlip(l.flipX,l.flipY),this.tint=l.tint,this.rotation=l.rotation,this.collideUp=l.collideUp,this.collideDown=l.collideDown,this.collideLeft=l.collideLeft,this.collideRight=l.collideRight,this.collisionCallback=l.collisionCallback,this.collisionCallbackContext=l.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(l){var f=this.tilemapLayer;if(f){var s=f.tileToWorldXY(this.x,this.y,void 0,l);return s.x}return this.x*this.baseWidth},getRight:function(l){var f=this.tilemapLayer;return f?this.getLeft(l)+this.width*f.scaleX:this.getLeft(l)+this.width},getTop:function(l){var f=this.tilemapLayer;if(f){var s=f.tileToWorldXY(this.x,this.y,void 0,l);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(l){var f=this.tilemapLayer;return f?this.getTop(l)+this.height*f.scaleY:this.getTop(l)+this.height},getBounds:function(l,f){return f===void 0&&(f=new o),f.x=this.getLeft(l),f.y=this.getTop(l),f.width=this.getRight(l)-f.x,f.height=this.getBottom(l)-f.y,f},getCenterX:function(l){return(this.getLeft(l)+this.getRight(l))/2},getCenterY:function(l){return(this.getTop(l)+this.getBottom(l))/2},intersects:function(l,f,s,d){return!(s<=this.pixelX||d<=this.pixelY||l>=this.right||f>=this.bottom)},isInteresting:function(l,f){return l&&f?this.canCollide||this.hasInterestingFace:l?this.collides:f?this.hasInterestingFace:!1},resetCollision:function(l){if(l===void 0&&(l=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,l){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(l,f,s,d,p){if(f===void 0&&(f=l),s===void 0&&(s=l),d===void 0&&(d=l),p===void 0&&(p=!0),this.collideLeft=l,this.collideRight=f,this.collideUp=s,this.collideDown=d,this.faceLeft=l,this.faceRight=f,this.faceTop=s,this.faceBottom=d,p){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(l,f){return l===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=l,this.collisionCallbackContext=f),this},setSize:function(l,f,s,d){return l!==void 0&&(this.width=l),f!==void 0&&(this.height=f),s!==void 0&&(this.baseWidth=s),d!==void 0&&(this.baseHeight=d),this.updatePixelXY(),this},updatePixelXY:function(){var l=this.layer.orientation;if(l===h.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(l===h.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(l===h.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(l===h.HEXAGONAL){var f=this.layer.staggerAxis,s=this.layer.staggerIndex,d=this.layer.hexSideLength,p,c;f==="y"?(c=(this.baseHeight-d)/2+d,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):f==="x"&&(p=(this.baseWidth-d)/2+d,this.pixelX=this.x*p,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var l=this.layer.tilemapLayer;if(l){var f=l.gidMap[this.index];if(f)return f}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var l=this.tilemapLayer;return l?l.tilemap:null}}});i.exports=n},49075:(i,$,e)=>{var u=e(84101),G=e(83419),h=e(39506),r=e(80341),o=e(95540),n=e(14977),l=e(27462),f=e(91907),s=e(36305),d=e(19133),p=e(68287),c=e(23029),g=e(81086),j=e(20442),k=e(33629),tt=new G({initialize:function(nt,it){this.scene=nt,this.tileWidth=it.tileWidth,this.tileHeight=it.tileHeight,this.width=it.width,this.height=it.height,this.orientation=it.orientation,this.renderOrder=it.renderOrder,this.format=it.format,this.version=it.version,this.properties=it.properties,this.widthInPixels=it.widthInPixels,this.heightInPixels=it.heightInPixels,this.imageCollections=it.imageCollections,this.images=it.images,this.layers=it.layers,this.tiles=it.tiles,this.tilesets=it.tilesets,this.objects=it.objects,this.currentLayerIndex=0,this.hexSideLength=it.hexSideLength;var rt=this.orientation;this._convert={WorldToTileXY:g.GetWorldToTileXYFunction(rt),WorldToTileX:g.GetWorldToTileXFunction(rt),WorldToTileY:g.GetWorldToTileYFunction(rt),TileToWorldXY:g.GetTileToWorldXYFunction(rt),TileToWorldX:g.GetTileToWorldXFunction(rt),TileToWorldY:g.GetTileToWorldYFunction(rt),GetTileCorners:g.GetTileCornersFunction(rt)}},setRenderOrder:function(_){var nt=["right-down","left-down","right-up","left-up"];return typeof _=="number"&&(_=nt[_]),nt.indexOf(_)>-1&&(this.renderOrder=_),this},addTilesetImage:function(_,nt,it,rt,st,at,ot,ht){if(_===void 0)return null;nt==null&&(nt=_);var dt=this.scene.sys.textures;if(!dt.exists(nt))return console.warn('Texture key "%s" not found',nt),null;var ut=dt.get(nt),ft=this.getTilesetIndex(_);if(ft===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',_,this.tilesets),null;var gt=this.tilesets[ft];return gt?(gt.setTileSize(it,rt),gt.setSpacing(st,at),gt.setImage(ut),gt):(it===void 0&&(it=this.tileWidth),rt===void 0&&(rt=this.tileHeight),st===void 0&&(st=0),at===void 0&&(at=0),ot===void 0&&(ot=0),ht===void 0&&(ht={x:0,y:0}),gt=new k(_,ot,it,rt,st,at,void 0,void 0,ht),gt.setImage(ut),this.tilesets.push(gt),this.tiles=u(this),gt)},copy:function(_,nt,it,rt,st,at,ot,ht){return ht=this.getLayer(ht),ht!==null?(g.Copy(_,nt,it,rt,st,at,ot,ht),this):null},createBlankLayer:function(_,nt,it,rt,st,at,ot,ht){it===void 0&&(it=0),rt===void 0&&(rt=0),st===void 0&&(st=this.width),at===void 0&&(at=this.height),ot===void 0&&(ot=this.tileWidth),ht===void 0&&(ht=this.tileHeight);var dt=this.getLayerIndex(_);if(dt!==null)return console.warn("Invalid Tilemap Layer ID: "+_),null;for(var ut=new n({name:_,tileWidth:ot,tileHeight:ht,width:st,height:at,orientation:this.orientation}),ft,gt=0;gt<at;gt++){ft=[];for(var xt=0;xt<st;xt++)ft.push(new c(ut,-1,xt,gt,ot,ht,this.tileWidth,this.tileHeight));ut.data.push(ft)}this.layers.push(ut),this.currentLayerIndex=this.layers.length-1;var Et=new j(this.scene,this,this.currentLayerIndex,nt,it,rt);return Et.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Et),Et},createLayer:function(_,nt,it,rt){var st=this.getLayerIndex(_);if(st===null)return console.warn("Invalid Tilemap Layer ID: "+_),typeof _=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var at=this.layers[st];if(at.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+_),null;this.currentLayerIndex=st,it===void 0&&(it=at.x),rt===void 0&&(rt=at.y);var ot=new j(this.scene,this,st,nt,it,rt);return ot.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(ot),ot},createFromObjects:function(_,nt,it){it===void 0&&(it=!0);var rt=[],st=this.getObjectLayer(_);if(!st)return console.warn("createFromObjects: Invalid objectLayerName given: "+_),rt;var at=new l(it?this.tilesets:void 0);Array.isArray(nt)||(nt=[nt]);for(var ot=st.objects,ht=0;ht<nt.length;ht++){var dt=nt[ht],ut=o(dt,"id",null),ft=o(dt,"gid",null),gt=o(dt,"name",null),xt=o(dt,"type",null);at.enabled=!o(dt,"ignoreTileset",null);for(var Et,pt=[],mt=0;mt<ot.length;mt++)Et=ot[mt],(ut===null&&ft===null&&gt===null&&xt===null||ut!==null&&Et.id===ut||ft!==null&&Et.gid===ft||gt!==null&&Et.name===gt||xt!==null&&at.getTypeIncludingTile(Et)===xt)&&pt.push(Et);for(var lt=o(dt,"classType",p),ct=o(dt,"scene",this.scene),vt=o(dt,"container",null),yt=o(dt,"key",null),Tt=o(dt,"frame",null),Ct=0;Ct<pt.length;Ct++){Et=pt[Ct];var St=new lt(ct);if(St.setName(Et.name),St.setPosition(Et.x,Et.y),at.setTextureAndFrame(St,yt,Tt,Et),Et.width&&(St.displayWidth=Et.width),Et.height&&(St.displayHeight=Et.height),this.orientation===f.ISOMETRIC){var Dt=this.tileWidth/this.tileHeight,Mt={x:St.x-St.y,y:(St.x+St.y)/Dt};St.x=Mt.x,St.y=Mt.y}var At={x:St.originX*Et.width,y:(St.originY-(Et.gid?1:0))*Et.height};if(Et.rotation){var wt=h(Et.rotation);s(At,wt),St.rotation=wt}St.x+=At.x,St.y+=At.y,(Et.flippedHorizontal!==void 0||Et.flippedVertical!==void 0)&&St.setFlip(Et.flippedHorizontal,Et.flippedVertical),Et.visible||(St.visible=!1),at.setPropertiesFromTiledObject(St,Et),vt?vt.add(St):ct.add.existing(St),rt.push(St)}}return rt},createFromTiles:function(_,nt,it,rt,st,at){return at=this.getLayer(at),at===null?null:g.CreateFromTiles(_,nt,it,rt,st,at)},fill:function(_,nt,it,rt,st,at,ot){return at===void 0&&(at=!0),ot=this.getLayer(ot),ot===null?null:(g.Fill(_,nt,it,rt,st,at,ot),this)},filterObjects:function(_,nt,it){if(typeof _=="string"){var rt=_;if(_=this.getObjectLayer(_),!_)return console.warn("No object layer found with the name: "+rt),null}return _.objects.filter(nt,it)},filterTiles:function(_,nt,it,rt,st,at,ot,ht){return ht=this.getLayer(ht),ht===null?null:g.FilterTiles(_,nt,it,rt,st,at,ot,ht)},findByIndex:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:g.FindByIndex(_,nt,it,rt)},findObject:function(_,nt,it){if(typeof _=="string"){var rt=_;if(_=this.getObjectLayer(_),!_)return console.warn("No object layer found with the name: "+rt),null}return _.objects.find(nt,it)||null},findTile:function(_,nt,it,rt,st,at,ot,ht){return ht=this.getLayer(ht),ht===null?null:g.FindTile(_,nt,it,rt,st,at,ot,ht)},forEachTile:function(_,nt,it,rt,st,at,ot,ht){return ht=this.getLayer(ht),ht===null?null:(g.ForEachTile(_,nt,it,rt,st,at,ot,ht),this)},getImageIndex:function(_){return this.getIndex(this.images,_)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(_){return _.name})},getIndex:function(_,nt){for(var it=0;it<_.length;it++)if(_[it].name===nt)return it;return null},getLayer:function(_){var nt=this.getLayerIndex(_);return nt!==null?this.layers[nt]:null},getObjectLayer:function(_){var nt=this.getIndex(this.objects,_);return nt!==null?this.objects[nt]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(_){return _.name})},getLayerIndex:function(_){return _===void 0?this.currentLayerIndex:typeof _=="string"?this.getLayerIndexByName(_):typeof _=="number"&&_<this.layers.length?_:_ instanceof j&&_.tilemap===this?_.layerIndex:null},getLayerIndexByName:function(_){return this.getIndex(this.layers,_)},getTileAt:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:g.GetTileAt(_,nt,it,rt)},getTileAtWorldXY:function(_,nt,it,rt,st){return st=this.getLayer(st),st===null?null:g.GetTileAtWorldXY(_,nt,it,rt,st)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(_){return _.name})},getTilesWithin:function(_,nt,it,rt,st,at){return at=this.getLayer(at),at===null?null:g.GetTilesWithin(_,nt,it,rt,st,at)},getTilesWithinShape:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:g.GetTilesWithinShape(_,nt,it,rt)},getTilesWithinWorldXY:function(_,nt,it,rt,st,at,ot){return ot=this.getLayer(ot),ot===null?null:g.GetTilesWithinWorldXY(_,nt,it,rt,st,at,ot)},getTileset:function(_){var nt=this.getIndex(this.tilesets,_);return nt!==null?this.tilesets[nt]:null},getTilesetIndex:function(_){return this.getIndex(this.tilesets,_)},hasTileAt:function(_,nt,it){return it=this.getLayer(it),it===null?null:g.HasTileAt(_,nt,it)},hasTileAtWorldXY:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:g.HasTileAtWorldXY(_,nt,it,rt)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(_){this.setLayer(_)}},putTileAt:function(_,nt,it,rt,st){return rt===void 0&&(rt=!0),st=this.getLayer(st),st===null?null:g.PutTileAt(_,nt,it,rt,st)},putTileAtWorldXY:function(_,nt,it,rt,st,at){return rt===void 0&&(rt=!0),at=this.getLayer(at),at===null?null:g.PutTileAtWorldXY(_,nt,it,rt,st,at)},putTilesAt:function(_,nt,it,rt,st){return rt===void 0&&(rt=!0),st=this.getLayer(st),st===null?null:(g.PutTilesAt(_,nt,it,rt,st),this)},randomize:function(_,nt,it,rt,st,at){return at=this.getLayer(at),at===null?null:(g.Randomize(_,nt,it,rt,st,at),this)},calculateFacesAt:function(_,nt,it){return it=this.getLayer(it),it===null?null:(g.CalculateFacesAt(_,nt,it),this)},calculateFacesWithin:function(_,nt,it,rt,st){return st=this.getLayer(st),st===null?null:(g.CalculateFacesWithin(_,nt,it,rt,st),this)},removeLayer:function(_){var nt=this.getLayerIndex(_);if(nt!==null){d(this.layers,nt);for(var it=nt;it<this.layers.length;it++)this.layers[it].tilemapLayer&&this.layers[it].tilemapLayer.layerIndex--;return this.currentLayerIndex===nt&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(_){var nt=this.getLayerIndex(_);return nt!==null?(_=this.layers[nt],_.tilemapLayer.destroy(),d(this.layers,nt),this.currentLayerIndex===nt&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var _=this.layers,nt=0;nt<_.length;nt++)_[nt].tilemapLayer&&_[nt].tilemapLayer.destroy(!1);return _.length=0,this.currentLayerIndex=0,this},removeTile:function(_,nt,it){nt===void 0&&(nt=-1),it===void 0&&(it=!0);var rt=[];Array.isArray(_)||(_=[_]);for(var st=0;st<_.length;st++){var at=_[st];rt.push(this.removeTileAt(at.x,at.y,!0,it,at.tilemapLayer)),nt>-1&&this.putTileAt(nt,at.x,at.y,it,at.tilemapLayer)}return rt},removeTileAt:function(_,nt,it,rt,st){return it===void 0&&(it=!0),rt===void 0&&(rt=!0),st=this.getLayer(st),st===null?null:g.RemoveTileAt(_,nt,it,rt,st)},removeTileAtWorldXY:function(_,nt,it,rt,st,at){return it===void 0&&(it=!0),rt===void 0&&(rt=!0),at=this.getLayer(at),at===null?null:g.RemoveTileAtWorldXY(_,nt,it,rt,st,at)},renderDebug:function(_,nt,it){return it=this.getLayer(it),it===null?null:(this.orientation===f.ORTHOGONAL&&g.RenderDebug(_,nt,it),this)},renderDebugFull:function(_,nt){for(var it=this.layers,rt=0;rt<it.length;rt++)g.RenderDebug(_,nt,it[rt]);return this},replaceByIndex:function(_,nt,it,rt,st,at,ot){return ot=this.getLayer(ot),ot===null?null:(g.ReplaceByIndex(_,nt,it,rt,st,at,ot),this)},setCollision:function(_,nt,it,rt,st){return nt===void 0&&(nt=!0),it===void 0&&(it=!0),st===void 0&&(st=!0),rt=this.getLayer(rt),rt===null?null:(g.SetCollision(_,nt,it,rt,st),this)},setCollisionBetween:function(_,nt,it,rt,st){return it===void 0&&(it=!0),rt===void 0&&(rt=!0),st=this.getLayer(st),st===null?null:(g.SetCollisionBetween(_,nt,it,rt,st),this)},setCollisionByProperty:function(_,nt,it,rt){return nt===void 0&&(nt=!0),it===void 0&&(it=!0),rt=this.getLayer(rt),rt===null?null:(g.SetCollisionByProperty(_,nt,it,rt),this)},setCollisionByExclusion:function(_,nt,it,rt){return nt===void 0&&(nt=!0),it===void 0&&(it=!0),rt=this.getLayer(rt),rt===null?null:(g.SetCollisionByExclusion(_,nt,it,rt),this)},setCollisionFromCollisionGroup:function(_,nt,it){return _===void 0&&(_=!0),nt===void 0&&(nt=!0),it=this.getLayer(it),it===null?null:(g.SetCollisionFromCollisionGroup(_,nt,it),this)},setTileIndexCallback:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:(g.SetTileIndexCallback(_,nt,it,rt),this)},setTileLocationCallback:function(_,nt,it,rt,st,at,ot){return ot=this.getLayer(ot),ot===null?null:(g.SetTileLocationCallback(_,nt,it,rt,st,at,ot),this)},setLayer:function(_){var nt=this.getLayerIndex(_);return nt!==null&&(this.currentLayerIndex=nt),this},setBaseTileSize:function(_,nt){this.tileWidth=_,this.tileHeight=nt,this.widthInPixels=this.width*_,this.heightInPixels=this.height*nt;for(var it=0;it<this.layers.length;it++){this.layers[it].baseTileWidth=_,this.layers[it].baseTileHeight=nt;for(var rt=this.layers[it].data,st=this.layers[it].width,at=this.layers[it].height,ot=0;ot<at;ot++)for(var ht=0;ht<st;ht++){var dt=rt[ot][ht];dt!==null&&dt.setSize(void 0,void 0,_,nt)}}return this},setLayerTileSize:function(_,nt,it){if(it=this.getLayer(it),it===null)return this;it.tileWidth=_,it.tileHeight=nt;for(var rt=it.data,st=it.width,at=it.height,ot=0;ot<at;ot++)for(var ht=0;ht<st;ht++){var dt=rt[ot][ht];dt!==null&&dt.setSize(_,nt)}return this},shuffle:function(_,nt,it,rt,st){return st=this.getLayer(st),st===null?null:(g.Shuffle(_,nt,it,rt,st),this)},swapByIndex:function(_,nt,it,rt,st,at,ot){return ot=this.getLayer(ot),ot===null?null:(g.SwapByIndex(_,nt,it,rt,st,at,ot),this)},tileToWorldX:function(_,nt,it){return it=this.getLayer(it),it===null?null:this._convert.TileToWorldX(_,nt,it)},tileToWorldY:function(_,nt,it){return it=this.getLayer(it),it===null?null:this._convert.TileToWorldY(_,nt,it)},tileToWorldXY:function(_,nt,it,rt,st){return st=this.getLayer(st),st===null?null:this._convert.TileToWorldXY(_,nt,it,rt,st)},getTileCorners:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:this._convert.GetTileCorners(_,nt,it,rt)},weightedRandomize:function(_,nt,it,rt,st,at){return at=this.getLayer(at),at===null?null:(g.WeightedRandomize(nt,it,rt,st,_,at),this)},worldToTileX:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:this._convert.WorldToTileX(_,nt,it,rt)},worldToTileY:function(_,nt,it,rt){return rt=this.getLayer(rt),rt===null?null:this._convert.WorldToTileY(_,nt,it,rt)},worldToTileXY:function(_,nt,it,rt,st,at){return at=this.getLayer(at),at===null?null:this._convert.WorldToTileXY(_,nt,it,rt,st,at)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});i.exports=tt},45939:(i,$,e)=>{var u=e(44603),G=e(31989);u.register("tilemap",function(h){var r=h!==void 0?h:{};return G(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(i,$,e)=>{var u=e(39429),G=e(31989);u.register("tilemap",function(h,r,o,n,l,f,s){return h===null&&(h=void 0),r===null&&(r=void 0),o===null&&(o=void 0),n===null&&(n=void 0),l===null&&(l=void 0),G(this.scene,h,r,o,n,l,f,s)})},20442:(i,$,e)=>{var u=e(83419),G=e(78389),h=e(31401),r=e(95643),o=e(81086),n=e(19218),l=e(26099),f=new u({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,G,n],initialize:function(d,p,c,g,j,k){r.call(this,d,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=c,this.layer=p.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new l,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(g),this.setAlpha(this.layer.alpha),this.setPosition(j,k),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var d=[],p=[],c=this.tilemap;Array.isArray(s)||(s=[s]);for(var g=0;g<s.length;g++){var j=s[g];if(typeof j=="string"&&(j=c.getTileset(j)),j){p.push(j);for(var k=j.firstgid,tt=0;tt<j.total;tt++)d[k+tt]=j}}this.gidMap=d,this.tileset=p},setRenderOrder:function(s){var d=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=d.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,d){return o.CalculateFacesAt(s,d,this.layer),this},calculateFacesWithin:function(s,d,p,c){return o.CalculateFacesWithin(s,d,p,c,this.layer),this},createFromTiles:function(s,d,p,c,g){return o.CreateFromTiles(s,d,p,c,g,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,d,p,c,g,j,k){return o.Copy(s,d,p,c,g,j,k,this.layer),this},fill:function(s,d,p,c,g,j){return o.Fill(s,d,p,c,g,j,this.layer),this},filterTiles:function(s,d,p,c,g,j,k){return o.FilterTiles(s,d,p,c,g,j,k,this.layer)},findByIndex:function(s,d,p){return o.FindByIndex(s,d,p,this.layer)},findTile:function(s,d,p,c,g,j,k){return o.FindTile(s,d,p,c,g,j,k,this.layer)},forEachTile:function(s,d,p,c,g,j,k){return o.ForEachTile(s,d,p,c,g,j,k,this.layer),this},setTint:function(s,d,p,c,g,j){s===void 0&&(s=16777215);var k=function(tt){tt.tint=s,tt.tintFill=!1};return this.forEachTile(k,this,d,p,c,g,j)},setTintFill:function(s,d,p,c,g,j){s===void 0&&(s=16777215);var k=function(tt){tt.tint=s,tt.tintFill=!0};return this.forEachTile(k,this,d,p,c,g,j)},getTileAt:function(s,d,p){return o.GetTileAt(s,d,p,this.layer)},getTileAtWorldXY:function(s,d,p,c){return o.GetTileAtWorldXY(s,d,p,c,this.layer)},getIsoTileAtWorldXY:function(s,d,p,c,g){p===void 0&&(p=!0);var j=this.tempVec;return o.IsometricWorldToTileXY(s,d,!0,j,g,this.layer,p),this.getTileAt(j.x,j.y,c)},getTilesWithin:function(s,d,p,c,g){return o.GetTilesWithin(s,d,p,c,g,this.layer)},getTilesWithinShape:function(s,d,p){return o.GetTilesWithinShape(s,d,p,this.layer)},getTilesWithinWorldXY:function(s,d,p,c,g,j){return o.GetTilesWithinWorldXY(s,d,p,c,g,j,this.layer)},hasTileAt:function(s,d){return o.HasTileAt(s,d,this.layer)},hasTileAtWorldXY:function(s,d,p){return o.HasTileAtWorldXY(s,d,p,this.layer)},putTileAt:function(s,d,p,c){return o.PutTileAt(s,d,p,c,this.layer)},putTileAtWorldXY:function(s,d,p,c,g){return o.PutTileAtWorldXY(s,d,p,c,g,this.layer)},putTilesAt:function(s,d,p,c){return o.PutTilesAt(s,d,p,c,this.layer),this},randomize:function(s,d,p,c,g){return o.Randomize(s,d,p,c,g,this.layer),this},removeTileAt:function(s,d,p,c){return o.RemoveTileAt(s,d,p,c,this.layer)},removeTileAtWorldXY:function(s,d,p,c,g){return o.RemoveTileAtWorldXY(s,d,p,c,g,this.layer)},renderDebug:function(s,d){return o.RenderDebug(s,d,this.layer),this},replaceByIndex:function(s,d,p,c,g,j){return o.ReplaceByIndex(s,d,p,c,g,j,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,d){return s===void 0&&(s=1),d===void 0&&(d=1),this.cullPaddingX=s,this.cullPaddingY=d,this},setCollision:function(s,d,p,c){return o.SetCollision(s,d,p,this.layer,c),this},setCollisionBetween:function(s,d,p,c){return o.SetCollisionBetween(s,d,p,c,this.layer),this},setCollisionByProperty:function(s,d,p){return o.SetCollisionByProperty(s,d,p,this.layer),this},setCollisionByExclusion:function(s,d,p){return o.SetCollisionByExclusion(s,d,p,this.layer),this},setCollisionFromCollisionGroup:function(s,d){return o.SetCollisionFromCollisionGroup(s,d,this.layer),this},setTileIndexCallback:function(s,d,p){return o.SetTileIndexCallback(s,d,p,this.layer),this},setTileLocationCallback:function(s,d,p,c,g,j){return o.SetTileLocationCallback(s,d,p,c,g,j,this.layer),this},shuffle:function(s,d,p,c){return o.Shuffle(s,d,p,c,this.layer),this},swapByIndex:function(s,d,p,c,g,j){return o.SwapByIndex(s,d,p,c,g,j,this.layer),this},tileToWorldX:function(s,d){return this.tilemap.tileToWorldX(s,d,this)},tileToWorldY:function(s,d){return this.tilemap.tileToWorldY(s,d,this)},tileToWorldXY:function(s,d,p,c){return this.tilemap.tileToWorldXY(s,d,p,c,this)},getTileCorners:function(s,d,p){return this.tilemap.getTileCorners(s,d,p,this)},weightedRandomize:function(s,d,p,c,g){return o.WeightedRandomize(d,p,c,g,s,this.layer),this},worldToTileX:function(s,d,p){return this.tilemap.worldToTileX(s,d,p,this)},worldToTileY:function(s,d,p){return this.tilemap.worldToTileY(s,d,p,this)},worldToTileXY:function(s,d,p,c,g){return this.tilemap.worldToTileXY(s,d,p,c,g,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});i.exports=f},16153:(i,$,e)=>{var u=e(61340),G=new u,h=new u,r=new u,o=function(n,l,f,s){var d=l.cull(f),p=d.length,c=f.alpha*l.alpha;if(!(p===0||c<=0)){var g=G,j=h,k=r;j.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),g.copyFrom(f.matrix);var tt=n.currentContext,_=l.gidMap;tt.save(),s?(g.multiplyWithOffset(s,-f.scrollX*l.scrollFactorX,-f.scrollY*l.scrollFactorY),j.e=l.x,j.f=l.y,g.multiply(j,k),k.copyToContext(tt)):(j.e-=f.scrollX*l.scrollFactorX,j.f-=f.scrollY*l.scrollFactorY,j.copyToContext(tt)),(!n.antialias||l.scaleX>1||l.scaleY>1)&&(tt.imageSmoothingEnabled=!1);for(var nt=0;nt<p;nt++){var it=d[nt],rt=_[it.index];if(rt){var st=rt.image.getSourceImage(),at=rt.getTileTextureCoordinates(it.index),ot=rt.tileWidth,ht=rt.tileHeight;if(!(at===null||ot===0||ht===0)){var dt=ot*.5,ut=ht*.5;at.x+=rt.tileOffset.x,at.y+=rt.tileOffset.y,tt.save(),tt.translate(it.pixelX+dt,it.pixelY+ut),it.rotation!==0&&tt.rotate(it.rotation),(it.flipX||it.flipY)&&tt.scale(it.flipX?-1:1,it.flipY?-1:1),tt.globalAlpha=c*it.alpha,tt.drawImage(st,at.x,at.y,ot,ht,-dt,-ut,ot,ht),tt.restore()}}}tt.restore()}};i.exports=o},19218:(i,$,e)=>{var u=e(29747),G=u,h=u;G=e(99558),h=e(16153),i.exports={renderWebGL:G,renderCanvas:h}},99558:(i,$,e)=>{var u=e(70554),G=function(h,r,o){var n=r.cull(o),l=n.length,f=o.alpha*r.alpha;if(!(l===0||f<=0)){var s=r.gidMap,d=h.pipelines.set(r.pipeline,r),p=u.getTintAppendFloatAlpha,c=r.scrollFactorX,g=r.scrollFactorY,j=r.x,k=r.y,tt=r.scaleX,_=r.scaleY;h.pipelines.preBatch(r);for(var nt=0;nt<l;nt++){var it=n[nt],rt=s[it.index];if(rt){var st=rt.getTileTextureCoordinates(it.index),at=rt.tileWidth,ot=rt.tileHeight;if(!(!st||at===0||ot===0)){var ht=at*.5,dt=ot*.5,ut=rt.glTexture,ft=d.setTexture2D(ut,r),gt=at,xt=ot,Et=st.x,pt=st.y,mt=rt.tileOffset.x,lt=rt.tileOffset.y,ct=p(it.tint,f*it.alpha);d.batchTexture(r,ut,ut.width,ut.height,j+it.pixelX*tt+(ht*tt-mt),k+it.pixelY*_+(dt*_-lt),at,ot,tt,_,it.rotation,it.flipX,it.flipY,c,g,ht,dt,Et,pt,gt,xt,ct,ct,ct,ct,it.tintFill,0,0,o,null,!0,ft,!0)}}}h.pipelines.postBatch(r)}};i.exports=G},33629:(i,$,e)=>{var u=e(83419),G=e(26099),h=new u({initialize:function(o,n,l,f,s,d,p,c,g){(l===void 0||l<=0)&&(l=32),(f===void 0||f<=0)&&(f=32),s===void 0&&(s=0),d===void 0&&(d=0),p===void 0&&(p={}),c===void 0&&(c={}),this.name=o,this.firstgid=n,this.tileWidth=l,this.tileHeight=f,this.tileMargin=s,this.tileSpacing=d,this.tileProperties=p,this.tileData=c,this.tileOffset=new G,g!==void 0&&this.tileOffset.set(g.x,g.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var o=this.getTileData(r);return o&&o.objectgroup?o.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var o=r.get(),n=r.getFrameBounds();return this.glTexture=o.source.glTexture,o.width>n.width||o.height>n.height?this.updateTileData(o.width,o.height):this.updateTileData(n.width,n.height,n.x,n.y),this},setTileSize:function(r,o){return r!==void 0&&(this.tileWidth=r),o!==void 0&&(this.tileHeight=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,o){return r!==void 0&&(this.tileMargin=r),o!==void 0&&(this.tileSpacing=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,o,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var f=(o-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(f%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),f=Math.floor(f),s=Math.floor(s),this.rows=f,this.columns=s,this.total=f*s,this.texCoordinates.length=0;for(var d=this.tileMargin+n,p=this.tileMargin+l,c=0;c<this.rows;c++){for(var g=0;g<this.columns;g++)this.texCoordinates.push({x:d,y:p}),d+=this.tileWidth+this.tileSpacing;d=this.tileMargin+n,p+=this.tileHeight+this.tileSpacing}return this}});i.exports=h},72023:(i,$,e)=>{var u=e(7423),G=function(h,r,o){var n=u(h,r,!0,o),l=u(h,r-1,!0,o),f=u(h,r+1,!0,o),s=u(h-1,r,!0,o),d=u(h+1,r,!0,o),p=n&&n.collides;return p&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),l&&l.collides&&(p&&(n.faceTop=!1),l.faceBottom=!p),f&&f.collides&&(p&&(n.faceBottom=!1),f.faceTop=!p),s&&s.collides&&(p&&(n.faceLeft=!1),s.faceRight=!p),d&&d.collides&&(p&&(n.faceRight=!1),d.faceLeft=!p),n&&!n.collides&&n.resetFaces(),n};i.exports=G},42573:(i,$,e)=>{var u=e(7423),G=e(7386),h=function(r,o,n,l,f){for(var s=null,d=null,p=null,c=null,g=G(r,o,n,l,null,f),j=0;j<g.length;j++){var k=g[j];k&&(k.collides?(s=u(k.x,k.y-1,!0,f),d=u(k.x,k.y+1,!0,f),p=u(k.x-1,k.y,!0,f),c=u(k.x+1,k.y,!0,f),k.faceTop=!(s&&s.collides),k.faceBottom=!(d&&d.collides),k.faceLeft=!(p&&p.collides),k.faceRight=!(c&&c.collides)):k.resetFaces())}};i.exports=h},33528:(i,$,e)=>{var u=e(26099),G=new u,h=function(r,o,n,l){var f=n.tilemapLayer,s=f.cullPaddingX,d=f.cullPaddingY,p=f.tilemap.tileToWorldXY(r,o,G,l,f);return p.x>l.worldView.x+f.scaleX*n.tileWidth*(-s-.5)&&p.x<l.worldView.right+f.scaleX*n.tileWidth*(s-.5)&&p.y>l.worldView.y+f.scaleY*n.tileHeight*(-d-1)&&p.y<l.worldView.bottom+f.scaleY*n.tileHeight*(d-.5)};i.exports=h},1785:(i,$,e)=>{var u=e(42573),G=e(7386),h=e(62991),r=e(23029),o=function(n,l,f,s,d,p,c,g){c===void 0&&(c=!0);var j=G(n,l,f,s,null,g),k=[];j.forEach(function(at){var ot=new r(at.layer,at.index,at.x,at.y,at.width,at.height,at.baseWidth,at.baseHeight);ot.copy(at),k.push(ot)});for(var tt=d-n,_=p-l,nt=0;nt<k.length;nt++){var it=k[nt],rt=it.x+tt,st=it.y+_;h(rt,st,g)&&g.data[st][rt]&&(it.x=rt,it.y=st,it.updatePixelXY(),g.data[st][rt]=it)}c&&u(d-1,p-1,f+2,s+2,g),j.length=0,k.length=0};i.exports=o},78419:(i,$,e)=>{var u=e(62644),G=e(7386),h=e(27987),r=function(o,n,l,f,s,d){l||(l={}),Array.isArray(o)||(o=[o]);var p=d.tilemapLayer;f||(f=p.scene),s||(s=f.cameras.main);var c=d.width,g=d.height,j=G(0,0,c,g,null,d),k=[],tt,_=function(st,at,ot){for(var ht=0;ht<ot.length;ht++){var dt=ot[ht];st.hasOwnProperty(dt)||(st[dt]=at[dt])}};for(tt=0;tt<j.length;tt++){var nt=j[tt],it=u(l);if(o.indexOf(nt.index)!==-1){var rt=p.tileToWorldXY(nt.x,nt.y,void 0,s,d);it.x=rt.x,it.y=rt.y,_(it,nt,["rotation","flipX","flipY","alpha","visible","tint"]),it.hasOwnProperty("origin")||(it.x+=nt.width*.5,it.y+=nt.height*.5),it.hasOwnProperty("useSpriteSheet")&&(it.key=nt.tileset.image,it.frame=nt.index-1),k.push(f.make.sprite(it))}}if(Array.isArray(n))for(tt=0;tt<o.length;tt++)h(o[tt],n[tt],0,0,c,g,d);else if(n!==null)for(tt=0;tt<o.length;tt++)h(o[tt],n,0,0,c,g,d);return k};i.exports=r},19545:(i,$,e)=>{var u=e(87841),G=e(63448),h=e(56583),r=new u,o=function(n,l){var f=n.tilemapLayer.tilemap,s=n.tilemapLayer,d=Math.floor(f.tileWidth*s.scaleX),p=Math.floor(f.tileHeight*s.scaleY),c=h(l.worldView.x-s.x,d,0,!0)-s.cullPaddingX,g=G(l.worldView.right-s.x,d,0,!0)+s.cullPaddingX,j=h(l.worldView.y-s.y,p,0,!0)-s.cullPaddingY,k=G(l.worldView.bottom-s.y,p,0,!0)+s.cullPaddingY;return r.setTo(c,j,g-c,k-j)};i.exports=o},30003:(i,$,e)=>{var u=e(19545),G=e(32483),h=function(r,o,n,l){n===void 0&&(n=[]),l===void 0&&(l=0),n.length=0;var f=r.tilemapLayer,s=u(r,o);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(s.left=0,s.right=r.width,s.top=0,s.bottom=r.height),G(r,s,l,n),n};i.exports=h},35137:(i,$,e)=>{var u=e(7386),G=e(42573),h=e(20576),r=function(o,n,l,f,s,d,p){for(var c=p.collideIndexes.indexOf(o)!==-1,g=u(n,l,f,s,null,p),j=0;j<g.length;j++)g[j].index=o,h(g[j],c);d&&G(n-1,l-1,f+2,s+2,p)};i.exports=r},40253:(i,$,e)=>{var u=e(7386),G=function(h,r,o,n,l,f,s,d){var p=u(o,n,l,f,s,d);return p.filter(h,r)};i.exports=G},52692:i=>{var $=function(e,u,G,h){u===void 0&&(u=0),G===void 0&&(G=!1);var r=0,o,n,l;if(G){for(n=h.height-1;n>=0;n--)for(o=h.width-1;o>=0;o--)if(l=h.data[n][o],l&&l.index===e){if(r===u)return l;r+=1}}else for(n=0;n<h.height;n++)for(o=0;o<h.width;o++)if(l=h.data[n][o],l&&l.index===e){if(r===u)return l;r+=1}return null};i.exports=$},66151:(i,$,e)=>{var u=e(7386),G=function(h,r,o,n,l,f,s,d){var p=u(o,n,l,f,s,d);return p.find(h,r)||null};i.exports=G},97560:(i,$,e)=>{var u=e(7386),G=function(h,r,o,n,l,f,s,d){var p=u(o,n,l,f,s,d);p.forEach(h,r)};i.exports=G},43305:(i,$,e)=>{var u=e(91907),G=e(30003),h=e(9474),r=e(14018),o=e(29747),n=e(54503),l=function(f){return f===u.ORTHOGONAL?G:f===u.HEXAGONAL?h:f===u.STAGGERED?n:f===u.ISOMETRIC?r:o};i.exports=l},7423:(i,$,e)=>{var u=e(62991),G=function(h,r,o,n){if(o===void 0&&(o=!1),u(h,r,n)){var l=n.data[r][h]||null;return l?l.index===-1?o?l:null:l:null}else return null};i.exports=G},60540:(i,$,e)=>{var u=e(7423),G=e(26099),h=new G,r=function(o,n,l,f,s){return s.tilemapLayer.worldToTileXY(o,n,!0,h,f),u(h.x,h.y,l,s)};i.exports=r},55826:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n){var l=n.baseTileWidth,f=n.baseTileHeight,s=n.tilemapLayer,d=0,p=0;s&&(o||(o=s.scene.cameras.main),d=s.x+o.scrollX*(1-s.scrollFactorX),p=s.y+o.scrollY*(1-s.scrollFactorY),l*=s.scaleX,f*=s.scaleY);var c=d+h*l,g=p+r*f;return[new u(c,g),new u(c+l,g),new u(c+l,g+f),new u(c,g+f)]};i.exports=G},11758:(i,$,e)=>{var u=e(91907),G=e(27229),h=e(29747),r=e(55826),o=function(n){return n===u.ORTHOGONAL?r:n===u.ISOMETRIC?h:n===u.HEXAGONAL?G:(n===u.STAGGERED,h)};i.exports=o},39167:(i,$,e)=>{var u=e(91907),G=e(29747),h=e(97281),r=function(o){return o===u.ORTHOGONAL?h:G};i.exports=r},62e3:(i,$,e)=>{var u=e(91907),G=e(19951),h=e(14127),r=e(29747),o=e(97202),n=e(70326),l=function(f){return f===u.ORTHOGONAL?n:f===u.ISOMETRIC?h:f===u.HEXAGONAL?G:f===u.STAGGERED?o:r};i.exports=l},5984:(i,$,e)=>{var u=e(91907),G=e(29747),h=e(28054),r=e(29650),o=function(n){return n===u.ORTHOGONAL?r:n===u.STAGGERED?h:G};i.exports=o},7386:(i,$,e)=>{var u=e(95540),G=function(h,r,o,n,l,f){h===void 0&&(h=0),r===void 0&&(r=0),o===void 0&&(o=f.width),n===void 0&&(n=f.height),l||(l={});var s=u(l,"isNotEmpty",!1),d=u(l,"isColliding",!1),p=u(l,"hasInterestingFace",!1);h<0&&(o+=h,h=0),r<0&&(n+=r,r=0),h+o>f.width&&(o=Math.max(f.width-h,0)),r+n>f.height&&(n=Math.max(f.height-r,0));for(var c=[],g=r;g<r+n;g++)for(var j=h;j<h+o;j++){var k=f.data[g][j];if(k!==null){if(s&&k.index===-1||d&&!k.collides||p&&!k.hasInterestingFace)continue;c.push(k)}}return c};i.exports=G},91141:(i,$,e)=>{var u=e(55738),G=e(7386),h=e(91865),r=e(29747),o=e(26099),n=function(p,c){return h.RectangleToTriangle(c,p)},l=new o,f=new o,s=new o,d=function(p,c,g,j){if(p===void 0)return[];var k=r;p instanceof u.Circle?k=h.CircleToRectangle:p instanceof u.Rectangle?k=h.RectangleToRectangle:p instanceof u.Triangle?k=n:p instanceof u.Line&&(k=h.LineToRectangle),j.tilemapLayer.worldToTileXY(p.left,p.top,!0,f,g);var tt=f.x,_=f.y;j.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,s,g);var nt=Math.ceil(s.x),it=Math.ceil(s.y),rt=Math.max(nt-tt,1),st=Math.max(it-_,1),at=G(tt,_,rt,st,c,j),ot=j.tileWidth,ht=j.tileHeight;j.tilemapLayer&&(ot*=j.tilemapLayer.scaleX,ht*=j.tilemapLayer.scaleY);for(var dt=[],ut=new u.Rectangle(0,0,ot,ht),ft=0;ft<at.length;ft++){var gt=at[ft];j.tilemapLayer.tileToWorldXY(gt.x,gt.y,l,g),ut.x=l.x,ut.y=l.y,k(p,ut)&&dt.push(gt)}return dt};i.exports=d},96523:(i,$,e)=>{var u=e(7386),G=e(26099),h=new G,r=new G,o=function(n,l,f,s,d,p,c){var g=c.tilemapLayer.tilemap._convert.WorldToTileXY;g(n,l,!0,h,p,c);var j=h.x,k=h.y;g(n+f,l+s,!1,r,p,c);var tt=Math.ceil(r.x),_=Math.ceil(r.y);return u(j,k,tt-j,_-k,d,c)};i.exports=o},96113:(i,$,e)=>{var u=e(91907),G=e(20242),h=e(10095),r=function(o){return o===u.ORTHOGONAL?h:G};i.exports=r},16926:(i,$,e)=>{var u=e(91907),G=e(86625),h=e(96897),r=e(29747),o=e(15108),n=e(85896),l=function(f){return f===u.ORTHOGONAL?n:f===u.ISOMETRIC?h:f===u.HEXAGONAL?G:f===u.STAGGERED?o:r};i.exports=l},55762:(i,$,e)=>{var u=e(91907),G=e(20242),h=e(51900),r=e(63288),o=function(n){return n===u.ORTHOGONAL?r:n===u.STAGGERED?h:G};i.exports=o},45091:(i,$,e)=>{var u=e(62991),G=function(h,r,o){if(u(h,r,o)){var n=o.data[r][h];return n!==null&&n.index>-1}else return!1};i.exports=G},24152:(i,$,e)=>{var u=e(45091),G=e(26099),h=new G,r=function(o,n,l,f){f.tilemapLayer.worldToTileXY(o,n,!0,h,l);var s=h.x,d=h.y;return u(s,d,f)};i.exports=r},90454:(i,$,e)=>{var u=e(63448),G=e(56583),h=function(r,o){var n=r.tilemapLayer.tilemap,l=r.tilemapLayer,f=Math.floor(n.tileWidth*l.scaleX),s=Math.floor(n.tileHeight*l.scaleY),d=r.hexSideLength,p,c,g,j;if(r.staggerAxis==="y"){var k=(s-d)/2+d;p=G(o.worldView.x-l.x,f,0,!0)-l.cullPaddingX,c=u(o.worldView.right-l.x,f,0,!0)+l.cullPaddingX,g=G(o.worldView.y-l.y,k,0,!0)-l.cullPaddingY,j=u(o.worldView.bottom-l.y,k,0,!0)+l.cullPaddingY}else{var tt=(f-d)/2+d;p=G(o.worldView.x-l.x,tt,0,!0)-l.cullPaddingX,c=u(o.worldView.right-l.x,tt,0,!0)+l.cullPaddingX,g=G(o.worldView.y-l.y,s,0,!0)-l.cullPaddingY,j=u(o.worldView.bottom-l.y,s,0,!0)+l.cullPaddingY}return{left:p,right:c,top:g,bottom:j}};i.exports=h},9474:(i,$,e)=>{var u=e(90454),G=e(32483),h=function(r,o,n,l){n===void 0&&(n=[]),l===void 0&&(l=0),n.length=0;var f=r.tilemapLayer,s=u(r,o);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(s.left=0,s.right=r.width,s.top=0,s.bottom=r.height),G(r,s,l,n),n};i.exports=h},27229:(i,$,e)=>{var u=e(19951),G=e(26099),h=new G,r=function(o,n,l,f){var s=f.baseTileWidth,d=f.baseTileHeight,p=f.tilemapLayer;p&&(s*=p.scaleX,d*=p.scaleY);var c=u(o,n,h,l,f),g=[],j=.5773502691896257,k,tt;f.staggerAxis==="y"?(k=j*s,tt=d/2):(k=s/2,tt=j*d);for(var _=0;_<6;_++){var nt=2*Math.PI*(.5-_)/6;g.push(new G(c.x+k*Math.cos(nt),c.y+tt*Math.sin(nt)))}return g};i.exports=r},19951:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l){o||(o=new u);var f=l.baseTileWidth,s=l.baseTileHeight,d=l.tilemapLayer,p=0,c=0;d&&(n||(n=d.scene.cameras.main),p=d.x+n.scrollX*(1-d.scrollFactorX),c=d.y+n.scrollY*(1-d.scrollFactorY),f*=d.scaleX,s*=d.scaleY);var g=f/2,j=s/2,k,tt;return l.staggerAxis==="y"?(k=p+f*h+f,tt=c+1.5*r*j+j,r%2===0&&(this.staggerIndex==="odd"?k-=g:k+=g)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(k=p+1.5*h*g+g,tt=c+s*h+s,h%2===0&&(this.staggerIndex==="odd"?tt-=j:tt+=j)),o.set(k,tt)};i.exports=G},86625:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l,f){n||(n=new u);var s=f.baseTileWidth,d=f.baseTileHeight,p=f.tilemapLayer;p&&(l||(l=p.scene.cameras.main),h=h-(p.x+l.scrollX*(1-p.scrollFactorX)),r=r-(p.y+l.scrollY*(1-p.scrollFactorY)),s*=p.scaleX,d*=p.scaleY);var c=.5773502691896257,g=-.3333333333333333,j=0,k=.6666666666666666,tt=s/2,_=d/2,nt,it,rt,st,at;f.staggerAxis==="y"?(nt=(h-tt)/(c*s),it=(r-_)/_,rt=c*nt+g*it,st=j*nt+k*it):(nt=(h-tt)/tt,it=(r-_)/(c*d),rt=g*nt+c*it,st=k*nt+j*it),at=-rt-st;var ot=Math.round(rt),ht=Math.round(st),dt=Math.round(at),ut=Math.abs(ot-rt),ft=Math.abs(ht-st),gt=Math.abs(dt-at);ut>ft&&ut>gt?ot=-ht-dt:ft>gt&&(ht=-ot-dt);var xt,Et=ht;return f.staggerIndex==="odd"?xt=Et%2===0?ht/2+ot:ht/2+ot-.5:xt=Et%2===0?ht/2+ot:ht/2+ot+.5,n.set(xt,Et)};i.exports=G},62991:i=>{var $=function(e,u,G){return e>=0&&e<G.width&&u>=0&&u<G.height};i.exports=$},14018:(i,$,e)=>{var u=e(33528),G=function(h,r,o,n){o===void 0&&(o=[]),n===void 0&&(n=0),o.length=0;var l=h.tilemapLayer,f=h.data,s=h.width,d=h.height,p=l.skipCull,c=0,g=s,j=0,k=d,tt,_,nt;if(n===0)for(_=j;_<k;_++)for(tt=c;tt<g;tt++)nt=f[_][tt],!(!nt||nt.index===-1||!nt.visible||nt.alpha===0)&&(!p&&!u(tt,_,h,r)||o.push(nt));else if(n===1)for(_=j;_<k;_++)for(tt=g;tt>=c;tt--)nt=f[_][tt],!(!nt||nt.index===-1||!nt.visible||nt.alpha===0)&&(!p&&!u(tt,_,h,r)||o.push(nt));else if(n===2)for(_=k;_>=j;_--)for(tt=c;tt<g;tt++)nt=f[_][tt],!(!nt||nt.index===-1||!nt.visible||nt.alpha===0)&&(!p&&!u(tt,_,h,r)||o.push(nt));else if(n===3)for(_=k;_>=j;_--)for(tt=g;tt>=c;tt--)nt=f[_][tt],!(!nt||nt.index===-1||!nt.visible||nt.alpha===0)&&(!p&&!u(tt,_,h,r)||o.push(nt));return l.tilesDrawn=o.length,l.tilesTotal=s*d,o};i.exports=G},14127:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l){o||(o=new u);var f=l.baseTileWidth,s=l.baseTileHeight,d=l.tilemapLayer,p=0,c=0;d&&(n||(n=d.scene.cameras.main),p=d.x+n.scrollX*(1-d.scrollFactorX),f*=d.scaleX,c=d.y+n.scrollY*(1-d.scrollFactorY),s*=d.scaleY);var g=p+(h-r)*(f/2),j=c+(h+r)*(s/2);return o.set(g,j)};i.exports=G},96897:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l,f,s){n||(n=new u);var d=f.baseTileWidth,p=f.baseTileHeight,c=f.tilemapLayer;c&&(l||(l=c.scene.cameras.main),r=r-(c.y+l.scrollY*(1-c.scrollFactorY)),p*=c.scaleY,h=h-(c.x+l.scrollX*(1-c.scrollFactorX)),d*=c.scaleX);var g=d/2,j=p/2;h=h-g,s||(r=r-p);var k=.5*(h/g+r/j),tt=.5*(-h/g+r/j);return o&&(k=Math.floor(k),tt=Math.floor(tt)),n.set(k,tt)};i.exports=G},71558:(i,$,e)=>{var u=e(23029),G=e(62991),h=e(72023),r=e(20576),o=function(n,l,f,s,d){if(s===void 0&&(s=!0),!G(l,f,d))return null;var p,c=d.data[f][l],g=c&&c.collides;n instanceof u?(d.data[f][l]===null&&(d.data[f][l]=new u(d,n.index,l,f,d.tileWidth,d.tileHeight)),d.data[f][l].copy(n)):(p=n,d.data[f][l]===null?d.data[f][l]=new u(d,p,l,f,d.tileWidth,d.tileHeight):d.data[f][l].index=p);var j=d.data[f][l],k=d.collideIndexes.indexOf(j.index)!==-1;if(p=n instanceof u?n.index:n,p===-1)j.width=d.tileWidth,j.height=d.tileHeight;else{var tt=d.tilemapLayer.tilemap,_=tt.tiles,nt=_[p][2],it=tt.tilesets[nt];j.width=it.tileWidth,j.height=it.tileHeight}return r(j,k),s&&g!==j.collides&&h(l,f,d),j};i.exports=o},26303:(i,$,e)=>{var u=e(71558),G=e(26099),h=new G,r=function(o,n,l,f,s,d){return d.tilemapLayer.worldToTileXY(n,l,!0,h,s,d),u(o,h.x,h.y,f,d)};i.exports=r},14051:(i,$,e)=>{var u=e(42573),G=e(71558),h=function(r,o,n,l,f){if(l===void 0&&(l=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var s=r.length,d=r[0].length,p=0;p<s;p++)for(var c=0;c<d;c++){var g=r[p][c];G(g,o+c,n+p,!1,f)}l&&u(o-1,n-1,d+2,s+2,f)};i.exports=h},77389:(i,$,e)=>{var u=e(7386),G=e(26546),h=function(r,o,n,l,f,s){var d,p=u(r,o,n,l,{},s);if(!f)for(f=[],d=0;d<p.length;d++)f.indexOf(p[d].index)===-1&&f.push(p[d].index);for(d=0;d<p.length;d++)p[d].index=G(f)};i.exports=h},63557:(i,$,e)=>{var u=e(23029),G=e(62991),h=e(72023),r=function(o,n,l,f,s){if(l===void 0&&(l=!0),f===void 0&&(f=!0),!G(o,n,s))return null;var d=s.data[n][o];if(d)s.data[n][o]=l?null:new u(s,-1,o,n,s.tileWidth,s.tileHeight);else return null;return f&&d&&d.collides&&h(o,n,s),d};i.exports=r},94178:(i,$,e)=>{var u=e(63557),G=e(26099),h=new G,r=function(o,n,l,f,s,d){return d.tilemapLayer.worldToTileXY(o,n,!0,h,s,d),u(h.x,h.y,l,f,d)};i.exports=r},15533:(i,$,e)=>{var u=e(7386),G=e(3956),h=new G(105,210,231,150),r=new G(243,134,48,200),o=new G(40,39,37,150),n=function(l,f,s){f===void 0&&(f={});var d=f.tileColor!==void 0?f.tileColor:h,p=f.collidingTileColor!==void 0?f.collidingTileColor:r,c=f.faceColor!==void 0?f.faceColor:o,g=u(0,0,s.width,s.height,null,s);l.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),l.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var j=0;j<g.length;j++){var k=g[j],tt=k.width,_=k.height,nt=k.pixelX,it=k.pixelY,rt=k.collides?p:d;rt!==null&&(l.fillStyle(rt.color,rt.alpha/255),l.fillRect(nt,it,tt,_)),nt+=1,it+=1,tt-=2,_-=2,c!==null&&(l.lineStyle(1,c.color,c.alpha/255),k.faceTop&&l.lineBetween(nt,it,nt+tt,it),k.faceRight&&l.lineBetween(nt+tt,it,nt+tt,it+_),k.faceBottom&&l.lineBetween(nt,it+_,nt+tt,it+_),k.faceLeft&&l.lineBetween(nt,it,nt,it+_))}};i.exports=n},27987:(i,$,e)=>{var u=e(7386),G=function(h,r,o,n,l,f,s){for(var d=u(o,n,l,f,null,s),p=0;p<d.length;p++)d[p]&&d[p].index===h&&(d[p].index=r)};i.exports=G},32483:i=>{var $=function(e,u,G,h){var r=e.data,o=e.width,n=e.height,l=e.tilemapLayer,f=Math.max(0,u.left),s=Math.min(o,u.right),d=Math.max(0,u.top),p=Math.min(n,u.bottom),c,g,j;if(G===0)for(g=d;g<p;g++)for(c=f;r[g]&&c<s;c++)j=r[g][c],!(!j||j.index===-1||!j.visible||j.alpha===0)&&h.push(j);else if(G===1)for(g=d;g<p;g++)for(c=s;r[g]&&c>=f;c--)j=r[g][c],!(!j||j.index===-1||!j.visible||j.alpha===0)&&h.push(j);else if(G===2)for(g=p;g>=d;g--)for(c=f;r[g]&&c<s;c++)j=r[g][c],!(!j||j.index===-1||!j.visible||j.alpha===0)&&h.push(j);else if(G===3)for(g=p;g>=d;g--)for(c=s;r[g]&&c>=f;c--)j=r[g][c],!(!j||j.index===-1||!j.visible||j.alpha===0)&&h.push(j);return l.tilesDrawn=h.length,l.tilesTotal=o*n,h};i.exports=$},57068:(i,$,e)=>{var u=e(20576),G=e(42573),h=e(9589),r=function(o,n,l,f,s){n===void 0&&(n=!0),l===void 0&&(l=!0),s===void 0&&(s=!0),Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)h(o[d],n,f);if(s)for(var p=0;p<f.height;p++)for(var c=0;c<f.width;c++){var g=f.data[p][c];g&&o.indexOf(g.index)!==-1&&u(g,n)}l&&G(0,0,f.width,f.height,f)};i.exports=r},37266:(i,$,e)=>{var u=e(20576),G=e(42573),h=e(9589),r=function(o,n,l,f,s,d){if(l===void 0&&(l=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),!(o>n)){for(var p=o;p<=n;p++)h(p,l,s);if(d)for(var c=0;c<s.height;c++)for(var g=0;g<s.width;g++){var j=s.data[c][g];j&&j.index>=o&&j.index<=n&&u(j,l)}f&&G(0,0,s.width,s.height,s)}};i.exports=r},75661:(i,$,e)=>{var u=e(20576),G=e(42573),h=e(9589),r=function(o,n,l,f){n===void 0&&(n=!0),l===void 0&&(l=!0),Array.isArray(o)||(o=[o]);for(var s=0;s<f.height;s++)for(var d=0;d<f.width;d++){var p=f.data[s][d];p&&o.indexOf(p.index)===-1&&(u(p,n),h(p.index,n,f))}l&&G(0,0,f.width,f.height,f)};i.exports=r},64740:(i,$,e)=>{var u=e(20576),G=e(42573),h=e(97022),r=function(o,n,l,f){n===void 0&&(n=!0),l===void 0&&(l=!0);for(var s=0;s<f.height;s++)for(var d=0;d<f.width;d++){var p=f.data[s][d];if(p){for(var c in o)if(h(p.properties,c)){var g=o[c];Array.isArray(g)||(g=[g]);for(var j=0;j<g.length;j++)p.properties[c]===g[j]&&u(p,n)}}}l&&G(0,0,f.width,f.height,f)};i.exports=r},63307:(i,$,e)=>{var u=e(20576),G=e(42573),h=function(r,o,n){r===void 0&&(r=!0),o===void 0&&(o=!0);for(var l=0;l<n.height;l++)for(var f=0;f<n.width;f++){var s=n.data[l][f];if(s){var d=s.getCollisionGroup();d&&d.objects&&d.objects.length>0&&u(s,r)}}o&&G(0,0,n.width,n.height,n)};i.exports=h},9589:i=>{var $=function(e,u,G){var h=G.collideIndexes.indexOf(e);u&&h===-1?G.collideIndexes.push(e):!u&&h!==-1&&G.collideIndexes.splice(h,1)};i.exports=$},20576:i=>{var $=function(e,u){u?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};i.exports=$},79583:i=>{var $=function(e,u,G,h){if(typeof e=="number")h.callbacks[e]=u!==null?{callback:u,callbackContext:G}:void 0;else for(var r=0,o=e.length;r<o;r++)h.callbacks[e[r]]=u!==null?{callback:u,callbackContext:G}:void 0};i.exports=$},93254:(i,$,e)=>{var u=e(7386),G=function(h,r,o,n,l,f,s){for(var d=u(h,r,o,n,null,s),p=0;p<d.length;p++)d[p].setCollisionCallback(l,f)};i.exports=G},32903:(i,$,e)=>{var u=e(7386),G=e(33680),h=function(r,o,n,l,f){var s=u(r,o,n,l,null,f),d=s.map(function(c){return c.index});G(d);for(var p=0;p<s.length;p++)s[p].index=d[p]};i.exports=h},61325:(i,$,e)=>{var u=e(63448),G=e(56583),h=function(r,o){var n=r.tilemapLayer.tilemap,l=r.tilemapLayer,f=Math.floor(n.tileWidth*l.scaleX),s=Math.floor(n.tileHeight*l.scaleY),d=G(o.worldView.x-l.x,f,0,!0)-l.cullPaddingX,p=u(o.worldView.right-l.x,f,0,!0)+l.cullPaddingX,c=G(o.worldView.y-l.y,s/2,0,!0)-l.cullPaddingY,g=u(o.worldView.bottom-l.y,s/2,0,!0)+l.cullPaddingY;return{left:d,right:p,top:c,bottom:g}};i.exports=h},54503:(i,$,e)=>{var u=e(61325),G=e(32483),h=function(r,o,n,l){n===void 0&&(n=[]),l===void 0&&(l=0),n.length=0;var f=r.tilemapLayer,s=u(r,o);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(s.left=0,s.right=r.width,s.top=0,s.bottom=r.height),G(r,s,l,n),n};i.exports=h},97202:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l){o||(o=new u);var f=l.baseTileWidth,s=l.baseTileHeight,d=l.tilemapLayer,p=0,c=0;d&&(n||(n=d.scene.cameras.main),p=d.x+n.scrollX*(1-d.scrollFactorX),f*=d.scaleX,c=d.y+n.scrollY*(1-d.scrollFactorY),s*=d.scaleY);var g=p+h*f+r%2*(f/2),j=c+r*(s/2);return o.set(g,j)};i.exports=G},28054:i=>{var $=function(e,u,G){var h=G.baseTileHeight,r=G.tilemapLayer,o=0;return r&&(u===void 0&&(u=r.scene.cameras.main),o=r.y+u.scrollY*(1-r.scrollFactorY),h*=r.scaleY),o+e*(h/2)+h};i.exports=$},15108:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l,f){n||(n=new u);var s=f.baseTileWidth,d=f.baseTileHeight,p=f.tilemapLayer;p&&(l||(l=p.scene.cameras.main),r=r-(p.y+l.scrollY*(1-p.scrollFactorY)),d*=p.scaleY,h=h-(p.x+l.scrollX*(1-p.scrollFactorX)),s*=p.scaleX);var c=o?Math.floor(r/(d/2)):r/(d/2),g=o?Math.floor((h+c%2*.5*s)/s):(h+c%2*.5*s)/s;return n.set(g,c)};i.exports=G},51900:i=>{var $=function(e,u,G,h){var r=h.baseTileHeight,o=h.tilemapLayer;return o&&(G||(G=o.scene.cameras.main),e=e-(o.y+G.scrollY*(1-o.scrollFactorY)),r*=o.scaleY),u?Math.floor(e/(r/2)):e/(r/2)};i.exports=$},86560:(i,$,e)=>{var u=e(7386),G=function(h,r,o,n,l,f,s){for(var d=u(o,n,l,f,null,s),p=0;p<d.length;p++)d[p]&&(d[p].index===h?d[p].index=r:d[p].index===r&&(d[p].index=h))};i.exports=G},97281:i=>{var $=function(e,u,G){var h=G.baseTileWidth,r=G.tilemapLayer,o=0;return r&&(u||(u=r.scene.cameras.main),o=r.x+u.scrollX*(1-r.scrollFactorX),h*=r.scaleX),o+e*h};i.exports=$},70326:(i,$,e)=>{var u=e(97281),G=e(29650),h=e(26099),r=function(o,n,l,f,s){return l||(l=new h(0,0)),l.x=u(o,f,s),l.y=G(n,f,s),l};i.exports=r},29650:i=>{var $=function(e,u,G){var h=G.baseTileHeight,r=G.tilemapLayer,o=0;return r&&(u||(u=r.scene.cameras.main),o=r.y+u.scrollY*(1-r.scrollFactorY),h*=r.scaleY),o+e*h};i.exports=$},77366:(i,$,e)=>{var u=e(7386),G=e(75508),h=function(r,o,n,l,f,s){if(f){var d,p=u(r,o,n,l,null,s),c=0;for(d=0;d<f.length;d++)c+=f[d].weight;if(!(c<=0))for(d=0;d<p.length;d++){for(var g=G.RND.frac()*c,j=0,k=-1,tt=0;tt<f.length;tt++)if(j+=f[tt].weight,g<=j){var _=f[tt].index;k=Array.isArray(_)?_[Math.floor(G.RND.frac()*_.length)]:_;break}p[d].index=k}}};i.exports=h},10095:(i,$,e)=>{var u=e(85896),G=e(26099),h=new G,r=function(o,n,l,f){return u(o,0,n,h,l,f),h.x};i.exports=r},85896:(i,$,e)=>{var u=e(26099),G=function(h,r,o,n,l,f){o===void 0&&(o=!0),n||(n=new u);var s=f.baseTileWidth,d=f.baseTileHeight,p=f.tilemapLayer;p&&(l||(l=p.scene.cameras.main),h=h-(p.x+l.scrollX*(1-p.scrollFactorX)),r=r-(p.y+l.scrollY*(1-p.scrollFactorY)),s*=p.scaleX,d*=p.scaleY);var c=h/s,g=r/d;return o&&(c=Math.floor(c),g=Math.floor(g)),n.set(c,g)};i.exports=G},63288:(i,$,e)=>{var u=e(85896),G=e(26099),h=new G,r=function(o,n,l,f){return u(0,o,n,h,l,f),h.y};i.exports=r},81086:(i,$,e)=>{i.exports={CalculateFacesAt:e(72023),CalculateFacesWithin:e(42573),CheckIsoBounds:e(33528),Copy:e(1785),CreateFromTiles:e(78419),CullBounds:e(19545),CullTiles:e(30003),Fill:e(35137),FilterTiles:e(40253),FindByIndex:e(52692),FindTile:e(66151),ForEachTile:e(97560),GetCullTilesFunction:e(43305),GetTileAt:e(7423),GetTileAtWorldXY:e(60540),GetTileCorners:e(55826),GetTileCornersFunction:e(11758),GetTilesWithin:e(7386),GetTilesWithinShape:e(91141),GetTilesWithinWorldXY:e(96523),GetTileToWorldXFunction:e(39167),GetTileToWorldXYFunction:e(62e3),GetTileToWorldYFunction:e(5984),GetWorldToTileXFunction:e(96113),GetWorldToTileXYFunction:e(16926),GetWorldToTileYFunction:e(55762),HasTileAt:e(45091),HasTileAtWorldXY:e(24152),HexagonalCullBounds:e(90454),HexagonalCullTiles:e(9474),HexagonalGetTileCorners:e(27229),HexagonalTileToWorldXY:e(19951),HexagonalWorldToTileXY:e(86625),IsInLayerBounds:e(62991),IsometricCullTiles:e(14018),IsometricTileToWorldXY:e(14127),IsometricWorldToTileXY:e(96897),PutTileAt:e(71558),PutTileAtWorldXY:e(26303),PutTilesAt:e(14051),Randomize:e(77389),RemoveTileAt:e(63557),RemoveTileAtWorldXY:e(94178),RenderDebug:e(15533),ReplaceByIndex:e(27987),RunCull:e(32483),SetCollision:e(57068),SetCollisionBetween:e(37266),SetCollisionByExclusion:e(75661),SetCollisionByProperty:e(64740),SetCollisionFromCollisionGroup:e(63307),SetLayerCollisionIndex:e(9589),SetTileCollision:e(20576),SetTileIndexCallback:e(79583),SetTileLocationCallback:e(93254),Shuffle:e(32903),StaggeredCullBounds:e(61325),StaggeredCullTiles:e(54503),StaggeredTileToWorldXY:e(97202),StaggeredTileToWorldY:e(28054),StaggeredWorldToTileXY:e(15108),StaggeredWorldToTileY:e(51900),SwapByIndex:e(86560),TileToWorldX:e(97281),TileToWorldXY:e(70326),TileToWorldY:e(29650),WeightedRandomize:e(77366),WorldToTileX:e(10095),WorldToTileXY:e(85896),WorldToTileY:e(63288)}},91907:i=>{i.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(i,$,e)=>{var u={ORIENTATION:e(91907)};i.exports=u},62501:(i,$,e)=>{var u=e(79291),G=e(21829),h={Components:e(81086),Parsers:e(57442),Formats:e(80341),ImageCollection:e(16536),ParseToTilemap:e(31989),Tile:e(23029),Tilemap:e(49075),TilemapCreator:e(45939),TilemapFactory:e(46029),Tileset:e(33629),TilemapLayer:e(20442),Orientation:e(91907),LayerData:e(14977),MapData:e(87010),ObjectLayer:e(48700)};h=u(!1,h,G.ORIENTATION),i.exports=h},14977:(i,$,e)=>{var u=e(83419),G=e(91907),h=e(95540),r=new u({initialize:function(n){n===void 0&&(n={}),this.name=h(n,"name","layer"),this.id=h(n,"id",0),this.x=h(n,"x",0),this.y=h(n,"y",0),this.width=h(n,"width",0),this.height=h(n,"height",0),this.tileWidth=h(n,"tileWidth",0),this.tileHeight=h(n,"tileHeight",0),this.baseTileWidth=h(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=h(n,"baseTileHeight",this.tileHeight),this.orientation=h(n,"orientation",G.ORTHOGONAL),this.widthInPixels=h(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=h(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=h(n,"alpha",1),this.visible=h(n,"visible",!0),this.properties=h(n,"properties",[]),this.indexes=h(n,"indexes",[]),this.collideIndexes=h(n,"collideIndexes",[]),this.callbacks=h(n,"callbacks",[]),this.bodies=h(n,"bodies",[]),this.data=h(n,"data",[]),this.tilemapLayer=h(n,"tilemapLayer",null),this.hexSideLength=h(n,"hexSideLength",0),this.staggerAxis=h(n,"staggerAxis","y"),this.staggerIndex=h(n,"staggerIndex","odd")}});i.exports=r},87010:(i,$,e)=>{var u=e(83419),G=e(91907),h=e(95540),r=new u({initialize:function(n){n===void 0&&(n={}),this.name=h(n,"name","map"),this.width=h(n,"width",0),this.height=h(n,"height",0),this.infinite=h(n,"infinite",!1),this.tileWidth=h(n,"tileWidth",0),this.tileHeight=h(n,"tileHeight",0),this.widthInPixels=h(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=h(n,"heightInPixels",this.height*this.tileHeight),this.format=h(n,"format",null),this.orientation=h(n,"orientation",G.ORTHOGONAL),this.renderOrder=h(n,"renderOrder","right-down"),this.version=h(n,"version","1"),this.properties=h(n,"properties",{}),this.layers=h(n,"layers",[]),this.images=h(n,"images",[]),this.objects=h(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=h(n,"collision",{}),this.tilesets=h(n,"tilesets",[]),this.imageCollections=h(n,"imageCollections",[]),this.tiles=h(n,"tiles",[]),this.hexSideLength=h(n,"hexSideLength",0),this.staggerAxis=h(n,"staggerAxis","y"),this.staggerIndex=h(n,"staggerIndex","odd")}});i.exports=r},48700:(i,$,e)=>{var u=e(83419),G=e(95540),h=new u({initialize:function(o){o===void 0&&(o={}),this.name=G(o,"name","object layer"),this.id=G(o,"id",0),this.opacity=G(o,"opacity",1),this.properties=G(o,"properties",{}),this.propertyTypes=G(o,"propertytypes",{}),this.type=G(o,"type","objectgroup"),this.visible=G(o,"visible",!0),this.objects=G(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});i.exports=h},6641:(i,$,e)=>{var u=e(91907),G=function(h){return h=h.toLowerCase(),h==="isometric"?u.ISOMETRIC:h==="staggered"?u.STAGGERED:h==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};i.exports=G},46177:(i,$,e)=>{var u=e(80341),G=e(2342),h=e(82593),r=e(46594),o=e(87021),n=function(l,f,s,d,p,c){var g;switch(f){case u.ARRAY_2D:g=G(l,s,d,p,c);break;case u.CSV:g=h(l,s,d,p,c);break;case u.TILED_JSON:g=r(l,s,c);break;case u.WELTMEISTER:g=o(l,s,c);break;default:console.warn("Unrecognized tilemap data format: "+f),g=null}return g};i.exports=n},2342:(i,$,e)=>{var u=e(80341),G=e(14977),h=e(87010),r=e(23029),o=function(n,l,f,s,d){for(var p=new G({tileWidth:f,tileHeight:s}),c=new h({name:n,tileWidth:f,tileHeight:s,format:u.ARRAY_2D,layers:[p]}),g=[],j=l.length,k=0,tt=0;tt<l.length;tt++){g[tt]=[];for(var _=l[tt],nt=0;nt<_.length;nt++){var it=parseInt(_[nt],10);isNaN(it)||it===-1?g[tt][nt]=d?null:new r(p,-1,nt,tt,f,s):g[tt][nt]=new r(p,it,nt,tt,f,s)}k===0&&(k=_.length)}return c.width=p.width=k,c.height=p.height=j,c.widthInPixels=p.widthInPixels=k*f,c.heightInPixels=p.heightInPixels=j*s,p.data=g,c};i.exports=o},82593:(i,$,e)=>{var u=e(80341),G=e(2342),h=function(r,o,n,l,f){var s=o.trim().split(`
`).map(function(p){return p.split(",")}),d=G(r,s,n,l,f);return d.format=u.CSV,d};i.exports=h},6656:(i,$,e)=>{var u=e(14977),G=e(23029),h=function(r,o){for(var n=[],l=0;l<r.layer.length;l++){for(var f=r.layer[l],s=new u({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),d=[],p=[],c=0;c<f.data.length;c++){for(var g=0;g<f.data[c].length;g++){var j=f.data[c][g]-1,k;j>-1?k=new G(s,j,g,c,f.tilesize,f.tilesize):k=o?null:new G(s,-1,g,c,f.tilesize,f.tilesize),d.push(k)}p.push(d),d=[]}s.data=p,n.push(s)}return n};i.exports=h},96483:(i,$,e)=>{var u=e(33629),G=function(h){for(var r=[],o=[],n=0;n<h.layer.length;n++){var l=h.layer[n],f=l.tilesetName;f!==""&&o.indexOf(f)===-1&&(o.push(f),r.push(new u(f,0,l.tilesize,l.tilesize,0,0)))}return r};i.exports=G},87021:(i,$,e)=>{var u=e(80341),G=e(87010),h=e(6656),r=e(96483),o=function(n,l,f){if(l.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var s=0,d=0,p=0;p<l.layer.length;p++)l.layer[p].width>s&&(s=l.layer[p].width),l.layer[p].height>d&&(d=l.layer[p].height);var c=new G({width:s,height:d,name:n,tileWidth:l.layer[0].tilesize,tileHeight:l.layer[0].tilesize,format:u.WELTMEISTER});return c.layers=h(l,f),c.tilesets=r(l),c};i.exports=o},52833:(i,$,e)=>{i.exports={ParseTileLayers:e(6656),ParseTilesets:e(96483),ParseWeltmeister:e(87021)}},57442:(i,$,e)=>{i.exports={FromOrientationString:e(6641),Parse:e(46177),Parse2DArray:e(2342),ParseCSV:e(82593),Impact:e(52833),Tiled:e(96761)}},51233:(i,$,e)=>{var u=e(79291),G=function(h){for(var r,o,n,l,f,s=0;s<h.layers.length;s++){r=h.layers[s],l=null;for(var d=0;d<r.data.length;d++){f=r.data[d];for(var p=0;p<f.length;p++)o=f[p],!(o===null||o.index<0)&&(n=h.tiles[o.index][2],l=h.tilesets[n],o.width=l.tileWidth,o.height=l.tileHeight,l.tileProperties&&l.tileProperties[o.index-l.firstgid]&&(o.properties=u(o.properties,l.tileProperties[o.index-l.firstgid])))}}};i.exports=G},41868:i=>{var $=function(e){for(var u=window.atob(e),G=u.length,h=new Array(G/4),r=0;r<G;r+=4)h[r/4]=(u.charCodeAt(r)|u.charCodeAt(r+1)<<8|u.charCodeAt(r+2)<<16|u.charCodeAt(r+3)<<24)>>>0;return h};i.exports=$},84101:(i,$,e)=>{var u=e(33629),G=function(h){var r,o,n=[];for(r=0;r<h.imageCollections.length;r++)for(var l=h.imageCollections[r],f=l.images,s=0;s<f.length;s++){var d=f[s];o=new u(d.image,d.gid,l.imageWidth,l.imageHeight,0,0),o.updateTileData(l.imageWidth,l.imageHeight),h.tilesets.push(o)}for(r=0;r<h.tilesets.length;r++){o=h.tilesets[r];for(var p=o.tileMargin,c=o.tileMargin,g=0,j=0,k=0,tt=o.firstgid;tt<o.firstgid+o.total&&(n[tt]=[p,c,r],p+=o.tileWidth+o.tileSpacing,g++,!(g===o.total||(j++,j===o.columns&&(p=o.tileMargin,c+=o.tileHeight+o.tileSpacing,j=0,k++,k===o.rows))));tt++);}return n};i.exports=G},79677:(i,$,e)=>{var u=e(95540),G=function(h,r,o){if(!r)return{i:0,layers:h.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=r.x+u(r,"startx",0)*h.tilewidth+u(r,"offsetx",0),l=r.y+u(r,"starty",0)*h.tileheight+u(r,"offsety",0);return{i:0,layers:r.layers,name:o.name+r.name+"/",opacity:o.opacity*r.opacity,visible:o.visible&&r.visible,x:o.x+n,y:o.y+l}};i.exports=G},29920:i=>{var $=2147483648,e=1073741824,u=536870912,G=function(h){var r=!!(h&$),o=!!(h&e),n=!!(h&u);h=h&~($|e|u);var l=0,f=!1;return r&&o&&n?(l=Math.PI/2,f=!0):r&&o&&!n?(l=Math.PI,f=!1):r&&!o&&n?(l=Math.PI/2,f=!1):r&&!o&&!n?(l=0,f=!0):!r&&o&&n?(l=3*Math.PI/2,f=!1):!r&&o&&!n?(l=Math.PI,f=!0):!r&&!o&&n?(l=3*Math.PI/2,f=!0):!r&&!o&&!n&&(l=0,f=!1),{gid:h,flippedHorizontal:r,flippedVertical:o,flippedAntiDiagonal:n,rotation:l,flipped:f}};i.exports=G},12635:(i,$,e)=>{var u=e(95540),G=e(79677),h=function(r){for(var o=[],n=[],l=G(r);l.i<l.layers.length||n.length>0;){if(l.i>=l.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=n.pop();continue}var f=l.layers[l.i];if(l.i++,f.type!=="imagelayer"){if(f.type==="group"){var s=G(r,f,l);n.push(l),l=s}continue}var d=u(f,"offsetx",0)+u(f,"startx",0),p=u(f,"offsety",0)+u(f,"starty",0);o.push({name:l.name+f.name,image:f.image,x:l.x+d+f.x,y:l.y+p+f.y,alpha:l.opacity*f.opacity,visible:l.visible&&f.visible,properties:u(f,"properties",{})})}return o};i.exports=h},46594:(i,$,e)=>{var u=e(51233),G=e(84101),h=e(91907),r=e(62644),o=e(80341),n=e(6641),l=e(87010),f=e(12635),s=e(22611),d=e(28200),p=e(24619),c=function(g,j,k){var tt=r(j),_=new l({width:tt.width,height:tt.height,name:g,tileWidth:tt.tilewidth,tileHeight:tt.tileheight,orientation:n(tt.orientation),format:o.TILED_JSON,version:tt.version,properties:tt.properties,renderOrder:tt.renderorder,infinite:tt.infinite});_.orientation===h.HEXAGONAL&&(_.hexSideLength=tt.hexsidelength,_.staggerAxis=tt.staggeraxis,_.staggerIndex=tt.staggerindex),_.layers=d(tt,k),_.images=f(tt);var nt=p(tt);return _.tilesets=nt.tilesets,_.imageCollections=nt.imageCollections,_.objects=s(tt),_.tiles=G(_),u(_),_};i.exports=c},52205:(i,$,e)=>{var u=e(18254),G=e(29920),h=function(n){return{x:n.x,y:n.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],o=function(n,l,f){l===void 0&&(l=0),f===void 0&&(f=0);var s=u(n,r);if(s.x+=l,s.y+=f,n.gid){var d=G(n.gid);s.gid=d.gid,s.flippedHorizontal=d.flippedHorizontal,s.flippedVertical=d.flippedVertical,s.flippedAntiDiagonal=d.flippedAntiDiagonal}else n.polyline?s.polyline=n.polyline.map(h):n.polygon?s.polygon=n.polygon.map(h):n.ellipse?s.ellipse=n.ellipse:n.text?s.text=n.text:n.point?s.point=!0:s.rectangle=!0;return s};i.exports=o},22611:(i,$,e)=>{var u=e(95540),G=e(52205),h=e(48700),r=e(79677),o=function(n){for(var l=[],f=[],s=r(n);s.i<s.layers.length||f.length>0;){if(s.i>=s.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=f.pop();continue}var d=s.layers[s.i];if(s.i++,d.opacity*=s.opacity,d.visible=s.visible&&d.visible,d.type!=="objectgroup"){if(d.type==="group"){var p=r(n,d,s);f.push(s),s=p}continue}d.name=s.name+d.name;for(var c=s.x+u(d,"startx",0)+u(d,"offsetx",0),g=s.y+u(d,"starty",0)+u(d,"offsety",0),j=[],k=0;k<d.objects.length;k++){var tt=G(d.objects[k],c,g);j.push(tt)}var _=new h(d);_.objects=j,l.push(_)}return l};i.exports=o},28200:(i,$,e)=>{var u=e(41868),G=e(91907),h=e(79677),r=e(6641),o=e(95540),n=e(14977),l=e(29920),f=e(23029),s=function(d,p){for(var c=o(d,"infinite",!1),g=[],j=[],k=h(d);k.i<k.layers.length||j.length>0;){if(k.i>=k.layers.length){if(j.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}k=j.pop();continue}var tt=k.layers[k.i];if(k.i++,tt.type!=="tilelayer"){if(tt.type==="group"){var _=h(d,tt,k);j.push(k),k=_}continue}if(tt.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+tt.name+"'");continue}else if(tt.encoding&&tt.encoding==="base64"){if(tt.chunks)for(var nt=0;nt<tt.chunks.length;nt++)tt.chunks[nt].data=u(tt.chunks[nt].data);tt.data&&(tt.data=u(tt.data)),delete tt.encoding}var it,rt,st,at,ot=[],ht=0;if(c){var dt=o(tt,"startx",0)+tt.x,ut=o(tt,"starty",0)+tt.y;it=new n({name:k.name+tt.name,id:tt.id,x:k.x+o(tt,"offsetx",0)+dt*d.tilewidth,y:k.y+o(tt,"offsety",0)+ut*d.tileheight,width:tt.width,height:tt.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:k.opacity*tt.opacity,visible:k.visible&&tt.visible,properties:o(tt,"properties",[]),orientation:r(d.orientation)}),it.orientation===G.HEXAGONAL&&(it.hexSideLength=d.hexsidelength,it.staggerAxis=d.staggeraxis,it.staggerIndex=d.staggerindex);for(var ft=0;ft<tt.height;ft++){ot[ft]=[null];for(var gt=0;gt<tt.width;gt++)ot[ft][gt]=null}for(ft=0,St=tt.chunks.length;ft<St;ft++)for(var xt=tt.chunks[ft],Et=xt.x-dt,pt=xt.y-ut,mt=0,lt=0,ct=xt.data.length;lt<ct;lt++){var vt=ht+Et,yt=mt+pt;rt=l(xt.data[lt]),rt.gid>0?(st=new f(it,rt.gid,vt,yt,d.tilewidth,d.tileheight),st.rotation=rt.rotation,st.flipX=rt.flipped,ot[yt][vt]=st):(at=p?null:new f(it,-1,vt,yt,d.tilewidth,d.tileheight),ot[yt][vt]=at),ht++,ht===xt.width&&(mt++,ht=0)}}else{it=new n({name:k.name+tt.name,id:tt.id,x:k.x+o(tt,"offsetx",0)+tt.x,y:k.y+o(tt,"offsety",0)+tt.y,width:tt.width,height:tt.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:k.opacity*tt.opacity,visible:k.visible&&tt.visible,properties:o(tt,"properties",[]),orientation:r(d.orientation)}),it.orientation===G.HEXAGONAL&&(it.hexSideLength=d.hexsidelength,it.staggerAxis=d.staggeraxis,it.staggerIndex=d.staggerindex);for(var Tt=[],Ct=0,St=tt.data.length;Ct<St;Ct++)rt=l(tt.data[Ct]),rt.gid>0?(st=new f(it,rt.gid,ht,ot.length,d.tilewidth,d.tileheight),st.rotation=rt.rotation,st.flipX=rt.flipped,Tt.push(st)):(at=p?null:new f(it,-1,ht,ot.length,d.tilewidth,d.tileheight),Tt.push(at)),ht++,ht===tt.width&&(ot.push(Tt),ht=0,Tt=[])}it.data=ot,g.push(it)}return g};i.exports=s},24619:(i,$,e)=>{var u=e(33629),G=e(16536),h=e(52205),r=e(57880),o=function(n){for(var l=[],f=[],s=null,d,p=0;p<n.tilesets.length;p++){var c=n.tilesets[p];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var g=new u(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(n.version>1){var j=void 0,k=void 0;if(Array.isArray(c.tiles)){j=j||{},k=k||{};for(var tt=0;tt<c.tiles.length;tt++){var _=c.tiles[tt];if(_.properties){var nt={};_.properties.forEach(function(ft){nt[ft.name]=ft.value}),k[_.id]=nt}if(_.objectgroup&&((j[_.id]||(j[_.id]={})).objectgroup=_.objectgroup,_.objectgroup.objects)){var it=_.objectgroup.objects.map(function(ft){return h(ft)});j[_.id].objectgroup.objects=it}_.animation&&((j[_.id]||(j[_.id]={})).animation=_.animation),_.type&&((j[_.id]||(j[_.id]={})).type=_.type)}}Array.isArray(c.wangsets)&&(j=j||{},k=k||{},r(c.wangsets,j)),j&&(g.tileData=j,g.tileProperties=k)}else if(c.tileproperties&&(g.tileProperties=c.tileproperties),c.tiles){g.tileData=c.tiles;for(d in g.tileData){var rt=g.tileData[d].objectgroup;if(rt&&rt.objects){var st=rt.objects.map(function(ft){return h(ft)});g.tileData[d].objectgroup.objects=st}}}g.updateTileData(c.imagewidth,c.imageheight),l.push(g)}else{var at=new G(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),ot=0;for(tt=0;tt<c.tiles.length;tt++){_=c.tiles[tt];var ht=_.image,dt=parseInt(_.id,10),ut=c.firstgid+dt;at.addImage(ut,ht),ot=Math.max(dt,ot)}at.maxId=ot,f.push(at)}s&&(s.lastgid=c.firstgid-1),s=c}return{tilesets:l,imageCollections:f}};i.exports=o},57880:i=>{var $=function(e,u){for(var G=0;G<e.length;G++){var h=e[G],r=G;if(h.name&&h.name!==""&&(r=h.name),Array.isArray(h.wangtiles)&&h.wangtiles.length>0){var o={},n={},l,f,s;if(Array.isArray(h.edgecolors))for(l=0;l<h.edgecolors.length;l++)s=1+l,f=h.edgecolors[l],f.name!==""&&(o[s]=f.name);if(Array.isArray(h.cornercolors))for(l=0;l<h.cornercolors.length;l++)s=1+l,f=h.cornercolors[l],f.name!==""&&(n[s]=f.name);if(Array.isArray(h.colors))for(l=0;l<h.colors.length;l++)f=h.colors[l],s=1+l,f.name!==""&&(o[s]=n[s]=f.name);for(var d=[o,n,o,n,o,n,o,n],p=0;p<h.wangtiles.length;p++){var c=h.wangtiles[p],g=u[c.tileid]||(u[c.tileid]={});g=g.wangid||(g.wangid={});for(var j=[],k=0;k<Math.min(d.length,c.wangid.length);k++){if(f=c.wangid[k],f===0){j.push(void 0);continue}var tt=d[k][f];if(tt!==void 0){j.push(tt);continue}j.push(f)}g[r]=j}}}};i.exports=$},96761:(i,$,e)=>{i.exports={AssignTileProperties:e(51233),Base64Decode:e(41868),BuildTilesetIndex:e(84101),CreateGroupLayer:e(79677),ParseGID:e(29920),ParseImageLayers:e(12635),ParseJSONTiled:e(46594),ParseObject:e(52205),ParseObjectLayers:e(22611),ParseTileLayers:e(28200),ParseTilesets:e(24619)}},33385:(i,$,e)=>{var u=e(83419),G=e(37277),h=e(44594),r=e(94880),o=e(72905),n=new u({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var l=this.systems.events;l.on(h.PRE_UPDATE,this.preUpdate,this),l.on(h.UPDATE,this.update,this),l.once(h.SHUTDOWN,this.shutdown,this)},addEvent:function(l){var f;return l instanceof r?(f=l,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat):f=new r(l),this._pendingInsertion.push(f),f},delayedCall:function(l,f,s,d){return this.addEvent({delay:l,callback:f,args:s,callbackScope:d})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(l){Array.isArray(l)||(l=[l]);for(var f=0;f<l.length;f++){var s=l[f];o(this._pendingRemoval,s),o(this._pendingInsertion,s),o(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var l=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(l===0&&f===0)){var s,d;for(s=0;s<l;s++){d=this._pendingRemoval[s];var p=this._active.indexOf(d);p>-1&&this._active.splice(p,1),d.destroy()}for(s=0;s<f;s++)d=this._pendingInsertion[s],this._active.push(d);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(l,f){if(this.now=l,!this.paused){f*=this.timeScale;for(var s=0;s<this._active.length;s++){var d=this._active[s];if(!d.paused&&(d.elapsed+=f*d.timeScale,d.elapsed>=d.delay)){var p=d.elapsed-d.delay;if(d.elapsed=d.delay,!d.hasDispatched&&d.callback&&(d.hasDispatched=!0,d.callback.apply(d.callbackScope,d.args)),d.repeatCount>0){if(d.repeatCount--,p>=d.delay)for(;p>=d.delay&&d.repeatCount>0;)d.callback&&d.callback.apply(d.callbackScope,d.args),p-=d.delay,d.repeatCount--;d.elapsed=p,d.hasDispatched=!1}else d.hasDispatched&&this._pendingRemoval.push(d)}}}},shutdown:function(){var l;for(l=0;l<this._pendingInsertion.length;l++)this._pendingInsertion[l].destroy();for(l=0;l<this._active.length;l++)this._active[l].destroy();for(l=0;l<this._pendingRemoval.length;l++)this._pendingRemoval[l].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(h.PRE_UPDATE,this.preUpdate,this),f.off(h.UPDATE,this.update,this),f.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});G.register("Clock",n,"time"),i.exports=n},96120:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(39429),r=e(95540),o=e(44594),n=e(89809),l=new u({Extends:G,initialize:function(s,d){G.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(o.PRE_UPDATE,this.preUpdate,this),p.on(o.UPDATE,this.update,this),p.once(o.SHUTDOWN,this.destroy,this),d&&this.add(d)},preUpdate:function(f,s){this.paused||(this.elapsed+=s)},update:function(){if(!(this.paused||this.complete)){var f,s=this.events,d=!1,p=this.systems,c;for(f=0;f<s.length;f++){var g=s[f];if(!g.complete&&g.time<=this.elapsed){if(g.complete=!0,this.totalComplete++,c=g.target?g.target:this,g.if&&!g.if.call(c,g))continue;if(g.once&&(d=!0),g.set&&g.target)for(var j in g.set)g.target[j]=g.set[j];this.iteration&&g.repeat++,g.loop&&g.repeat&&g.loop.call(c),g.tween&&p.tweens.add(g.tween),g.sound&&(typeof g.sound=="string"?p.sound.play(g.sound):p.sound.play(g.sound.key,g.sound.config)),g.event&&this.emit(g.event,c),g.run&&g.run.call(c),g.stop&&this.stop()}}if(d)for(f=0;f<s.length;f++)s[f].complete&&s[f].once&&(s.splice(f,1),f--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(n.COMPLETE,this)}},play:function(f){return f===void 0&&(f=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,f&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(f){return(f===void 0||f===!0)&&(f=-1),f===!1&&(f=0),this.loop=f,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(f){f===void 0&&(f=!1),this.elapsed=0,f||(this.iteration=0);for(var s=0;s<this.events.length;s++)this.events[s].complete=!1,f||(this.events[s].repeat=0);return this.play(!1)},add:function(f){Array.isArray(f)||(f=[f]);var s=this.events,d=0;s.length>0&&(d=s[s.length-1].time);for(var p=0;p<f.length;p++){var c=f[p],g=r(c,"at",0),j=r(c,"in",null);j!==null&&(g=this.elapsed+j);var k=r(c,"from",null);k!==null&&(g=d+k),s.push({complete:!1,time:g,repeat:0,if:r(c,"if",null),run:r(c,"run",null),loop:r(c,"loop",null),event:r(c,"event",null),target:r(c,"target",null),set:r(c,"set",null),tween:r(c,"tween",null),sound:r(c,"sound",null),once:r(c,"once",!1),stop:r(c,"stop",!1)}),d=g}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var f=Math.min(this.totalComplete,this.events.length);return f/this.events.length},destroy:function(){var f=this.systems.events;f.off(o.PRE_UPDATE,this.preUpdate,this),f.off(o.UPDATE,this.update,this),f.off(o.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});h.register("timeline",function(f){return new l(this.scene,f)}),i.exports=l},94880:(i,$,e)=>{var u=e(83419),G=e(95540),h=new u({initialize:function(o){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(o)},reset:function(r){if(this.delay=G(r,"delay",0),this.repeat=G(r,"repeat",0),this.loop=G(r,"loop",!1),this.callback=G(r,"callback",void 0),this.callbackScope=G(r,"callbackScope",this),this.args=G(r,"args",[]),this.timeScale=G(r,"timeScale",1),this.startAt=G(r,"startAt",0),this.paused=G(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,o=this.elapsed+this.delay*(this.repeat-this.repeatCount);return o/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});i.exports=h},35945:i=>{i.exports="complete"},89809:(i,$,e)=>{i.exports={COMPLETE:e(35945)}},90291:(i,$,e)=>{i.exports={Clock:e(33385),Events:e(89809),Timeline:e(96120),TimerEvent:e(94880)}},40382:(i,$,e)=>{var u=e(72905),G=e(83419),h=e(43491),r=e(88032),o=e(37277),n=e(44594),l=e(93109),f=e(86081),s=e(8357),d=e(43960),p=e(26012),c=new G({initialize:function(j){this.scene=j,this.events=j.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(n.UPDATE,this.update,this),this.events.once(n.SHUTDOWN,this.shutdown,this)},create:function(g){Array.isArray(g)||(g=[g]);for(var j=[],k=0;k<g.length;k++){var tt=g[k];tt instanceof f||tt instanceof d?j.push(tt):Array.isArray(tt.tweens)?j.push(p(this,tt)):j.push(s(this,tt))}return j.length===1?j[0]:j},add:function(g){var j=g,k=this.tweens;return j instanceof f||j instanceof d||(Array.isArray(j.tweens)?j=p(this,j):j=s(this,j)),k.push(j.reset()),j},addMultiple:function(g){for(var j,k=[],tt=this.tweens,_=0;_<g.length;_++)j=g[_],j instanceof f||j instanceof d||(Array.isArray(j.tweens)?j=p(this,j):j=s(this,j)),tt.push(j.reset()),k.push(j);return k},chain:function(g){var j=p(this,g);return this.tweens.push(j.init()),j},getChainedTweens:function(g){return g.getChainedTweens()},has:function(g){return this.tweens.indexOf(g)>-1},existing:function(g){return this.has(g)||this.tweens.push(g.reset()),this},addCounter:function(g){var j=r(this,g);return this.tweens.push(j.reset()),j},stagger:function(g,j){return l(g,j)},setLagSmooth:function(g,j){return g===void 0&&(g=1/1e-8),j===void 0&&(j=0),this.maxLag=g,this.lagSkip=Math.min(j,this.maxLag),this},setFps:function(g){return g===void 0&&(g=240),this.gap=1e3/g,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(g){var j=Date.now()-this.prevTime;j>this.maxLag&&(this.startTime+=j-this.lagSkip),this.prevTime+=j;var k=this.prevTime-this.startTime,tt=k-this.nextTime,_=k-this.time*1e3;return tt>0||g?(k/=1e3,this.time=k,this.nextTime+=tt+(tt>=this.gap?4:this.gap-tt)):_=0,_},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(g){g===void 0&&(g=!1);var j=this.getDelta(g);if(!(j<=0)){this.processing=!0;var k,tt,_=[],nt=this.tweens;for(k=0;k<nt.length;k++)tt=nt[k],tt.update(j)&&_.push(tt);var it=_.length;if(it&&nt.length>0){for(k=0;k<it;k++){tt=_[k];var rt=nt.indexOf(tt);rt>-1&&(tt.isPendingRemove()||tt.isDestroyed())&&(nt.splice(rt,1),tt.destroy())}_.length=0}this.processing=!1}},remove:function(g){return this.processing?g.setPendingRemoveState():(u(this.tweens,g),g.setRemovedState()),this},reset:function(g){return this.existing(g),g.seek(),g.setActiveState(),this},makeActive:function(g){return this.existing(g),g.setActiveState(),this},each:function(g,j){var k,tt=[null];for(k=1;k<arguments.length;k++)tt.push(arguments[k]);return this.tweens.forEach(function(_){tt[0]=_,g.apply(j,tt)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(g){var j=[],k=this.tweens;Array.isArray(g)?g=h(g):g=[g];for(var tt=g.length,_=0;_<k.length;_++)for(var nt=k[_],it=0;it<tt;it++)!nt.isDestroyed()&&nt.hasTarget(g[it])&&j.push(nt);return j},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(g){return this.timeScale=g,this},isTweening:function(g){for(var j=this.tweens,k,tt=0;tt<j.length;tt++)if(k=j[tt],k.isPlaying()&&k.hasTarget(g))return!0;return!1},killAll:function(){for(var g=this.processing?this.getTweens():this.tweens,j=0;j<g.length;j++)g[j].destroy();return this.processing||(g.length=0),this},killTweensOf:function(g){for(var j=this.getTweensOf(g),k=0;k<j.length;k++)j[k].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(n.UPDATE,this.update,this),this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",c,"tweens"),i.exports=c},57355:i=>{var $=function(e,u,G){return e&&e.hasOwnProperty(u)?e[u]:G};i.exports=$},6113:(i,$,e)=>{var u=e(62640),G=e(35355),h=function(r,o){var n=u.Power0;if(typeof r=="string")if(u.hasOwnProperty(r))n=u[r];else{var l="";if(r.indexOf(".")){l=r.substring(r.indexOf(".")+1);var f=l.toLowerCase();f==="in"?l="easeIn":f==="out"?l="easeOut":f==="inout"&&(l="easeInOut")}r=G(r.substring(0,r.indexOf(".")+1)+l),u.hasOwnProperty(r)&&(n=u[r])}else typeof r=="function"&&(n=r);if(!o)return n;var s=o.slice(0);return s.unshift(0),function(d){return s[0]=d,n.apply(this,s)}};i.exports=h},91389:(i,$,e)=>{var u=e(89318),G=e(77259),h=e(28392),r={bezier:u,catmull:G,catmullrom:G,linear:h},o=function(n){if(n===null)return null;var l=r.linear;return typeof n=="string"?r.hasOwnProperty(n)&&(l=r[n]):typeof n=="function"&&(l=n),l};i.exports=o},55292:i=>{var $=function(e,u,G){var h;if(e.hasOwnProperty(u)){var r=typeof e[u];r==="function"?h=function(o,n,l,f,s,d){return e[u](o,n,l,f,s,d)}:h=function(){return e[u]}}else typeof G=="function"?h=G:h=function(){return G};return h};i.exports=$},82985:(i,$,e)=>{var u=e(81076),G=function(h){var r,o=[];if(h.hasOwnProperty("props"))for(r in h.props)r.substring(0,1)!=="_"&&o.push({key:r,value:h.props[r]});else for(r in h)u.indexOf(r)===-1&&r.substring(0,1)!=="_"&&o.push({key:r,value:h[r]});return o};i.exports=G},62329:(i,$,e)=>{var u=e(35154),G=function(h){var r=u(h,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};i.exports=G},17777:(i,$,e)=>{var u=e(30976),G=e(99472);function h(f){return!!f.getActive&&typeof f.getActive=="function"}function r(f){return!!f.getStart&&typeof f.getStart=="function"}function o(f){return!!f.getEnd&&typeof f.getEnd=="function"}function n(f){return r(f)||o(f)||h(f)}var l=function(f,s){var d,p=function(xt,Et,pt){return pt},c=function(xt,Et,pt){return pt},g=null,j=typeof s;if(j==="number")p=function(){return s};else if(Array.isArray(s))c=function(){return s[0]},p=function(){return s[s.length-1]};else if(j==="string"){var k=s.toLowerCase(),tt=k.substring(0,6)==="random",_=k.substring(0,3)==="int";if(tt||_){var nt=k.indexOf("("),it=k.indexOf(")"),rt=k.indexOf(",");if(nt&&it&&rt){var st=parseFloat(k.substring(nt+1,rt)),at=parseFloat(k.substring(rt+1,it));tt?p=function(){return G(st,at)}:p=function(){return u(st,at)}}else throw new Error("invalid random() format")}else{k=k[0];var ot=parseFloat(s.substr(2));switch(k){case"+":p=function(xt,Et,pt){return pt+ot};break;case"-":p=function(xt,Et,pt){return pt-ot};break;case"*":p=function(xt,Et,pt){return pt*ot};break;case"/":p=function(xt,Et,pt){return pt/ot};break;default:p=function(){return parseFloat(s)}}}}else if(j==="function")p=s;else if(j==="object")if(n(s))h(s)&&(g=s.getActive),o(s)&&(p=s.getEnd),r(s)&&(c=s.getStart);else if(s.hasOwnProperty("value"))d=l(f,s.value);else{var ht=s.hasOwnProperty("to"),dt=s.hasOwnProperty("from"),ut=s.hasOwnProperty("start");if(ht&&(dt||ut)){if(d=l(f,s.to),ut){var ft=l(f,s.start);d.getActive=ft.getEnd}if(dt){var gt=l(f,s.from);d.getStart=gt.getEnd}}}return d||(d={getActive:g,getEnd:p,getStart:c}),d};i.exports=l},88032:(i,$,e)=>{var u=e(70402),G=e(69902),h=e(23568),r=e(57355),o=e(6113),n=e(55292),l=e(35154),f=e(17777),s=e(269),d=e(86081),p=function(c,g,j){if(g instanceof d)return g.parent=c,g;j===void 0?j=G:j=s(G,j);var k=l(g,"from",0),tt=l(g,"to",1),_=[{value:k}],nt=l(g,"delay",j.delay),it=l(g,"easeParams",j.easeParams),rt=l(g,"ease",j.ease),st=f("value",tt),at=new d(c,_),ot=at.add(0,"value",st.getEnd,st.getStart,st.getActive,o(l(g,"ease",rt),l(g,"easeParams",it)),n(g,"delay",nt),l(g,"duration",j.duration),r(g,"yoyo",j.yoyo),l(g,"hold",j.hold),l(g,"repeat",j.repeat),l(g,"repeatDelay",j.repeatDelay),!1,!1);ot.start=k,ot.current=k,at.completeDelay=h(g,"completeDelay",0),at.loop=Math.round(h(g,"loop",0)),at.loopDelay=Math.round(h(g,"loopDelay",0)),at.paused=r(g,"paused",!1),at.persist=r(g,"persist",!1),at.callbackScope=l(g,"callbackScope",at);for(var ht=u.TYPES,dt=0;dt<ht.length;dt++){var ut=ht[dt],ft=l(g,ut,!1);if(ft){var gt=l(g,ut+"Params",[]);at.setCallback(ut,ft,gt)}}return at};i.exports=p},93109:(i,$,e)=>{var u=e(6113),G=e(35154),h=e(36383),r=function(o,n){n===void 0&&(n={});var l,f=G(n,"start",0),s=G(n,"ease",null),d=G(n,"grid",null),p=G(n,"from",0),c=p==="first",g=p==="center",j=p==="last",k=typeof p=="number",tt=Array.isArray(o),_=parseFloat(tt?o[0]:o),nt=tt?parseFloat(o[1]):0,it=Math.max(_,nt);if(tt&&(f+=_),d){var rt=d[0],st=d[1],at=0,ot=0,ht=0,dt=0,ut=[];j?(at=rt-1,ot=st-1):k?(at=p%rt,ot=Math.floor(p/rt)):g&&(at=(rt-1)/2,ot=(st-1)/2);for(var ft=h.MIN_SAFE_INTEGER,gt=0;gt<st;gt++){ut[gt]=[];for(var xt=0;xt<rt;xt++){ht=at-xt,dt=ot-gt;var Et=Math.sqrt(ht*ht+dt*dt);Et>ft&&(ft=Et),ut[gt][xt]=Et}}}var pt=s?u(s):null;return d?l=function(mt,lt,ct,vt){var yt=0,Tt=vt%rt,Ct=Math.floor(vt/rt);Tt>=0&&Tt<rt&&Ct>=0&&Ct<st&&(yt=ut[Ct][Tt]);var St;if(tt){var Dt=nt-_;pt?St=yt/ft*Dt*pt(yt/ft):St=yt/ft*Dt}else pt?St=yt*_*pt(yt/ft):St=yt*_;return St+f}:l=function(mt,lt,ct,vt,yt){yt--;var Tt;c?Tt=vt:g?Tt=Math.abs(yt/2-vt):j?Tt=yt-vt:k&&(Tt=Math.abs(p-vt));var Ct;if(tt){var St;g?St=(nt-_)/yt*(Tt*2):St=(nt-_)/yt*Tt,pt?Ct=St*pt(Tt/yt):Ct=St}else pt?Ct=yt*it*pt(Tt/yt):Ct=Tt*_;return Ct+f},l};i.exports=r},8357:(i,$,e)=>{var u=e(70402),G=e(69902),h=e(23568),r=e(57355),o=e(6113),n=e(91389),l=e(55292),f=e(82985),s=e(62329),d=e(35154),p=e(17777),c=e(269),g=e(86081),j=function(k,tt,_){if(tt instanceof g)return tt.parent=k,tt;_===void 0?_=G:_=c(G,_);var nt=s(tt);!nt&&_.targets&&(nt=_.targets);for(var it=f(tt),rt=d(tt,"delay",_.delay),st=d(tt,"duration",_.duration),at=d(tt,"easeParams",_.easeParams),ot=d(tt,"ease",_.ease),ht=d(tt,"hold",_.hold),dt=d(tt,"repeat",_.repeat),ut=d(tt,"repeatDelay",_.repeatDelay),ft=r(tt,"yoyo",_.yoyo),gt=r(tt,"flipX",_.flipX),xt=r(tt,"flipY",_.flipY),Et=d(tt,"interpolation",_.interpolation),pt=function(At,wt,It,Pt){if(It==="texture"){var Ot=Pt,bt=void 0;Array.isArray(Pt)?(Ot=Pt[0],bt=Pt[1]):Pt.hasOwnProperty("value")?(Ot=Pt.value,Array.isArray(Pt.value)?(Ot=Pt.value[0],bt=Pt.value[1]):typeof Pt.value=="string"&&(Ot=Pt.value)):typeof Pt=="string"&&(Ot=Pt),At.addFrame(wt,Ot,bt,l(Pt,"delay",rt),d(Pt,"duration",st),d(Pt,"hold",ht),d(Pt,"repeat",dt),d(Pt,"repeatDelay",ut),r(Pt,"flipX",gt),r(Pt,"flipY",xt))}else{var Vt=p(It,Pt),Ut=n(d(Pt,"interpolation",Et));At.add(wt,It,Vt.getEnd,Vt.getStart,Vt.getActive,o(d(Pt,"ease",ot),d(Pt,"easeParams",at)),l(Pt,"delay",rt),d(Pt,"duration",st),r(Pt,"yoyo",ft),d(Pt,"hold",ht),d(Pt,"repeat",dt),d(Pt,"repeatDelay",ut),r(Pt,"flipX",gt),r(Pt,"flipY",xt),Ut,Ut?Pt:null)}},mt=new g(k,nt),lt=0;lt<it.length;lt++)for(var ct=it[lt].key,vt=it[lt].value,yt=0;yt<nt.length;yt++)ct==="scale"&&!nt[yt].hasOwnProperty("scale")?(pt(mt,yt,"scaleX",vt),pt(mt,yt,"scaleY",vt)):pt(mt,yt,ct,vt);mt.completeDelay=h(tt,"completeDelay",0),mt.loop=Math.round(h(tt,"loop",0)),mt.loopDelay=Math.round(h(tt,"loopDelay",0)),mt.paused=r(tt,"paused",!1),mt.persist=r(tt,"persist",!1),mt.callbackScope=d(tt,"callbackScope",mt);for(var Tt=u.TYPES,Ct=0;Ct<Tt.length;Ct++){var St=Tt[Ct],Dt=d(tt,St,!1);if(Dt){var Mt=d(tt,St+"Params",[]);mt.setCallback(St,Dt,Mt)}}return mt};i.exports=j},26012:(i,$,e)=>{var u=e(70402),G=e(23568),h=e(57355),r=e(62329),o=e(35154),n=e(8357),l=e(43960),f=function(s,d){if(d instanceof l)return d.parent=s,d;var p=new l(s);p.startDelay=o(d,"delay",0),p.completeDelay=G(d,"completeDelay",0),p.loop=Math.round(G(d,"loop",o(d,"repeat",0))),p.loopDelay=Math.round(G(d,"loopDelay",o(d,"repeatDelay",0))),p.paused=h(d,"paused",!1),p.persist=h(d,"persist",!1),p.callbackScope=o(d,"callbackScope",p);var c,g=u.TYPES;for(c=0;c<g.length;c++){var j=g[c],k=o(d,j,!1);if(k){var tt=o(d,j+"Params",[]);p.setCallback(j,k,tt)}}var _=o(d,"tweens",null);if(Array.isArray(_)){var nt=[],it=r(d),rt=void 0;for(it&&(rt={targets:it}),c=0;c<_.length;c++)nt.push(n(p,_[c],rt));p.add(nt)}return p};i.exports=f},30231:(i,$,e)=>{i.exports={GetBoolean:e(57355),GetEaseFunction:e(6113),GetInterpolationFunction:e(91389),GetNewValue:e(55292),GetProps:e(82985),GetTargets:e(62329),GetValueOp:e(17777),NumberTweenBuilder:e(88032),StaggerBuilder:e(93109),TweenBuilder:e(8357)}},73685:i=>{i.exports="active"},98540:i=>{i.exports="complete"},67233:i=>{i.exports="loop"},2859:i=>{i.exports="pause"},98336:i=>{i.exports="repeat"},25764:i=>{i.exports="resume"},32193:i=>{i.exports="start"},84371:i=>{i.exports="stop"},70766:i=>{i.exports="update"},55659:i=>{i.exports="yoyo"},842:(i,$,e)=>{i.exports={TWEEN_ACTIVE:e(73685),TWEEN_COMPLETE:e(98540),TWEEN_LOOP:e(67233),TWEEN_PAUSE:e(2859),TWEEN_RESUME:e(25764),TWEEN_REPEAT:e(98336),TWEEN_START:e(32193),TWEEN_STOP:e(84371),TWEEN_UPDATE:e(70766),TWEEN_YOYO:e(55659)}},43066:(i,$,e)=>{var u={States:e(86353),Builders:e(30231),Events:e(842),TweenManager:e(40382),Tween:e(86081),TweenData:e(48177),TweenFrameData:e(42220),BaseTween:e(70402),TweenChain:e(43960)};i.exports=u},70402:(i,$,e)=>{var u=e(83419),G=e(50792),h=e(842),r=e(86353),o=new u({Extends:G,initialize:function(l){G.call(this),this.parent=l,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(h.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(h.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(h.TWEEN_COMPLETE,"onComplete")},complete:function(n){return n===void 0&&(n=0),n?(this.setCompleteDelayState(),this.countdown=n):this.onCompleteHandler(),this},completeAfterLoop:function(n){return n===void 0&&(n=0),this.loopCounter>n&&(this.loopCounter=n),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(h.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(n){this.countdown-=n,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(n){return this.countdown-=n,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(h.TWEEN_START,"onStart"),n=0),n},updateCompleteDelay:function(n){this.countdown-=n,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(n,l,f){return f===void 0&&(f=[]),this.callbacks.hasOwnProperty(n)&&(this.callbacks[n]={func:l,params:f}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(n){n.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],i.exports=o},95042:(i,$,e)=>{var u=e(83419),G=e(842),h=e(86353),r=new u({initialize:function(n,l,f,s,d,p,c,g,j,k){this.tween=n,this.targetIndex=l,this.duration=s,this.totalDuration=0,this.delay=0,this.getDelay=f,this.yoyo=d,this.hold=p,this.repeat=c,this.repeatDelay=g,this.repeatCounter=0,this.flipX=j,this.flipY=k,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(o){o===void 0&&(o=this.current),this.tween.targets[this.targetIndex][this.key]=o},setCreatedState:function(){this.state=h.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=h.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=h.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=h.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=h.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=h.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=h.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=h.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===h.CREATED},isDelayed:function(){return this.state===h.DELAY},isPendingRender:function(){return this.state===h.PENDING_RENDER},isPlayingForward:function(){return this.state===h.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===h.PLAYING_BACKWARD},isHolding:function(){return this.state===h.HOLD_DELAY},isRepeating:function(){return this.state===h.REPEAT_DELAY},isComplete:function(){return this.state===h.COMPLETE},setStateFromEnd:function(o){this.yoyo?this.onRepeat(o,!0,!0):this.repeatCounter>0?this.onRepeat(o,!0,!1):this.setCompleteState()},setStateFromStart:function(o){this.repeatCounter>0?this.onRepeat(o,!1):this.setCompleteState()},reset:function(){var o=this.tween,n=o.totalTargets,l=this.targetIndex,f=o.targets[l],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(f,s,0,l,n,o),this.repeatCounter=this.repeat===-1?h.MAX:this.repeat,this.setPendingRenderState();var d=this.duration+this.hold;this.yoyo&&(d+=this.duration);var p=d+this.repeatDelay;this.totalDuration=this.delay+d,this.repeat===-1?(this.totalDuration+=p*h.MAX,o.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>o.duration&&(o.duration=this.totalDuration),this.delay<o.startDelay&&(o.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(o,n,l){var f=this.tween,s=f.totalTargets,d=this.targetIndex,p=f.targets[d],c=this.key,g=c!=="texture";if(this.elapsed=o,this.progress=o/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),g&&(n||l)&&(this.start=this.getStartValue(p,c,this.start,d,s,f)),l){this.setPlayingBackwardState(),this.dispatchEvent(G.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,g&&(this.end=this.getEndValue(p,c,this.start,d,s,f)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-o,g&&(this.current=this.start,p[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(G.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});i.exports=r},69902:i=>{var $={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};i.exports=$},81076:i=>{i.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(i,$,e)=>{var u=e(70402),G=e(83419),h=e(842),r=e(44603),o=e(39429),n=e(36383),l=e(86353),f=e(48177),s=e(42220),d=new G({Extends:u,initialize:function(c,g){u.call(this,c),this.targets=g,this.totalTargets=g.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut){var ft=new f(this,p,c,g,j,k,tt,_,nt,it,rt,st,at,ot,ht,dt,ut);return this.totalData=this.data.push(ft),ft},addFrame:function(p,c,g,j,k,tt,_,nt,it,rt){var st=new s(this,p,c,g,j,k,tt,_,nt,it,rt);return this.totalData=this.data.push(st),st},getValue:function(p){p===void 0&&(p=0);var c=null;return this.data&&(c=this.data[p].current),c},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,c,g){if(g===void 0&&(g=!1),p!=="texture")for(var j=0;j<this.totalData;j++){var k=this.data[j];k.key===p&&(k.isPlayingForward()||k.isPlayingBackward())&&(k.end=c,g&&(k.start=k.current))}return this},restart:function(){switch(this.state){case l.REMOVED:case l.FINISHED:this.seek(),this.parent.makeActive(this);break;case l.PENDING:case l.PENDING_REMOVE:this.parent.reset(this);break;case l.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,c,g){if(p===void 0&&(p=0),c===void 0&&(c=16.6),g===void 0&&(g=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;g||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive");var j=this.paused;if(this.paused=!1,p>0){for(var k=Math.floor(p/c),tt=p-k*c,_=0;_<k;_++)this.update(c);tt>0&&this.update(tt)}return this.paused=j,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=n.MAX_SAFE_INTEGER;for(var c=this.data,g=0;g<this.totalData;g++)c[g].reset(p);this.duration=Math.max(this.duration,.01);var j=this.duration,k=this.completeDelay,tt=this.loopCounter,_=this.loopDelay;tt>0?this.totalDuration=j+k+(j+_)*tt:this.totalDuration=j+k},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=l.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),p=0));var c=!1;if(this.isActive())for(var g=this.data,j=0;j<this.totalData;j++)g[j].update(p)&&(c=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var k=this.isPendingRemove();return k&&this.persist&&(this.setFinishedState(),k=!1),k},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,c){if(!this.isSeeking){this.emit(p,this,this.targets);var g=this.callbacks[c];g&&g.func.apply(this.callbackScope,[this,this.targets].concat(g.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(p){return this.scene.sys.tweens.add(p)}),r.register("tween",function(p){return this.scene.sys.tweens.create(p)}),i.exports=d},43960:(i,$,e)=>{var u=e(72905),G=e(70402),h=e(83419),r=e(842),o=e(44603),n=e(39429),l=e(86353),f=new h({Extends:G,initialize:function(d){G.call(this,d),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?l.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(s){var d=this.parent.create(s);Array.isArray(d)||(d=[d]);for(var p=this.data,c=0;c<d.length;c++){var g=d[c];g.parent=this,p.push(g.reset())}return this.totalData=p.length,this},remove:function(s){return u(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var d=this.data,p=0;p<this.totalData;p++)if(d[p].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,d=this.totalData,p=0;p<d;p++)s[p].reset(!1);this.currentIndex=0,this.currentTween=s[0]},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;s*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(s):this.isCompleteDelayed()?this.updateCompleteDelay(s):this.isStartDelayed()&&(s=this.updateStartCountdown(s));var d=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),d=this.isPendingRemove(),d&&this.persist&&(this.setFinishedState(),d=!1)),d},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(s,d){this.emit(s,this);var p=this.callbacks[d];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){G.prototype.destroy.call(this),this.currentTween=null}});n.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),o.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),i.exports=f},48177:(i,$,e)=>{var u=e(95042),G=e(45319),h=e(83419),r=e(842),o=new h({Extends:u,initialize:function(l,f,s,d,p,c,g,j,k,tt,_,nt,it,rt,st,at,ot){u.call(this,l,f,j,k,tt,_,nt,it,rt,st),this.key=s,this.getActiveValue=c,this.getEndValue=d,this.getStartValue=p,this.ease=g,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=at,this.interpolationData=ot},reset:function(n){u.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex],f=this.key;n&&(l[f]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(l[f]=this.getActiveValue(l,f,0))},update:function(n){var l=this.tween,f=l.totalTargets,s=this.targetIndex,d=l.targets[s],p=this.key;if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(d,p,d[p],s,f,l),this.end=this.getEndValue(d,p,this.start,s,f,l),this.current=this.start,d[p]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),g=this.isPlayingBackward();if(c||g){var j=this.elapsed,k=this.duration,tt=0,_=!1;j+=n,j>=k?(tt=j-k,j=k,_=!0):j<0&&(j=0);var nt=G(j/k,0,1);if(this.elapsed=j,this.progress=nt,this.previous=this.current,_)c?(this.current=this.end,d[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(tt)):(this.current=this.start,d[p]=this.start,this.setStateFromStart(tt));else{c||(nt=1-nt);var it=this.ease(nt);this.interpolation?this.current=this.interpolation(this.interpolationData,it):this.current=this.start+(this.end-this.start)*it,d[p]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,l){var f=this.tween;if(!f.isSeeking){var s=f.targets[this.targetIndex],d=this.key,p=this.current,c=this.previous;f.emit(n,f,d,s,p,c);var g=f.callbacks[l];g&&g.func.apply(f.callbackScope,[f,s,d,p,c].concat(g.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});i.exports=o},42220:(i,$,e)=>{var u=e(95042),G=e(45319),h=e(83419),r=e(842),o=new h({Extends:u,initialize:function(l,f,s,d,p,c,g,j,k,tt,_){u.call(this,l,f,p,c,!1,g,j,k,tt,_),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=d,this.yoyo=j!==0},reset:function(n){u.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=l.texture.key,this.startFrame=l.frame.name),n&&l.setTexture(this.startTexture,this.startFrame)},update:function(n){var l=this.tween,f=this.targetIndex,s=l.targets[f];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),p=this.isPlayingBackward();if(d||p){var c=this.elapsed,g=this.duration,j=0,k=!1;c+=n,c>=g?(j=c-g,c=g,k=!0):c<0&&(c=0);var tt=G(c/g,0,1);this.elapsed=c,this.progress=tt,k&&(d?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(j)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(j))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,l){var f=this.tween;if(!f.isSeeking){var s=f.targets[this.targetIndex],d=this.key;f.emit(n,f,d,s);var p=f.callbacks[l];p&&p.func.apply(f.callbackScope,[f,s,d].concat(p.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});i.exports=o},86353:i=>{var $={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};i.exports=$},83419:i=>{function $(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}function e(o,n,l){var f=l?o[n]:Object.getOwnPropertyDescriptor(o,n);return!l&&f.value&&typeof f.value=="object"&&(f=f.value),f&&$(f)?(typeof f.enumerable>"u"&&(f.enumerable=!0),typeof f.configurable>"u"&&(f.configurable=!0),f):!1}function u(o,n){var l=Object.getOwnPropertyDescriptor(o,n);return l?(l.value&&typeof l.value=="object"&&(l=l.value),l.configurable===!1):!1}function G(o,n,l,f){for(var s in n)if(n.hasOwnProperty(s)){var d=e(n,s,l);if(d!==!1){var p=f||o;if(u(p.prototype,s)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,s,d)}else o.prototype[s]=n[s]}}function h(o,n){if(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++)G(o,n[l].prototype||n[l])}}function r(o){o||(o={});var n,l;if(o.initialize){if(typeof o.initialize!="function")throw new Error("initialize must be a function");n=o.initialize,delete o.initialize}else if(o.Extends){var f=o.Extends;n=function(){f.apply(this,arguments)}}else n=function(){};o.Extends?(n.prototype=Object.create(o.Extends.prototype),n.prototype.constructor=n,l=o.Extends,delete o.Extends):n.prototype.constructor=n;var s=null;return o.Mixins&&(s=o.Mixins,delete o.Mixins),h(n,s),G(n,o,!0,l),n}r.extend=G,r.mixin=h,r.ignoreFinals=!1,i.exports=r},29747:i=>{var $=function(){};i.exports=$},20242:i=>{var $=function(){return null};i.exports=$},71146:i=>{var $=function(e,u,G,h,r){if(r===void 0&&(r=e),G>0){var o=G-e.length;if(o<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.push(u),h&&h.call(r,u),u):null;for(var n=u.length-1;n>=0;)e.indexOf(u[n])!==-1&&u.splice(n,1),n--;if(n=u.length,n===0)return null;G>0&&n>o&&(u.splice(o),n=o);for(var l=0;l<n;l++){var f=u[l];e.push(f),h&&h.call(r,f)}return u};i.exports=$},51067:i=>{var $=function(e,u,G,h,r,o){if(G===void 0&&(G=0),o===void 0&&(o=e),h>0){var n=h-e.length;if(n<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.splice(G,0,u),r&&r.call(o,u),u):null;for(var l=u.length-1;l>=0;)e.indexOf(u[l])!==-1&&u.pop(),l--;if(l=u.length,l===0)return null;h>0&&l>n&&(u.splice(n),l=n);for(var f=l-1;f>=0;f--){var s=u[f];e.splice(G,0,s),r&&r.call(o,s)}return u};i.exports=$},66905:i=>{var $=function(e,u){var G=e.indexOf(u);return G!==-1&&G<e.length&&(e.splice(G,1),e.push(u)),u};i.exports=$},21612:(i,$,e)=>{var u=e(82011),G=function(h,r,o,n,l){n===void 0&&(n=0),l===void 0&&(l=h.length);var f=0;if(u(h,n,l))for(var s=n;s<l;s++){var d=h[s];d[r]===o&&f++}return f};i.exports=G},95428:i=>{var $=function(e,u,G){var h,r=[null];for(h=3;h<arguments.length;h++)r.push(arguments[h]);for(h=0;h<e.length;h++)r[0]=e[h],u.apply(G,r);return e};i.exports=$},36914:(i,$,e)=>{var u=e(82011),G=function(h,r,o,n,l){if(n===void 0&&(n=0),l===void 0&&(l=h.length),u(h,n,l)){var f,s=[null];for(f=5;f<arguments.length;f++)s.push(arguments[f]);for(f=n;f<l;f++)s[0]=h[f],r.apply(o,s)}return h};i.exports=G},81957:i=>{var $=function(e,u,G){if(u.length){if(u.length===1)return u[0]}else return NaN;var h=1,r,o;if(G){if(e<u[0][G])return u[0];for(;u[h][G]<e;)h++}else for(;u[h]<e;)h++;return h>u.length&&(h=u.length),G?(r=u[h-1][G],o=u[h][G],o-e<=e-r?u[h]:u[h-1]):(r=u[h-1],o=u[h],o-e<=e-r?o:r)};i.exports=$},43491:i=>{var $=function(e,u){u===void 0&&(u=[]);for(var G=0;G<e.length;G++)Array.isArray(e[G])?$(e[G],u):u.push(e[G]);return u};i.exports=$},46710:(i,$,e)=>{var u=e(82011),G=function(h,r,o,n,l){n===void 0&&(n=0),l===void 0&&(l=h.length);var f=[];if(u(h,n,l))for(var s=n;s<l;s++){var d=h[s];(!r||r&&o===void 0&&d.hasOwnProperty(r)||r&&o!==void 0&&d[r]===o)&&f.push(d)}return f};i.exports=G},58731:(i,$,e)=>{var u=e(82011),G=function(h,r,o,n,l){if(n===void 0&&(n=0),l===void 0&&(l=h.length),u(h,n,l))for(var f=n;f<l;f++){var s=h[f];if(!r||r&&o===void 0&&s.hasOwnProperty(r)||r&&o!==void 0&&s[r]===o)return s}return null};i.exports=G},26546:i=>{var $=function(e,u,G){u===void 0&&(u=0),G===void 0&&(G=e.length);var h=u+Math.floor(Math.random()*G);return e[h]===void 0?null:e[h]};i.exports=$},85835:i=>{var $=function(e,u,G){if(u===G)return e;var h=e.indexOf(u),r=e.indexOf(G);if(h<0||r<0)throw new Error("Supplied items must be elements of the same array");return h>r||(e.splice(h,1),r===e.length-1?e.push(u):e.splice(r,0,u)),e};i.exports=$},83371:i=>{var $=function(e,u,G){if(u===G)return e;var h=e.indexOf(u),r=e.indexOf(G);if(h<0||r<0)throw new Error("Supplied items must be elements of the same array");return h<r||(e.splice(h,1),r===0?e.unshift(u):e.splice(r,0,u)),e};i.exports=$},70864:i=>{var $=function(e,u){var G=e.indexOf(u);if(G>0){var h=e[G-1],r=e.indexOf(h);e[G]=h,e[r]=u}return e};i.exports=$},69693:i=>{var $=function(e,u,G){var h=e.indexOf(u);if(h===-1||G<0||G>=e.length)throw new Error("Supplied index out of bounds");return h!==G&&(e.splice(h,1),e.splice(G,0,u)),u};i.exports=$},40853:i=>{var $=function(e,u){var G=e.indexOf(u);if(G!==-1&&G<e.length-1){var h=e[G+1],r=e.indexOf(h);e[G]=h,e[r]=u}return e};i.exports=$},20283:i=>{var $=function(e,u,G,h){var r=[],o,n=!1;if((G||h)&&(n=!0,G||(G=""),h||(h="")),u<e)for(o=e;o>=u;o--)n?r.push(G+o.toString()+h):r.push(o);else for(o=e;o<=u;o++)n?r.push(G+o.toString()+h):r.push(o);return r};i.exports=$},593:(i,$,e)=>{var u=e(2284),G=function(h,r,o){h===void 0&&(h=0),r===void 0&&(r=null),o===void 0&&(o=1),r===null&&(r=h,h=0);for(var n=[],l=Math.max(u((r-h)/(o||1)),0),f=0;f<l;f++)n.push(h),h+=o;return n};i.exports=G},43886:i=>{function $(G,h,r){var o=G[h];G[h]=G[r],G[r]=o}function e(G,h){return G<h?-1:G>h?1:0}var u=function(G,h,r,o,n){for(r===void 0&&(r=0),o===void 0&&(o=G.length-1),n===void 0&&(n=e);o>r;){if(o-r>600){var l=o-r+1,f=h-r+1,s=Math.log(l),d=.5*Math.exp(2*s/3),p=.5*Math.sqrt(s*d*(l-d)/l)*(f-l/2<0?-1:1),c=Math.max(r,Math.floor(h-f*d/l+p)),g=Math.min(o,Math.floor(h+(l-f)*d/l+p));u(G,h,c,g,n)}var j=G[h],k=r,tt=o;for($(G,r,h),n(G[o],j)>0&&$(G,r,o);k<tt;){for($(G,k,tt),k++,tt--;n(G[k],j)<0;)k++;for(;n(G[tt],j)>0;)tt--}n(G[r],j)===0?$(G,r,tt):(tt++,$(G,tt,o)),tt<=h&&(r=tt+1),h<=tt&&(o=tt-1)}};i.exports=u},88492:(i,$,e)=>{var u=e(35154),G=e(33680),h=function(o,n,l){for(var f=[],s=0;s<o.length;s++)for(var d=0;d<n.length;d++)for(var p=0;p<l;p++)f.push({a:o[s],b:n[d]});return f},r=function(o,n,l){var f=u(l,"max",0),s=u(l,"qty",1),d=u(l,"random",!1),p=u(l,"randomB",!1),c=u(l,"repeat",0),g=u(l,"yoyo",!1),j=[];if(p&&G(n),c===-1)if(f===0)c=0;else{var k=o.length*n.length*s;g&&(k*=2),c=Math.ceil(f/k)}for(var tt=0;tt<=c;tt++){var _=h(o,n,s);d&&G(_),j=j.concat(_),g&&(_.reverse(),j=j.concat(_))}return f&&j.splice(f),j};i.exports=r},72905:(i,$,e)=>{var u=e(19133),G=function(h,r,o,n){n===void 0&&(n=h);var l;if(!Array.isArray(r))return l=h.indexOf(r),l!==-1?(u(h,l),o&&o.call(n,r),r):null;for(var f=r.length-1,s=[];f>=0;){var d=r[f];l=h.indexOf(d),l!==-1&&(u(h,l),s.push(d),o&&o.call(n,d)),f--}return s};i.exports=G},60248:(i,$,e)=>{var u=e(19133),G=function(h,r,o,n){if(n===void 0&&(n=h),r<0||r>h.length-1)throw new Error("Index out of bounds");var l=u(h,r);return o&&o.call(n,l),l};i.exports=G},81409:(i,$,e)=>{var u=e(82011),G=function(h,r,o,n,l){if(r===void 0&&(r=0),o===void 0&&(o=h.length),l===void 0&&(l=h),u(h,r,o)){var f=o-r,s=h.splice(r,f);if(n)for(var d=0;d<s.length;d++){var p=s[d];n.call(l,p)}return s}else return[]};i.exports=G},31856:(i,$,e)=>{var u=e(19133),G=function(h,r,o){r===void 0&&(r=0),o===void 0&&(o=h.length);var n=r+Math.floor(Math.random()*o);return u(h,n)};i.exports=G},42169:i=>{var $=function(e,u,G){var h=e.indexOf(u),r=e.indexOf(G);return h!==-1&&r===-1?(e[h]=G,!0):!1};i.exports=$},86003:i=>{var $=function(e,u){u===void 0&&(u=1);for(var G=null,h=0;h<u;h++)G=e.shift(),e.push(G);return G};i.exports=$},49498:i=>{var $=function(e,u){u===void 0&&(u=1);for(var G=null,h=0;h<u;h++)G=e.pop(),e.unshift(G);return G};i.exports=$},82011:i=>{var $=function(e,u,G,h){var r=e.length;if(u<0||u>r||u>=G||G>r){if(h)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};i.exports=$},89545:i=>{var $=function(e,u){var G=e.indexOf(u);return G!==-1&&G>0&&(e.splice(G,1),e.unshift(u)),u};i.exports=$},17810:(i,$,e)=>{var u=e(82011),G=function(h,r,o,n,l){if(n===void 0&&(n=0),l===void 0&&(l=h.length),u(h,n,l))for(var f=n;f<l;f++){var s=h[f];s.hasOwnProperty(r)&&(s[r]=o)}return h};i.exports=G},33680:i=>{var $=function(e){for(var u=e.length-1;u>0;u--){var G=Math.floor(Math.random()*(u+1)),h=e[u];e[u]=e[G],e[G]=h}return e};i.exports=$},90126:i=>{var $=function(e){var u=/\D/g;return e.sort(function(G,h){return parseInt(G.replace(u,""),10)-parseInt(h.replace(u,""),10)}),e};i.exports=$},19133:i=>{var $=function(e,u){if(!(u>=e.length)){for(var G=e.length-1,h=e[u],r=u;r<G;r++)e[r]=e[r+1];return e.length=G,h}};i.exports=$},19186:(i,$,e)=>{var u=e(82264);function G(n,l){return String(n).localeCompare(l)}function h(n,l){var f=n.length;if(f<=1)return n;for(var s=new Array(f),d=1;d<f;d*=2){r(n,l,d,s);var p=n;n=s,s=p}return n}function r(n,l,f,s){var d=n.length,p=0,c=f*2,g,j,k,tt,_;for(g=0;g<d;g+=c)for(j=g+f,k=j+f,j>d&&(j=d),k>d&&(k=d),tt=g,_=j;;)if(tt<j&&_<k)l(n[tt],n[_])<=0?s[p++]=n[tt++]:s[p++]=n[_++];else if(tt<j)s[p++]=n[tt++];else if(_<k)s[p++]=n[_++];else break}var o=function(n,l){if(l===void 0&&(l=G),!n||n.length<2)return n;if(u.features.stableSort)return n.sort(l);var f=h(n,l);return f!==n&&r(f,null,n.length,n),n};i.exports=o},25630:i=>{var $=function(e,u,G){if(u===G)return e;var h=e.indexOf(u),r=e.indexOf(G);if(h<0||r<0)throw new Error("Supplied items must be elements of the same array");return e[h]=G,e[r]=u,e};i.exports=$},37105:(i,$,e)=>{i.exports={Matrix:e(54915),Add:e(71146),AddAt:e(51067),BringToTop:e(66905),CountAllMatching:e(21612),Each:e(95428),EachInRange:e(36914),FindClosestInSorted:e(81957),Flatten:e(43491),GetAll:e(46710),GetFirst:e(58731),GetRandom:e(26546),MoveDown:e(70864),MoveTo:e(69693),MoveUp:e(40853),MoveAbove:e(85835),MoveBelow:e(83371),NumberArray:e(20283),NumberArrayStep:e(593),QuickSelect:e(43886),Range:e(88492),Remove:e(72905),RemoveAt:e(60248),RemoveBetween:e(81409),RemoveRandomElement:e(31856),Replace:e(42169),RotateLeft:e(86003),RotateRight:e(49498),SafeRange:e(82011),SendToBack:e(89545),SetAll:e(17810),Shuffle:e(33680),SortByDigits:e(90126),SpliceOne:e(19133),StableSort:e(19186),Swap:e(25630)}},86922:i=>{var $=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var u=e[0].length,G=1;G<e.length;G++)if(e[G].length!==u)return!1;return!0};i.exports=$},63362:(i,$,e)=>{var u=e(41836),G=e(86922),h=function(r){var o="";if(!G(r))return o;for(var n=0;n<r.length;n++){for(var l=0;l<r[n].length;l++){var f=r[n][l].toString();f!=="undefined"?o+=u(f,2):o+="?",l<r[n].length-1&&(o+=" |")}if(n<r.length-1){o+=`
`;for(var s=0;s<r[n].length;s++)o+="---",s<r[n].length-1&&(o+="+");o+=`
`}}return o};i.exports=h},92598:i=>{var $=function(e){return e.reverse()};i.exports=$},21224:i=>{var $=function(e){for(var u=0;u<e.length;u++)e[u].reverse();return e};i.exports=$},98717:(i,$,e)=>{var u=e(37829),G=function(h){return u(h,180)};i.exports=G},44657:(i,$,e)=>{var u=e(37829),G=function(h,r){r===void 0&&(r=1);for(var o=0;o<r;o++)h=u(h,90);return h};i.exports=G},37829:(i,$,e)=>{var u=e(86922),G=e(2429),h=function(r,o){if(o===void 0&&(o=90),!u(r))return null;if(typeof o!="string"&&(o=(o%360+360)%360),o===90||o===-270||o==="rotateLeft")r=G(r),r.reverse();else if(o===-90||o===270||o==="rotateRight")r.reverse(),r=G(r);else if(Math.abs(o)===180||o==="rotate180"){for(var n=0;n<r.length;n++)r[n].reverse();r.reverse()}return r};i.exports=h},92632:(i,$,e)=>{var u=e(37829),G=function(h,r){r===void 0&&(r=1);for(var o=0;o<r;o++)h=u(h,-90);return h};i.exports=G},69512:(i,$,e)=>{var u=e(86003),G=e(49498),h=function(r,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),n!==0&&(n<0?u(r,Math.abs(n)):G(r,n)),o!==0)for(var l=0;l<r.length;l++){var f=r[l];o<0?u(f,Math.abs(o)):G(f,o)}return r};i.exports=h},2429:i=>{var $=function(e){for(var u=e.length,G=e[0].length,h=new Array(G),r=0;r<G;r++){h[r]=new Array(u);for(var o=u-1;o>-1;o--)h[r][o]=e[o][r]}return h};i.exports=$},54915:(i,$,e)=>{i.exports={CheckMatrix:e(86922),MatrixToString:e(63362),ReverseColumns:e(92598),ReverseRows:e(21224),Rotate180:e(98717),RotateLeft:e(44657),RotateMatrix:e(37829),RotateRight:e(92632),Translate:e(69512),TransposeMatrix:e(2429)}},71334:i=>{var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(u,G){for(var h=new Uint8Array(u),r=h.length,o=G?"data:"+G+";base64,":"",n=0;n<r;n+=3)o+=$[h[n]>>2],o+=$[(h[n]&3)<<4|h[n+1]>>4],o+=$[(h[n+1]&15)<<2|h[n+2]>>6],o+=$[h[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o};i.exports=e},53134:i=>{for(var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),u=0;u<$.length;u++)e[$.charCodeAt(u)]=u;var G=function(h){h=h.substr(h.indexOf(",")+1);var r=h.length,o=r*.75,n=0,l,f,s,d;h[r-1]==="="&&(o--,h[r-2]==="="&&o--);for(var p=new ArrayBuffer(o),c=new Uint8Array(p),g=0;g<r;g+=4)l=e[h.charCodeAt(g)],f=e[h.charCodeAt(g+1)],s=e[h.charCodeAt(g+2)],d=e[h.charCodeAt(g+3)],c[n++]=l<<2|f>>4,c[n++]=(f&15)<<4|s>>2,c[n++]=(s&3)<<6|d&63;return p};i.exports=G},65839:(i,$,e)=>{i.exports={ArrayBufferToBase64:e(71334),Base64ToArrayBuffer:e(53134)}},91799:(i,$,e)=>{i.exports={Array:e(37105),Base64:e(65839),Objects:e(1183),String:e(31749),NOOP:e(29747),NULL:e(20242)}},41786:i=>{var $=function(e){var u={};for(var G in e)Array.isArray(e[G])?u[G]=e[G].slice(0):u[G]=e[G];return u};i.exports=$},62644:i=>{var $=function(e){var u,G,h;if(typeof e!="object"||e===null)return e;u=Array.isArray(e)?[]:{};for(h in e)G=e[h],u[h]=$(G);return u};i.exports=$},79291:(i,$,e)=>{var u=e(41212),G=function(){var h,r,o,n,l,f,s=arguments[0]||{},d=1,p=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},d=2),p===d&&(s=this,--d);d<p;d++)if((h=arguments[d])!=null)for(r in h)o=s[r],n=h[r],s!==n&&(c&&n&&(u(n)||(l=Array.isArray(n)))?(l?(l=!1,f=o&&Array.isArray(o)?o:[]):f=o&&u(o)?o:{},s[r]=G(c,f,n)):n!==void 0&&(s[r]=n));return s};i.exports=G},23568:(i,$,e)=>{var u=e(75508),G=e(35154),h=function(r,o,n){var l=G(r,o,null);if(l===null)return n;if(Array.isArray(l))return u.RND.pick(l);if(typeof l=="object"){if(l.hasOwnProperty("randInt"))return u.RND.integerInRange(l.randInt[0],l.randInt[1]);if(l.hasOwnProperty("randFloat"))return u.RND.realInRange(l.randFloat[0],l.randFloat[1])}else if(typeof l=="function")return l(o);return l};i.exports=h},95540:i=>{var $=function(e,u,G){var h=typeof e;return!e||h==="number"||h==="string"?G:e.hasOwnProperty(u)&&e[u]!==void 0?e[u]:G};i.exports=$},82840:(i,$,e)=>{var u=e(35154),G=e(45319),h=function(r,o,n,l,f){f===void 0&&(f=n);var s=u(r,o,f);return G(s,n,l)};i.exports=h},35154:i=>{var $=function(e,u,G,h){if(!e&&!h||typeof e=="number")return G;if(e&&e.hasOwnProperty(u))return e[u];if(h&&h.hasOwnProperty(u))return h[u];if(u.indexOf(".")!==-1){for(var r=u.split("."),o=e,n=h,l=G,f=G,s=!0,d=!0,p=0;p<r.length;p++)o&&o.hasOwnProperty(r[p])?(l=o[r[p]],o=o[r[p]]):s=!1,n&&n.hasOwnProperty(r[p])?(f=n[r[p]],n=n[r[p]]):d=!1;return s?l:d?f:G}else return G};i.exports=$},69036:i=>{var $=function(e,u){for(var G=0;G<u.length;G++)if(!e.hasOwnProperty(u[G]))return!1;return!0};i.exports=$},1985:i=>{var $=function(e,u){for(var G=0;G<u.length;G++)if(e.hasOwnProperty(u[G]))return!0;return!1};i.exports=$},97022:i=>{var $=function(e,u){return e.hasOwnProperty(u)};i.exports=$},41212:i=>{var $=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};i.exports=$},46975:(i,$,e)=>{var u=e(41786),G=function(h,r){var o=u(h);for(var n in r)o.hasOwnProperty(n)||(o[n]=r[n]);return o};i.exports=G},269:(i,$,e)=>{var u=e(41786),G=function(h,r){var o=u(h);for(var n in r)o.hasOwnProperty(n)&&(o[n]=r[n]);return o};i.exports=G},18254:(i,$,e)=>{var u=e(97022),G=function(h,r){for(var o={},n=0;n<r.length;n++){var l=r[n];u(h,l)&&(o[l]=h[l])}return o};i.exports=G},61622:i=>{var $=function(e,u,G){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(u))return e[u]=G,!0;if(u.indexOf(".")!==-1){for(var h=u.split("."),r=e,o=e,n=0;n<h.length;n++)if(r.hasOwnProperty(h[n]))o=r,r=r[h[n]];else return!1;return o[h[h.length-1]]=G,!0}return!1};i.exports=$},1183:(i,$,e)=>{i.exports={Clone:e(41786),DeepCopy:e(62644),Extend:e(79291),GetAdvancedValue:e(23568),GetFastValue:e(95540),GetMinMaxValue:e(82840),GetValue:e(35154),HasAll:e(69036),HasAny:e(1985),HasValue:e(97022),IsPlainObject:e(41212),Merge:e(46975),MergeRight:e(269),Pick:e(18254),SetValue:e(61622)}},27902:i=>{var $=function(e,u){return e.replace(/%([0-9]+)/g,function(G,h){return u[Number(h)-1]})};i.exports=$},41836:i=>{var $=function(e,u,G,h){u===void 0&&(u=0),G===void 0&&(G=" "),h===void 0&&(h=3),e=e.toString();var r=0;if(u+1>=e.length)switch(h){case 1:e=new Array(u+1-e.length).join(G)+e;break;case 3:var o=Math.ceil((r=u-e.length)/2),n=r-o;e=new Array(n+1).join(G)+e+new Array(o+1).join(G);break;default:e=e+new Array(u+1-e.length).join(G);break}return e};i.exports=$},33628:i=>{var $=function(e,u){return u===0?e.slice(1):e.slice(0,u-1)+e.slice(u)};i.exports=$},27671:i=>{var $=function(e){return e.split("").reverse().join("")};i.exports=$},45650:i=>{var $=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var u=Math.random()*16|0,G=e==="x"?u:u&3|8;return G.toString(16)})};i.exports=$},35355:i=>{var $=function(e){return e&&e[0].toUpperCase()+e.slice(1)};i.exports=$},31749:(i,$,e)=>{i.exports={Format:e(27902),Pad:e(41836),RemoveAt:e(33628),Reverse:e(27671),UppercaseFirst:e(35355),UUID:e(45650)}}},M={};function J(i){var $=M[i];if($!==void 0)return $.exports;var e=M[i]={exports:{}};return y[i](e,e.exports,J),e.exports}J.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var et=J(85454);return et})())});var Dp=null;var Zl=1,Mp=Symbol("SIGNAL");function dn(y){let M=Dp;return Dp=y,M}var Ap={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qx(y){if(!(ql(y)&&!y.dirty)&&!(!y.dirty&&y.lastCleanEpoch===Zl)){if(!y.producerMustRecompute(y)&&!Ql(y)){y.dirty=!1,y.lastCleanEpoch=Zl;return}y.producerRecomputeValue(y),y.dirty=!1,y.lastCleanEpoch=Zl}}function wp(y){return y&&(y.nextProducerIndex=0),dn(y)}function Pp(y,M){if(dn(M),!(!y||y.producerNode===void 0||y.producerIndexOfThis===void 0||y.producerLastReadVersion===void 0)){if(ql(y))for(let J=y.nextProducerIndex;J<y.producerNode.length;J++)Jl(y.producerNode[J],y.producerIndexOfThis[J]);for(;y.producerNode.length>y.nextProducerIndex;)y.producerNode.pop(),y.producerLastReadVersion.pop(),y.producerIndexOfThis.pop()}}function Ql(y){_s(y);for(let M=0;M<y.producerNode.length;M++){let J=y.producerNode[M],et=y.producerLastReadVersion[M];if(et!==J.version||(qx(J),et!==J.version))return!0}return!1}function Rp(y){if(_s(y),ql(y))for(let M=0;M<y.producerNode.length;M++)Jl(y.producerNode[M],y.producerIndexOfThis[M]);y.producerNode.length=y.producerLastReadVersion.length=y.producerIndexOfThis.length=0,y.liveConsumerNode&&(y.liveConsumerNode.length=y.liveConsumerIndexOfThis.length=0)}function Jl(y,M){if(_x(y),_s(y),y.liveConsumerNode.length===1)for(let et=0;et<y.producerNode.length;et++)Jl(y.producerNode[et],y.producerIndexOfThis[et]);let J=y.liveConsumerNode.length-1;if(y.liveConsumerNode[M]=y.liveConsumerNode[J],y.liveConsumerIndexOfThis[M]=y.liveConsumerIndexOfThis[J],y.liveConsumerNode.length--,y.liveConsumerIndexOfThis.length--,M<y.liveConsumerNode.length){let et=y.liveConsumerIndexOfThis[M],i=y.liveConsumerNode[M];_s(i),i.producerIndexOfThis[et]=M}}function ql(y){return y.consumerIsAlwaysLive||(y?.liveConsumerNode?.length??0)>0}function _s(y){y.producerNode??=[],y.producerIndexOfThis??=[],y.producerLastReadVersion??=[]}function _x(y){y.liveConsumerNode??=[],y.liveConsumerIndexOfThis??=[]}function ty(){throw new Error}var ey=ty;function Ip(y){ey=y}function jt(y){return typeof y=="function"}function _i(y){let J=y(et=>{Error.call(et),et.stack=new Error().stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}var to=_i(y=>function(J){y(this),this.message=J?`${J.length} errors occurred during unsubscription:
${J.map((et,i)=>`${i+1}) ${et.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=J});function kr(y,M){if(y){let J=y.indexOf(M);0<=J&&y.splice(J,1)}}var Ye=class y{constructor(M){this.initialTeardown=M,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let M;if(!this.closed){this.closed=!0;let{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(let $ of J)$.remove(this);else J.remove(this);let{initialTeardown:et}=this;if(jt(et))try{et()}catch($){M=$ instanceof to?$.errors:[$]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let $ of i)try{Fp($)}catch(e){M=M??[],e instanceof to?M=[...M,...e.errors]:M.push(e)}}if(M)throw new to(M)}}add(M){var J;if(M&&M!==this)if(this.closed)Fp(M);else{if(M instanceof y){if(M.closed||M._hasParent(this))return;M._addParent(this)}(this._finalizers=(J=this._finalizers)!==null&&J!==void 0?J:[]).push(M)}}_hasParent(M){let{_parentage:J}=this;return J===M||Array.isArray(J)&&J.includes(M)}_addParent(M){let{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(M),J):J?[J,M]:M}_removeParent(M){let{_parentage:J}=this;J===M?this._parentage=null:Array.isArray(J)&&kr(J,M)}remove(M){let{_finalizers:J}=this;J&&kr(J,M),M instanceof y&&M._removeParent(this)}};Ye.EMPTY=(()=>{let y=new Ye;return y.closed=!0,y})();var _l=Ye.EMPTY;function eo(y){return y instanceof Ye||y&&"closed"in y&&jt(y.remove)&&jt(y.add)&&jt(y.unsubscribe)}function Fp(y){jt(y)?y():y.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var tr={setTimeout(y,M,...J){let{delegate:et}=tr;return et?.setTimeout?et.setTimeout(y,M,...J):setTimeout(y,M,...J)},clearTimeout(y){let{delegate:M}=tr;return(M?.clearTimeout||clearTimeout)(y)},delegate:void 0};function no(y){tr.setTimeout(()=>{let{onUnhandledError:M}=wn;if(M)M(y);else throw y})}function Kr(){}var Op=tu("C",void 0,void 0);function Lp(y){return tu("E",void 0,y)}function Np(y){return tu("N",y,void 0)}function tu(y,M,J){return{kind:y,value:M,error:J}}var Ai=null;function er(y){if(wn.useDeprecatedSynchronousErrorHandling){let M=!Ai;if(M&&(Ai={errorThrown:!1,error:null}),y(),M){let{errorThrown:J,error:et}=Ai;if(Ai=null,J)throw et}}else y()}function bp(y){wn.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=y)}var wi=class extends Ye{constructor(M){super(),this.isStopped=!1,M?(this.destination=M,eo(M)&&M.add(this)):this.destination=ry}static create(M,J,et){return new nr(M,J,et)}next(M){this.isStopped?nu(Np(M),this):this._next(M)}error(M){this.isStopped?nu(Lp(M),this):(this.isStopped=!0,this._error(M))}complete(){this.isStopped?nu(Op,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(M){this.destination.next(M)}_error(M){try{this.destination.error(M)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ny=Function.prototype.bind;function eu(y,M){return ny.call(y,M)}var iu=class{constructor(M){this.partialObserver=M}next(M){let{partialObserver:J}=this;if(J.next)try{J.next(M)}catch(et){io(et)}}error(M){let{partialObserver:J}=this;if(J.error)try{J.error(M)}catch(et){io(et)}else io(M)}complete(){let{partialObserver:M}=this;if(M.complete)try{M.complete()}catch(J){io(J)}}},nr=class extends wi{constructor(M,J,et){super();let i;if(jt(M)||!M)i={next:M??void 0,error:J??void 0,complete:et??void 0};else{let $;this&&wn.useDeprecatedNextContext?($=Object.create(M),$.unsubscribe=()=>this.unsubscribe(),i={next:M.next&&eu(M.next,$),error:M.error&&eu(M.error,$),complete:M.complete&&eu(M.complete,$)}):i=M}this.destination=new iu(i)}};function io(y){wn.useDeprecatedSynchronousErrorHandling?bp(y):no(y)}function iy(y){throw y}function nu(y,M){let{onStoppedNotification:J}=wn;J&&tr.setTimeout(()=>J(y,M))}var ry={closed:!0,next:Kr,error:iy,complete:Kr};var ir=typeof Symbol=="function"&&Symbol.observable||"@@observable";function cn(y){return y}function ru(...y){return su(y)}function su(y){return y.length===0?cn:y.length===1?y[0]:function(J){return y.reduce((et,i)=>i(et),J)}}var Re=(()=>{class y{constructor(J){J&&(this._subscribe=J)}lift(J){let et=new y;return et.source=this,et.operator=J,et}subscribe(J,et,i){let $=oy(J)?J:new nr(J,et,i);return er(()=>{let{operator:e,source:u}=this;$.add(e?e.call($,u):u?this._subscribe($):this._trySubscribe($))}),$}_trySubscribe(J){try{return this._subscribe(J)}catch(et){J.error(et)}}forEach(J,et){return et=Bp(et),new et((i,$)=>{let e=new nr({next:u=>{try{J(u)}catch(G){$(G),e.unsubscribe()}},error:$,complete:i});this.subscribe(e)})}_subscribe(J){var et;return(et=this.source)===null||et===void 0?void 0:et.subscribe(J)}[ir](){return this}pipe(...J){return su(J)(this)}toPromise(J){return J=Bp(J),new J((et,i)=>{let $;this.subscribe(e=>$=e,e=>i(e),()=>et($))})}}return y.create=M=>new y(M),y})();function Bp(y){var M;return(M=y??wn.Promise)!==null&&M!==void 0?M:Promise}function sy(y){return y&&jt(y.next)&&jt(y.error)&&jt(y.complete)}function oy(y){return y&&y instanceof wi||sy(y)&&eo(y)}function ou(y){return jt(y?.lift)}function Me(y){return M=>{if(ou(M))return M.lift(function(J){try{return y(J,this)}catch(et){this.error(et)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(y,M,J,et,i){return new au(y,M,J,et,i)}var au=class extends wi{constructor(M,J,et,i,$,e){super(M),this.onFinalize=$,this.shouldUnsubscribe=e,this._next=J?function(u){try{J(u)}catch(G){M.error(G)}}:super._next,this._error=i?function(u){try{i(u)}catch(G){M.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=et?function(){try{et()}catch(u){M.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:J}=this;super.unsubscribe(),!J&&((M=this.onFinalize)===null||M===void 0||M.call(this))}}};function rr(){return Me((y,M)=>{let J=null;y._refCount++;let et=Pe(M,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount){J=null;return}let i=y._connection,$=J;J=null,i&&(!$||i===$)&&i.unsubscribe(),M.unsubscribe()});y.subscribe(et),et.closed||(J=y.connect())})}var sr=class extends Re{constructor(M,J){super(),this.source=M,this.subjectFactory=J,this._subject=null,this._refCount=0,this._connection=null,ou(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){let M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Ye;let J=this.getSubject();M.add(this.source.subscribe(Pe(J,void 0,()=>{this._teardown(),J.complete()},et=>{this._teardown(),J.error(et)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Ye.EMPTY)}return M}refCount(){return rr()(this)}};var Up=_i(y=>function(){y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pn=(()=>{class y extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){let et=new ro(this,this);return et.operator=J,et}_throwIfClosed(){if(this.closed)throw new Up}next(J){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let et of this.currentObservers)et.next(J)}})}error(J){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;let{observers:et}=this;for(;et.length;)et.shift().error(J)}})}complete(){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return((J=this.observers)===null||J===void 0?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){let{hasError:et,isStopped:i,observers:$}=this;return et||i?_l:(this.currentObservers=null,$.push(J),new Ye(()=>{this.currentObservers=null,kr($,J)}))}_checkFinalizedStatuses(J){let{hasError:et,thrownError:i,isStopped:$}=this;et?J.error(i):$&&J.complete()}asObservable(){let J=new Re;return J.source=this,J}}return y.create=(M,J)=>new ro(M,J),y})(),ro=class extends pn{constructor(M,J){super(),this.destination=M,this.source=J}next(M){var J,et;(et=(J=this.destination)===null||J===void 0?void 0:J.next)===null||et===void 0||et.call(J,M)}error(M){var J,et;(et=(J=this.destination)===null||J===void 0?void 0:J.error)===null||et===void 0||et.call(J,M)}complete(){var M,J;(J=(M=this.destination)===null||M===void 0?void 0:M.complete)===null||J===void 0||J.call(M)}_subscribe(M){var J,et;return(et=(J=this.source)===null||J===void 0?void 0:J.subscribe(M))!==null&&et!==void 0?et:_l}};var nn=class extends pn{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){let J=super._subscribe(M);return!J.closed&&M.next(this._value),J}getValue(){let{hasError:M,thrownError:J,_value:et}=this;if(M)throw J;return this._throwIfClosed(),et}next(M){super.next(this._value=M)}};var yn=new Re(y=>y.complete());function Gp(y){return y&&jt(y.schedule)}function Vp(y){return y[y.length-1]}function zp(y){return jt(Vp(y))?y.pop():void 0}function Jn(y){return Gp(Vp(y))?y.pop():void 0}function Wp(y,M,J,et){function i($){return $ instanceof J?$:new J(function(e){e($)})}return new(J||(J=Promise))(function($,e){function u(r){try{h(et.next(r))}catch(o){e(o)}}function G(r){try{h(et.throw(r))}catch(o){e(o)}}function h(r){r.done?$(r.value):i(r.value).then(u,G)}h((et=et.apply(y,M||[])).next())})}function Hp(y){var M=typeof Symbol=="function"&&Symbol.iterator,J=M&&y[M],et=0;if(J)return J.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&et>=y.length&&(y=void 0),{value:y&&y[et++],done:!y}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(y){return this instanceof Pi?(this.v=y,this):new Pi(y)}function Xp(y,M,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et=J.apply(y,M||[]),i,$=[];return i={},e("next"),e("throw"),e("return"),i[Symbol.asyncIterator]=function(){return this},i;function e(n){et[n]&&(i[n]=function(l){return new Promise(function(f,s){$.push([n,l,f,s])>1||u(n,l)})})}function u(n,l){try{G(et[n](l))}catch(f){o($[0][3],f)}}function G(n){n.value instanceof Pi?Promise.resolve(n.value.v).then(h,r):o($[0][2],n)}function h(n){u("next",n)}function r(n){u("throw",n)}function o(n,l){n(l),$.shift(),$.length&&u($[0][0],$[0][1])}}function Yp(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M=y[Symbol.asyncIterator],J;return M?M.call(y):(y=typeof Hp=="function"?Hp(y):y[Symbol.iterator](),J={},et("next"),et("throw"),et("return"),J[Symbol.asyncIterator]=function(){return this},J);function et($){J[$]=y[$]&&function(e){return new Promise(function(u,G){e=y[$](e),i(u,G,e.done,e.value)})}}function i($,e,u,G){Promise.resolve(G).then(function(h){$({value:h,done:u})},e)}}var so=y=>y&&typeof y.length=="number"&&typeof y!="function";function oo(y){return jt(y?.then)}function ao(y){return jt(y[ir])}function lo(y){return Symbol.asyncIterator&&jt(y?.[Symbol.asyncIterator])}function uo(y){return new TypeError(`You provided ${y!==null&&typeof y=="object"?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ay(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ho=ay();function fo(y){return jt(y?.[ho])}function co(y){return Xp(this,arguments,function*(){let J=y.getReader();try{for(;;){let{value:et,done:i}=yield Pi(J.read());if(i)return yield Pi(void 0);yield yield Pi(et)}}finally{J.releaseLock()}})}function po(y){return jt(y?.getReader)}function Je(y){if(y instanceof Re)return y;if(y!=null){if(ao(y))return ly(y);if(so(y))return uy(y);if(oo(y))return hy(y);if(lo(y))return jp(y);if(fo(y))return fy(y);if(po(y))return dy(y)}throw uo(y)}function ly(y){return new Re(M=>{let J=y[ir]();if(jt(J.subscribe))return J.subscribe(M);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uy(y){return new Re(M=>{for(let J=0;J<y.length&&!M.closed;J++)M.next(y[J]);M.complete()})}function hy(y){return new Re(M=>{y.then(J=>{M.closed||(M.next(J),M.complete())},J=>M.error(J)).then(null,no)})}function fy(y){return new Re(M=>{for(let J of y)if(M.next(J),M.closed)return;M.complete()})}function jp(y){return new Re(M=>{cy(y,M).catch(J=>M.error(J))})}function dy(y){return jp(co(y))}function cy(y,M){var J,et,i,$;return Wp(this,void 0,void 0,function*(){try{for(J=Yp(y);et=yield J.next(),!et.done;){let e=et.value;if(M.next(e),M.closed)return}}catch(e){i={error:e}}finally{try{et&&!et.done&&($=J.return)&&(yield $.call(J))}finally{if(i)throw i.error}}M.complete()})}function an(y,M,J,et=0,i=!1){let $=M.schedule(function(){J(),i?y.add(this.schedule(null,et)):this.unsubscribe()},et);if(y.add($),!i)return $}function vo(y,M=0){return Me((J,et)=>{J.subscribe(Pe(et,i=>an(et,y,()=>et.next(i),M),()=>an(et,y,()=>et.complete(),M),i=>an(et,y,()=>et.error(i),M)))})}function go(y,M=0){return Me((J,et)=>{et.add(y.schedule(()=>J.subscribe(et),M))})}function $p(y,M){return Je(y).pipe(go(M),vo(M))}function kp(y,M){return Je(y).pipe(go(M),vo(M))}function Kp(y,M){return new Re(J=>{let et=0;return M.schedule(function(){et===y.length?J.complete():(J.next(y[et++]),J.closed||this.schedule())})})}function Zp(y,M){return new Re(J=>{let et;return an(J,M,()=>{et=y[ho](),an(J,M,()=>{let i,$;try{({value:i,done:$}=et.next())}catch(e){J.error(e);return}$?J.complete():J.next(i)},0,!0)}),()=>jt(et?.return)&&et.return()})}function mo(y,M){if(!y)throw new Error("Iterable cannot be null");return new Re(J=>{an(J,M,()=>{let et=y[Symbol.asyncIterator]();an(J,M,()=>{et.next().then(i=>{i.done?J.complete():J.next(i.value)})},0,!0)})})}function Qp(y,M){return mo(co(y),M)}function Jp(y,M){if(y!=null){if(ao(y))return $p(y,M);if(so(y))return Kp(y,M);if(oo(y))return kp(y,M);if(lo(y))return mo(y,M);if(fo(y))return Zp(y,M);if(po(y))return Qp(y,M)}throw uo(y)}function He(y,M){return M?Jp(y,M):Je(y)}function Yt(...y){let M=Jn(y);return He(y,M)}function or(y,M){let J=jt(y)?y:()=>y,et=i=>i.error(J());return new Re(M?i=>M.schedule(et,0,i):et)}function lu(y){return!!y&&(y instanceof Re||jt(y.lift)&&jt(y.subscribe))}var Wn=_i(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});function qt(y,M){return Me((J,et)=>{let i=0;J.subscribe(Pe(et,$=>{et.next(y.call(M,$,i++))}))})}var{isArray:py}=Array;function vy(y,M){return py(M)?y(...M):y(M)}function qp(y){return qt(M=>vy(y,M))}var{isArray:gy}=Array,{getPrototypeOf:my,prototype:xy,keys:yy}=Object;function _p(y){if(y.length===1){let M=y[0];if(gy(M))return{args:M,keys:null};if(Ty(M)){let J=yy(M);return{args:J.map(et=>M[et]),keys:J}}}return{args:y,keys:null}}function Ty(y){return y&&typeof y=="object"&&my(y)===xy}function tv(y,M){return y.reduce((J,et,i)=>(J[et]=M[i],J),{})}function xo(...y){let M=Jn(y),J=zp(y),{args:et,keys:i}=_p(y);if(et.length===0)return He([],M);let $=new Re(Ey(et,M,i?e=>tv(i,e):cn));return J?$.pipe(qp(J)):$}function Ey(y,M,J=cn){return et=>{ev(M,()=>{let{length:i}=y,$=new Array(i),e=i,u=i;for(let G=0;G<i;G++)ev(M,()=>{let h=He(y[G],M),r=!1;h.subscribe(Pe(et,o=>{$[G]=o,r||(r=!0,u--),u||et.next(J($.slice()))},()=>{--e||et.complete()}))},et)},et)}}function ev(y,M,J){y?an(J,y,M):M()}function nv(y,M,J,et,i,$,e,u){let G=[],h=0,r=0,o=!1,n=()=>{o&&!G.length&&!h&&M.complete()},l=s=>h<et?f(s):G.push(s),f=s=>{$&&M.next(s),h++;let d=!1;Je(J(s,r++)).subscribe(Pe(M,p=>{i?.(p),$?l(p):M.next(p)},()=>{d=!0},void 0,()=>{if(d)try{for(h--;G.length&&h<et;){let p=G.shift();e?an(M,e,()=>f(p)):f(p)}n()}catch(p){M.error(p)}}))};return y.subscribe(Pe(M,l,()=>{o=!0,n()})),()=>{u?.()}}function $e(y,M,J=1/0){return jt(M)?$e((et,i)=>qt(($,e)=>M(et,$,i,e))(Je(y(et,i))),J):(typeof M=="number"&&(J=M),Me((et,i)=>nv(et,i,y,J)))}function uu(y=1/0){return $e(cn,y)}function iv(){return uu(1)}function ar(...y){return iv()(He(y,Jn(y)))}function yo(y){return new Re(M=>{Je(y()).subscribe(M)})}function vn(y,M){return Me((J,et)=>{let i=0;J.subscribe(Pe(et,$=>y.call(M,$,i++)&&et.next($)))})}function qn(y){return Me((M,J)=>{let et=null,i=!1,$;et=M.subscribe(Pe(J,void 0,void 0,e=>{$=Je(y(e,qn(y)(M))),et?(et.unsubscribe(),et=null,$.subscribe(J)):i=!0})),i&&(et.unsubscribe(),et=null,$.subscribe(J))})}function rv(y,M,J,et,i){return($,e)=>{let u=J,G=M,h=0;$.subscribe(Pe(e,r=>{let o=h++;G=u?y(G,r,o):(u=!0,r),et&&e.next(G)},i&&(()=>{u&&e.next(G),e.complete()})))}}function _n(y,M){return jt(M)?$e(y,M,1):$e(y,1)}function ti(y){return Me((M,J)=>{let et=!1;M.subscribe(Pe(J,i=>{et=!0,J.next(i)},()=>{et||J.next(y),J.complete()}))})}function Xn(y){return y<=0?()=>yn:Me((M,J)=>{let et=0;M.subscribe(Pe(J,i=>{++et<=y&&(J.next(i),y<=et&&J.complete())}))})}function hu(y){return qt(()=>y)}function To(y=Cy){return Me((M,J)=>{let et=!1;M.subscribe(Pe(J,i=>{et=!0,J.next(i)},()=>et?J.complete():J.error(y())))})}function Cy(){return new Wn}function ei(y){return Me((M,J)=>{try{M.subscribe(J)}finally{J.add(y)}})}function Ln(y,M){let J=arguments.length>=2;return et=>et.pipe(y?vn((i,$)=>y(i,$,et)):cn,Xn(1),J?ti(M):To(()=>new Wn))}function lr(y){return y<=0?()=>yn:Me((M,J)=>{let et=[];M.subscribe(Pe(J,i=>{et.push(i),y<et.length&&et.shift()},()=>{for(let i of et)J.next(i);J.complete()},void 0,()=>{et=null}))})}function fu(y,M){let J=arguments.length>=2;return et=>et.pipe(y?vn((i,$)=>y(i,$,et)):cn,lr(1),J?ti(M):To(()=>new Wn))}function du(y,M){return Me(rv(y,M,arguments.length>=2,!0))}function cu(...y){let M=Jn(y);return Me((J,et)=>{(M?ar(y,J,M):ar(y,J)).subscribe(et)})}function gn(y,M){return Me((J,et)=>{let i=null,$=0,e=!1,u=()=>e&&!i&&et.complete();J.subscribe(Pe(et,G=>{i?.unsubscribe();let h=0,r=$++;Je(y(G,r)).subscribe(i=Pe(et,o=>et.next(M?M(G,o,r,h++):o),()=>{i=null,u()}))},()=>{e=!0,u()}))})}function pu(y){return Me((M,J)=>{Je(y).subscribe(Pe(J,()=>J.complete(),Kr)),!J.closed&&M.subscribe(J)})}function Ke(y,M,J){let et=jt(y)||M||J?{next:y,error:M,complete:J}:y;return et?Me((i,$)=>{var e;(e=et.subscribe)===null||e===void 0||e.call(et);let u=!0;i.subscribe(Pe($,G=>{var h;(h=et.next)===null||h===void 0||h.call(et,G),$.next(G)},()=>{var G;u=!1,(G=et.complete)===null||G===void 0||G.call(et),$.complete()},G=>{var h;u=!1,(h=et.error)===null||h===void 0||h.call(et,G),$.error(G)},()=>{var G,h;u&&((G=et.unsubscribe)===null||G===void 0||G.call(et)),(h=et.finalize)===null||h===void 0||h.call(et)}))}):cn}var Wt=class extends Error{constructor(M,J){super(Xo(M,J)),this.code=M}};function Xo(y,M){return`${`NG0${Math.abs(y)}`}${M?": "+M:""}`}var Au=class extends pn{constructor(M=!1){super(),this.__isAsync=M}emit(M){super.next(M)}subscribe(M,J,et){let i=M,$=J||(()=>null),e=et;if(M&&typeof M=="object"){let G=M;i=G.next?.bind(G),$=G.error?.bind(G),e=G.complete?.bind(G)}this.__isAsync&&($=vu($),i&&(i=vu(i)),e&&(e=vu(e)));let u=super.subscribe({next:i,error:$,complete:e});return M instanceof Ye&&M.add(u),u}};function vu(y){return M=>{setTimeout(y,void 0,M)}}var En=Au;var _t=function(y){return y[y.Default=0]="Default",y[y.Host=1]="Host",y[y.Self=2]="Self",y[y.SkipSelf=4]="SkipSelf",y[y.Optional=8]="Optional",y}(_t||{});function ln(y){if(typeof y=="string")return y;if(Array.isArray(y))return"["+y.map(ln).join(", ")+"]";if(y==null)return""+y;if(y.overriddenName)return`${y.overriddenName}`;if(y.name)return`${y.name}`;let M=y.toString();if(M==null)return""+M;let J=M.indexOf(`
`);return J===-1?M:M.substring(0,J)}function sv(y,M){return y==null||y===""?M===null?"":M:M==null||M===""?y:y+" "+M}var Bv=function(y){return y[y.OnPush=0]="OnPush",y[y.Default=1]="Default",y}(Bv||{}),Bn=function(y){return y[y.Emulated=0]="Emulated",y[y.None=2]="None",y[y.ShadowDom=3]="ShadowDom",y}(Bn||{});function Yo(y){return{toString:y}.toString()}var Zr=globalThis;var _r={},Nn=[];function Le(y){for(let M in y)if(y[M]===Le)return M;throw Error("Could not find renamed property on target object.")}var Sy=Le({\u0275cmp:Le}),Dy=Le({\u0275dir:Le}),My=Le({\u0275pipe:Le}),Ay=Le({\u0275mod:Le}),wo=Le({\u0275fac:Le}),Qr=Le({__NG_ELEMENT_ID__:Le}),ov=Le({__NG_ENV_ID__:Le}),ri=function(y){return y[y.None=0]="None",y[y.SignalBased=1]="SignalBased",y[y.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",y}(ri||{});function Uv(y,M,J){let et=y.length;for(;;){let i=y.indexOf(M,J);if(i===-1)return i;if(i===0||y.charCodeAt(i-1)<=32){let $=M.length;if(i+$===et||y.charCodeAt(i+$)<=32)return i}J=i+1}}function wu(y,M,J){let et=0;for(;et<J.length;){let i=J[et];if(typeof i=="number"){if(i!==0)break;et++;let $=J[et++],e=J[et++],u=J[et++];y.setAttribute(M,e,u,$)}else{let $=i,e=J[++et];Py($)?y.setProperty(M,$,e):y.setAttribute(M,$,e),et++}}return et}function wy(y){return y===3||y===4||y===6}function Py(y){return y.charCodeAt(0)===64}function lh(y,M){if(!(M===null||M.length===0))if(y===null||y.length===0)y=M.slice();else{let J=-1;for(let et=0;et<M.length;et++){let i=M[et];typeof i=="number"?J=i:J===0||(J===-1||J===2?av(y,J,i,null,M[++et]):av(y,J,i,null,null))}}return y}function av(y,M,J,et,i){let $=0,e=y.length;if(M===-1)e=-1;else for(;$<y.length;){let u=y[$++];if(typeof u=="number"){if(u===M){e=-1;break}else if(u>M){e=$-1;break}}}for(;$<y.length;){let u=y[$];if(typeof u=="number")break;if(u===J){if(et===null){i!==null&&(y[$+1]=i);return}else if(et===y[$+1]){y[$+2]=i;return}}$++,et!==null&&$++,i!==null&&$++}e!==-1&&(y.splice(e,0,M),$=e+1),y.splice($++,0,J),et!==null&&y.splice($++,0,et),i!==null&&y.splice($++,0,i)}var Gv="ng-template";function Ry(y,M,J){let et=0,i=!0;for(;et<y.length;){let $=y[et++];if(typeof $=="string"&&i){let e=y[et++];if(J&&$==="class"&&Uv(e.toLowerCase(),M,0)!==-1)return!0}else if($===1){for(;et<y.length&&typeof($=y[et++])=="string";)if($.toLowerCase()===M)return!0;return!1}else typeof $=="number"&&(i=!1)}return!1}function Vv(y){return y.type===4&&y.value!==Gv}function Iy(y,M,J){let et=y.type===4&&!J?Gv:y.value;return M===et}function Fy(y,M,J){let et=4,i=y.attrs||[],$=Ny(i),e=!1;for(let u=0;u<M.length;u++){let G=M[u];if(typeof G=="number"){if(!e&&!Pn(et)&&!Pn(G))return!1;if(e&&Pn(G))continue;e=!1,et=G|et&1;continue}if(!e)if(et&4){if(et=2|et&1,G!==""&&!Iy(y,G,J)||G===""&&M.length===1){if(Pn(et))return!1;e=!0}}else{let h=et&8?G:M[++u];if(et&8&&y.attrs!==null){if(!Ry(y.attrs,h,J)){if(Pn(et))return!1;e=!0}continue}let r=et&8?"class":G,o=Oy(r,i,Vv(y),J);if(o===-1){if(Pn(et))return!1;e=!0;continue}if(h!==""){let n;o>$?n="":n=i[o+1].toLowerCase();let l=et&8?n:null;if(l&&Uv(l,h,0)!==-1||et&2&&h!==n){if(Pn(et))return!1;e=!0}}}}return Pn(et)||e}function Pn(y){return(y&1)===0}function Oy(y,M,J,et){if(M===null)return-1;let i=0;if(et||!J){let $=!1;for(;i<M.length;){let e=M[i];if(e===y)return i;if(e===3||e===6)$=!0;else if(e===1||e===2){let u=M[++i];for(;typeof u=="string";)u=M[++i];continue}else{if(e===4)break;if(e===0){i+=4;continue}}i+=$?1:2}return-1}else return by(M,y)}function Ly(y,M,J=!1){for(let et=0;et<M.length;et++)if(Fy(y,M[et],J))return!0;return!1}function Ny(y){for(let M=0;M<y.length;M++){let J=y[M];if(wy(J))return M}return y.length}function by(y,M){let J=y.indexOf(4);if(J>-1)for(J++;J<y.length;){let et=y[J];if(typeof et=="number")return-1;if(et===M)return J;J++}return-1}function lv(y,M){return y?":not("+M.trim()+")":M}function By(y){let M=y[0],J=1,et=2,i="",$=!1;for(;J<y.length;){let e=y[J];if(typeof e=="string")if(et&2){let u=y[++J];i+="["+e+(u.length>0?'="'+u+'"':"")+"]"}else et&8?i+="."+e:et&4&&(i+=" "+e);else i!==""&&!Pn(e)&&(M+=lv($,i),i=""),et=e,$=$||!Pn(et);J++}return i!==""&&(M+=lv($,i)),M}function Uy(y){return y.map(By).join(",")}function Gy(y){let M=[],J=[],et=1,i=2;for(;et<y.length;){let $=y[et];if(typeof $=="string")i===2?$!==""&&M.push($,y[++et]):i===8&&J.push($);else{if(!Pn(i))break;i=$}et++}return{attrs:M,classes:J}}function hi(y){return Yo(()=>{let M=Yv(y),J=Ge(Gt({},M),{decls:y.decls,vars:y.vars,template:y.template,consts:y.consts||null,ngContentSelectors:y.ngContentSelectors,onPush:y.changeDetection===Bv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:M.standalone&&y.dependencies||null,getStandaloneInjector:null,signals:y.signals??!1,data:y.data||{},encapsulation:y.encapsulation||Bn.Emulated,styles:y.styles||Nn,_:null,schemas:y.schemas||null,tView:null,id:""});jv(J);let et=y.dependencies;return J.directiveDefs=hv(et,!1),J.pipeDefs=hv(et,!0),J.id=Hy(J),J})}function Vy(y){return Ii(y)||zv(y)}function zy(y){return y!==null}function Tr(y){return Yo(()=>({type:y.type,bootstrap:y.bootstrap||Nn,declarations:y.declarations||Nn,imports:y.imports||Nn,exports:y.exports||Nn,transitiveCompileScopes:null,schemas:y.schemas||null,id:y.id||null}))}function uv(y,M){if(y==null)return _r;let J={};for(let et in y)if(y.hasOwnProperty(et)){let i=y[et],$,e,u=ri.None;Array.isArray(i)?(u=i[0],$=i[1],e=i[2]??$):($=i,e=i),M?(J[$]=u!==ri.None?[et,u]:et,M[$]=e):J[$]=et}return J}function jo(y){return Yo(()=>{let M=Yv(y);return jv(M),M})}function Ii(y){return y[Sy]||null}function zv(y){return y[Dy]||null}function Hv(y){return y[My]||null}function Wv(y){let M=Ii(y)||zv(y)||Hv(y);return M!==null?M.standalone:!1}function Xv(y,M){let J=y[Ay]||null;if(!J&&M===!0)throw new Error(`Type ${ln(y)} does not have '\u0275mod' property.`);return J}function Yv(y){let M={};return{type:y.type,providersResolver:null,factory:null,hostBindings:y.hostBindings||null,hostVars:y.hostVars||0,hostAttrs:y.hostAttrs||null,contentQueries:y.contentQueries||null,declaredInputs:M,inputTransforms:null,inputConfig:y.inputs||_r,exportAs:y.exportAs||null,standalone:y.standalone===!0,signals:y.signals===!0,selectors:y.selectors||Nn,viewQuery:y.viewQuery||null,features:y.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uv(y.inputs,M),outputs:uv(y.outputs),debugInfo:null}}function jv(y){y.features?.forEach(M=>M(y))}function hv(y,M){if(!y)return null;let J=M?Hv:Vy;return()=>(typeof y=="function"?y():y).map(et=>J(et)).filter(zy)}function Hy(y){let M=0,J=[y.selectors,y.ngContentSelectors,y.hostVars,y.hostAttrs,y.consts,y.vars,y.decls,y.encapsulation,y.standalone,y.signals,y.exportAs,JSON.stringify(y.inputs),JSON.stringify(y.outputs),Object.getOwnPropertyNames(y.type.prototype),!!y.contentQueries,!!y.viewQuery].join("|");for(let i of J)M=Math.imul(31,M)+i.charCodeAt(0)<<0;return M+=2147483648,"c"+M}var $n=0,Te=1,zt=2,rn=3,Rn=4,In=5,Po=6,Ro=7,si=8,pr=9,oi=10,Sn=11,ts=12,fv=13,us=14,Un=15,hs=16,ur=17,Yn=18,$o=19,$v=20,Jr=21,gu=22,Fi=23,ai=25,kv=1;var Oi=7,Io=8,vr=9,mn=10,uh=function(y){return y[y.None=0]="None",y[y.HasTransplantedViews=2]="HasTransplantedViews",y}(uh||{});function dr(y){return Array.isArray(y)&&typeof y[kv]=="object"}function kn(y){return Array.isArray(y)&&y[kv]===!0}function Kv(y){return(y.flags&4)!==0}function ko(y){return y.componentOffset>-1}function Zv(y){return(y.flags&1)===1}function fs(y){return!!y.template}function Wy(y){return(y[zt]&512)!==0}var Xy="svg",Yy="math",jy=!1;function $y(){return jy}function li(y){for(;Array.isArray(y);)y=y[$n];return y}function Gn(y,M){return li(M[y.index])}function Qv(y,M){return y.data[M]}function Er(y,M){let J=M[y];return dr(J)?J:J[$n]}function ky(y){return(y[zt]&4)===4}function hh(y){return(y[zt]&128)===128}function Ky(y){return kn(y[rn])}function Fo(y,M){return M==null?null:y[M]}function Jv(y){y[ur]=0}function Zy(y){y[zt]&1024||(y[zt]|=1024,hh(y)&&es(y))}function fh(y){return!!(y[zt]&9216||y[Fi]?.dirty)}function Pu(y){fh(y)?es(y):y[zt]&64&&($y()?(y[zt]|=1024,es(y)):y[oi].changeDetectionScheduler?.notify())}function es(y){y[oi].changeDetectionScheduler?.notify();let M=ns(y);for(;M!==null&&!(M[zt]&8192||(M[zt]|=8192,!hh(M)));)M=ns(M)}function Qy(y,M){if((y[zt]&256)===256)throw new Wt(911,!1);y[Jr]===null&&(y[Jr]=[]),y[Jr].push(M)}function ns(y){let M=y[rn];return kn(M)?M[rn]:M}var Ie={lFrame:rg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jy(){return Ie.lFrame.elementDepthCount}function qy(){Ie.lFrame.elementDepthCount++}function _y(){Ie.lFrame.elementDepthCount--}function qv(){return Ie.bindingsEnabled}function t1(){return Ie.skipHydrationRootTNode!==null}function e1(y){return Ie.skipHydrationRootTNode===y}function n1(){Ie.skipHydrationRootTNode=null}function sn(){return Ie.lFrame.lView}function fi(){return Ie.lFrame.tView}function Kn(){let y=_v();for(;y!==null&&y.type===64;)y=y.parent;return y}function _v(){return Ie.lFrame.currentTNode}function i1(){let y=Ie.lFrame,M=y.currentTNode;return y.isParent?M:M.parent}function ds(y,M){let J=Ie.lFrame;J.currentTNode=y,J.isParent=M}function tg(){return Ie.lFrame.isParent}function r1(){Ie.lFrame.isParent=!1}function s1(y){return Ie.lFrame.bindingIndex=y}function o1(){return Ie.lFrame.bindingIndex++}function a1(){return Ie.lFrame.inI18n}function l1(y,M){let J=Ie.lFrame;J.bindingIndex=J.bindingRootIndex=y,Ru(M)}function u1(){return Ie.lFrame.currentDirectiveIndex}function Ru(y){Ie.lFrame.currentDirectiveIndex=y}function eg(){return Ie.lFrame.currentQueryIndex}function dh(y){Ie.lFrame.currentQueryIndex=y}function h1(y){let M=y[Te];return M.type===2?M.declTNode:M.type===1?y[In]:null}function ng(y,M,J){if(J&_t.SkipSelf){let i=M,$=y;for(;i=i.parent,i===null&&!(J&_t.Host);)if(i=h1($),i===null||($=$[us],i.type&10))break;if(i===null)return!1;M=i,y=$}let et=Ie.lFrame=ig();return et.currentTNode=M,et.lView=y,!0}function ch(y){let M=ig(),J=y[Te];Ie.lFrame=M,M.currentTNode=J.firstChild,M.lView=y,M.tView=J,M.contextLView=y,M.bindingIndex=J.bindingStartIndex,M.inI18n=!1}function ig(){let y=Ie.lFrame,M=y===null?null:y.child;return M===null?rg(y):M}function rg(y){let M={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:y,child:null,inI18n:!1};return y!==null&&(y.child=M),M}function sg(){let y=Ie.lFrame;return Ie.lFrame=y.parent,y.currentTNode=null,y.lView=null,y}var og=sg;function ph(){let y=sg();y.isParent=!0,y.tView=null,y.selectedIndex=-1,y.contextLView=null,y.elementDepthCount=0,y.currentDirectiveIndex=-1,y.currentNamespace=null,y.bindingRootIndex=-1,y.bindingIndex=-1,y.currentQueryIndex=0}function ag(){return Ie.lFrame.selectedIndex}function Li(y){Ie.lFrame.selectedIndex=y}function f1(){let y=Ie.lFrame;return Qv(y.tView,y.selectedIndex)}function d1(){return Ie.lFrame.currentNamespace}var lg=!0;function vh(){return lg}function gh(y){lg=y}function c1(){return Cr(Kn(),sn())}function Cr(y,M){return new Bi(Gn(y,M))}var Bi=(()=>{let M=class M{constructor(et){this.nativeElement=et}};M.__NG_ELEMENT_ID__=c1;let y=M;return y})();function p1(y){return y instanceof Bi?y.nativeElement:y}function v1(y,M,J){if(y.length!==M.length)return!1;for(let et=0;et<y.length;et++){let i=y[et],$=M[et];if(J&&(i=J(i),$=J($)),$!==i)return!1}return!0}function g1(y){return y.flat(Number.POSITIVE_INFINITY)}function mh(y,M){y.forEach(J=>Array.isArray(J)?mh(J,M):M(J))}function ug(y,M,J){M>=y.length?y.push(J):y.splice(M,0,J)}function Oo(y,M){return M>=y.length-1?y.pop():y.splice(M,1)[0]}function m1(){return this._results[Symbol.iterator]()}var Iu=class y{get changes(){return this._changes??=new En}constructor(M=!1){this._emitDistinctChangesOnly=M,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let J=y.prototype;J[Symbol.iterator]||(J[Symbol.iterator]=m1)}get(M){return this._results[M]}map(M){return this._results.map(M)}filter(M){return this._results.filter(M)}find(M){return this._results.find(M)}reduce(M,J){return this._results.reduce(M,J)}forEach(M){this._results.forEach(M)}some(M){return this._results.some(M)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(M,J){this.dirty=!1;let et=g1(M);(this._changesDetected=!v1(this._results,et,J))&&(this._results=et,this.length=et.length,this.last=et[this.length-1],this.first=et[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(M){this._onDirty=M}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function hg(y){return(y.flags&128)===128}var Fu;function fg(y){Fu=y}function x1(){if(Fu!==void 0)return Fu;if(typeof document<"u")return document;throw new Wt(210,!1)}function Xt(y){return{token:y.token,providedIn:y.providedIn||null,factory:y.factory,value:void 0}}function Sr(y){return{providers:y.providers||[],imports:y.imports||[]}}function Ko(y){return dv(y,cg)||dv(y,pg)}function dg(y){return Ko(y)!==null}function dv(y,M){return y.hasOwnProperty(M)?y[M]:null}function y1(y){let M=y&&(y[cg]||y[pg]);return M||null}function cv(y){return y&&(y.hasOwnProperty(pv)||y.hasOwnProperty(T1))?y[pv]:null}var cg=Le({\u0275prov:Le}),pv=Le({\u0275inj:Le}),pg=Le({ngInjectableDef:Le}),T1=Le({ngInjectorDef:Le}),$t=class{constructor(M,J){this._desc=M,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof J=="number"?this.__NG_ELEMENT_ID__=J:J!==void 0&&(this.\u0275prov=Xt({token:this,providedIn:J.providedIn||"root",factory:J.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},xh=new $t("",{providedIn:"root",factory:()=>E1}),E1="ng",yh=new $t(""),di=new $t("",{providedIn:"platform",factory:()=>"unknown"});var Th=new $t("",{providedIn:"root",factory:()=>x1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var C1=Le({__forward_ref__:Le});function vg(y){return y.__forward_ref__=vg,y.toString=function(){return ln(this())},y}function Cn(y){return gg(y)?y():y}function gg(y){return typeof y=="function"&&y.hasOwnProperty(C1)&&y.__forward_ref__===vg}function mg(y){return y&&!!y.\u0275providers}function S1(y){return typeof y=="string"?y:y==null?"":String(y)}function D1(y){return typeof y=="function"?y.name||y.toString():typeof y=="object"&&y!=null&&typeof y.type=="function"?y.type.name||y.type.toString():S1(y)}function M1(y,M){let J=M?`. Dependency path: ${M.join(" > ")} > ${y}`:"";throw new Wt(-200,y)}function Eh(y,M){throw new Wt(-201,!1)}var Ou;function A1(){return Ou}function Tn(y){let M=Ou;return Ou=y,M}function xg(y,M,J){let et=Ko(y);if(et&&et.providedIn=="root")return et.value===void 0?et.value=et.factory():et.value;if(J&_t.Optional)return null;if(M!==void 0)return M;Eh(y,"Injector")}var w1={},is=w1,P1="__NG_DI_FLAG__",Lo="ngTempTokenPath",R1="ngTokenPath",I1=/\n/gm,F1="\u0275",vv="__source",qr;function ni(y){let M=qr;return qr=y,M}function O1(y,M=_t.Default){if(qr===void 0)throw new Wt(-203,!1);return qr===null?xg(y,void 0,M):qr.get(y,M&_t.Optional?null:void 0,M)}function Zt(y,M=_t.Default){return(A1()||O1)(Cn(y),M)}function Bt(y,M=_t.Default){return Zt(y,Zo(M))}function Zo(y){return typeof y>"u"||typeof y=="number"?y:0|(y.optional&&8)|(y.host&&1)|(y.self&&2)|(y.skipSelf&&4)}function Lu(y){let M=[];for(let J=0;J<y.length;J++){let et=Cn(y[J]);if(Array.isArray(et)){if(et.length===0)throw new Wt(900,!1);let i,$=_t.Default;for(let e=0;e<et.length;e++){let u=et[e],G=L1(u);typeof G=="number"?G===-1?i=u.token:$|=G:i=u}M.push(Zt(i,$))}else M.push(Zt(et))}return M}function L1(y){return y[P1]}function N1(y,M,J,et){let i=y[Lo];throw M[vv]&&i.unshift(M[vv]),y.message=b1(`
`+y.message,i,J,et),y[R1]=i,y[Lo]=null,y}function b1(y,M,J,et=null){y=y&&y.charAt(0)===`
`&&y.charAt(1)==F1?y.slice(2):y;let i=ln(M);if(Array.isArray(M))i=M.map(ln).join(" -> ");else if(typeof M=="object"){let $=[];for(let e in M)if(M.hasOwnProperty(e)){let u=M[e];$.push(e+":"+(typeof u=="string"?JSON.stringify(u):ln(u)))}i=`{${$.join(", ")}}`}return`${J}${et?"("+et+")":""}[${i}]: ${y.replace(I1,`
  `)}`}var B1="h",U1="b";var G1=()=>null;function Ch(y,M,J=!1){return G1(y,M,J)}function gr(y,M){let J=y.hasOwnProperty(wo);return J?y[wo]:null}var mr=new $t(""),yg=new $t("",-1),Tg=new $t(""),No=class{get(M,J=is){if(J===is){let et=new Error(`NullInjectorError: No provider for ${ln(M)}!`);throw et.name="NullInjectorError",et}return J}};function Dr(y){return{\u0275providers:y}}function V1(...y){return{\u0275providers:Eg(!0,y),\u0275fromNgModule:!0}}function Eg(y,...M){let J=[],et=new Set,i,$=e=>{J.push(e)};return mh(M,e=>{let u=e;Nu(u,$,[],et)&&(i||=[],i.push(u))}),i!==void 0&&Cg(i,$),J}function Cg(y,M){for(let J=0;J<y.length;J++){let{ngModule:et,providers:i}=y[J];Sh(i,$=>{M($,et)})}}function Nu(y,M,J,et){if(y=Cn(y),!y)return!1;let i=null,$=cv(y),e=!$&&Ii(y);if(!$&&!e){let G=y.ngModule;if($=cv(G),$)i=G;else return!1}else{if(e&&!e.standalone)return!1;i=y}let u=et.has(i);if(e){if(u)return!1;if(et.add(i),e.dependencies){let G=typeof e.dependencies=="function"?e.dependencies():e.dependencies;for(let h of G)Nu(h,M,J,et)}}else if($){if($.imports!=null&&!u){et.add(i);let h;try{mh($.imports,r=>{Nu(r,M,J,et)&&(h||=[],h.push(r))})}finally{}h!==void 0&&Cg(h,M)}if(!u){let h=gr(i)||(()=>new i);M({provide:i,useFactory:h,deps:Nn},i),M({provide:Tg,useValue:i,multi:!0},i),M({provide:mr,useValue:()=>Zt(i),multi:!0},i)}let G=$.providers;if(G!=null&&!u){let h=y;Sh(G,r=>{M(r,h)})}}else return!1;return i!==y&&y.providers!==void 0}function Sh(y,M){for(let J of y)mg(J)&&(J=J.\u0275providers),Array.isArray(J)?Sh(J,M):M(J)}var z1=Le({provide:String,useValue:Le});function Sg(y){return y!==null&&typeof y=="object"&&z1 in y}function H1(y){return!!(y&&y.useExisting)}function W1(y){return!!(y&&y.useFactory)}function bu(y){return typeof y=="function"}var Qo=new $t(""),Eo={},X1={},mu;function Dh(){return mu===void 0&&(mu=new No),mu}var un=class{},rs=class extends un{get destroyed(){return this._destroyed}constructor(M,J,et,i){super(),this.parent=J,this.source=et,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uu(M,e=>this.processProvider(e)),this.records.set(yg,hr(void 0,this)),i.has("environment")&&this.records.set(un,hr(void 0,this));let $=this.records.get(Qo);$!=null&&typeof $.value=="string"&&this.scopes.add($.value),this.injectorDefTypes=new Set(this.get(Tg,Nn,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let J of this._ngOnDestroyHooks)J.ngOnDestroy();let M=this._onDestroyHooks;this._onDestroyHooks=[];for(let J of M)J()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(M){return this.assertNotDestroyed(),this._onDestroyHooks.push(M),()=>this.removeOnDestroy(M)}runInContext(M){this.assertNotDestroyed();let J=ni(this),et=Tn(void 0),i;try{return M()}finally{ni(J),Tn(et)}}get(M,J=is,et=_t.Default){if(this.assertNotDestroyed(),M.hasOwnProperty(ov))return M[ov](this);et=Zo(et);let i,$=ni(this),e=Tn(void 0);try{if(!(et&_t.SkipSelf)){let G=this.records.get(M);if(G===void 0){let h=Z1(M)&&Ko(M);h&&this.injectableDefInScope(h)?G=hr(Bu(M),Eo):G=null,this.records.set(M,G)}if(G!=null)return this.hydrate(M,G)}let u=et&_t.Self?Dh():this.parent;return J=et&_t.Optional&&J===is?null:J,u.get(M,J)}catch(u){if(u.name==="NullInjectorError"){if((u[Lo]=u[Lo]||[]).unshift(ln(M)),$)throw u;return N1(u,M,"R3InjectorError",this.source)}else throw u}finally{Tn(e),ni($)}}resolveInjectorInitializers(){let M=ni(this),J=Tn(void 0),et;try{let i=this.get(mr,Nn,_t.Self);for(let $ of i)$()}finally{ni(M),Tn(J)}}toString(){let M=[],J=this.records;for(let et of J.keys())M.push(ln(et));return`R3Injector[${M.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Wt(205,!1)}processProvider(M){M=Cn(M);let J=bu(M)?M:Cn(M&&M.provide),et=j1(M);if(!bu(M)&&M.multi===!0){let i=this.records.get(J);i||(i=hr(void 0,Eo,!0),i.factory=()=>Lu(i.multi),this.records.set(J,i)),J=M,i.multi.push(M)}this.records.set(J,et)}hydrate(M,J){return J.value===Eo&&(J.value=X1,J.value=J.factory()),typeof J.value=="object"&&J.value&&K1(J.value)&&this._ngOnDestroyHooks.add(J.value),J.value}injectableDefInScope(M){if(!M.providedIn)return!1;let J=Cn(M.providedIn);return typeof J=="string"?J==="any"||this.scopes.has(J):this.injectorDefTypes.has(J)}removeOnDestroy(M){let J=this._onDestroyHooks.indexOf(M);J!==-1&&this._onDestroyHooks.splice(J,1)}};function Bu(y){let M=Ko(y),J=M!==null?M.factory:gr(y);if(J!==null)return J;if(y instanceof $t)throw new Wt(204,!1);if(y instanceof Function)return Y1(y);throw new Wt(204,!1)}function Y1(y){if(y.length>0)throw new Wt(204,!1);let J=y1(y);return J!==null?()=>J.factory(y):()=>new y}function j1(y){if(Sg(y))return hr(void 0,y.useValue);{let M=$1(y);return hr(M,Eo)}}function $1(y,M,J){let et;if(bu(y)){let i=Cn(y);return gr(i)||Bu(i)}else if(Sg(y))et=()=>Cn(y.useValue);else if(W1(y))et=()=>y.useFactory(...Lu(y.deps||[]));else if(H1(y))et=()=>Zt(Cn(y.useExisting));else{let i=Cn(y&&(y.useClass||y.provide));if(k1(y))et=()=>new i(...Lu(y.deps));else return gr(i)||Bu(i)}return et}function hr(y,M,J=!1){return{factory:y,value:M,multi:J?[]:void 0}}function k1(y){return!!y.deps}function K1(y){return y!==null&&typeof y=="object"&&typeof y.ngOnDestroy=="function"}function Z1(y){return typeof y=="function"||typeof y=="object"&&y instanceof $t}function Uu(y,M){for(let J of y)Array.isArray(J)?Uu(J,M):J&&mg(J)?Uu(J.\u0275providers,M):M(J)}function Zn(y,M){y instanceof rs&&y.assertNotDestroyed();let J,et=ni(y),i=Tn(void 0);try{return M()}finally{ni(et),Tn(i)}}function Q1(y){return typeof y=="function"}var Gu=class{constructor(M,J,et){this.previousValue=M,this.currentValue=J,this.firstChange=et}isFirstChange(){return this.firstChange}};function Dg(y,M,J,et){M!==null?M.applyValueToInputSignal(M,et):y[J]=et}function Jo(){return Mg}function Mg(y){return y.type.prototype.ngOnChanges&&(y.setInput=q1),J1}Jo.ngInherit=!0;function J1(){let y=wg(this),M=y?.current;if(M){let J=y.previous;if(J===_r)y.previous=M;else for(let et in M)J[et]=M[et];y.current=null,this.ngOnChanges(M)}}function q1(y,M,J,et,i){let $=this.declaredInputs[et],e=wg(y)||_1(y,{previous:_r,current:null}),u=e.current||(e.current={}),G=e.previous,h=G[$];u[$]=new Gu(h&&h.currentValue,J,G===_r),Dg(y,M,i,J)}var Ag="__ngSimpleChanges__";function wg(y){return y[Ag]||null}function _1(y,M){return y[Ag]=M}var gv=null;var ii=function(y,M,J){gv?.(y,M,J)};function tT(y,M,J){let{ngOnChanges:et,ngOnInit:i,ngDoCheck:$}=M.type.prototype;if(et){let e=Mg(M);(J.preOrderHooks??=[]).push(y,e),(J.preOrderCheckHooks??=[]).push(y,e)}i&&(J.preOrderHooks??=[]).push(0-y,i),$&&((J.preOrderHooks??=[]).push(y,$),(J.preOrderCheckHooks??=[]).push(y,$))}function Mh(y,M){for(let J=M.directiveStart,et=M.directiveEnd;J<et;J++){let $=y.data[J].type.prototype,{ngAfterContentInit:e,ngAfterContentChecked:u,ngAfterViewInit:G,ngAfterViewChecked:h,ngOnDestroy:r}=$;e&&(y.contentHooks??=[]).push(-J,e),u&&((y.contentHooks??=[]).push(J,u),(y.contentCheckHooks??=[]).push(J,u)),G&&(y.viewHooks??=[]).push(-J,G),h&&((y.viewHooks??=[]).push(J,h),(y.viewCheckHooks??=[]).push(J,h)),r!=null&&(y.destroyHooks??=[]).push(J,r)}}function Co(y,M,J){Pg(y,M,3,J)}function So(y,M,J,et){(y[zt]&3)===J&&Pg(y,M,J,et)}function xu(y,M){let J=y[zt];(J&3)===M&&(J&=16383,J+=1,y[zt]=J)}function Pg(y,M,J,et){let i=et!==void 0?y[ur]&65535:0,$=et??-1,e=M.length-1,u=0;for(let G=i;G<e;G++)if(typeof M[G+1]=="number"){if(u=M[G],et!=null&&u>=et)break}else M[G]<0&&(y[ur]+=65536),(u<$||$==-1)&&(eT(y,J,M,G),y[ur]=(y[ur]&4294901760)+G+2),G++}function mv(y,M){ii(4,y,M);let J=dn(null);try{M.call(y)}finally{dn(J),ii(5,y,M)}}function eT(y,M,J,et){let i=J[et]<0,$=J[et+1],e=i?-J[et]:J[et],u=y[e];i?y[zt]>>14<y[ur]>>16&&(y[zt]&3)===M&&(y[zt]+=16384,mv(u,$)):mv(u,$)}var cr=-1,ss=class{constructor(M,J,et){this.factory=M,this.resolving=!1,this.canSeeViewProviders=J,this.injectImpl=et}};function nT(y){return y instanceof ss}function iT(y){return(y.flags&8)!==0}function rT(y){return(y.flags&16)!==0}function Rg(y){return y!==cr}function bo(y){return y&32767}function sT(y){return y>>16}function Bo(y,M){let J=sT(y),et=M;for(;J>0;)et=et[us],J--;return et}var Vu=!0;function xv(y){let M=Vu;return Vu=y,M}var oT=256,Ig=oT-1,Fg=5,aT=0,bn={};function lT(y,M,J){let et;typeof J=="string"?et=J.charCodeAt(0)||0:J.hasOwnProperty(Qr)&&(et=J[Qr]),et==null&&(et=J[Qr]=aT++);let i=et&Ig,$=1<<i;M.data[y+(i>>Fg)]|=$}function Og(y,M){let J=Lg(y,M);if(J!==-1)return J;let et=M[Te];et.firstCreatePass&&(y.injectorIndex=M.length,yu(et.data,y),yu(M,null),yu(et.blueprint,null));let i=Ah(y,M),$=y.injectorIndex;if(Rg(i)){let e=bo(i),u=Bo(i,M),G=u[Te].data;for(let h=0;h<8;h++)M[$+h]=u[e+h]|G[e+h]}return M[$+8]=i,$}function yu(y,M){y.push(0,0,0,0,0,0,0,0,M)}function Lg(y,M){return y.injectorIndex===-1||y.parent&&y.parent.injectorIndex===y.injectorIndex||M[y.injectorIndex+8]===null?-1:y.injectorIndex}function Ah(y,M){if(y.parent&&y.parent.injectorIndex!==-1)return y.parent.injectorIndex;let J=0,et=null,i=M;for(;i!==null;){if(et=Gg(i),et===null)return cr;if(J++,i=i[us],et.injectorIndex!==-1)return et.injectorIndex|J<<16}return cr}function uT(y,M,J){lT(y,M,J)}function Ng(y,M,J){if(J&_t.Optional||y!==void 0)return y;Eh(M,"NodeInjector")}function bg(y,M,J,et){if(J&_t.Optional&&et===void 0&&(et=null),!(J&(_t.Self|_t.Host))){let i=y[pr],$=Tn(void 0);try{return i?i.get(M,et,J&_t.Optional):xg(M,et,J&_t.Optional)}finally{Tn($)}}return Ng(et,M,J)}function Bg(y,M,J,et=_t.Default,i){if(y!==null){if(M[zt]&2048&&!(et&_t.Self)){let e=cT(y,M,J,et,bn);if(e!==bn)return e}let $=Ug(y,M,J,et,bn);if($!==bn)return $}return bg(M,J,et,i)}function Ug(y,M,J,et,i){let $=fT(J);if(typeof $=="function"){if(!ng(M,y,et))return et&_t.Host?Ng(i,J,et):bg(M,J,et,i);try{let e;if(e=$(et),e==null&&!(et&_t.Optional))Eh(J);else return e}finally{og()}}else if(typeof $=="number"){let e=null,u=Lg(y,M),G=cr,h=et&_t.Host?M[Un][In]:null;for((u===-1||et&_t.SkipSelf)&&(G=u===-1?Ah(y,M):M[u+8],G===cr||!Tv(et,!1)?u=-1:(e=M[Te],u=bo(G),M=Bo(G,M)));u!==-1;){let r=M[Te];if(yv($,u,r.data)){let o=hT(u,M,J,e,et,h);if(o!==bn)return o}G=M[u+8],G!==cr&&Tv(et,M[Te].data[u+8]===h)&&yv($,u,M)?(e=r,u=bo(G),M=Bo(G,M)):u=-1}}return i}function hT(y,M,J,et,i,$){let e=M[Te],u=e.data[y+8],G=et==null?ko(u)&&Vu:et!=e&&(u.type&3)!==0,h=i&_t.Host&&$===u,r=Do(u,e,J,G,h);return r!==null?xr(M,e,r,u):bn}function Do(y,M,J,et,i){let $=y.providerIndexes,e=M.data,u=$&1048575,G=y.directiveStart,h=y.directiveEnd,r=$>>20,o=et?u:u+r,n=i?u+r:h;for(let l=o;l<n;l++){let f=e[l];if(l<G&&J===f||l>=G&&f.type===J)return l}if(i){let l=e[G];if(l&&fs(l)&&l.type===J)return G}return null}function xr(y,M,J,et){let i=y[J],$=M.data;if(nT(i)){let e=i;e.resolving&&M1(D1($[J]));let u=xv(e.canSeeViewProviders);e.resolving=!0;let G,h=e.injectImpl?Tn(e.injectImpl):null,r=ng(y,et,_t.Default);try{i=y[J]=e.factory(void 0,$,y,et),M.firstCreatePass&&J>=et.directiveStart&&tT(J,$[J],M)}finally{h!==null&&Tn(h),xv(u),e.resolving=!1,og()}}return i}function fT(y){if(typeof y=="string")return y.charCodeAt(0)||0;let M=y.hasOwnProperty(Qr)?y[Qr]:void 0;return typeof M=="number"?M>=0?M&Ig:dT:M}function yv(y,M,J){let et=1<<y;return!!(J[M+(y>>Fg)]&et)}function Tv(y,M){return!(y&_t.Self)&&!(y&_t.Host&&M)}var Ri=class{constructor(M,J){this._tNode=M,this._lView=J}get(M,J,et){return Bg(this._tNode,this._lView,M,Zo(et),J)}};function dT(){return new Ri(Kn(),sn())}function wh(y){return Yo(()=>{let M=y.prototype.constructor,J=M[wo]||zu(M),et=Object.prototype,i=Object.getPrototypeOf(y.prototype).constructor;for(;i&&i!==et;){let $=i[wo]||zu(i);if($&&$!==J)return $;i=Object.getPrototypeOf(i)}return $=>new $})}function zu(y){return gg(y)?()=>{let M=zu(Cn(y));return M&&M()}:gr(y)}function cT(y,M,J,et,i){let $=y,e=M;for(;$!==null&&e!==null&&e[zt]&2048&&!(e[zt]&512);){let u=Ug($,e,J,et|_t.Self,bn);if(u!==bn)return u;let G=$.parent;if(!G){let h=e[$v];if(h){let r=h.get(J,bn,et);if(r!==bn)return r}G=Gg(e),e=e[us]}$=G}return i}function Gg(y){let M=y[Te],J=M.type;return J===2?M.declTNode:J===1?y[In]:null}function Ev(y,M=null,J=null,et){let i=Vg(y,M,J,et);return i.resolveInjectorInitializers(),i}function Vg(y,M=null,J=null,et,i=new Set){let $=[J||Nn,V1(y)];return et=et||(typeof y=="object"?void 0:ln(y)),new rs($,M||Dh(),et||null,i)}var cs=(()=>{let M=class M{static create(et,i){if(Array.isArray(et))return Ev({name:""},i,et,"");{let $=et.name??"";return Ev({name:$},et.parent,et.providers,$)}}};M.THROW_IF_NOT_FOUND=is,M.NULL=new No,M.\u0275prov=Xt({token:M,providedIn:"any",factory:()=>Zt(yg)}),M.__NG_ELEMENT_ID__=-1;let y=M;return y})(),pT="ngOriginalError";function Tu(y){return y[pT]}var jn=class{constructor(){this._console=console}handleError(M){let J=this._findOriginalError(M);this._console.error("ERROR",M),J&&this._console.error("ORIGINAL ERROR",J)}_findOriginalError(M){let J=M&&Tu(M);for(;J&&Tu(J);)J=Tu(J);return J||null}},zg=new $t("",{providedIn:"root",factory:()=>Bt(jn).handleError.bind(void 0)});var Hg=!1,vT=new $t("",{providedIn:"root",factory:()=>Hg});var Wg=new Map,gT=0;function mT(){return gT++}function xT(y){Wg.set(y[$o],y)}function yT(y){Wg.delete(y[$o])}var Cv="__ngContext__";function Ni(y,M){dr(M)?(y[Cv]=M[$o],xT(M)):y[Cv]=M}function Xg(y){return y instanceof Function?y():y}var Ui=function(y){return y[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y}(Ui||{}),TT;function Ph(y,M){return TT(y,M)}function fr(y,M,J,et,i){if(et!=null){let $,e=!1;kn(et)?$=et:dr(et)&&(e=!0,et=et[$n]);let u=li(et);y===0&&J!==null?i==null?Kg(M,J,u):Uo(M,J,u,i||null,!0):y===1&&J!==null?Uo(M,J,u,i||null,!0):y===2?BT(M,u,e):y===3&&M.destroyNode(u),$!=null&&GT(M,y,$,J,i)}}function ET(y,M){return y.createText(M)}function Yg(y,M,J){return y.createElement(M,J)}function CT(y,M){jg(y,M),M[$n]=null,M[In]=null}function ST(y,M,J,et,i,$){et[$n]=i,et[In]=M,qo(y,et,J,1,i,$)}function jg(y,M){qo(y,M,M[Sn],2,null,null)}function DT(y){let M=y[ts];if(!M)return Eu(y[Te],y);for(;M;){let J=null;if(dr(M))J=M[ts];else{let et=M[mn];et&&(J=et)}if(!J){for(;M&&!M[Rn]&&M!==y;)dr(M)&&Eu(M[Te],M),M=M[rn];M===null&&(M=y),dr(M)&&Eu(M[Te],M),J=M&&M[Rn]}M=J}}function MT(y,M,J,et){let i=mn+et,$=J.length;et>0&&(J[i-1][Rn]=M),et<$-mn?(M[Rn]=J[i],ug(J,mn+et,M)):(J.push(M),M[Rn]=null),M[rn]=J;let e=M[hs];e!==null&&J!==e&&AT(e,M);let u=M[Yn];u!==null&&u.insertView(y),Pu(M),M[zt]|=128}function AT(y,M){let J=y[vr],i=M[rn][rn][Un];M[Un]!==i&&(y[zt]|=uh.HasTransplantedViews),J===null?y[vr]=[M]:J.push(M)}function $g(y,M){let J=y[vr],et=J.indexOf(M);J.splice(et,1)}function Hu(y,M){if(y.length<=mn)return;let J=mn+M,et=y[J];if(et){let i=et[hs];i!==null&&i!==y&&$g(i,et),M>0&&(y[J-1][Rn]=et[Rn]);let $=Oo(y,mn+M);CT(et[Te],et);let e=$[Yn];e!==null&&e.detachView($[Te]),et[rn]=null,et[Rn]=null,et[zt]&=-129}return et}function kg(y,M){if(!(M[zt]&256)){let J=M[Sn];J.destroyNode&&qo(y,M,J,3,null,null),DT(M)}}function Eu(y,M){if(!(M[zt]&256)){M[zt]&=-129,M[zt]|=256,M[Fi]&&Rp(M[Fi]),PT(y,M),wT(y,M),M[Te].type===1&&M[Sn].destroy();let J=M[hs];if(J!==null&&kn(M[rn])){J!==M[rn]&&$g(J,M);let et=M[Yn];et!==null&&et.detachView(y)}yT(M)}}function wT(y,M){let J=y.cleanup,et=M[Ro];if(J!==null)for(let $=0;$<J.length-1;$+=2)if(typeof J[$]=="string"){let e=J[$+3];e>=0?et[e]():et[-e].unsubscribe(),$+=2}else{let e=et[J[$+1]];J[$].call(e)}et!==null&&(M[Ro]=null);let i=M[Jr];if(i!==null){M[Jr]=null;for(let $=0;$<i.length;$++){let e=i[$];e()}}}function PT(y,M){let J;if(y!=null&&(J=y.destroyHooks)!=null)for(let et=0;et<J.length;et+=2){let i=M[J[et]];if(!(i instanceof ss)){let $=J[et+1];if(Array.isArray($))for(let e=0;e<$.length;e+=2){let u=i[$[e]],G=$[e+1];ii(4,u,G);try{G.call(u)}finally{ii(5,u,G)}}else{ii(4,i,$);try{$.call(i)}finally{ii(5,i,$)}}}}}function RT(y,M,J){return IT(y,M.parent,J)}function IT(y,M,J){let et=M;for(;et!==null&&et.type&40;)M=et,et=M.parent;if(et===null)return J[$n];{let{componentOffset:i}=et;if(i>-1){let{encapsulation:$}=y.data[et.directiveStart+i];if($===Bn.None||$===Bn.Emulated)return null}return Gn(et,J)}}function Uo(y,M,J,et,i){y.insertBefore(M,J,et,i)}function Kg(y,M,J){y.appendChild(M,J)}function Sv(y,M,J,et,i){et!==null?Uo(y,M,J,et,i):Kg(y,M,J)}function FT(y,M,J,et){y.removeChild(M,J,et)}function Rh(y,M){return y.parentNode(M)}function OT(y,M){return y.nextSibling(M)}function LT(y,M,J){return bT(y,M,J)}function NT(y,M,J){return y.type&40?Gn(y,J):null}var bT=NT,Dv;function Ih(y,M,J,et){let i=RT(y,et,M),$=M[Sn],e=et.parent||M[In],u=LT(e,et,M);if(i!=null)if(Array.isArray(J))for(let G=0;G<J.length;G++)Sv($,i,J[G],u,!1);else Sv($,i,J,u,!1);Dv!==void 0&&Dv($,et,M,J,i)}function Mo(y,M){if(M!==null){let J=M.type;if(J&3)return Gn(M,y);if(J&4)return Wu(-1,y[M.index]);if(J&8){let et=M.child;if(et!==null)return Mo(y,et);{let i=y[M.index];return kn(i)?Wu(-1,i):li(i)}}else{if(J&32)return Ph(M,y)()||li(y[M.index]);{let et=Zg(y,M);if(et!==null){if(Array.isArray(et))return et[0];let i=ns(y[Un]);return Mo(i,et)}else return Mo(y,M.next)}}}return null}function Zg(y,M){if(M!==null){let et=y[Un][In],i=M.projection;return et.projection[i]}return null}function Wu(y,M){let J=mn+y+1;if(J<M.length){let et=M[J],i=et[Te].firstChild;if(i!==null)return Mo(et,i)}return M[Oi]}function BT(y,M,J){let et=Rh(y,M);et&&FT(y,et,M,J)}function Fh(y,M,J,et,i,$,e){for(;J!=null;){let u=et[J.index],G=J.type;if(e&&M===0&&(u&&Ni(li(u),et),J.flags|=2),(J.flags&32)!==32)if(G&8)Fh(y,M,J.child,et,i,$,!1),fr(M,y,i,u,$);else if(G&32){let h=Ph(J,et),r;for(;r=h();)fr(M,y,i,r,$);fr(M,y,i,u,$)}else G&16?UT(y,M,et,J,i,$):fr(M,y,i,u,$);J=e?J.projectionNext:J.next}}function qo(y,M,J,et,i,$){Fh(J,et,y.firstChild,M,i,$,!1)}function UT(y,M,J,et,i,$){let e=J[Un],G=e[In].projection[et.projection];if(Array.isArray(G))for(let h=0;h<G.length;h++){let r=G[h];fr(M,y,i,r,$)}else{let h=G,r=e[rn];hg(et)&&(h.flags|=128),Fh(y,M,h,r,i,$,!0)}}function GT(y,M,J,et,i){let $=J[Oi],e=li(J);$!==e&&fr(M,y,et,$,i);for(let u=mn;u<J.length;u++){let G=J[u];qo(G[Te],G,y,M,et,$)}}function VT(y,M,J){y.setAttribute(M,"style",J)}function Qg(y,M,J){J===""?y.removeAttribute(M,"class"):y.setAttribute(M,"class",J)}function Jg(y,M,J){let{mergedAttrs:et,classes:i,styles:$}=J;et!==null&&wu(y,M,et),i!==null&&Qg(y,M,i),$!==null&&VT(y,M,$)}var qg={};function Oh(y=1){_g(fi(),sn(),ag()+y,!1)}function _g(y,M,J,et){if(!et)if((M[zt]&3)===3){let $=y.preOrderCheckHooks;$!==null&&Co(M,$,J)}else{let $=y.preOrderHooks;$!==null&&So(M,$,0,J)}Li(J)}function ci(y,M=_t.Default){let J=sn();if(J===null)return Zt(y,M);let et=Kn();return Bg(et,J,Cn(y),M)}function tm(y,M,J,et,i,$){let e=dn(null);try{let u=null;i&ri.SignalBased&&(u=M[et][Mp]),u!==null&&u.transformFn!==void 0&&($=u.transformFn($)),i&ri.HasDecoratorInputTransform&&($=y.inputTransforms[et].call(M,$)),y.setInput!==null?y.setInput(M,u,$,J,et):Dg(M,u,et,$)}finally{dn(e)}}function zT(y,M){let J=y.hostBindingOpCodes;if(J!==null)try{for(let et=0;et<J.length;et++){let i=J[et];if(i<0)Li(~i);else{let $=i,e=J[++et],u=J[++et];l1(e,$);let G=M[$];u(2,G)}}}finally{Li(-1)}}function _o(y,M,J,et,i,$,e,u,G,h,r){let o=M.blueprint.slice();return o[$n]=i,o[zt]=et|4|128|8|64,(h!==null||y&&y[zt]&2048)&&(o[zt]|=2048),Jv(o),o[rn]=o[us]=y,o[si]=J,o[oi]=e||y&&y[oi],o[Sn]=u||y&&y[Sn],o[pr]=G||y&&y[pr]||null,o[In]=$,o[$o]=mT(),o[Po]=r,o[$v]=h,o[Un]=M.type==2?y[Un]:o,o}function ca(y,M,J,et,i){let $=y.data[M];if($===null)$=HT(y,M,J,et,i),a1()&&($.flags|=32);else if($.type&64){$.type=J,$.value=et,$.attrs=i;let e=i1();$.injectorIndex=e===null?-1:e.injectorIndex}return ds($,!0),$}function HT(y,M,J,et,i){let $=_v(),e=tg(),u=e?$:$&&$.parent,G=y.data[M]=kT(y,u,J,M,et,i);return y.firstChild===null&&(y.firstChild=G),$!==null&&(e?$.child==null&&G.parent!==null&&($.child=G):$.next===null&&($.next=G,G.prev=$)),G}function em(y,M,J,et){if(J===0)return-1;let i=M.length;for(let $=0;$<J;$++)M.push(et),y.blueprint.push(et),y.data.push(null);return i}function nm(y,M,J,et,i){let $=ag(),e=et&2;try{Li(-1),e&&M.length>ai&&_g(y,M,ai,!1),ii(e?2:0,i),J(et,i)}finally{Li($),ii(e?3:1,i)}}function im(y,M,J){if(Kv(M)){let et=dn(null);try{let i=M.directiveStart,$=M.directiveEnd;for(let e=i;e<$;e++){let u=y.data[e];if(u.contentQueries){let G=J[e];u.contentQueries(1,G,e)}}}finally{dn(et)}}}function rm(y,M,J){qv()&&(tE(y,M,J,Gn(J,M)),(J.flags&64)===64&&um(y,M,J))}function sm(y,M,J=Gn){let et=M.localNames;if(et!==null){let i=M.index+1;for(let $=0;$<et.length;$+=2){let e=et[$+1],u=e===-1?J(M,y):y[e];y[i++]=u}}}function om(y){let M=y.tView;return M===null||M.incompleteFirstPass?y.tView=Lh(1,null,y.template,y.decls,y.vars,y.directiveDefs,y.pipeDefs,y.viewQuery,y.schemas,y.consts,y.id):M}function Lh(y,M,J,et,i,$,e,u,G,h,r){let o=ai+et,n=o+i,l=WT(o,n),f=typeof h=="function"?h():h;return l[Te]={type:y,blueprint:l,template:J,queries:null,viewQuery:u,declTNode:M,data:l.slice().fill(null,o),bindingStartIndex:o,expandoStartIndex:n,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof $=="function"?$():$,pipeRegistry:typeof e=="function"?e():e,firstChild:null,schemas:G,consts:f,incompleteFirstPass:!1,ssrId:r}}function WT(y,M){let J=[];for(let et=0;et<M;et++)J.push(et<y?null:qg);return J}function XT(y,M,J,et){let $=et.get(vT,Hg)||J===Bn.ShadowDom,e=y.selectRootElement(M,$);return YT(e),e}function YT(y){jT(y)}var jT=()=>null;function $T(y,M,J,et){let i=hE(M);i.push(J),y.firstCreatePass&&fE(y).push(et,i.length-1)}function kT(y,M,J,et,i,$){let e=M?M.injectorIndex:-1,u=0;return t1()&&(u|=128),{type:J,index:et,insertBeforeIndex:null,injectorIndex:e,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:$,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:M,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Mv(y,M,J,et,i){for(let $ in M){if(!M.hasOwnProperty($))continue;let e=M[$];if(e===void 0)continue;et??={};let u,G=ri.None;Array.isArray(e)?(u=e[0],G=e[1]):u=e;let h=$;if(i!==null){if(!i.hasOwnProperty($))continue;h=i[$]}y===0?Av(et,J,h,u,G):Av(et,J,h,u)}return et}function Av(y,M,J,et,i){let $;y.hasOwnProperty(J)?($=y[J]).push(M,et):$=y[J]=[M,et],i!==void 0&&$.push(i)}function KT(y,M,J){let et=M.directiveStart,i=M.directiveEnd,$=y.data,e=M.attrs,u=[],G=null,h=null;for(let r=et;r<i;r++){let o=$[r],n=J?J.get(o):null,l=n?n.inputs:null,f=n?n.outputs:null;G=Mv(0,o.inputs,r,G,l),h=Mv(1,o.outputs,r,h,f);let s=G!==null&&e!==null&&!Vv(M)?uE(G,r,e):null;u.push(s)}G!==null&&(G.hasOwnProperty("class")&&(M.flags|=8),G.hasOwnProperty("style")&&(M.flags|=16)),M.initialInputs=u,M.inputs=G,M.outputs=h}function ZT(y){return y==="class"?"className":y==="for"?"htmlFor":y==="formaction"?"formAction":y==="innerHtml"?"innerHTML":y==="readonly"?"readOnly":y==="tabindex"?"tabIndex":y}function QT(y,M,J,et,i,$,e,u){let G=Gn(M,J),h=M.inputs,r;!u&&h!=null&&(r=h[et])?(Nh(y,J,r,et,i),ko(M)&&JT(J,M.index)):M.type&3?(et=ZT(et),i=e!=null?e(i,M.value||"",et):i,$.setProperty(G,et,i)):M.type&12}function JT(y,M){let J=Er(M,y);J[zt]&16||(J[zt]|=64)}function am(y,M,J,et){if(qv()){let i=et===null?null:{"":-1},$=nE(y,J),e,u;$===null?e=u=null:[e,u]=$,e!==null&&lm(y,M,J,e,i,u),i&&iE(J,et,i)}J.mergedAttrs=lh(J.mergedAttrs,J.attrs)}function lm(y,M,J,et,i,$){for(let h=0;h<et.length;h++)uT(Og(J,M),y,et[h].type);sE(J,y.data.length,et.length);for(let h=0;h<et.length;h++){let r=et[h];r.providersResolver&&r.providersResolver(r)}let e=!1,u=!1,G=em(y,M,et.length,null);for(let h=0;h<et.length;h++){let r=et[h];J.mergedAttrs=lh(J.mergedAttrs,r.hostAttrs),oE(y,J,M,G,r),rE(G,r,i),r.contentQueries!==null&&(J.flags|=4),(r.hostBindings!==null||r.hostAttrs!==null||r.hostVars!==0)&&(J.flags|=64);let o=r.type.prototype;!e&&(o.ngOnChanges||o.ngOnInit||o.ngDoCheck)&&((y.preOrderHooks??=[]).push(J.index),e=!0),!u&&(o.ngOnChanges||o.ngDoCheck)&&((y.preOrderCheckHooks??=[]).push(J.index),u=!0),G++}KT(y,J,$)}function qT(y,M,J,et,i){let $=i.hostBindings;if($){let e=y.hostBindingOpCodes;e===null&&(e=y.hostBindingOpCodes=[]);let u=~M.index;_T(e)!=u&&e.push(u),e.push(J,et,$)}}function _T(y){let M=y.length;for(;M>0;){let J=y[--M];if(typeof J=="number"&&J<0)return J}return 0}function tE(y,M,J,et){let i=J.directiveStart,$=J.directiveEnd;ko(J)&&aE(M,J,y.data[i+J.componentOffset]),y.firstCreatePass||Og(J,M),Ni(et,M);let e=J.initialInputs;for(let u=i;u<$;u++){let G=y.data[u],h=xr(M,y,u,J);if(Ni(h,M),e!==null&&lE(M,u-i,h,G,J,e),fs(G)){let r=Er(J.index,M);r[si]=xr(M,y,u,J)}}}function um(y,M,J){let et=J.directiveStart,i=J.directiveEnd,$=J.index,e=u1();try{Li($);for(let u=et;u<i;u++){let G=y.data[u],h=M[u];Ru(u),(G.hostBindings!==null||G.hostVars!==0||G.hostAttrs!==null)&&eE(G,h)}}finally{Li(-1),Ru(e)}}function eE(y,M){y.hostBindings!==null&&y.hostBindings(1,M)}function nE(y,M){let J=y.directiveRegistry,et=null,i=null;if(J)for(let $=0;$<J.length;$++){let e=J[$];if(Ly(M,e.selectors,!1))if(et||(et=[]),fs(e))if(e.findHostDirectiveDefs!==null){let u=[];i=i||new Map,e.findHostDirectiveDefs(e,u,i),et.unshift(...u,e);let G=u.length;Xu(y,M,G)}else et.unshift(e),Xu(y,M,0);else i=i||new Map,e.findHostDirectiveDefs?.(e,et,i),et.push(e)}return et===null?null:[et,i]}function Xu(y,M,J){M.componentOffset=J,(y.components??=[]).push(M.index)}function iE(y,M,J){if(M){let et=y.localNames=[];for(let i=0;i<M.length;i+=2){let $=J[M[i+1]];if($==null)throw new Wt(-301,!1);et.push(M[i],$)}}}function rE(y,M,J){if(J){if(M.exportAs)for(let et=0;et<M.exportAs.length;et++)J[M.exportAs[et]]=y;fs(M)&&(J[""]=y)}}function sE(y,M,J){y.flags|=1,y.directiveStart=M,y.directiveEnd=M+J,y.providerIndexes=M}function oE(y,M,J,et,i){y.data[et]=i;let $=i.factory||(i.factory=gr(i.type,!0)),e=new ss($,fs(i),ci);y.blueprint[et]=e,J[et]=e,qT(y,M,et,em(y,J,i.hostVars,qg),i)}function aE(y,M,J){let et=Gn(M,y),i=om(J),$=y[oi].rendererFactory,e=16;J.signals?e=4096:J.onPush&&(e=64);let u=ga(y,_o(y,i,null,e,et,M,null,$.createRenderer(et,J),null,null,null));y[M.index]=u}function lE(y,M,J,et,i,$){let e=$[M];if(e!==null)for(let u=0;u<e.length;){let G=e[u++],h=e[u++],r=e[u++],o=e[u++];tm(et,J,G,h,r,o)}}function uE(y,M,J){let et=null,i=0;for(;i<J.length;){let $=J[i];if($===0){i+=4;continue}else if($===5){i+=2;continue}if(typeof $=="number")break;if(y.hasOwnProperty($)){et===null&&(et=[]);let e=y[$];for(let u=0;u<e.length;u+=3)if(e[u]===M){et.push($,e[u+1],e[u+2],J[i+1]);break}}i+=2}return et}function hm(y,M,J,et){return[y,!0,0,M,null,et,null,J,null,null]}function fm(y,M){let J=y.contentQueries;if(J!==null){let et=dn(null);try{for(let i=0;i<J.length;i+=2){let $=J[i],e=J[i+1];if(e!==-1){let u=y.data[e];dh($),u.contentQueries(2,M[e],e)}}}finally{dn(et)}}}function ga(y,M){return y[ts]?y[fv][Rn]=M:y[ts]=M,y[fv]=M,M}function Yu(y,M,J){dh(0);let et=dn(null);try{M(y,J)}finally{dn(et)}}function hE(y){return y[Ro]||(y[Ro]=[])}function fE(y){return y.cleanup||(y.cleanup=[])}function dE(y,M){let J=y[pr],et=J?J.get(jn,null):null;et&&et.handleError(M)}function Nh(y,M,J,et,i){for(let $=0;$<J.length;){let e=J[$++],u=J[$++],G=J[$++],h=M[e],r=y.data[e];tm(r,h,et,u,G,i)}}function cE(y,M){let J=Er(M,y),et=J[Te];pE(et,J);let i=J[$n];i!==null&&J[Po]===null&&(J[Po]=Ch(i,J[pr])),bh(et,J,J[si])}function pE(y,M){for(let J=M.length;J<y.blueprint.length;J++)M.push(y.blueprint[J])}function bh(y,M,J){ch(M);try{let et=y.viewQuery;et!==null&&Yu(1,et,J);let i=y.template;i!==null&&nm(y,M,i,1,J),y.firstCreatePass&&(y.firstCreatePass=!1),M[Yn]?.finishViewCreation(y),y.staticContentQueries&&fm(y,M),y.staticViewQueries&&Yu(2,y.viewQuery,J);let $=y.components;$!==null&&vE(M,$)}catch(et){throw y.firstCreatePass&&(y.incompleteFirstPass=!0,y.firstCreatePass=!1),et}finally{M[zt]&=-5,ph()}}function vE(y,M){for(let J=0;J<M.length;J++)cE(y,M[J])}function gE(y,M,J,et){let i=M.tView,e=y[zt]&4096?4096:16,u=_o(y,i,J,e,null,M,null,null,null,et?.injector??null,et?.dehydratedView??null),G=y[M.index];u[hs]=G;let h=y[Yn];return h!==null&&(u[Yn]=h.createEmbeddedView(i)),bh(i,u,J),u}function wv(y,M){return!M||M.firstChild===null||hg(y)}function mE(y,M,J,et=!0){let i=M[Te];if(MT(i,M,y,J),et){let e=Wu(J,y),u=M[Sn],G=Rh(u,y[Oi]);G!==null&&ST(i,y[In],u,M,G,e)}let $=M[Po];$!==null&&$.firstChild!==null&&($.firstChild=null)}function Go(y,M,J,et,i=!1){for(;J!==null;){let $=M[J.index];$!==null&&et.push(li($)),kn($)&&xE($,et);let e=J.type;if(e&8)Go(y,M,J.child,et);else if(e&32){let u=Ph(J,M),G;for(;G=u();)et.push(G)}else if(e&16){let u=Zg(M,J);if(Array.isArray(u))et.push(...u);else{let G=ns(M[Un]);Go(G[Te],G,u,et,!0)}}J=i?J.projectionNext:J.next}return et}function xE(y,M){for(let J=mn;J<y.length;J++){let et=y[J],i=et[Te].firstChild;i!==null&&Go(et[Te],et,i,M)}y[Oi]!==y[$n]&&M.push(y[Oi])}var dm=[];function yE(y){return y[Fi]??TE(y)}function TE(y){let M=dm.pop()??Object.create(CE);return M.lView=y,M}function EE(y){y.lView[Fi]!==y&&(y.lView=null,dm.push(y))}var CE=Ge(Gt({},Ap),{consumerIsAlwaysLive:!0,consumerMarkedDirty:y=>{es(y.lView)},consumerOnSignalRead(){this.lView[Fi]=this}});function cm(y){return vm(y[ts])}function pm(y){return vm(y[Rn])}function vm(y){for(;y!==null&&!kn(y);)y=y[Rn];return y}var gm=100;function mm(y,M=!0,J=0){let et=y[oi],i=et.rendererFactory,$=!1;$||i.begin?.();try{SE(y,J)}catch(e){throw M&&dE(y,e),e}finally{$||(i.end?.(),et.inlineEffectRunner?.flush())}}function SE(y,M){ju(y,M);let J=0;for(;fh(y);){if(J===gm)throw new Wt(103,!1);J++,ju(y,1)}}function DE(y,M,J,et){let i=M[zt];if((i&256)===256)return;let $=!1;!$&&M[oi].inlineEffectRunner?.flush(),ch(M);let e=null,u=null;!$&&ME(y)&&(u=yE(M),e=wp(u));try{Jv(M),s1(y.bindingStartIndex),J!==null&&nm(y,M,J,2,et);let G=(i&3)===3;if(!$)if(G){let o=y.preOrderCheckHooks;o!==null&&Co(M,o,null)}else{let o=y.preOrderHooks;o!==null&&So(M,o,0,null),xu(M,0)}if(AE(M),xm(M,0),y.contentQueries!==null&&fm(y,M),!$)if(G){let o=y.contentCheckHooks;o!==null&&Co(M,o)}else{let o=y.contentHooks;o!==null&&So(M,o,1),xu(M,1)}zT(y,M);let h=y.components;h!==null&&Tm(M,h,0);let r=y.viewQuery;if(r!==null&&Yu(2,r,et),!$)if(G){let o=y.viewCheckHooks;o!==null&&Co(M,o)}else{let o=y.viewHooks;o!==null&&So(M,o,2),xu(M,2)}if(y.firstUpdatePass===!0&&(y.firstUpdatePass=!1),M[gu]){for(let o of M[gu])o();M[gu]=null}$||(M[zt]&=-73)}catch(G){throw es(M),G}finally{u!==null&&(Pp(u,e),EE(u)),ph()}}function ME(y){return y.type!==2}function xm(y,M){for(let J=cm(y);J!==null;J=pm(J))for(let et=mn;et<J.length;et++){let i=J[et];ym(i,M)}}function AE(y){for(let M=cm(y);M!==null;M=pm(M)){if(!(M[zt]&uh.HasTransplantedViews))continue;let J=M[vr];for(let et=0;et<J.length;et++){let i=J[et],$=i[rn];Zy(i)}}}function wE(y,M,J){let et=Er(M,y);ym(et,J)}function ym(y,M){hh(y)&&ju(y,M)}function ju(y,M){let et=y[Te],i=y[zt],$=y[Fi],e=!!(M===0&&i&16);if(e||=!!(i&64&&M===0),e||=!!(i&1024),e||=!!($?.dirty&&Ql($)),$&&($.dirty=!1),y[zt]&=-9217,e)DE(et,y,et.template,y[si]);else if(i&8192){xm(y,1);let u=et.components;u!==null&&Tm(y,u,1)}}function Tm(y,M,J){for(let et=0;et<M.length;et++)wE(y,M[et],J)}function Em(y){for(y[oi].changeDetectionScheduler?.notify();y;){y[zt]|=64;let M=ns(y);if(Wy(y)&&!M)return y;y=M}return null}var bi=class{get rootNodes(){let M=this._lView,J=M[Te];return Go(J,M,J.firstChild,[])}constructor(M,J,et=!0){this._lView=M,this._cdRefInjectingView=J,this.notifyErrorHandler=et,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(M){this._lView[si]=M}get destroyed(){return(this._lView[zt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let M=this._lView[rn];if(kn(M)){let J=M[Io],et=J?J.indexOf(this):-1;et>-1&&(Hu(M,et),Oo(J,et))}this._attachedToViewContainer=!1}kg(this._lView[Te],this._lView)}onDestroy(M){Qy(this._lView,M)}markForCheck(){Em(this._cdRefInjectingView||this._lView)}detach(){this._lView[zt]&=-129}reattach(){Pu(this._lView),this._lView[zt]|=128}detectChanges(){this._lView[zt]|=1024,mm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Wt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,jg(this._lView[Te],this._lView)}attachToAppRef(M){if(this._attachedToViewContainer)throw new Wt(902,!1);this._appRef=M,Pu(this._lView)}},yr=(()=>{let M=class M{};M.__NG_ELEMENT_ID__=IE;let y=M;return y})(),PE=yr,RE=class extends PE{constructor(M,J,et){super(),this._declarationLView=M,this._declarationTContainer=J,this.elementRef=et}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(M,J){return this.createEmbeddedViewImpl(M,J)}createEmbeddedViewImpl(M,J,et){let i=gE(this._declarationLView,this._declarationTContainer,M,{injector:J,dehydratedView:et});return new bi(i)}};function IE(){return Bh(Kn(),sn())}function Bh(y,M){return y.type&4?new RE(M,y,Cr(y,M)):null}var NF=new RegExp(`^(\\d+)*(${U1}|${B1})*(.*)`);var FE=()=>null;function Pv(y,M){return FE(y,M)}var $u=class{},ku=class{},Vo=class{};function OE(y){let M=Error(`No component factory found for ${ln(y)}.`);return M[LE]=y,M}var LE="ngComponent";var Ku=class{resolveComponentFactory(M){throw OE(M)}},Ta=(()=>{let M=class M{};M.NULL=new Ku;let y=M;return y})(),os=class{};var NE=(()=>{let M=class M{};M.\u0275prov=Xt({token:M,providedIn:"root",factory:()=>null});let y=M;return y})(),Cu={};var Rv=new Set;function Uh(y){Rv.has(y)||(Rv.add(y),performance?.mark?.("mark_feature_usage",{detail:{feature:y}}))}var Gi=(()=>{let M=class M{};M.__NG_ELEMENT_ID__=bE;let y=M;return y})();function bE(y){return BE(Kn(),sn(),(y&16)===16)}function BE(y,M,J){if(ko(y)&&!J){let et=Er(y.index,M);return new bi(et,et)}else if(y.type&47){let et=M[Un];return new bi(et,M)}return null}function Iv(...y){}function UE(){let y=typeof Zr.requestAnimationFrame=="function",M=Zr[y?"requestAnimationFrame":"setTimeout"],J=Zr[y?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&M&&J){let et=M[Zone.__symbol__("OriginalDelegate")];et&&(M=et);let i=J[Zone.__symbol__("OriginalDelegate")];i&&(J=i)}return{nativeRequestAnimationFrame:M,nativeCancelAnimationFrame:J}}var We=class y{constructor({enableLongStackTrace:M=!1,shouldCoalesceEventChangeDetection:J=!1,shouldCoalesceRunChangeDetection:et=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new En(!1),this.onMicrotaskEmpty=new En(!1),this.onStable=new En(!1),this.onError=new En(!1),typeof Zone>"u")throw new Wt(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),M&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!et&&J,i.shouldCoalesceRunChangeDetection=et,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=UE().nativeRequestAnimationFrame,zE(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!y.isInAngularZone())throw new Wt(909,!1)}static assertNotInAngularZone(){if(y.isInAngularZone())throw new Wt(909,!1)}run(M,J,et){return this._inner.run(M,J,et)}runTask(M,J,et,i){let $=this._inner,e=$.scheduleEventTask("NgZoneEvent: "+i,M,GE,Iv,Iv);try{return $.runTask(e,J,et)}finally{$.cancelTask(e)}}runGuarded(M,J,et){return this._inner.runGuarded(M,J,et)}runOutsideAngular(M){return this._outer.run(M)}},GE={};function Gh(y){if(y._nesting==0&&!y.hasPendingMicrotasks&&!y.isStable)try{y._nesting++,y.onMicrotaskEmpty.emit(null)}finally{if(y._nesting--,!y.hasPendingMicrotasks)try{y.runOutsideAngular(()=>y.onStable.emit(null))}finally{y.isStable=!0}}}function VE(y){y.isCheckStableRunning||y.lastRequestAnimationFrameId!==-1||(y.lastRequestAnimationFrameId=y.nativeRequestAnimationFrame.call(Zr,()=>{y.fakeTopEventTask||(y.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{y.lastRequestAnimationFrameId=-1,Zu(y),y.isCheckStableRunning=!0,Gh(y),y.isCheckStableRunning=!1},void 0,()=>{},()=>{})),y.fakeTopEventTask.invoke()}),Zu(y))}function zE(y){let M=()=>{VE(y)};y._inner=y._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(J,et,i,$,e,u)=>{if(HE(u))return J.invokeTask(i,$,e,u);try{return Fv(y),J.invokeTask(i,$,e,u)}finally{(y.shouldCoalesceEventChangeDetection&&$.type==="eventTask"||y.shouldCoalesceRunChangeDetection)&&M(),Ov(y)}},onInvoke:(J,et,i,$,e,u,G)=>{try{return Fv(y),J.invoke(i,$,e,u,G)}finally{y.shouldCoalesceRunChangeDetection&&M(),Ov(y)}},onHasTask:(J,et,i,$)=>{J.hasTask(i,$),et===i&&($.change=="microTask"?(y._hasPendingMicrotasks=$.microTask,Zu(y),Gh(y)):$.change=="macroTask"&&(y.hasPendingMacrotasks=$.macroTask))},onHandleError:(J,et,i,$)=>(J.handleError(i,$),y.runOutsideAngular(()=>y.onError.emit($)),!1)})}function Zu(y){y._hasPendingMicrotasks||(y.shouldCoalesceEventChangeDetection||y.shouldCoalesceRunChangeDetection)&&y.lastRequestAnimationFrameId!==-1?y.hasPendingMicrotasks=!0:y.hasPendingMicrotasks=!1}function Fv(y){y._nesting++,y.isStable&&(y.isStable=!1,y.onUnstable.emit(null))}function Ov(y){y._nesting--,Gh(y)}function HE(y){return!Array.isArray(y)||y.length!==1?!1:y[0].data?.__ignore_ng_zone__===!0}var Cm=(()=>{let M=class M{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let et=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of et)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};M.\u0275prov=Xt({token:M,providedIn:"root",factory:()=>new M});let y=M;return y})();function Qu(y,M,J){let et=J?y.styles:null,i=J?y.classes:null,$=0;if(M!==null)for(let e=0;e<M.length;e++){let u=M[e];if(typeof u=="number")$=u;else if($==1)i=sv(i,u);else if($==2){let G=u,h=M[++e];et=sv(et,G+": "+h+";")}}J?y.styles=et:y.stylesWithoutHost=et,J?y.classes=i:y.classesWithoutHost=i}var zo=class extends Ta{constructor(M){super(),this.ngModule=M}resolveComponentFactory(M){let J=Ii(M);return new as(J,this.ngModule)}};function Lv(y){let M=[];for(let J in y){if(!y.hasOwnProperty(J))continue;let et=y[J];et!==void 0&&M.push({propName:Array.isArray(et)?et[0]:et,templateName:J})}return M}function WE(y){let M=y.toLowerCase();return M==="svg"?Xy:M==="math"?Yy:null}var Ju=class{constructor(M,J){this.injector=M,this.parentInjector=J}get(M,J,et){et=Zo(et);let i=this.injector.get(M,Cu,et);return i!==Cu||J===Cu?i:this.parentInjector.get(M,J,et)}},as=class extends Vo{get inputs(){let M=this.componentDef,J=M.inputTransforms,et=Lv(M.inputs);if(J!==null)for(let i of et)J.hasOwnProperty(i.propName)&&(i.transform=J[i.propName]);return et}get outputs(){return Lv(this.componentDef.outputs)}constructor(M,J){super(),this.componentDef=M,this.ngModule=J,this.componentType=M.type,this.selector=Uy(M.selectors),this.ngContentSelectors=M.ngContentSelectors?M.ngContentSelectors:[],this.isBoundToModule=!!J}create(M,J,et,i){i=i||this.ngModule;let $=i instanceof un?i:i?.injector;$&&this.componentDef.getStandaloneInjector!==null&&($=this.componentDef.getStandaloneInjector($)||$);let e=$?new Ju(M,$):M,u=e.get(os,null);if(u===null)throw new Wt(407,!1);let G=e.get(NE,null),h=e.get(Cm,null),r=e.get($u,null),o={rendererFactory:u,sanitizer:G,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:r},n=u.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=et?XT(n,et,this.componentDef.encapsulation,e):Yg(n,l,WE(l)),s=512;this.componentDef.signals?s|=4096:this.componentDef.onPush||(s|=16);let d=null;f!==null&&(d=Ch(f,e,!0));let p=Lh(0,null,null,1,0,null,null,null,null,null,null),c=_o(null,p,null,s,null,null,o,n,e,null,d);ch(c);let g,j;try{let k=this.componentDef,tt,_=null;k.findHostDirectiveDefs?(tt=[],_=new Map,k.findHostDirectiveDefs(k,tt,_),tt.push(k)):tt=[k];let nt=XE(c,f),it=YE(nt,f,k,tt,c,o,n);j=Qv(p,ai),f&&kE(n,k,f,et),J!==void 0&&KE(j,this.ngContentSelectors,J),g=$E(it,k,tt,_,c,[ZE]),bh(p,c,null)}finally{ph()}return new qu(this.componentType,g,Cr(j,c),c,j)}},qu=class extends ku{constructor(M,J,et,i,$){super(),this.location=et,this._rootLView=i,this._tNode=$,this.previousInputValues=null,this.instance=J,this.hostView=this.changeDetectorRef=new bi(i,void 0,!1),this.componentType=M}setInput(M,J){let et=this._tNode.inputs,i;if(et!==null&&(i=et[M])){if(this.previousInputValues??=new Map,this.previousInputValues.has(M)&&Object.is(this.previousInputValues.get(M),J))return;let $=this._rootLView;Nh($[Te],$,i,M,J),this.previousInputValues.set(M,J);let e=Er(this._tNode.index,$);Em(e)}}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(M){this.hostView.onDestroy(M)}};function XE(y,M){let J=y[Te],et=ai;return y[et]=M,ca(J,et,2,"#host",null)}function YE(y,M,J,et,i,$,e){let u=i[Te];jE(et,y,M,e);let G=null;M!==null&&(G=Ch(M,i[pr]));let h=$.rendererFactory.createRenderer(M,J),r=16;J.signals?r=4096:J.onPush&&(r=64);let o=_o(i,om(J),null,r,i[y.index],y,$,h,null,null,G);return u.firstCreatePass&&Xu(u,y,et.length-1),ga(i,o),i[y.index]=o}function jE(y,M,J,et){for(let i of y)M.mergedAttrs=lh(M.mergedAttrs,i.hostAttrs);M.mergedAttrs!==null&&(Qu(M,M.mergedAttrs,!0),J!==null&&Jg(et,J,M))}function $E(y,M,J,et,i,$){let e=Kn(),u=i[Te],G=Gn(e,i);lm(u,i,e,J,null,et);for(let r=0;r<J.length;r++){let o=e.directiveStart+r,n=xr(i,u,o,e);Ni(n,i)}um(u,i,e),G&&Ni(G,i);let h=xr(i,u,e.directiveStart+e.componentOffset,e);if(y[si]=i[si]=h,$!==null)for(let r of $)r(h,M);return im(u,e,i),h}function kE(y,M,J,et){if(et)wu(y,J,["ng-version","17.2.3"]);else{let{attrs:i,classes:$}=Gy(M.selectors[0]);i&&wu(y,J,i),$&&$.length>0&&Qg(y,J,$.join(" "))}}function KE(y,M,J){let et=y.projection=[];for(let i=0;i<M.length;i++){let $=J[i];et.push($!=null?Array.from($):null)}}function ZE(){let y=Kn();Mh(sn()[Te],y)}var Vi=(()=>{let M=class M{};M.__NG_ELEMENT_ID__=QE;let y=M;return y})();function QE(){let y=Kn();return Dm(y,sn())}var JE=Vi,Sm=class extends JE{constructor(M,J,et){super(),this._lContainer=M,this._hostTNode=J,this._hostLView=et}get element(){return Cr(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){let M=Ah(this._hostTNode,this._hostLView);if(Rg(M)){let J=Bo(M,this._hostLView),et=bo(M),i=J[Te].data[et+8];return new Ri(i,J)}else return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(M){let J=Nv(this._lContainer);return J!==null&&J[M]||null}get length(){return this._lContainer.length-mn}createEmbeddedView(M,J,et){let i,$;typeof et=="number"?i=et:et!=null&&(i=et.index,$=et.injector);let e=Pv(this._lContainer,M.ssrId),u=M.createEmbeddedViewImpl(J||{},$,e);return this.insertImpl(u,i,wv(this._hostTNode,e)),u}createComponent(M,J,et,i,$){let e=M&&!Q1(M),u;if(e)u=J;else{let f=J||{};u=f.index,et=f.injector,i=f.projectableNodes,$=f.environmentInjector||f.ngModuleRef}let G=e?M:new as(Ii(M)),h=et||this.parentInjector;if(!$&&G.ngModule==null){let s=(e?h:this.parentInjector).get(un,null);s&&($=s)}let r=Ii(G.componentType??{}),o=Pv(this._lContainer,r?.id??null),n=o?.firstChild??null,l=G.create(h,i,n,$);return this.insertImpl(l.hostView,u,wv(this._hostTNode,o)),l}insert(M,J){return this.insertImpl(M,J,!0)}insertImpl(M,J,et){let i=M._lView;if(Ky(i)){let u=this.indexOf(M);if(u!==-1)this.detach(u);else{let G=i[rn],h=new Sm(G,G[In],G[rn]);h.detach(h.indexOf(M))}}let $=this._adjustIndex(J),e=this._lContainer;return mE(e,i,$,et),M.attachToViewContainerRef(),ug(Su(e),$,M),M}move(M,J){return this.insert(M,J)}indexOf(M){let J=Nv(this._lContainer);return J!==null?J.indexOf(M):-1}remove(M){let J=this._adjustIndex(M,-1),et=Hu(this._lContainer,J);et&&(Oo(Su(this._lContainer),J),kg(et[Te],et))}detach(M){let J=this._adjustIndex(M,-1),et=Hu(this._lContainer,J);return et&&Oo(Su(this._lContainer),J)!=null?new bi(et):null}_adjustIndex(M,J=0){return M??this.length+J}};function Nv(y){return y[Io]}function Su(y){return y[Io]||(y[Io]=[])}function Dm(y,M){let J,et=M[y.index];return kn(et)?J=et:(J=hm(et,M,null,y),M[y.index]=J,ga(M,J)),_E(J,M,y,et),new Sm(J,y,M)}function qE(y,M){let J=y[Sn],et=J.createComment(""),i=Gn(M,y),$=Rh(J,i);return Uo(J,$,et,OT(J,i),!1),et}var _E=nC,tC=()=>!1;function eC(y,M,J){return tC(y,M,J)}function nC(y,M,J,et){if(y[Oi])return;let i;J.type&8?i=li(et):i=qE(M,J),y[Oi]=i}var _u=class y{constructor(M){this.queryList=M,this.matches=null}clone(){return new y(this.queryList)}setDirty(){this.queryList.setDirty()}},th=class y{constructor(M=[]){this.queries=M}createEmbeddedView(M){let J=M.queries;if(J!==null){let et=M.contentQueries!==null?M.contentQueries[0]:J.length,i=[];for(let $=0;$<et;$++){let e=J.getByIndex($),u=this.queries[e.indexInDeclarationView];i.push(u.clone())}return new y(i)}return null}insertView(M){this.dirtyQueriesWithMatches(M)}detachView(M){this.dirtyQueriesWithMatches(M)}finishViewCreation(M){this.dirtyQueriesWithMatches(M)}dirtyQueriesWithMatches(M){for(let J=0;J<this.queries.length;J++)Vh(M,J).matches!==null&&this.queries[J].setDirty()}},eh=class{constructor(M,J,et=null){this.flags=J,this.read=et,typeof M=="string"?this.predicate=hC(M):this.predicate=M}},nh=class y{constructor(M=[]){this.queries=M}elementStart(M,J){for(let et=0;et<this.queries.length;et++)this.queries[et].elementStart(M,J)}elementEnd(M){for(let J=0;J<this.queries.length;J++)this.queries[J].elementEnd(M)}embeddedTView(M){let J=null;for(let et=0;et<this.length;et++){let i=J!==null?J.length:0,$=this.getByIndex(et).embeddedTView(M,i);$&&($.indexInDeclarationView=et,J!==null?J.push($):J=[$])}return J!==null?new y(J):null}template(M,J){for(let et=0;et<this.queries.length;et++)this.queries[et].template(M,J)}getByIndex(M){return this.queries[M]}get length(){return this.queries.length}track(M){this.queries.push(M)}},ih=class y{constructor(M,J=-1){this.metadata=M,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=J}elementStart(M,J){this.isApplyingToNode(J)&&this.matchTNode(M,J)}elementEnd(M){this._declarationNodeIndex===M.index&&(this._appliesToNextNode=!1)}template(M,J){this.elementStart(M,J)}embeddedTView(M,J){return this.isApplyingToNode(M)?(this.crossesNgTemplate=!0,this.addMatch(-M.index,J),new y(this.metadata)):null}isApplyingToNode(M){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let J=this._declarationNodeIndex,et=M.parent;for(;et!==null&&et.type&8&&et.index!==J;)et=et.parent;return J===(et!==null?et.index:-1)}return this._appliesToNextNode}matchTNode(M,J){let et=this.metadata.predicate;if(Array.isArray(et))for(let i=0;i<et.length;i++){let $=et[i];this.matchTNodeWithReadOption(M,J,iC(J,$)),this.matchTNodeWithReadOption(M,J,Do(J,M,$,!1,!1))}else et===yr?J.type&4&&this.matchTNodeWithReadOption(M,J,-1):this.matchTNodeWithReadOption(M,J,Do(J,M,et,!1,!1))}matchTNodeWithReadOption(M,J,et){if(et!==null){let i=this.metadata.read;if(i!==null)if(i===Bi||i===Vi||i===yr&&J.type&4)this.addMatch(J.index,-2);else{let $=Do(J,M,i,!1,!1);$!==null&&this.addMatch(J.index,$)}else this.addMatch(J.index,et)}}addMatch(M,J){this.matches===null?this.matches=[M,J]:this.matches.push(M,J)}};function iC(y,M){let J=y.localNames;if(J!==null){for(let et=0;et<J.length;et+=2)if(J[et]===M)return J[et+1]}return null}function rC(y,M){return y.type&11?Cr(y,M):y.type&4?Bh(y,M):null}function sC(y,M,J,et){return J===-1?rC(M,y):J===-2?oC(y,M,et):xr(y,y[Te],J,M)}function oC(y,M,J){if(J===Bi)return Cr(M,y);if(J===yr)return Bh(M,y);if(J===Vi)return Dm(M,y)}function Mm(y,M,J,et){let i=M[Yn].queries[et];if(i.matches===null){let $=y.data,e=J.matches,u=[];for(let G=0;e!==null&&G<e.length;G+=2){let h=e[G];if(h<0)u.push(null);else{let r=$[h];u.push(sC(M,r,e[G+1],J.metadata.read))}}i.matches=u}return i.matches}function rh(y,M,J,et){let i=y.queries.getByIndex(J),$=i.matches;if($!==null){let e=Mm(y,M,i,J);for(let u=0;u<$.length;u+=2){let G=$[u];if(G>0)et.push(e[u/2]);else{let h=$[u+1],r=M[-G];for(let o=mn;o<r.length;o++){let n=r[o];n[hs]===n[rn]&&rh(n[Te],n,h,et)}if(r[vr]!==null){let o=r[vr];for(let n=0;n<o.length;n++){let l=o[n];rh(l[Te],l,h,et)}}}}}return et}function aC(y,M){return y[Yn].queries[M].queryList}function lC(y,M,J){let et=new Iu((J&4)===4);return $T(y,M,et,et.destroy),(M[Yn]??=new th).queries.push(new _u(et))-1}function uC(y,M,J){let et=fi();return et.firstCreatePass&&(fC(et,new eh(y,M,J),-1),(M&2)===2&&(et.staticViewQueries=!0)),lC(et,sn(),M)}function hC(y){return y.split(",").map(M=>M.trim())}function fC(y,M,J){y.queries===null&&(y.queries=new nh),y.queries.track(new ih(M,J))}function Vh(y,M){return y.queries.getByIndex(M)}function dC(y,M){let J=y[Te],et=Vh(J,M);return et.crossesNgTemplate?rh(J,y,M,[]):Mm(J,y,et,M)}var ui=class{},ls=class{};var sh=class extends ui{constructor(M,J,et){super(),this._parent=J,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zo(this);let i=Xv(M);this._bootstrapComponents=Xg(i.bootstrap),this._r3Injector=Vg(M,J,[{provide:ui,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver},...et],ln(M),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(M)}get injector(){return this._r3Injector}destroy(){let M=this._r3Injector;!M.destroyed&&M.destroy(),this.destroyCbs.forEach(J=>J()),this.destroyCbs=null}onDestroy(M){this.destroyCbs.push(M)}},oh=class extends ls{constructor(M){super(),this.moduleType=M}create(M){return new sh(this.moduleType,M,[])}};var Ho=class extends ui{constructor(M){super(),this.componentFactoryResolver=new zo(this),this.instance=null;let J=new rs([...M.providers,{provide:ui,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver}],M.parent||Dh(),M.debugName,new Set(["environment"]));this.injector=J,M.runEnvironmentInitializers&&J.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(M){this.injector.onDestroy(M)}};function zh(y,M,J=null){return new Ho({providers:y,parent:M,debugName:J,runEnvironmentInitializers:!0}).injector}var zi=(()=>{let M=class M{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let et=this.taskId++;return this.pendingTasks.add(et),et}remove(et){this.pendingTasks.delete(et),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();function cC(y,M,J){let et=y[M];return Object.is(et,J)?!1:(y[M]=J,!0)}function pC(y,M,J,et,i,$,e,u,G){let h=M.consts,r=ca(M,y,4,e||null,Fo(h,u));am(M,J,r,Fo(h,G)),Mh(M,r);let o=r.tView=Lh(2,r,et,i,$,M.directiveRegistry,M.pipeRegistry,null,M.schemas,h,null);return M.queries!==null&&(M.queries.template(M,r),o.queries=M.queries.embeddedTView(r)),r}function Hh(y,M,J,et,i,$,e,u){let G=sn(),h=fi(),r=y+ai,o=h.firstCreatePass?pC(r,h,G,M,J,et,i,$,e):h.data[r];ds(o,!1);let n=vC(h,G,o,y);vh()&&Ih(h,G,n,o),Ni(n,G);let l=hm(n,G,n,o);return G[r]=l,ga(G,l),eC(l,o,G),Zv(o)&&rm(h,G,o),e!=null&&sm(G,o,u),Hh}var vC=gC;function gC(y,M,J,et){return gh(!0),M[Sn].createComment("")}function wa(y,M,J){let et=sn(),i=o1();if(cC(et,i,M)){let $=fi(),e=f1();QT($,e,et,y,M,et[Sn],J,!1)}return wa}function bv(y,M,J,et,i){let $=M.inputs,e=i?"class":"style";Nh(y,J,$[e],e,et)}function mC(y,M,J,et,i,$){let e=M.consts,u=Fo(e,i),G=ca(M,y,2,et,u);return am(M,J,G,Fo(e,$)),G.attrs!==null&&Qu(G,G.attrs,!1),G.mergedAttrs!==null&&Qu(G,G.mergedAttrs,!0),M.queries!==null&&M.queries.elementStart(M,G),G}function Hi(y,M,J,et){let i=sn(),$=fi(),e=ai+y,u=i[Sn],G=$.firstCreatePass?mC(e,$,i,M,J,et):$.data[e],h=xC($,i,G,u,M,y);i[e]=h;let r=Zv(G);return ds(G,!0),Jg(u,h,G),(G.flags&32)!==32&&vh()&&Ih($,i,h,G),Jy()===0&&Ni(h,i),qy(),r&&(rm($,i,G),im($,G,i)),et!==null&&sm(i,G),Hi}function Wi(){let y=Kn();tg()?r1():(y=y.parent,ds(y,!1));let M=y;e1(M)&&n1(),_y();let J=fi();return J.firstCreatePass&&(Mh(J,y),Kv(y)&&J.queries.elementEnd(y)),M.classesWithoutHost!=null&&iT(M)&&bv(J,M,sn(),M.classesWithoutHost,!0),M.stylesWithoutHost!=null&&rT(M)&&bv(J,M,sn(),M.stylesWithoutHost,!1),Wi}function Qn(y,M,J,et){return Hi(y,M,J,et),Wi(),Qn}var xC=(y,M,J,et,i,$)=>(gh(!0),Yg(et,i,d1()));var Wo="en-US";var yC=Wo;function TC(y){typeof y=="string"&&(yC=y.toLowerCase().replace(/_/g,"-"))}function Am(y,M,J){uC(y,M,J)}function Wh(y){let M=sn(),J=fi(),et=eg();dh(et+1);let i=Vh(J,et);if(y.dirty&&ky(M)===((i.metadata.flags&2)===2)){if(i.matches===null)y.reset([]);else{let $=dC(M,et);y.reset($,p1),y.notifyOnChanges()}return!0}return!1}function Xh(){return aC(sn(),eg())}function wm(y,M=""){let J=sn(),et=fi(),i=y+ai,$=et.firstCreatePass?ca(et,i,1,M,null):et.data[i],e=EC(et,J,$,M,y);J[i]=e,vh()&&Ih(et,J,e,$),ds($,!1)}var EC=(y,M,J,et,i)=>(gh(!0),ET(M[Sn],et));var CC=(()=>{let M=class M{constructor(et){this._injector=et,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(et){if(!et.standalone)return null;if(!this.cachedInjectors.has(et)){let i=Eg(!1,et.type),$=i.length>0?zh([i],this._injector,`Standalone[${et.type.name}]`):null;this.cachedInjectors.set(et,$)}return this.cachedInjectors.get(et)}ngOnDestroy(){try{for(let et of this.cachedInjectors.values())et!==null&&et.destroy()}finally{this.cachedInjectors.clear()}}};M.\u0275prov=Xt({token:M,providedIn:"environment",factory:()=>new M(Zt(un))});let y=M;return y})();function pi(y){Uh("NgStandalone"),y.getStandaloneInjector=M=>M.get(CC).getOrCreateStandaloneInjector(y)}var ba=(()=>{let M=class M{log(et){console.log(et)}warn(et){console.warn(et)}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"platform"});let y=M;return y})();var Pm=new $t("");function ps(y){return!!y&&typeof y.then=="function"}function Rm(y){return!!y&&typeof y.subscribe=="function"}var Im=new $t(""),Fm=(()=>{let M=class M{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((et,i)=>{this.resolve=et,this.reject=i}),this.appInits=Bt(Im,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let et=[];for(let $ of this.appInits){let e=$();if(ps(e))et.push(e);else if(Rm(e)){let u=new Promise((G,h)=>{e.subscribe({complete:G,error:h})});et.push(u)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(et).then(()=>{i()}).catch($=>{this.reject($)}),et.length===0&&i(),this.initialized=!0}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})(),_a=new $t("");function SC(){Ip(()=>{throw new Wt(600,!1)})}function DC(y){return y.isBoundToModule}function MC(y,M,J){try{let et=J();return ps(et)?et.catch(i=>{throw M.runOutsideAngular(()=>y.handleError(i)),i}):et}catch(et){throw M.runOutsideAngular(()=>y.handleError(et)),et}}var Mr=(()=>{let M=class M{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bt(zg),this.afterRenderEffectManager=Bt(Cm),this.componentTypes=[],this.components=[],this.isStable=Bt(zi).hasPendingTasks.pipe(qt(et=>!et)),this._injector=Bt(un)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(et,i){let $=et instanceof Vo;if(!this._injector.get(Fm).done){let l=!$&&Wv(et),f=!1;throw new Wt(405,f)}let u;$?u=et:u=this._injector.get(Ta).resolveComponentFactory(et),this.componentTypes.push(u.componentType);let G=DC(u)?void 0:this._injector.get(ui),h=i||u.selector,r=u.create(cs.NULL,[],h,G),o=r.location.nativeElement,n=r.injector.get(Pm,null);return n?.registerApplication(o),r.onDestroy(()=>{this.detachView(r.hostView),Du(this.components,r),n?.unregisterApplication(o)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Wt(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(et){this.internalErrorHandler(et)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let et=0,i=this.afterRenderEffectManager;for(;;){if(et===gm)throw new Wt(103,!1);let $=et===0;for(let{_lView:e,notifyErrorHandler:u}of this._views)!$&&!Mu(e)||this.detectChangesInView(e,u,$);if(et++,i.executeInternalCallbacks(),!this._views.some(({_lView:e})=>Mu(e))&&(i.execute(),!this._views.some(({_lView:e})=>Mu(e))))break}}detectChangesInView(et,i,$){let e;$?(e=0,et[zt]|=1024):et[zt]&64?e=0:e=1,mm(et,i,e)}attachView(et){let i=et;this._views.push(i),i.attachToAppRef(this)}detachView(et){let i=et;Du(this._views,i),i.detachFromAppRef()}_loadComponent(et){this.attachView(et.hostView),this.tick(),this.components.push(et);let i=this._injector.get(_a,[]);[...this._bootstrapListeners,...i].forEach($=>$(et))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(et=>et()),this._views.slice().forEach(et=>et.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(et){return this._destroyListeners.push(et),()=>Du(this._destroyListeners,et)}destroy(){if(this._destroyed)throw new Wt(406,!1);let et=this._injector;et.destroy&&!et.destroyed&&et.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();function Du(y,M){let J=y.indexOf(M);J>-1&&y.splice(J,1)}function Mu(y){return fh(y)}var ah=class{constructor(M,J){this.ngModuleFactory=M,this.componentFactories=J}},Yh=(()=>{let M=class M{compileModuleSync(et){return new oh(et)}compileModuleAsync(et){return Promise.resolve(this.compileModuleSync(et))}compileModuleAndAllComponentsSync(et){let i=this.compileModuleSync(et),$=Xv(et),e=Xg($.declarations).reduce((u,G)=>{let h=Ii(G);return h&&u.push(new as(h)),u},[]);return new ah(i,e)}compileModuleAndAllComponentsAsync(et){return Promise.resolve(this.compileModuleAndAllComponentsSync(et))}clearCache(){}clearCacheFor(et){}getModuleId(et){}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();var AC=(()=>{let M=class M{constructor(){this.zone=Bt(We),this.applicationRef=Bt(Mr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();function wC(y){return[{provide:We,useFactory:y},{provide:mr,multi:!0,useFactory:()=>{let M=Bt(AC,{optional:!0});return()=>M.initialize()}},{provide:mr,multi:!0,useFactory:()=>{let M=Bt(FC);return()=>{M.initialize()}}},{provide:zg,useFactory:PC}]}function PC(){let y=Bt(We),M=Bt(jn);return J=>y.runOutsideAngular(()=>M.handleError(J))}function RC(y){let M=wC(()=>new We(IC(y)));return Dr([[],M])}function IC(y){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:y?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:y?.runCoalescing??!1}}var FC=(()=>{let M=class M{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=Bt(We),this.pendingTasks=Bt(zi)}initialize(){if(this.initialized)return;this.initialized=!0;let et=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(et=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{et!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(et),et=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),et??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();function OC(){return typeof $localize<"u"&&$localize.locale||Wo}var jh=new $t("",{providedIn:"root",factory:()=>Bt(jh,_t.Optional|_t.SkipSelf)||OC()});var Om=new $t("");var Ao=null;function LC(y=[],M){return cs.create({name:M,providers:[{provide:Qo,useValue:"platform"},{provide:Om,useValue:new Set([()=>Ao=null])},...y]})}function NC(y=[]){if(Ao)return Ao;let M=LC(y);return Ao=M,SC(),bC(M),M}function bC(y){y.get(yh,null)?.forEach(J=>J())}function Lm(y){try{let{rootComponent:M,appProviders:J,platformProviders:et}=y,i=NC(et),$=[RC(),...J||[]],u=new Ho({providers:$,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,G=u.get(We);return G.run(()=>{u.resolveInjectorInitializers();let h=u.get(jn,null),r;G.runOutsideAngular(()=>{r=G.onError.subscribe({next:l=>{h.handleError(l)}})});let o=()=>u.destroy(),n=i.get(Om);return n.add(o),u.onDestroy(()=>{r.unsubscribe(),n.delete(o)}),MC(h,G,()=>{let l=u.get(Fm);return l.runInitializers(),l.donePromise.then(()=>{let f=u.get(jh,Wo);TC(f||Wo);let s=u.get(Mr);return M!==void 0&&s.bootstrap(M),s})})})}catch(M){return Promise.reject(M)}}var Vm=null;function Ar(){return Vm}function zm(y){Vm??=y}var tl=class{};var hn=new $t(""),Hm=(()=>{let M=class M{historyGo(et){throw new Error("")}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>Bt(zC),providedIn:"platform"});let y=M;return y})();var zC=(()=>{let M=class M extends Hm{constructor(){super(),this._doc=Bt(hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ar().getBaseHref(this._doc)}onPopState(et){let i=Ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",et,!1),()=>i.removeEventListener("popstate",et)}onHashChange(et){let i=Ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",et,!1),()=>i.removeEventListener("hashchange",et)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(et){this._location.pathname=et}pushState(et,i,$){this._history.pushState(et,i,$)}replaceState(et,i,$){this._history.replaceState(et,i,$)}forward(){this._history.forward()}back(){this._history.back()}historyGo(et=0){this._history.go(et)}getState(){return this._history.state}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>new M,providedIn:"platform"});let y=M;return y})();function Wm(y,M){if(y.length==0)return M;if(M.length==0)return y;let J=0;return y.endsWith("/")&&J++,M.startsWith("/")&&J++,J==2?y+M.substring(1):J==1?y+M:y+"/"+M}function Nm(y){let M=y.match(/#|\?|$/),J=M&&M.index||y.length,et=J-(y[J-1]==="/"?1:0);return y.slice(0,et)+y.slice(J)}function Yi(y){return y&&y[0]!=="?"?"?"+y:y}var el=(()=>{let M=class M{historyGo(et){throw new Error("")}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>Bt(Xm),providedIn:"root"});let y=M;return y})(),HC=new $t(""),Xm=(()=>{let M=class M extends el{constructor(et,i){super(),this._platformLocation=et,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Bt(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(et){this._removeListenerFns.push(this._platformLocation.onPopState(et),this._platformLocation.onHashChange(et))}getBaseHref(){return this._baseHref}prepareExternalUrl(et){return Wm(this._baseHref,et)}path(et=!1){let i=this._platformLocation.pathname+Yi(this._platformLocation.search),$=this._platformLocation.hash;return $&&et?`${i}${$}`:i}pushState(et,i,$,e){let u=this.prepareExternalUrl($+Yi(e));this._platformLocation.pushState(et,i,u)}replaceState(et,i,$,e){let u=this.prepareExternalUrl($+Yi(e));this._platformLocation.replaceState(et,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(et=0){this._platformLocation.historyGo?.(et)}};M.\u0275fac=function(i){return new(i||M)(Zt(Hm),Zt(HC,8))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();var vs=(()=>{let M=class M{constructor(et){this._subject=new En,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=et;let i=this._locationStrategy.getBaseHref();this._basePath=YC(Nm(bm(i))),this._locationStrategy.onPopState($=>{this._subject.emit({url:this.path(!0),pop:!0,state:$.state,type:$.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(et=!1){return this.normalize(this._locationStrategy.path(et))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(et,i=""){return this.path()==this.normalize(et+Yi(i))}normalize(et){return M.stripTrailingSlash(XC(this._basePath,bm(et)))}prepareExternalUrl(et){return et&&et[0]!=="/"&&(et="/"+et),this._locationStrategy.prepareExternalUrl(et)}go(et,i="",$=null){this._locationStrategy.pushState($,"",et,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(et+Yi(i)),$)}replaceState(et,i="",$=null){this._locationStrategy.replaceState($,"",et,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(et+Yi(i)),$)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(et=0){this._locationStrategy.historyGo?.(et)}onUrlChange(et){return this._urlChangeListeners.push(et),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(et);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(et="",i){this._urlChangeListeners.forEach($=>$(et,i))}subscribe(et,i,$){return this._subject.subscribe({next:et,error:i,complete:$})}};M.normalizeQueryParams=Yi,M.joinWithSlash=Wm,M.stripTrailingSlash=Nm,M.\u0275fac=function(i){return new(i||M)(Zt(el))},M.\u0275prov=Xt({token:M,factory:()=>WC(),providedIn:"root"});let y=M;return y})();function WC(){return new vs(Zt(el))}function XC(y,M){if(!y||!M.startsWith(y))return M;let J=M.substring(y.length);return J===""||["/",";","?","#"].includes(J[0])?J:M}function bm(y){return y.replace(/\/index.html$/,"")}function YC(y){if(new RegExp("^(https?:)?//").test(y)){let[,J]=y.split(/\/\/[^\/]+/);return J}return y}function nl(y,M){M=encodeURIComponent(M);for(let J of y.split(";")){let et=J.indexOf("="),[i,$]=et==-1?[J,""]:[J.slice(0,et),J.slice(et+1)];if(i.trim()===M)return decodeURIComponent($)}return null}var Ym=(()=>{let M=class M{constructor(et,i){this._viewContainer=et,this._context=new $h,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(et){this._context.$implicit=this._context.ngIf=et,this._updateView()}set ngIfThen(et){Bm("ngIfThen",et),this._thenTemplateRef=et,this._thenViewRef=null,this._updateView()}set ngIfElse(et){Bm("ngIfElse",et),this._elseTemplateRef=et,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(et,i){return!0}};M.\u0275fac=function(i){return new(i||M)(ci(Vi),ci(yr))},M.\u0275dir=jo({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let y=M;return y})(),$h=class{constructor(){this.$implicit=null,this.ngIf=null}};function Bm(y,M){if(!!!(!M||M.createEmbeddedView))throw new Error(`${y} must be a TemplateRef, but received '${ln(M)}'.`)}var kh=(()=>{let M=class M{};M.\u0275fac=function(i){return new(i||M)},M.\u0275mod=Tr({type:M}),M.\u0275inj=Sr({});let y=M;return y})(),jm="browser",jC="server";function Kh(y){return y===jC}var wr=class{};var ms=class{},rl=class{},ji=class y{constructor(M){this.normalizedNames=new Map,this.lazyUpdate=null,M?typeof M=="string"?this.lazyInit=()=>{this.headers=new Map,M.split(`
`).forEach(J=>{let et=J.indexOf(":");if(et>0){let i=J.slice(0,et),$=i.toLowerCase(),e=J.slice(et+1).trim();this.maybeSetNormalizedName(i,$),this.headers.has($)?this.headers.get($).push(e):this.headers.set($,[e])}})}:typeof Headers<"u"&&M instanceof Headers?(this.headers=new Map,M.forEach((J,et)=>{this.setHeaderEntries(et,J)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(M).forEach(([J,et])=>{this.setHeaderEntries(J,et)})}:this.headers=new Map}has(M){return this.init(),this.headers.has(M.toLowerCase())}get(M){this.init();let J=this.headers.get(M.toLowerCase());return J&&J.length>0?J[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(M){return this.init(),this.headers.get(M.toLowerCase())||null}append(M,J){return this.clone({name:M,value:J,op:"a"})}set(M,J){return this.clone({name:M,value:J,op:"s"})}delete(M,J){return this.clone({name:M,value:J,op:"d"})}maybeSetNormalizedName(M,J){this.normalizedNames.has(J)||this.normalizedNames.set(J,M)}init(){this.lazyInit&&(this.lazyInit instanceof y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(M=>this.applyUpdate(M)),this.lazyUpdate=null))}copyFrom(M){M.init(),Array.from(M.headers.keys()).forEach(J=>{this.headers.set(J,M.headers.get(J)),this.normalizedNames.set(J,M.normalizedNames.get(J))})}clone(M){let J=new y;return J.lazyInit=this.lazyInit&&this.lazyInit instanceof y?this.lazyInit:this,J.lazyUpdate=(this.lazyUpdate||[]).concat([M]),J}applyUpdate(M){let J=M.name.toLowerCase();switch(M.op){case"a":case"s":let et=M.value;if(typeof et=="string"&&(et=[et]),et.length===0)return;this.maybeSetNormalizedName(M.name,J);let i=(M.op==="a"?this.headers.get(J):void 0)||[];i.push(...et),this.headers.set(J,i);break;case"d":let $=M.value;if(!$)this.headers.delete(J),this.normalizedNames.delete(J);else{let e=this.headers.get(J);if(!e)return;e=e.filter(u=>$.indexOf(u)===-1),e.length===0?(this.headers.delete(J),this.normalizedNames.delete(J)):this.headers.set(J,e)}break}}setHeaderEntries(M,J){let et=(Array.isArray(J)?J:[J]).map($=>$.toString()),i=M.toLowerCase();this.headers.set(i,et),this.maybeSetNormalizedName(M,i)}forEach(M){this.init(),Array.from(this.normalizedNames.keys()).forEach(J=>M(this.normalizedNames.get(J),this.headers.get(J)))}};var Qh=class{encodeKey(M){return $m(M)}encodeValue(M){return $m(M)}decodeKey(M){return decodeURIComponent(M)}decodeValue(M){return decodeURIComponent(M)}};function ZC(y,M){let J=new Map;return y.length>0&&y.replace(/^\?/,"").split("&").forEach(i=>{let $=i.indexOf("="),[e,u]=$==-1?[M.decodeKey(i),""]:[M.decodeKey(i.slice(0,$)),M.decodeValue(i.slice($+1))],G=J.get(e)||[];G.push(u),J.set(e,G)}),J}var QC=/%(\d[a-f0-9])/gi,JC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $m(y){return encodeURIComponent(y).replace(QC,(M,J)=>JC[J]??M)}function il(y){return`${y}`}var vi=class y{constructor(M={}){if(this.updates=null,this.cloneFrom=null,this.encoder=M.encoder||new Qh,M.fromString){if(M.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=ZC(M.fromString,this.encoder)}else M.fromObject?(this.map=new Map,Object.keys(M.fromObject).forEach(J=>{let et=M.fromObject[J],i=Array.isArray(et)?et.map(il):[il(et)];this.map.set(J,i)})):this.map=null}has(M){return this.init(),this.map.has(M)}get(M){this.init();let J=this.map.get(M);return J?J[0]:null}getAll(M){return this.init(),this.map.get(M)||null}keys(){return this.init(),Array.from(this.map.keys())}append(M,J){return this.clone({param:M,value:J,op:"a"})}appendAll(M){let J=[];return Object.keys(M).forEach(et=>{let i=M[et];Array.isArray(i)?i.forEach($=>{J.push({param:et,value:$,op:"a"})}):J.push({param:et,value:i,op:"a"})}),this.clone(J)}set(M,J){return this.clone({param:M,value:J,op:"s"})}delete(M,J){return this.clone({param:M,value:J,op:"d"})}toString(){return this.init(),this.keys().map(M=>{let J=this.encoder.encodeKey(M);return this.map.get(M).map(et=>J+"="+this.encoder.encodeValue(et)).join("&")}).filter(M=>M!=="").join("&")}clone(M){let J=new y({encoder:this.encoder});return J.cloneFrom=this.cloneFrom||this,J.updates=(this.updates||[]).concat(M),J}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(M=>this.map.set(M,this.cloneFrom.map.get(M))),this.updates.forEach(M=>{switch(M.op){case"a":case"s":let J=(M.op==="a"?this.map.get(M.param):void 0)||[];J.push(il(M.value)),this.map.set(M.param,J);break;case"d":if(M.value!==void 0){let et=this.map.get(M.param)||[],i=et.indexOf(il(M.value));i!==-1&&et.splice(i,1),et.length>0?this.map.set(M.param,et):this.map.delete(M.param)}else{this.map.delete(M.param);break}}}),this.cloneFrom=this.updates=null)}};var Jh=class{constructor(){this.map=new Map}set(M,J){return this.map.set(M,J),this}get(M){return this.map.has(M)||this.map.set(M,M.defaultValue()),this.map.get(M)}delete(M){return this.map.delete(M),this}has(M){return this.map.has(M)}keys(){return this.map.keys()}};function qC(y){switch(y){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function km(y){return typeof ArrayBuffer<"u"&&y instanceof ArrayBuffer}function Km(y){return typeof Blob<"u"&&y instanceof Blob}function Zm(y){return typeof FormData<"u"&&y instanceof FormData}function _C(y){return typeof URLSearchParams<"u"&&y instanceof URLSearchParams}var gs=class y{constructor(M,J,et,i){this.url=J,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=M.toUpperCase();let $;if(qC(this.method)||i?(this.body=et!==void 0?et:null,$=i):$=et,$&&(this.reportProgress=!!$.reportProgress,this.withCredentials=!!$.withCredentials,$.responseType&&(this.responseType=$.responseType),$.headers&&(this.headers=$.headers),$.context&&(this.context=$.context),$.params&&(this.params=$.params),this.transferCache=$.transferCache),this.headers??=new ji,this.context??=new Jh,!this.params)this.params=new vi,this.urlWithParams=J;else{let e=this.params.toString();if(e.length===0)this.urlWithParams=J;else{let u=J.indexOf("?"),G=u===-1?"?":u<J.length-1?"&":"";this.urlWithParams=J+G+e}}}serializeBody(){return this.body===null?null:km(this.body)||Km(this.body)||Zm(this.body)||_C(this.body)||typeof this.body=="string"?this.body:this.body instanceof vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Zm(this.body)?null:Km(this.body)?this.body.type||null:km(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(M={}){let J=M.method||this.method,et=M.url||this.url,i=M.responseType||this.responseType,$=M.body!==void 0?M.body:this.body,e=M.withCredentials!==void 0?M.withCredentials:this.withCredentials,u=M.reportProgress!==void 0?M.reportProgress:this.reportProgress,G=M.headers||this.headers,h=M.params||this.params,r=M.context??this.context;return M.setHeaders!==void 0&&(G=Object.keys(M.setHeaders).reduce((o,n)=>o.set(n,M.setHeaders[n]),G)),M.setParams&&(h=Object.keys(M.setParams).reduce((o,n)=>o.set(n,M.setParams[n]),h)),new y(J,et,$,{params:h,headers:G,context:r,reportProgress:u,responseType:i,withCredentials:e})}},Pr=function(y){return y[y.Sent=0]="Sent",y[y.UploadProgress=1]="UploadProgress",y[y.ResponseHeader=2]="ResponseHeader",y[y.DownloadProgress=3]="DownloadProgress",y[y.Response=4]="Response",y[y.User=5]="User",y}(Pr||{}),xs=class{constructor(M,J=al.Ok,et="OK"){this.headers=M.headers||new ji,this.status=M.status!==void 0?M.status:J,this.statusText=M.statusText||et,this.url=M.url||null,this.ok=this.status>=200&&this.status<300}},qh=class y extends xs{constructor(M={}){super(M),this.type=Pr.ResponseHeader}clone(M={}){return new y({headers:M.headers||this.headers,status:M.status!==void 0?M.status:this.status,statusText:M.statusText||this.statusText,url:M.url||this.url||void 0})}},sl=class y extends xs{constructor(M={}){super(M),this.type=Pr.Response,this.body=M.body!==void 0?M.body:null}clone(M={}){return new y({body:M.body!==void 0?M.body:this.body,headers:M.headers||this.headers,status:M.status!==void 0?M.status:this.status,statusText:M.statusText||this.statusText,url:M.url||this.url||void 0})}},ol=class extends xs{constructor(M){super(M,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${M.url||"(unknown url)"}`:this.message=`Http failure response for ${M.url||"(unknown url)"}: ${M.status} ${M.statusText}`,this.error=M.error||null}},al=function(y){return y[y.Continue=100]="Continue",y[y.SwitchingProtocols=101]="SwitchingProtocols",y[y.Processing=102]="Processing",y[y.EarlyHints=103]="EarlyHints",y[y.Ok=200]="Ok",y[y.Created=201]="Created",y[y.Accepted=202]="Accepted",y[y.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",y[y.NoContent=204]="NoContent",y[y.ResetContent=205]="ResetContent",y[y.PartialContent=206]="PartialContent",y[y.MultiStatus=207]="MultiStatus",y[y.AlreadyReported=208]="AlreadyReported",y[y.ImUsed=226]="ImUsed",y[y.MultipleChoices=300]="MultipleChoices",y[y.MovedPermanently=301]="MovedPermanently",y[y.Found=302]="Found",y[y.SeeOther=303]="SeeOther",y[y.NotModified=304]="NotModified",y[y.UseProxy=305]="UseProxy",y[y.Unused=306]="Unused",y[y.TemporaryRedirect=307]="TemporaryRedirect",y[y.PermanentRedirect=308]="PermanentRedirect",y[y.BadRequest=400]="BadRequest",y[y.Unauthorized=401]="Unauthorized",y[y.PaymentRequired=402]="PaymentRequired",y[y.Forbidden=403]="Forbidden",y[y.NotFound=404]="NotFound",y[y.MethodNotAllowed=405]="MethodNotAllowed",y[y.NotAcceptable=406]="NotAcceptable",y[y.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",y[y.RequestTimeout=408]="RequestTimeout",y[y.Conflict=409]="Conflict",y[y.Gone=410]="Gone",y[y.LengthRequired=411]="LengthRequired",y[y.PreconditionFailed=412]="PreconditionFailed",y[y.PayloadTooLarge=413]="PayloadTooLarge",y[y.UriTooLong=414]="UriTooLong",y[y.UnsupportedMediaType=415]="UnsupportedMediaType",y[y.RangeNotSatisfiable=416]="RangeNotSatisfiable",y[y.ExpectationFailed=417]="ExpectationFailed",y[y.ImATeapot=418]="ImATeapot",y[y.MisdirectedRequest=421]="MisdirectedRequest",y[y.UnprocessableEntity=422]="UnprocessableEntity",y[y.Locked=423]="Locked",y[y.FailedDependency=424]="FailedDependency",y[y.TooEarly=425]="TooEarly",y[y.UpgradeRequired=426]="UpgradeRequired",y[y.PreconditionRequired=428]="PreconditionRequired",y[y.TooManyRequests=429]="TooManyRequests",y[y.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",y[y.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",y[y.InternalServerError=500]="InternalServerError",y[y.NotImplemented=501]="NotImplemented",y[y.BadGateway=502]="BadGateway",y[y.ServiceUnavailable=503]="ServiceUnavailable",y[y.GatewayTimeout=504]="GatewayTimeout",y[y.HttpVersionNotSupported=505]="HttpVersionNotSupported",y[y.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",y[y.InsufficientStorage=507]="InsufficientStorage",y[y.LoopDetected=508]="LoopDetected",y[y.NotExtended=510]="NotExtended",y[y.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",y}(al||{});function Zh(y,M){return{body:M,headers:y.headers,context:y.context,observe:y.observe,params:y.params,reportProgress:y.reportProgress,responseType:y.responseType,withCredentials:y.withCredentials,transferCache:y.transferCache}}var _h=(()=>{let M=class M{constructor(et){this.handler=et}request(et,i,$={}){let e;if(et instanceof gs)e=et;else{let h;$.headers instanceof ji?h=$.headers:h=new ji($.headers);let r;$.params&&($.params instanceof vi?r=$.params:r=new vi({fromObject:$.params})),e=new gs(et,i,$.body!==void 0?$.body:null,{headers:h,context:$.context,params:r,reportProgress:$.reportProgress,responseType:$.responseType||"json",withCredentials:$.withCredentials,transferCache:$.transferCache})}let u=Yt(e).pipe(_n(h=>this.handler.handle(h)));if(et instanceof gs||$.observe==="events")return u;let G=u.pipe(vn(h=>h instanceof sl));switch($.observe||"body"){case"body":switch(e.responseType){case"arraybuffer":return G.pipe(qt(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return G.pipe(qt(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return G.pipe(qt(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return G.pipe(qt(h=>h.body))}case"response":return G;default:throw new Error(`Unreachable: unhandled observe type ${$.observe}}`)}}delete(et,i={}){return this.request("DELETE",et,i)}get(et,i={}){return this.request("GET",et,i)}head(et,i={}){return this.request("HEAD",et,i)}jsonp(et,i){return this.request("JSONP",et,{params:new vi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(et,i={}){return this.request("OPTIONS",et,i)}patch(et,i,$={}){return this.request("PATCH",et,Zh($,i))}post(et,i,$={}){return this.request("POST",et,Zh($,i))}put(et,i,$={}){return this.request("PUT",et,Zh($,i))}};M.\u0275fac=function(i){return new(i||M)(Zt(ms))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})();function _m(y,M){return M(y)}function tS(y,M){return(J,et)=>M.intercept(J,{handle:i=>y(i,et)})}function eS(y,M,J){return(et,i)=>Zn(J,()=>M(et,$=>y($,i)))}var nS=new $t(""),tf=new $t(""),iS=new $t(""),rS=new $t("");function sS(){let y=null;return(M,J)=>{y===null&&(y=(Bt(nS,{optional:!0})??[]).reduceRight(tS,_m));let et=Bt(zi),i=et.add();return y(M,J).pipe(ei(()=>et.remove(i)))}}var Qm=(()=>{let M=class M extends ms{constructor(et,i){super(),this.backend=et,this.injector=i,this.chain=null,this.pendingTasks=Bt(zi);let $=Bt(rS,{optional:!0});this.backend=$??et}handle(et){if(this.chain===null){let $=Array.from(new Set([...this.injector.get(tf),...this.injector.get(iS,[])]));this.chain=$.reduceRight((e,u)=>eS(e,u,this.injector),_m)}let i=this.pendingTasks.add();return this.chain(et,$=>this.backend.handle($)).pipe(ei(()=>this.pendingTasks.remove(i)))}};M.\u0275fac=function(i){return new(i||M)(Zt(rl),Zt(un))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})();var oS=/^\)\]\}',?\n/;function aS(y){return"responseURL"in y&&y.responseURL?y.responseURL:/^X-Request-URL:/m.test(y.getAllResponseHeaders())?y.getResponseHeader("X-Request-URL"):null}var Jm=(()=>{let M=class M{constructor(et){this.xhrFactory=et}handle(et){if(et.method==="JSONP")throw new Wt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?He(i.\u0275loadImpl()):Yt(null)).pipe(gn(()=>new Re(e=>{let u=i.build();if(u.open(et.method,et.urlWithParams),et.withCredentials&&(u.withCredentials=!0),et.headers.forEach((d,p)=>u.setRequestHeader(d,p.join(","))),et.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!et.headers.has("Content-Type")){let d=et.detectContentTypeHeader();d!==null&&u.setRequestHeader("Content-Type",d)}if(et.responseType){let d=et.responseType.toLowerCase();u.responseType=d!=="json"?d:"text"}let G=et.serializeBody(),h=null,r=()=>{if(h!==null)return h;let d=u.statusText||"OK",p=new ji(u.getAllResponseHeaders()),c=aS(u)||et.url;return h=new qh({headers:p,status:u.status,statusText:d,url:c}),h},o=()=>{let{headers:d,status:p,statusText:c,url:g}=r(),j=null;p!==al.NoContent&&(j=typeof u.response>"u"?u.responseText:u.response),p===0&&(p=j?al.Ok:0);let k=p>=200&&p<300;if(et.responseType==="json"&&typeof j=="string"){let tt=j;j=j.replace(oS,"");try{j=j!==""?JSON.parse(j):null}catch(_){j=tt,k&&(k=!1,j={error:_,text:j})}}k?(e.next(new sl({body:j,headers:d,status:p,statusText:c,url:g||void 0})),e.complete()):e.error(new ol({error:j,headers:d,status:p,statusText:c,url:g||void 0}))},n=d=>{let{url:p}=r(),c=new ol({error:d,status:u.status||0,statusText:u.statusText||"Unknown Error",url:p||void 0});e.error(c)},l=!1,f=d=>{l||(e.next(r()),l=!0);let p={type:Pr.DownloadProgress,loaded:d.loaded};d.lengthComputable&&(p.total=d.total),et.responseType==="text"&&u.responseText&&(p.partialText=u.responseText),e.next(p)},s=d=>{let p={type:Pr.UploadProgress,loaded:d.loaded};d.lengthComputable&&(p.total=d.total),e.next(p)};return u.addEventListener("load",o),u.addEventListener("error",n),u.addEventListener("timeout",n),u.addEventListener("abort",n),et.reportProgress&&(u.addEventListener("progress",f),G!==null&&u.upload&&u.upload.addEventListener("progress",s)),u.send(G),e.next({type:Pr.Sent}),()=>{u.removeEventListener("error",n),u.removeEventListener("abort",n),u.removeEventListener("load",o),u.removeEventListener("timeout",n),et.reportProgress&&(u.removeEventListener("progress",f),G!==null&&u.upload&&u.upload.removeEventListener("progress",s)),u.readyState!==u.DONE&&u.abort()}})))}};M.\u0275fac=function(i){return new(i||M)(Zt(wr))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})(),t0=new $t(""),lS="XSRF-TOKEN",uS=new $t("",{providedIn:"root",factory:()=>lS}),hS="X-XSRF-TOKEN",fS=new $t("",{providedIn:"root",factory:()=>hS}),ll=class{},dS=(()=>{let M=class M{constructor(et,i,$){this.doc=et,this.platform=i,this.cookieName=$,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let et=this.doc.cookie||"";return et!==this.lastCookieString&&(this.parseCount++,this.lastToken=nl(et,this.cookieName),this.lastCookieString=et),this.lastToken}};M.\u0275fac=function(i){return new(i||M)(Zt(hn),Zt(di),Zt(uS))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})();function cS(y,M){let J=y.url.toLowerCase();if(!Bt(t0)||y.method==="GET"||y.method==="HEAD"||J.startsWith("http://")||J.startsWith("https://"))return M(y);let et=Bt(ll).getToken(),i=Bt(fS);return et!=null&&!y.headers.has(i)&&(y=y.clone({headers:y.headers.set(i,et)})),M(y)}var e0=function(y){return y[y.Interceptors=0]="Interceptors",y[y.LegacyInterceptors=1]="LegacyInterceptors",y[y.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",y[y.NoXsrfProtection=3]="NoXsrfProtection",y[y.JsonpSupport=4]="JsonpSupport",y[y.RequestsMadeViaParent=5]="RequestsMadeViaParent",y[y.Fetch=6]="Fetch",y}(e0||{});function pS(y,M){return{\u0275kind:y,\u0275providers:M}}function vS(...y){let M=[_h,Jm,Qm,{provide:ms,useExisting:Qm},{provide:rl,useExisting:Jm},{provide:tf,useValue:cS,multi:!0},{provide:t0,useValue:!0},{provide:ll,useClass:dS}];for(let J of y)M.push(...J.\u0275providers);return Dr(M)}var qm=new $t("");function gS(){return pS(e0.LegacyInterceptors,[{provide:qm,useFactory:sS},{provide:tf,useExisting:qm,multi:!0}])}var n0=(()=>{let M=class M{};M.\u0275fac=function(i){return new(i||M)},M.\u0275mod=Tr({type:M}),M.\u0275inj=Sr({providers:[vS(gS())]});let y=M;return y})();var rf=class extends tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sf=class y extends rf{static makeCurrent(){zm(new y)}onAndCancel(M,J,et){return M.addEventListener(J,et),()=>{M.removeEventListener(J,et)}}dispatchEvent(M,J){M.dispatchEvent(J)}remove(M){M.parentNode&&M.parentNode.removeChild(M)}createElement(M,J){return J=J||this.getDefaultDocument(),J.createElement(M)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(M){return M.nodeType===Node.ELEMENT_NODE}isShadowRoot(M){return M instanceof DocumentFragment}getGlobalEventTarget(M,J){return J==="window"?window:J==="document"?M:J==="body"?M.body:null}getBaseHref(M){let J=yS();return J==null?null:TS(J)}resetBaseElement(){ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(M){return nl(document.cookie,M)}},ys=null;function yS(){return ys=ys||document.querySelector("base"),ys?ys.getAttribute("href"):null}function TS(y){return new URL(y,document.baseURI).pathname}var ES=(()=>{let M=class M{build(){return new XMLHttpRequest}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})(),of=new $t(""),o0=(()=>{let M=class M{constructor(et,i){this._zone=i,this._eventNameToPlugin=new Map,et.forEach($=>{$.manager=this}),this._plugins=et.slice().reverse()}addEventListener(et,i,$){return this._findPluginFor(i).addEventListener(et,i,$)}getZone(){return this._zone}_findPluginFor(et){let i=this._eventNameToPlugin.get(et);if(i)return i;if(i=this._plugins.find(e=>e.supports(et)),!i)throw new Wt(5101,!1);return this._eventNameToPlugin.set(et,i),i}};M.\u0275fac=function(i){return new(i||M)(Zt(of),Zt(We))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})(),ul=class{constructor(M){this._doc=M}},ef="ng-app-id",a0=(()=>{let M=class M{constructor(et,i,$,e={}){this.doc=et,this.appId=i,this.nonce=$,this.platformId=e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kh(e),this.resetHostNodes()}addStyles(et){for(let i of et)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(et){for(let i of et)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let et=this.styleNodesInDOM;et&&(et.forEach(i=>i.remove()),et.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(et){this.hostNodes.add(et);for(let i of this.getAllStyles())this.addStyleToHost(et,i)}removeHost(et){this.hostNodes.delete(et)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(et){for(let i of this.hostNodes)this.addStyleToHost(i,et)}onStyleRemoved(et){let i=this.styleRef;i.get(et)?.elements?.forEach($=>$.remove()),i.delete(et)}collectServerRenderedStyles(){let et=this.doc.head?.querySelectorAll(`style[${ef}="${this.appId}"]`);if(et?.length){let i=new Map;return et.forEach($=>{$.textContent!=null&&i.set($.textContent,$)}),i}return null}changeUsageCount(et,i){let $=this.styleRef;if($.has(et)){let e=$.get(et);return e.usage+=i,e.usage}return $.set(et,{usage:i,elements:[]}),i}getStyleElement(et,i){let $=this.styleNodesInDOM,e=$?.get(i);if(e?.parentNode===et)return $.delete(i),e.removeAttribute(ef),e;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(ef,this.appId),et.appendChild(u),u}}addStyleToHost(et,i){let $=this.getStyleElement(et,i),e=this.styleRef,u=e.get(i)?.elements;u?u.push($):e.set(i,{elements:[$],usage:1})}resetHostNodes(){let et=this.hostNodes;et.clear(),et.add(this.doc.head)}};M.\u0275fac=function(i){return new(i||M)(Zt(hn),Zt(xh),Zt(Th,8),Zt(di))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})(),nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lf=/%COMP%/g,l0="%COMP%",CS=`_nghost-${l0}`,SS=`_ngcontent-${l0}`,DS=!0,MS=new $t("",{providedIn:"root",factory:()=>DS});function AS(y){return SS.replace(lf,y)}function wS(y){return CS.replace(lf,y)}function u0(y,M){return M.map(J=>J.replace(lf,y))}var i0=(()=>{let M=class M{constructor(et,i,$,e,u,G,h,r=null){this.eventManager=et,this.sharedStylesHost=i,this.appId=$,this.removeStylesOnCompDestroy=e,this.doc=u,this.platformId=G,this.ngZone=h,this.nonce=r,this.rendererByCompId=new Map,this.platformIsServer=Kh(G),this.defaultRenderer=new Ts(et,u,h,this.platformIsServer)}createRenderer(et,i){if(!et||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bn.ShadowDom&&(i=Ge(Gt({},i),{encapsulation:Bn.Emulated}));let $=this.getOrCreateRenderer(et,i);return $ instanceof hl?$.applyToHost(et):$ instanceof Es&&$.applyStyles(),$}getOrCreateRenderer(et,i){let $=this.rendererByCompId,e=$.get(i.id);if(!e){let u=this.doc,G=this.ngZone,h=this.eventManager,r=this.sharedStylesHost,o=this.removeStylesOnCompDestroy,n=this.platformIsServer;switch(i.encapsulation){case Bn.Emulated:e=new hl(h,r,i,this.appId,o,u,G,n);break;case Bn.ShadowDom:return new af(h,r,et,i,u,G,this.nonce,n);default:e=new Es(h,r,i,o,u,G,n);break}$.set(i.id,e)}return e}ngOnDestroy(){this.rendererByCompId.clear()}};M.\u0275fac=function(i){return new(i||M)(Zt(o0),Zt(a0),Zt(xh),Zt(MS),Zt(hn),Zt(di),Zt(We),Zt(Th))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})(),Ts=class{constructor(M,J,et,i){this.eventManager=M,this.doc=J,this.ngZone=et,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(M,J){return J?this.doc.createElementNS(nf[J]||J,M):this.doc.createElement(M)}createComment(M){return this.doc.createComment(M)}createText(M){return this.doc.createTextNode(M)}appendChild(M,J){(r0(M)?M.content:M).appendChild(J)}insertBefore(M,J,et){M&&(r0(M)?M.content:M).insertBefore(J,et)}removeChild(M,J){M&&M.removeChild(J)}selectRootElement(M,J){let et=typeof M=="string"?this.doc.querySelector(M):M;if(!et)throw new Wt(-5104,!1);return J||(et.textContent=""),et}parentNode(M){return M.parentNode}nextSibling(M){return M.nextSibling}setAttribute(M,J,et,i){if(i){J=i+":"+J;let $=nf[i];$?M.setAttributeNS($,J,et):M.setAttribute(J,et)}else M.setAttribute(J,et)}removeAttribute(M,J,et){if(et){let i=nf[et];i?M.removeAttributeNS(i,J):M.removeAttribute(`${et}:${J}`)}else M.removeAttribute(J)}addClass(M,J){M.classList.add(J)}removeClass(M,J){M.classList.remove(J)}setStyle(M,J,et,i){i&(Ui.DashCase|Ui.Important)?M.style.setProperty(J,et,i&Ui.Important?"important":""):M.style[J]=et}removeStyle(M,J,et){et&Ui.DashCase?M.style.removeProperty(J):M.style[J]=""}setProperty(M,J,et){M!=null&&(M[J]=et)}setValue(M,J){M.nodeValue=J}listen(M,J,et){if(typeof M=="string"&&(M=Ar().getGlobalEventTarget(this.doc,M),!M))throw new Error(`Unsupported event target ${M} for event ${J}`);return this.eventManager.addEventListener(M,J,this.decoratePreventDefault(et))}decoratePreventDefault(M){return J=>{if(J==="__ngUnwrap__")return M;(this.platformIsServer?this.ngZone.runGuarded(()=>M(J)):M(J))===!1&&J.preventDefault()}}};function r0(y){return y.tagName==="TEMPLATE"&&y.content!==void 0}var af=class extends Ts{constructor(M,J,et,i,$,e,u,G){super(M,$,e,G),this.sharedStylesHost=J,this.hostEl=et,this.shadowRoot=et.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=u0(i.id,i.styles);for(let r of h){let o=document.createElement("style");u&&o.setAttribute("nonce",u),o.textContent=r,this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(M){return M===this.hostEl?this.shadowRoot:M}appendChild(M,J){return super.appendChild(this.nodeOrShadowRoot(M),J)}insertBefore(M,J,et){return super.insertBefore(this.nodeOrShadowRoot(M),J,et)}removeChild(M,J){return super.removeChild(this.nodeOrShadowRoot(M),J)}parentNode(M){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(M)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Es=class extends Ts{constructor(M,J,et,i,$,e,u,G){super(M,$,e,u),this.sharedStylesHost=J,this.removeStylesOnCompDestroy=i,this.styles=G?u0(G,et.styles):et.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hl=class extends Es{constructor(M,J,et,i,$,e,u,G){let h=i+"-"+et.id;super(M,J,et,$,e,u,G,h),this.contentAttr=AS(h),this.hostAttr=wS(h)}applyToHost(M){this.applyStyles(),this.setAttribute(M,this.hostAttr,"")}createElement(M,J){let et=super.createElement(M,J);return super.setAttribute(et,this.contentAttr,""),et}},PS=(()=>{let M=class M extends ul{constructor(et){super(et)}supports(et){return!0}addEventListener(et,i,$){return et.addEventListener(i,$,!1),()=>this.removeEventListener(et,i,$)}removeEventListener(et,i,$){return et.removeEventListener(i,$)}};M.\u0275fac=function(i){return new(i||M)(Zt(hn))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})(),s0=["alt","control","meta","shift"],RS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IS={alt:y=>y.altKey,control:y=>y.ctrlKey,meta:y=>y.metaKey,shift:y=>y.shiftKey},FS=(()=>{let M=class M extends ul{constructor(et){super(et)}supports(et){return M.parseEventName(et)!=null}addEventListener(et,i,$){let e=M.parseEventName(i),u=M.eventCallback(e.fullKey,$,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ar().onAndCancel(et,e.domEventName,u))}static parseEventName(et){let i=et.toLowerCase().split("."),$=i.shift();if(i.length===0||!($==="keydown"||$==="keyup"))return null;let e=M._normalizeKey(i.pop()),u="",G=i.indexOf("code");if(G>-1&&(i.splice(G,1),u="code."),s0.forEach(r=>{let o=i.indexOf(r);o>-1&&(i.splice(o,1),u+=r+".")}),u+=e,i.length!=0||e.length===0)return null;let h={};return h.domEventName=$,h.fullKey=u,h}static matchEventFullKeyCode(et,i){let $=RS[et.key]||et.key,e="";return i.indexOf("code.")>-1&&($=et.code,e="code."),$==null||!$?!1:($=$.toLowerCase(),$===" "?$="space":$==="."&&($="dot"),s0.forEach(u=>{if(u!==$){let G=IS[u];G(et)&&(e+=u+".")}}),e+=$,e===i)}static eventCallback(et,i,$){return e=>{M.matchEventFullKeyCode(e,et)&&$.runGuarded(()=>i(e))}}static _normalizeKey(et){return et==="esc"?"escape":et}};M.\u0275fac=function(i){return new(i||M)(Zt(hn))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac});let y=M;return y})();function h0(y,M){return Lm(Gt({rootComponent:y},OS(M)))}function OS(y){return{appProviders:[...US,...y?.providers??[]],platformProviders:BS}}function LS(){sf.makeCurrent()}function NS(){return new jn}function bS(){return fg(document),document}var BS=[{provide:di,useValue:jm},{provide:yh,useValue:LS,multi:!0},{provide:hn,useFactory:bS,deps:[]}];var US=[{provide:Qo,useValue:"root"},{provide:jn,useFactory:NS,deps:[]},{provide:of,useClass:PS,multi:!0,deps:[hn,We,di]},{provide:of,useClass:FS,multi:!0,deps:[hn]},i0,a0,o0,{provide:os,useExisting:i0},{provide:wr,useClass:ES,deps:[]},[]];var f0=(()=>{let M=class M{constructor(et){this._doc=et}getTitle(){return this._doc.title}setTitle(et){this._doc.title=et||""}};M.\u0275fac=function(i){return new(i||M)(Zt(hn))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();var Qt="primary",Bs=Symbol("RouteTitle"),cf=class{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){let J=this.params[M];return Array.isArray(J)?J[0]:J}return null}getAll(M){if(this.has(M)){let J=this.params[M];return Array.isArray(J)?J:[J]}return[]}get keys(){return Object.keys(this.params)}};function Lr(y){return new cf(y)}function VS(y,M,J){let et=J.path.split("/");if(et.length>y.length||J.pathMatch==="full"&&(M.hasChildren()||et.length<y.length))return null;let i={};for(let $=0;$<et.length;$++){let e=et[$],u=y[$];if(e.startsWith(":"))i[e.substring(1)]=u;else if(e!==u.path)return null}return{consumed:y.slice(0,et.length),posParams:i}}function zS(y,M){if(y.length!==M.length)return!1;for(let J=0;J<y.length;++J)if(!Vn(y[J],M[J]))return!1;return!0}function Vn(y,M){let J=y?pf(y):void 0,et=M?pf(M):void 0;if(!J||!et||J.length!=et.length)return!1;let i;for(let $=0;$<J.length;$++)if(i=J[$],!m0(y[i],M[i]))return!1;return!0}function pf(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function m0(y,M){if(Array.isArray(y)&&Array.isArray(M)){if(y.length!==M.length)return!1;let J=[...y].sort(),et=[...M].sort();return J.every((i,$)=>et[$]===i)}else return y===M}function x0(y){return y.length>0?y[y.length-1]:null}function xi(y){return lu(y)?y:ps(y)?He(Promise.resolve(y)):Yt(y)}var HS={exact:T0,subset:E0},y0={exact:WS,subset:XS,ignored:()=>!0};function d0(y,M,J){return HS[J.paths](y.root,M.root,J.matrixParams)&&y0[J.queryParams](y.queryParams,M.queryParams)&&!(J.fragment==="exact"&&y.fragment!==M.fragment)}function WS(y,M){return Vn(y,M)}function T0(y,M,J){if(!ki(y.segments,M.segments)||!cl(y.segments,M.segments,J)||y.numberOfChildren!==M.numberOfChildren)return!1;for(let et in M.children)if(!y.children[et]||!T0(y.children[et],M.children[et],J))return!1;return!0}function XS(y,M){return Object.keys(M).length<=Object.keys(y).length&&Object.keys(M).every(J=>m0(y[J],M[J]))}function E0(y,M,J){return C0(y,M,M.segments,J)}function C0(y,M,J,et){if(y.segments.length>J.length){let i=y.segments.slice(0,J.length);return!(!ki(i,J)||M.hasChildren()||!cl(i,J,et))}else if(y.segments.length===J.length){if(!ki(y.segments,J)||!cl(y.segments,J,et))return!1;for(let i in M.children)if(!y.children[i]||!E0(y.children[i],M.children[i],et))return!1;return!0}else{let i=J.slice(0,y.segments.length),$=J.slice(y.segments.length);return!ki(y.segments,i)||!cl(y.segments,i,et)||!y.children[Qt]?!1:C0(y.children[Qt],M,$,et)}}function cl(y,M,J){return M.every((et,i)=>y0[J](y[i].parameters,et.parameters))}var gi=class{constructor(M=new Fe([],{}),J={},et=null){this.root=M,this.queryParams=J,this.fragment=et}get queryParamMap(){return this._queryParamMap??=Lr(this.queryParams),this._queryParamMap}toString(){return $S.serialize(this)}},Fe=class{constructor(M,J){this.segments=M,this.children=J,this.parent=null,Object.values(J).forEach(et=>et.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pl(this)}},$i=class{constructor(M,J){this.path=M,this.parameters=J}get parameterMap(){return this._parameterMap??=Lr(this.parameters),this._parameterMap}toString(){return D0(this)}};function YS(y,M){return ki(y,M)&&y.every((J,et)=>Vn(J.parameters,M[et].parameters))}function ki(y,M){return y.length!==M.length?!1:y.every((J,et)=>J.path===M[et].path)}function jS(y,M){let J=[];return Object.entries(y.children).forEach(([et,i])=>{et===Qt&&(J=J.concat(M(i,et)))}),Object.entries(y.children).forEach(([et,i])=>{et!==Qt&&(J=J.concat(M(i,et)))}),J}var zf=(()=>{let M=class M{};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>new gl,providedIn:"root"});let y=M;return y})(),gl=class{parse(M){let J=new gf(M);return new gi(J.parseRootSegment(),J.parseQueryParams(),J.parseFragment())}serialize(M){let J=`/${Cs(M.root,!0)}`,et=ZS(M.queryParams),i=typeof M.fragment=="string"?`#${kS(M.fragment)}`:"";return`${J}${et}${i}`}},$S=new gl;function pl(y){return y.segments.map(M=>D0(M)).join("/")}function Cs(y,M){if(!y.hasChildren())return pl(y);if(M){let J=y.children[Qt]?Cs(y.children[Qt],!1):"",et=[];return Object.entries(y.children).forEach(([i,$])=>{i!==Qt&&et.push(`${i}:${Cs($,!1)}`)}),et.length>0?`${J}(${et.join("//")})`:J}else{let J=jS(y,(et,i)=>i===Qt?[Cs(y.children[Qt],!1)]:[`${i}:${Cs(et,!1)}`]);return Object.keys(y.children).length===1&&y.children[Qt]!=null?`${pl(y)}/${J[0]}`:`${pl(y)}/(${J.join("//")})`}}function S0(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fl(y){return S0(y).replace(/%3B/gi,";")}function kS(y){return encodeURI(y)}function vf(y){return S0(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vl(y){return decodeURIComponent(y)}function c0(y){return vl(y.replace(/\+/g,"%20"))}function D0(y){return`${vf(y.path)}${KS(y.parameters)}`}function KS(y){return Object.entries(y).map(([M,J])=>`;${vf(M)}=${vf(J)}`).join("")}function ZS(y){let M=Object.entries(y).map(([J,et])=>Array.isArray(et)?et.map(i=>`${fl(J)}=${fl(i)}`).join("&"):`${fl(J)}=${fl(et)}`).filter(J=>J);return M.length?`?${M.join("&")}`:""}var QS=/^[^\/()?;#]+/;function uf(y){let M=y.match(QS);return M?M[0]:""}var JS=/^[^\/()?;=#]+/;function qS(y){let M=y.match(JS);return M?M[0]:""}var _S=/^[^=?&#]+/;function t2(y){let M=y.match(_S);return M?M[0]:""}var e2=/^[^&#]+/;function n2(y){let M=y.match(e2);return M?M[0]:""}var gf=class{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let M={};if(this.consumeOptional("?"))do this.parseQueryParam(M);while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let J={};this.peekStartsWith("/(")&&(this.capture("/"),J=this.parseParens(!0));let et={};return this.peekStartsWith("(")&&(et=this.parseParens(!1)),(M.length>0||Object.keys(J).length>0)&&(et[Qt]=new Fe(M,J)),et}parseSegment(){let M=uf(this.remaining);if(M===""&&this.peekStartsWith(";"))throw new Wt(4009,!1);return this.capture(M),new $i(vl(M),this.parseMatrixParams())}parseMatrixParams(){let M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){let J=qS(this.remaining);if(!J)return;this.capture(J);let et="";if(this.consumeOptional("=")){let i=uf(this.remaining);i&&(et=i,this.capture(et))}M[vl(J)]=vl(et)}parseQueryParam(M){let J=t2(this.remaining);if(!J)return;this.capture(J);let et="";if(this.consumeOptional("=")){let e=n2(this.remaining);e&&(et=e,this.capture(et))}let i=c0(J),$=c0(et);if(M.hasOwnProperty(i)){let e=M[i];Array.isArray(e)||(e=[e],M[i]=e),e.push($)}else M[i]=$}parseParens(M){let J={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let et=uf(this.remaining),i=this.remaining[et.length];if(i!=="/"&&i!==")"&&i!==";")throw new Wt(4010,!1);let $;et.indexOf(":")>-1?($=et.slice(0,et.indexOf(":")),this.capture($),this.capture(":")):M&&($=Qt);let e=this.parseChildren();J[$]=Object.keys(e).length===1?e[Qt]:new Fe([],e),this.consumeOptional("//")}return J}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return this.peekStartsWith(M)?(this.remaining=this.remaining.substring(M.length),!0):!1}capture(M){if(!this.consumeOptional(M))throw new Wt(4011,!1)}};function M0(y){return y.segments.length>0?new Fe([],{[Qt]:y}):y}function A0(y){let M={};for(let[et,i]of Object.entries(y.children)){let $=A0(i);if(et===Qt&&$.segments.length===0&&$.hasChildren())for(let[e,u]of Object.entries($.children))M[e]=u;else($.segments.length>0||$.hasChildren())&&(M[et]=$)}let J=new Fe(y.segments,M);return i2(J)}function i2(y){if(y.numberOfChildren===1&&y.children[Qt]){let M=y.children[Qt];return new Fe(y.segments.concat(M.segments),M.children)}return y}function Nr(y){return y instanceof gi}function r2(y,M,J=null,et=null){let i=w0(y);return P0(i,M,J,et)}function w0(y){let M;function J($){let e={};for(let G of $.children){let h=J(G);e[G.outlet]=h}let u=new Fe($.url,e);return $===y&&(M=u),u}let et=J(y.root),i=M0(et);return M??i}function P0(y,M,J,et){let i=y;for(;i.parent;)i=i.parent;if(M.length===0)return hf(i,i,i,J,et);let $=s2(M);if($.toRoot())return hf(i,i,new Fe([],{}),J,et);let e=o2($,i,y),u=e.processChildren?Ms(e.segmentGroup,e.index,$.commands):I0(e.segmentGroup,e.index,$.commands);return hf(i,e.segmentGroup,u,J,et)}function ml(y){return typeof y=="object"&&y!=null&&!y.outlets&&!y.segmentPath}function Ps(y){return typeof y=="object"&&y!=null&&y.outlets}function hf(y,M,J,et,i){let $={};et&&Object.entries(et).forEach(([G,h])=>{$[G]=Array.isArray(h)?h.map(r=>`${r}`):`${h}`});let e;y===M?e=J:e=R0(y,M,J);let u=M0(A0(e));return new gi(u,$,i)}function R0(y,M,J){let et={};return Object.entries(y.children).forEach(([i,$])=>{$===M?et[i]=J:et[i]=R0($,M,J)}),new Fe(y.segments,et)}var xl=class{constructor(M,J,et){if(this.isAbsolute=M,this.numberOfDoubleDots=J,this.commands=et,M&&et.length>0&&ml(et[0]))throw new Wt(4003,!1);let i=et.find(Ps);if(i&&i!==x0(et))throw new Wt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function s2(y){if(typeof y[0]=="string"&&y.length===1&&y[0]==="/")return new xl(!0,0,y);let M=0,J=!1,et=y.reduce((i,$,e)=>{if(typeof $=="object"&&$!=null){if($.outlets){let u={};return Object.entries($.outlets).forEach(([G,h])=>{u[G]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:u}]}if($.segmentPath)return[...i,$.segmentPath]}return typeof $!="string"?[...i,$]:e===0?($.split("/").forEach((u,G)=>{G==0&&u==="."||(G==0&&u===""?J=!0:u===".."?M++:u!=""&&i.push(u))}),i):[...i,$]},[]);return new xl(J,M,et)}var Fr=class{constructor(M,J,et){this.segmentGroup=M,this.processChildren=J,this.index=et}};function o2(y,M,J){if(y.isAbsolute)return new Fr(M,!0,0);if(!J)return new Fr(M,!1,NaN);if(J.parent===null)return new Fr(J,!0,0);let et=ml(y.commands[0])?0:1,i=J.segments.length-1+et;return a2(J,i,y.numberOfDoubleDots)}function a2(y,M,J){let et=y,i=M,$=J;for(;$>i;){if($-=i,et=et.parent,!et)throw new Wt(4005,!1);i=et.segments.length}return new Fr(et,!1,i-$)}function l2(y){return Ps(y[0])?y[0].outlets:{[Qt]:y}}function I0(y,M,J){if(y??=new Fe([],{}),y.segments.length===0&&y.hasChildren())return Ms(y,M,J);let et=u2(y,M,J),i=J.slice(et.commandIndex);if(et.match&&et.pathIndex<y.segments.length){let $=new Fe(y.segments.slice(0,et.pathIndex),{});return $.children[Qt]=new Fe(y.segments.slice(et.pathIndex),y.children),Ms($,0,i)}else return et.match&&i.length===0?new Fe(y.segments,{}):et.match&&!y.hasChildren()?mf(y,M,J):et.match?Ms(y,0,i):mf(y,M,J)}function Ms(y,M,J){if(J.length===0)return new Fe(y.segments,{});{let et=l2(J),i={};if(Object.keys(et).some($=>$!==Qt)&&y.children[Qt]&&y.numberOfChildren===1&&y.children[Qt].segments.length===0){let $=Ms(y.children[Qt],M,J);return new Fe(y.segments,$.children)}return Object.entries(et).forEach(([$,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(i[$]=I0(y.children[$],M,e))}),Object.entries(y.children).forEach(([$,e])=>{et[$]===void 0&&(i[$]=e)}),new Fe(y.segments,i)}}function u2(y,M,J){let et=0,i=M,$={match:!1,pathIndex:0,commandIndex:0};for(;i<y.segments.length;){if(et>=J.length)return $;let e=y.segments[i],u=J[et];if(Ps(u))break;let G=`${u}`,h=et<J.length-1?J[et+1]:null;if(i>0&&G===void 0)break;if(G&&h&&typeof h=="object"&&h.outlets===void 0){if(!v0(G,h,e))return $;et+=2}else{if(!v0(G,{},e))return $;et++}i++}return{match:!0,pathIndex:i,commandIndex:et}}function mf(y,M,J){let et=y.segments.slice(0,M),i=0;for(;i<J.length;){let $=J[i];if(Ps($)){let G=h2($.outlets);return new Fe(et,G)}if(i===0&&ml(J[0])){let G=y.segments[M];et.push(new $i(G.path,p0(J[0]))),i++;continue}let e=Ps($)?$.outlets[Qt]:`${$}`,u=i<J.length-1?J[i+1]:null;e&&u&&ml(u)?(et.push(new $i(e,p0(u))),i+=2):(et.push(new $i(e,{})),i++)}return new Fe(et,{})}function h2(y){let M={};return Object.entries(y).forEach(([J,et])=>{typeof et=="string"&&(et=[et]),et!==null&&(M[J]=mf(new Fe([],{}),0,et))}),M}function p0(y){let M={};return Object.entries(y).forEach(([J,et])=>M[J]=`${et}`),M}function v0(y,M,J){return y==J.path&&Vn(M,J.parameters)}var As="imperative",on=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(on||{}),Mn=class{constructor(M,J){this.id=M,this.url=J}},Rs=class extends Mn{constructor(M,J,et="imperative",i=null){super(M,J),this.type=on.NavigationStart,this.navigationTrigger=et,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ki=class extends Mn{constructor(M,J,et){super(M,J),this.urlAfterRedirects=et,this.type=on.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dn=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(Dn||{}),xf=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(xf||{}),mi=class extends Mn{constructor(M,J,et,i){super(M,J),this.reason=et,this.code=i,this.type=on.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zi=class extends Mn{constructor(M,J,et,i){super(M,J),this.reason=et,this.code=i,this.type=on.NavigationSkipped}},Is=class extends Mn{constructor(M,J,et,i){super(M,J),this.error=et,this.target=i,this.type=on.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yl=class extends Mn{constructor(M,J,et,i){super(M,J),this.urlAfterRedirects=et,this.state=i,this.type=on.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends Mn{constructor(M,J,et,i){super(M,J),this.urlAfterRedirects=et,this.state=i,this.type=on.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tf=class extends Mn{constructor(M,J,et,i,$){super(M,J),this.urlAfterRedirects=et,this.state=i,this.shouldActivate=$,this.type=on.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ef=class extends Mn{constructor(M,J,et,i){super(M,J),this.urlAfterRedirects=et,this.state=i,this.type=on.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends Mn{constructor(M,J,et,i){super(M,J),this.urlAfterRedirects=et,this.state=i,this.type=on.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sf=class{constructor(M){this.route=M,this.type=on.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Df=class{constructor(M){this.route=M,this.type=on.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mf=class{constructor(M){this.snapshot=M,this.type=on.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{constructor(M){this.snapshot=M,this.type=on.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{constructor(M){this.snapshot=M,this.type=on.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pf=class{constructor(M){this.snapshot=M,this.type=on.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Fs=class{},Os=class{constructor(M){this.url=M}};var Rf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ml,this.attachRef=null}},Ml=(()=>{let M=class M{constructor(){this.contexts=new Map}onChildOutletCreated(et,i){let $=this.getOrCreateContext(et);$.outlet=i,this.contexts.set(et,$)}onChildOutletDestroyed(et){let i=this.getContext(et);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let et=this.contexts;return this.contexts=new Map,et}onOutletReAttached(et){this.contexts=et}getOrCreateContext(et){let i=this.getContext(et);return i||(i=new Rf,this.contexts.set(et,i)),i}getContext(et){return this.contexts.get(et)||null}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})(),Tl=class{constructor(M){this._root=M}get root(){return this._root.value}parent(M){let J=this.pathFromRoot(M);return J.length>1?J[J.length-2]:null}children(M){let J=If(M,this._root);return J?J.children.map(et=>et.value):[]}firstChild(M){let J=If(M,this._root);return J&&J.children.length>0?J.children[0].value:null}siblings(M){let J=Ff(M,this._root);return J.length<2?[]:J[J.length-2].children.map(i=>i.value).filter(i=>i!==M)}pathFromRoot(M){return Ff(M,this._root).map(J=>J.value)}};function If(y,M){if(y===M.value)return M;for(let J of M.children){let et=If(y,J);if(et)return et}return null}function Ff(y,M){if(y===M.value)return[M];for(let J of M.children){let et=Ff(y,J);if(et.length)return et.unshift(M),et}return[]}var xn=class{constructor(M,J){this.value=M,this.children=J}toString(){return`TreeNode(${this.value})`}};function Ir(y){let M={};return y&&y.children.forEach(J=>M[J.value.outlet]=J),M}var El=class extends Tl{constructor(M,J){super(M),this.snapshot=J,Wf(this,M)}toString(){return this.snapshot.toString()}};function F0(y){let M=f2(y),J=new nn([new $i("",{})]),et=new nn({}),i=new nn({}),$=new nn({}),e=new nn(""),u=new br(J,et,$,e,i,Qt,y,M.root);return u.snapshot=M.root,new El(new xn(u,[]),M)}function f2(y){let M={},J={},et={},i="",$=new Ls([],M,et,i,J,Qt,y,null,{});return new Cl("",new xn($,[]))}var br=class{constructor(M,J,et,i,$,e,u,G){this.urlSubject=M,this.paramsSubject=J,this.queryParamsSubject=et,this.fragmentSubject=i,this.dataSubject=$,this.outlet=e,this.component=u,this._futureSnapshot=G,this.title=this.dataSubject?.pipe(qt(h=>h[Bs]))??Yt(void 0),this.url=M,this.params=J,this.queryParams=et,this.fragment=i,this.data=$}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(qt(M=>Lr(M))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(qt(M=>Lr(M))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hf(y,M,J="emptyOnly"){let et,{routeConfig:i}=y;return M!==null&&(J==="always"||i?.path===""||!M.component&&!M.routeConfig?.loadComponent)?et={params:Gt(Gt({},M.params),y.params),data:Gt(Gt({},M.data),y.data),resolve:Gt(Gt(Gt(Gt({},y.data),M.data),i?.data),y._resolvedData)}:et={params:Gt({},y.params),data:Gt({},y.data),resolve:Gt(Gt({},y.data),y._resolvedData??{})},i&&L0(i)&&(et.resolve[Bs]=i.title),et}var Ls=class{get title(){return this.data?.[Bs]}constructor(M,J,et,i,$,e,u,G,h){this.url=M,this.params=J,this.queryParams=et,this.fragment=i,this.data=$,this.outlet=e,this.component=u,this.routeConfig=G,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lr(this.queryParams),this._queryParamMap}toString(){let M=this.url.map(et=>et.toString()).join("/"),J=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${M}', path:'${J}')`}},Cl=class extends Tl{constructor(M,J){super(J),this.url=M,Wf(this,J)}toString(){return O0(this._root)}};function Wf(y,M){M.value._routerState=y,M.children.forEach(J=>Wf(y,J))}function O0(y){let M=y.children.length>0?` { ${y.children.map(O0).join(", ")} } `:"";return`${y.value}${M}`}function ff(y){if(y.snapshot){let M=y.snapshot,J=y._futureSnapshot;y.snapshot=J,Vn(M.queryParams,J.queryParams)||y.queryParamsSubject.next(J.queryParams),M.fragment!==J.fragment&&y.fragmentSubject.next(J.fragment),Vn(M.params,J.params)||y.paramsSubject.next(J.params),zS(M.url,J.url)||y.urlSubject.next(J.url),Vn(M.data,J.data)||y.dataSubject.next(J.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Of(y,M){let J=Vn(y.params,M.params)&&YS(y.url,M.url),et=!y.parent!=!M.parent;return J&&!et&&(!y.parent||Of(y.parent,M.parent))}function L0(y){return typeof y.title=="string"||y.title===null}var d2=(()=>{let M=class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new En,this.deactivateEvents=new En,this.attachEvents=new En,this.detachEvents=new En,this.parentContexts=Bt(Ml),this.location=Bt(Vi),this.changeDetector=Bt(Gi),this.environmentInjector=Bt(un),this.inputBinder=Bt(Xf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(et){if(et.name){let{firstChange:i,previousValue:$}=et.name;if(i)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(et){return this.parentContexts.getContext(et)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let et=this.parentContexts.getContext(this.name);et?.route&&(et.attachRef?this.attach(et.attachRef,et.route):this.activateWith(et.route,et.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Wt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Wt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Wt(4012,!1);this.location.detach();let et=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(et.instance),et}attach(et,i){this.activated=et,this._activatedRoute=i,this.location.insert(et.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(et.instance)}deactivate(){if(this.activated){let et=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(et)}}activateWith(et,i){if(this.isActivated)throw new Wt(4013,!1);this._activatedRoute=et;let $=this.location,u=et.snapshot.component,G=this.parentContexts.getOrCreateContext(this.name).children,h=new Lf(et,G,$.injector);this.activated=$.createComponent(u,{index:$.length,injector:h,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};M.\u0275fac=function(i){return new(i||M)},M.\u0275dir=jo({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jo]});let y=M;return y})(),Lf=class{constructor(M,J,et){this.route=M,this.childContexts=J,this.parent=et}get(M,J){return M===br?this.route:M===Ml?this.childContexts:this.parent.get(M,J)}},Xf=new $t("");function c2(y,M,J){let et=Ns(y,M._root,J?J._root:void 0);return new El(et,M)}function Ns(y,M,J){if(J&&y.shouldReuseRoute(M.value,J.value.snapshot)){let et=J.value;et._futureSnapshot=M.value;let i=p2(y,M,J);return new xn(et,i)}else{if(y.shouldAttach(M.value)){let $=y.retrieve(M.value);if($!==null){let e=$.route;return e.value._futureSnapshot=M.value,e.children=M.children.map(u=>Ns(y,u)),e}}let et=v2(M.value),i=M.children.map($=>Ns(y,$));return new xn(et,i)}}function p2(y,M,J){return M.children.map(et=>{for(let i of J.children)if(y.shouldReuseRoute(et.value,i.value.snapshot))return Ns(y,et,i);return Ns(y,et)})}function v2(y){return new br(new nn(y.url),new nn(y.params),new nn(y.queryParams),new nn(y.fragment),new nn(y.data),y.outlet,y.component,y)}var N0="ngNavigationCancelingError";function b0(y,M){let{redirectTo:J,navigationBehaviorOptions:et}=Nr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,i=B0(!1,Dn.Redirect);return i.url=J,i.navigationBehaviorOptions=et,i}function B0(y,M){let J=new Error(`NavigationCancelingError: ${y||""}`);return J[N0]=!0,J.cancellationCode=M,J}function g2(y){return U0(y)&&Nr(y.url)}function U0(y){return!!y&&y[N0]}var m2=(()=>{let M=class M{};M.\u0275fac=function(i){return new(i||M)},M.\u0275cmp=hi({type:M,selectors:[["ng-component"]],standalone:!0,features:[pi],decls:1,vars:0,template:function(i,$){i&1&&Qn(0,"router-outlet")},dependencies:[d2],encapsulation:2});let y=M;return y})();function x2(y,M){return y.providers&&!y._injector&&(y._injector=zh(y.providers,M,`Route: ${y.path}`)),y._injector??M}function Yf(y){let M=y.children&&y.children.map(Yf),J=M?Ge(Gt({},y),{children:M}):Gt({},y);return!J.component&&!J.loadComponent&&(M||J.loadChildren)&&J.outlet&&J.outlet!==Qt&&(J.component=m2),J}function zn(y){return y.outlet||Qt}function y2(y,M){let J=y.filter(et=>zn(et)===M);return J.push(...y.filter(et=>zn(et)!==M)),J}function Us(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let M=y.parent;M;M=M.parent){let J=M.routeConfig;if(J?._loadedInjector)return J._loadedInjector;if(J?._injector)return J._injector}return null}var T2=(y,M,J,et)=>qt(i=>(new Nf(M,i.targetRouterState,i.currentRouterState,J,et).activate(y),i)),Nf=class{constructor(M,J,et,i,$){this.routeReuseStrategy=M,this.futureState=J,this.currState=et,this.forwardEvent=i,this.inputBindingEnabled=$}activate(M){let J=this.futureState._root,et=this.currState?this.currState._root:null;this.deactivateChildRoutes(J,et,M),ff(this.futureState.root),this.activateChildRoutes(J,et,M)}deactivateChildRoutes(M,J,et){let i=Ir(J);M.children.forEach($=>{let e=$.value.outlet;this.deactivateRoutes($,i[e],et),delete i[e]}),Object.values(i).forEach($=>{this.deactivateRouteAndItsChildren($,et)})}deactivateRoutes(M,J,et){let i=M.value,$=J?J.value:null;if(i===$)if(i.component){let e=et.getContext(i.outlet);e&&this.deactivateChildRoutes(M,J,e.children)}else this.deactivateChildRoutes(M,J,et);else $&&this.deactivateRouteAndItsChildren(J,et)}deactivateRouteAndItsChildren(M,J){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,J):this.deactivateRouteAndOutlet(M,J)}detachAndStoreRouteSubtree(M,J){let et=J.getContext(M.value.outlet),i=et&&M.value.component?et.children:J,$=Ir(M);for(let e of Object.values($))this.deactivateRouteAndItsChildren(e,i);if(et&&et.outlet){let e=et.outlet.detach(),u=et.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:e,route:M,contexts:u})}}deactivateRouteAndOutlet(M,J){let et=J.getContext(M.value.outlet),i=et&&M.value.component?et.children:J,$=Ir(M);for(let e of Object.values($))this.deactivateRouteAndItsChildren(e,i);et&&(et.outlet&&(et.outlet.deactivate(),et.children.onOutletDeactivated()),et.attachRef=null,et.route=null)}activateChildRoutes(M,J,et){let i=Ir(J);M.children.forEach($=>{this.activateRoutes($,i[$.value.outlet],et),this.forwardEvent(new Pf($.value.snapshot))}),M.children.length&&this.forwardEvent(new Af(M.value.snapshot))}activateRoutes(M,J,et){let i=M.value,$=J?J.value:null;if(ff(i),i===$)if(i.component){let e=et.getOrCreateContext(i.outlet);this.activateChildRoutes(M,J,e.children)}else this.activateChildRoutes(M,J,et);else if(i.component){let e=et.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(u.contexts),e.attachRef=u.componentRef,e.route=u.route.value,e.outlet&&e.outlet.attach(u.componentRef,u.route.value),ff(u.route.value),this.activateChildRoutes(M,null,e.children)}else{let u=Us(i.snapshot);e.attachRef=null,e.route=i,e.injector=u,e.outlet&&e.outlet.activateWith(i,e.injector),this.activateChildRoutes(M,null,e.children)}}else this.activateChildRoutes(M,null,et)}},Sl=class{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}},Or=class{constructor(M,J){this.component=M,this.route=J}};function E2(y,M,J){let et=y._root,i=M?M._root:null;return Ss(et,i,J,[et.value])}function C2(y){let M=y.routeConfig?y.routeConfig.canActivateChild:null;return!M||M.length===0?null:{node:y,guards:M}}function Ur(y,M){let J=Symbol(),et=M.get(y,J);return et===J?typeof y=="function"&&!dg(y)?y:M.get(y):et}function Ss(y,M,J,et,i={canDeactivateChecks:[],canActivateChecks:[]}){let $=Ir(M);return y.children.forEach(e=>{S2(e,$[e.value.outlet],J,et.concat([e.value]),i),delete $[e.value.outlet]}),Object.entries($).forEach(([e,u])=>ws(u,J.getContext(e),i)),i}function S2(y,M,J,et,i={canDeactivateChecks:[],canActivateChecks:[]}){let $=y.value,e=M?M.value:null,u=J?J.getContext(y.value.outlet):null;if(e&&$.routeConfig===e.routeConfig){let G=D2(e,$,$.routeConfig.runGuardsAndResolvers);G?i.canActivateChecks.push(new Sl(et)):($.data=e.data,$._resolvedData=e._resolvedData),$.component?Ss(y,M,u?u.children:null,et,i):Ss(y,M,J,et,i),G&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Or(u.outlet.component,e))}else e&&ws(M,u,i),i.canActivateChecks.push(new Sl(et)),$.component?Ss(y,null,u?u.children:null,et,i):Ss(y,null,J,et,i);return i}function D2(y,M,J){if(typeof J=="function")return J(y,M);switch(J){case"pathParamsChange":return!ki(y.url,M.url);case"pathParamsOrQueryParamsChange":return!ki(y.url,M.url)||!Vn(y.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Of(y,M)||!Vn(y.queryParams,M.queryParams);case"paramsChange":default:return!Of(y,M)}}function ws(y,M,J){let et=Ir(y),i=y.value;Object.entries(et).forEach(([$,e])=>{i.component?M?ws(e,M.children.getContext($),J):ws(e,null,J):ws(e,M,J)}),i.component?M&&M.outlet&&M.outlet.isActivated?J.canDeactivateChecks.push(new Or(M.outlet.component,i)):J.canDeactivateChecks.push(new Or(null,i)):J.canDeactivateChecks.push(new Or(null,i))}function Gs(y){return typeof y=="function"}function M2(y){return typeof y=="boolean"}function A2(y){return y&&Gs(y.canLoad)}function w2(y){return y&&Gs(y.canActivate)}function P2(y){return y&&Gs(y.canActivateChild)}function R2(y){return y&&Gs(y.canDeactivate)}function I2(y){return y&&Gs(y.canMatch)}function G0(y){return y instanceof Wn||y?.name==="EmptyError"}var dl=Symbol("INITIAL_VALUE");function Br(){return gn(y=>xo(y.map(M=>M.pipe(Xn(1),cu(dl)))).pipe(qt(M=>{for(let J of M)if(J!==!0){if(J===dl)return dl;if(J===!1||J instanceof gi)return J}return!0}),vn(M=>M!==dl),Xn(1)))}function F2(y,M){return $e(J=>{let{targetSnapshot:et,currentSnapshot:i,guards:{canActivateChecks:$,canDeactivateChecks:e}}=J;return e.length===0&&$.length===0?Yt(Ge(Gt({},J),{guardsResult:!0})):O2(e,et,i,y).pipe($e(u=>u&&M2(u)?L2(et,$,y,M):Yt(u)),qt(u=>Ge(Gt({},J),{guardsResult:u})))})}function O2(y,M,J,et){return He(y).pipe($e(i=>G2(i.component,i.route,J,M,et)),Ln(i=>i!==!0,!0))}function L2(y,M,J,et){return He(M).pipe(_n(i=>ar(b2(i.route.parent,et),N2(i.route,et),U2(y,i.path,J),B2(y,i.route,J))),Ln(i=>i!==!0,!0))}function N2(y,M){return y!==null&&M&&M(new wf(y)),Yt(!0)}function b2(y,M){return y!==null&&M&&M(new Mf(y)),Yt(!0)}function B2(y,M,J){let et=M.routeConfig?M.routeConfig.canActivate:null;if(!et||et.length===0)return Yt(!0);let i=et.map($=>yo(()=>{let e=Us(M)??J,u=Ur($,e),G=w2(u)?u.canActivate(M,y):Zn(e,()=>u(M,y));return xi(G).pipe(Ln())}));return Yt(i).pipe(Br())}function U2(y,M,J){let et=M[M.length-1],$=M.slice(0,M.length-1).reverse().map(e=>C2(e)).filter(e=>e!==null).map(e=>yo(()=>{let u=e.guards.map(G=>{let h=Us(e.node)??J,r=Ur(G,h),o=P2(r)?r.canActivateChild(et,y):Zn(h,()=>r(et,y));return xi(o).pipe(Ln())});return Yt(u).pipe(Br())}));return Yt($).pipe(Br())}function G2(y,M,J,et,i){let $=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!$||$.length===0)return Yt(!0);let e=$.map(u=>{let G=Us(M)??i,h=Ur(u,G),r=R2(h)?h.canDeactivate(y,M,J,et):Zn(G,()=>h(y,M,J,et));return xi(r).pipe(Ln())});return Yt(e).pipe(Br())}function V2(y,M,J,et){let i=M.canLoad;if(i===void 0||i.length===0)return Yt(!0);let $=i.map(e=>{let u=Ur(e,y),G=A2(u)?u.canLoad(M,J):Zn(y,()=>u(M,J));return xi(G)});return Yt($).pipe(Br(),V0(et))}function V0(y){return ru(Ke(M=>{if(Nr(M))throw b0(y,M)}),qt(M=>M===!0))}function z2(y,M,J,et){let i=M.canMatch;if(!i||i.length===0)return Yt(!0);let $=i.map(e=>{let u=Ur(e,y),G=I2(u)?u.canMatch(M,J):Zn(y,()=>u(M,J));return xi(G)});return Yt($).pipe(Br(),V0(et))}var bs=class{constructor(M){this.segmentGroup=M||null}},Dl=class extends Error{constructor(M){super(),this.urlTree=M}};function Rr(y){return or(new bs(y))}function H2(y){return or(new Wt(4e3,!1))}function W2(y){return or(B0(!1,Dn.GuardRejected))}var bf=class{constructor(M,J){this.urlSerializer=M,this.urlTree=J}lineralizeSegments(M,J){let et=[],i=J.root;for(;;){if(et=et.concat(i.segments),i.numberOfChildren===0)return Yt(et);if(i.numberOfChildren>1||!i.children[Qt])return H2(M.redirectTo);i=i.children[Qt]}}applyRedirectCommands(M,J,et){let i=this.applyRedirectCreateUrlTree(J,this.urlSerializer.parse(J),M,et);if(J.startsWith("/"))throw new Dl(i);return i}applyRedirectCreateUrlTree(M,J,et,i){let $=this.createSegmentGroup(M,J.root,et,i);return new gi($,this.createQueryParams(J.queryParams,this.urlTree.queryParams),J.fragment)}createQueryParams(M,J){let et={};return Object.entries(M).forEach(([i,$])=>{if(typeof $=="string"&&$.startsWith(":")){let u=$.substring(1);et[i]=J[u]}else et[i]=$}),et}createSegmentGroup(M,J,et,i){let $=this.createSegments(M,J.segments,et,i),e={};return Object.entries(J.children).forEach(([u,G])=>{e[u]=this.createSegmentGroup(M,G,et,i)}),new Fe($,e)}createSegments(M,J,et,i){return J.map($=>$.path.startsWith(":")?this.findPosParam(M,$,i):this.findOrReturn($,et))}findPosParam(M,J,et){let i=et[J.path.substring(1)];if(!i)throw new Wt(4001,!1);return i}findOrReturn(M,J){let et=0;for(let i of J){if(i.path===M.path)return J.splice(et),i;et++}return M}},Bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X2(y,M,J,et,i){let $=jf(y,M,J);return $.matched?(et=x2(M,et),z2(et,M,J,i).pipe(qt(e=>e===!0?$:Gt({},Bf)))):Yt($)}function jf(y,M,J){if(M.path==="**")return Y2(J);if(M.path==="")return M.pathMatch==="full"&&(y.hasChildren()||J.length>0)?Gt({},Bf):{matched:!0,consumedSegments:[],remainingSegments:J,parameters:{},positionalParamSegments:{}};let i=(M.matcher||VS)(J,y,M);if(!i)return Gt({},Bf);let $={};Object.entries(i.posParams??{}).forEach(([u,G])=>{$[u]=G.path});let e=i.consumed.length>0?Gt(Gt({},$),i.consumed[i.consumed.length-1].parameters):$;return{matched:!0,consumedSegments:i.consumed,remainingSegments:J.slice(i.consumed.length),parameters:e,positionalParamSegments:i.posParams??{}}}function Y2(y){return{matched:!0,parameters:y.length>0?x0(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}function g0(y,M,J,et){return J.length>0&&k2(y,J,et)?{segmentGroup:new Fe(M,$2(et,new Fe(J,y.children))),slicedSegments:[]}:J.length===0&&K2(y,J,et)?{segmentGroup:new Fe(y.segments,j2(y,J,et,y.children)),slicedSegments:J}:{segmentGroup:new Fe(y.segments,y.children),slicedSegments:J}}function j2(y,M,J,et){let i={};for(let $ of J)if(Al(y,M,$)&&!et[zn($)]){let e=new Fe([],{});i[zn($)]=e}return Gt(Gt({},et),i)}function $2(y,M){let J={};J[Qt]=M;for(let et of y)if(et.path===""&&zn(et)!==Qt){let i=new Fe([],{});J[zn(et)]=i}return J}function k2(y,M,J){return J.some(et=>Al(y,M,et)&&zn(et)!==Qt)}function K2(y,M,J){return J.some(et=>Al(y,M,et))}function Al(y,M,J){return(y.hasChildren()||M.length>0)&&J.pathMatch==="full"?!1:J.path===""}function Z2(y,M,J,et){return zn(y)!==et&&(et===Qt||!Al(M,J,y))?!1:jf(M,y,J).matched}function Q2(y,M,J){return M.length===0&&!y.children[J]}var Uf=class{};function J2(y,M,J,et,i,$,e="emptyOnly"){return new Gf(y,M,J,et,i,e,$).recognize()}var q2=31,Gf=class{constructor(M,J,et,i,$,e,u){this.injector=M,this.configLoader=J,this.rootComponentType=et,this.config=i,this.urlTree=$,this.paramsInheritanceStrategy=e,this.urlSerializer=u,this.applyRedirects=new bf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(M){return new Wt(4002,`'${M.segmentGroup}'`)}recognize(){let M=g0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe(qt(J=>{let et=new Ls([],Object.freeze({}),Object.freeze(Gt({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,{}),i=new xn(et,J),$=new Cl("",i),e=r2(et,[],this.urlTree.queryParams,this.urlTree.fragment);return e.queryParams=this.urlTree.queryParams,$.url=this.urlSerializer.serialize(e),this.inheritParamsAndData($._root,null),{state:$,tree:e}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M,Qt).pipe(qn(et=>{if(et instanceof Dl)return this.urlTree=et.urlTree,this.match(et.urlTree.root);throw et instanceof bs?this.noMatchError(et):et}))}inheritParamsAndData(M,J){let et=M.value,i=Hf(et,J,this.paramsInheritanceStrategy);et.params=Object.freeze(i.params),et.data=Object.freeze(i.data),M.children.forEach($=>this.inheritParamsAndData($,et))}processSegmentGroup(M,J,et,i){return et.segments.length===0&&et.hasChildren()?this.processChildren(M,J,et):this.processSegment(M,J,et,et.segments,i,!0).pipe(qt($=>$ instanceof xn?[$]:[]))}processChildren(M,J,et){let i=[];for(let $ of Object.keys(et.children))$==="primary"?i.unshift($):i.push($);return He(i).pipe(_n($=>{let e=et.children[$],u=y2(J,$);return this.processSegmentGroup(M,u,e,$)}),du(($,e)=>($.push(...e),$)),ti(null),fu(),$e($=>{if($===null)return Rr(et);let e=z0($);return _2(e),Yt(e)}))}processSegment(M,J,et,i,$,e){return He(J).pipe(_n(u=>this.processSegmentAgainstRoute(u._injector??M,J,u,et,i,$,e).pipe(qn(G=>{if(G instanceof bs)return Yt(null);throw G}))),Ln(u=>!!u),qn(u=>{if(G0(u))return Q2(et,i,$)?Yt(new Uf):Rr(et);throw u}))}processSegmentAgainstRoute(M,J,et,i,$,e,u){return Z2(et,i,$,e)?et.redirectTo===void 0?this.matchSegmentAgainstRoute(M,i,et,$,e):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(M,i,J,et,$,e):Rr(i):Rr(i)}expandSegmentAgainstRouteUsingRedirect(M,J,et,i,$,e){let{matched:u,consumedSegments:G,positionalParamSegments:h,remainingSegments:r}=jf(J,i,$);if(!u)return Rr(J);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>q2&&(this.allowRedirects=!1));let o=this.applyRedirects.applyRedirectCommands(G,i.redirectTo,h);return this.applyRedirects.lineralizeSegments(i,o).pipe($e(n=>this.processSegment(M,et,J,n.concat(r),e,!1)))}matchSegmentAgainstRoute(M,J,et,i,$){let e=X2(J,et,i,M,this.urlSerializer);return et.path==="**"&&(J.children={}),e.pipe(gn(u=>u.matched?(M=et._injector??M,this.getChildConfig(M,et,i).pipe(gn(({routes:G})=>{let h=et._loadedInjector??M,{consumedSegments:r,remainingSegments:o,parameters:n}=u,l=new Ls(r,n,Object.freeze(Gt({},this.urlTree.queryParams)),this.urlTree.fragment,eD(et),zn(et),et.component??et._loadedComponent??null,et,nD(et)),{segmentGroup:f,slicedSegments:s}=g0(J,r,o,G);if(s.length===0&&f.hasChildren())return this.processChildren(h,G,f).pipe(qt(p=>p===null?null:new xn(l,p)));if(G.length===0&&s.length===0)return Yt(new xn(l,[]));let d=zn(et)===$;return this.processSegment(h,G,f,s,d?Qt:$,!0).pipe(qt(p=>new xn(l,p instanceof xn?[p]:[])))}))):Rr(J)))}getChildConfig(M,J,et){return J.children?Yt({routes:J.children,injector:M}):J.loadChildren?J._loadedRoutes!==void 0?Yt({routes:J._loadedRoutes,injector:J._loadedInjector}):V2(M,J,et,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(M,J).pipe(Ke($=>{J._loadedRoutes=$.routes,J._loadedInjector=$.injector})):W2(J))):Yt({routes:[],injector:M})}};function _2(y){y.sort((M,J)=>M.value.outlet===Qt?-1:J.value.outlet===Qt?1:M.value.outlet.localeCompare(J.value.outlet))}function tD(y){let M=y.value.routeConfig;return M&&M.path===""}function z0(y){let M=[],J=new Set;for(let et of y){if(!tD(et)){M.push(et);continue}let i=M.find($=>et.value.routeConfig===$.value.routeConfig);i!==void 0?(i.children.push(...et.children),J.add(i)):M.push(et)}for(let et of J){let i=z0(et.children);M.push(new xn(et.value,i))}return M.filter(et=>!J.has(et))}function eD(y){return y.data||{}}function nD(y){return y.resolve||{}}function iD(y,M,J,et,i,$){return $e(e=>J2(y,M,J,et,e.extractedUrl,i,$).pipe(qt(({state:u,tree:G})=>Ge(Gt({},e),{targetSnapshot:u,urlAfterRedirects:G}))))}function rD(y,M){return $e(J=>{let{targetSnapshot:et,guards:{canActivateChecks:i}}=J;if(!i.length)return Yt(J);let $=new Set(i.map(G=>G.route)),e=new Set;for(let G of $)if(!e.has(G))for(let h of H0(G))e.add(h);let u=0;return He(e).pipe(_n(G=>$.has(G)?sD(G,et,y,M):(G.data=Hf(G,G.parent,y).resolve,Yt(void 0))),Ke(()=>u++),lr(1),$e(G=>u===e.size?Yt(J):yn))})}function H0(y){let M=y.children.map(J=>H0(J)).flat();return[y,...M]}function sD(y,M,J,et){let i=y.routeConfig,$=y._resolve;return i?.title!==void 0&&!L0(i)&&($[Bs]=i.title),oD($,y,M,et).pipe(qt(e=>(y._resolvedData=e,y.data=Hf(y,y.parent,J).resolve,null)))}function oD(y,M,J,et){let i=pf(y);if(i.length===0)return Yt({});let $={};return He(i).pipe($e(e=>aD(y[e],M,J,et).pipe(Ln(),Ke(u=>{$[e]=u}))),lr(1),hu($),qn(e=>G0(e)?yn:or(e)))}function aD(y,M,J,et){let i=Us(M)??et,$=Ur(y,i),e=$.resolve?$.resolve(M,J):Zn(i,()=>$(M,J));return xi(e)}function df(y){return gn(M=>{let J=y(M);return J?He(J).pipe(qt(()=>M)):Yt(M)})}var W0=(()=>{let M=class M{buildTitle(et){let i,$=et.root;for(;$!==void 0;)i=this.getResolvedTitleForRoute($)??i,$=$.children.find(e=>e.outlet===Qt);return i}getResolvedTitleForRoute(et){return et.data[Bs]}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>Bt(lD),providedIn:"root"});let y=M;return y})(),lD=(()=>{let M=class M extends W0{constructor(et){super(),this.title=et}updateTitle(et){let i=this.buildTitle(et);i!==void 0&&this.title.setTitle(i)}};M.\u0275fac=function(i){return new(i||M)(Zt(f0))},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})(),$f=new $t("",{providedIn:"root",factory:()=>({})}),kf=new $t(""),uD=(()=>{let M=class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Bt(Yh)}loadComponent(et){if(this.componentLoaders.get(et))return this.componentLoaders.get(et);if(et._loadedComponent)return Yt(et._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(et);let i=xi(et.loadComponent()).pipe(qt(X0),Ke(e=>{this.onLoadEndListener&&this.onLoadEndListener(et),et._loadedComponent=e}),ei(()=>{this.componentLoaders.delete(et)})),$=new sr(i,()=>new pn).pipe(rr());return this.componentLoaders.set(et,$),$}loadChildren(et,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Yt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let e=hD(i,this.compiler,et,this.onLoadEndListener).pipe(ei(()=>{this.childrenLoaders.delete(i)})),u=new sr(e,()=>new pn).pipe(rr());return this.childrenLoaders.set(i,u),u}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();function hD(y,M,J,et){return xi(y.loadChildren()).pipe(qt(X0),$e(i=>i instanceof ls||Array.isArray(i)?Yt(i):He(M.compileModuleAsync(i))),qt(i=>{et&&et(y);let $,e,u=!1;return Array.isArray(i)?(e=i,u=!0):($=i.create(J).injector,e=$.get(kf,[],{optional:!0,self:!0}).flat()),{routes:e.map(Yf),injector:$}}))}function fD(y){return y&&typeof y=="object"&&"default"in y}function X0(y){return fD(y)?y.default:y}var Kf=(()=>{let M=class M{};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>Bt(dD),providedIn:"root"});let y=M;return y})(),dD=(()=>{let M=class M{shouldProcessUrl(et){return!0}extract(et){return et}merge(et,i){return et}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})(),cD=new $t("");var pD=(()=>{let M=class M{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.transitionAbortSubject=new pn,this.configLoader=Bt(uD),this.environmentInjector=Bt(un),this.urlSerializer=Bt(zf),this.rootContexts=Bt(Ml),this.location=Bt(vs),this.inputBindingEnabled=Bt(Xf,{optional:!0})!==null,this.titleStrategy=Bt(W0),this.options=Bt($f,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Bt(Kf),this.createViewTransition=Bt(cD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Yt(void 0),this.rootComponentType=null;let et=$=>this.events.next(new Sf($)),i=$=>this.events.next(new Df($));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=et}complete(){this.transitions?.complete()}handleNavigationRequest(et){let i=++this.navigationId;this.transitions?.next(Ge(Gt(Gt({},this.transitions.value),et),{id:i}))}setupNavigations(et,i,$){return this.transitions=new nn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:As,restoredState:null,currentSnapshot:$.snapshot,targetSnapshot:null,currentRouterState:$,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vn(e=>e.id!==0),qt(e=>Ge(Gt({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),gn(e=>{this.currentTransition=e;let u=!1,G=!1;return Yt(e).pipe(Ke(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Ge(Gt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(h=>{let r=!et.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),o=h.extras.onSameUrlNavigation??et.onSameUrlNavigation;if(!r&&o!=="reload"){let n="";return this.events.next(new Zi(h.id,this.urlSerializer.serialize(h.rawUrl),n,xf.IgnoredSameUrlNavigation)),h.resolve(null),yn}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Yt(h).pipe(gn(n=>{let l=this.transitions?.getValue();return this.events.next(new Rs(n.id,this.urlSerializer.serialize(n.extractedUrl),n.source,n.restoredState)),l!==this.transitions?.getValue()?yn:Promise.resolve(n)}),iD(this.environmentInjector,this.configLoader,this.rootComponentType,et.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(n=>{e.targetSnapshot=n.targetSnapshot,e.urlAfterRedirects=n.urlAfterRedirects,this.currentNavigation=Ge(Gt({},this.currentNavigation),{finalUrl:n.urlAfterRedirects});let l=new yl(n.id,this.urlSerializer.serialize(n.extractedUrl),this.urlSerializer.serialize(n.urlAfterRedirects),n.targetSnapshot);this.events.next(l)}));if(r&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:n,extractedUrl:l,source:f,restoredState:s,extras:d}=h,p=new Rs(n,this.urlSerializer.serialize(l),f,s);this.events.next(p);let c=F0(this.rootComponentType).snapshot;return this.currentTransition=e=Ge(Gt({},h),{targetSnapshot:c,urlAfterRedirects:l,extras:Ge(Gt({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,Yt(e)}else{let n="";return this.events.next(new Zi(h.id,this.urlSerializer.serialize(h.extractedUrl),n,xf.IgnoredByUrlHandlingStrategy)),h.resolve(null),yn}}),Ke(h=>{let r=new yf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(r)}),qt(h=>(this.currentTransition=e=Ge(Gt({},h),{guards:E2(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),e)),F2(this.environmentInjector,h=>this.events.next(h)),Ke(h=>{if(e.guardsResult=h.guardsResult,Nr(h.guardsResult))throw b0(this.urlSerializer,h.guardsResult);let r=new Tf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(r)}),vn(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Dn.GuardRejected),!1)),df(h=>{if(h.guards.canActivateChecks.length)return Yt(h).pipe(Ke(r=>{let o=new Ef(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(o)}),gn(r=>{let o=!1;return Yt(r).pipe(rD(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>o=!0,complete:()=>{o||this.cancelNavigationTransition(r,"",Dn.NoDataFromResolver)}}))}),Ke(r=>{let o=new Cf(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(o)}))}),df(h=>{let r=o=>{let n=[];o.routeConfig?.loadComponent&&!o.routeConfig._loadedComponent&&n.push(this.configLoader.loadComponent(o.routeConfig).pipe(Ke(l=>{o.component=l}),qt(()=>{})));for(let l of o.children)n.push(...r(l));return n};return xo(r(h.targetSnapshot.root)).pipe(ti(null),Xn(1))}),df(()=>this.afterPreactivation()),gn(()=>{let{currentSnapshot:h,targetSnapshot:r}=e,o=this.createViewTransition?.(this.environmentInjector,h.root,r.root);return o?He(o).pipe(qt(()=>e)):Yt(e)}),qt(h=>{let r=c2(et.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=e=Ge(Gt({},h),{targetRouterState:r}),this.currentNavigation.targetRouterState=r,e}),Ke(()=>{this.events.next(new Fs)}),T2(this.rootContexts,et.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Xn(1),Ke({next:h=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{u=!0}}),pu(this.transitionAbortSubject.pipe(Ke(h=>{throw h}))),ei(()=>{!u&&!G&&this.cancelNavigationTransition(e,"",Dn.SupersededByNewNavigation),this.currentTransition?.id===e.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(h=>{if(G=!0,U0(h))this.events.next(new mi(e.id,this.urlSerializer.serialize(e.extractedUrl),h.message,h.cancellationCode)),g2(h)?this.events.next(new Os(h.url)):e.resolve(!1);else{this.events.next(new Is(e.id,this.urlSerializer.serialize(e.extractedUrl),h,e.targetSnapshot??void 0));try{e.resolve(et.errorHandler(h))}catch(r){this.options.resolveNavigationPromiseOnError?e.resolve(!1):e.reject(r)}}return yn}))}))}cancelNavigationTransition(et,i,$){let e=new mi(et.id,this.urlSerializer.serialize(et.extractedUrl),i,$);this.events.next(e),et.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();function vD(y){return y!==As}var gD=(()=>{let M=class M{};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>Bt(mD),providedIn:"root"});let y=M;return y})(),Vf=class{shouldDetach(M){return!1}store(M,J){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,J){return M.routeConfig===J.routeConfig}},mD=(()=>{let M=class M extends Vf{};M.\u0275fac=(()=>{let et;return function($){return(et||(et=wh(M)))($||M)}})(),M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})(),Y0=(()=>{let M=class M{};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:()=>Bt(xD),providedIn:"root"});let y=M;return y})(),xD=(()=>{let M=class M extends Y0{constructor(){super(...arguments),this.location=Bt(vs),this.urlSerializer=Bt(zf),this.options=Bt($f,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Bt(Kf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=F0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(et){return this.location.subscribe(i=>{i.type==="popstate"&&et(i.url,i.state)})}handleRouterEvent(et,i){if(et instanceof Rs)this.stateMemento=this.createStateMemento();else if(et instanceof Zi)this.rawUrlTree=i.initialUrl;else if(et instanceof yl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let $=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl($,i)}}else et instanceof Fs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):et instanceof mi&&(et.code===Dn.GuardRejected||et.code===Dn.NoDataFromResolver)?this.restoreHistory(i):et instanceof Is?this.restoreHistory(i,!0):et instanceof Ki&&(this.lastSuccessfulId=et.id,this.currentPageId=this.browserPageId)}setBrowserUrl(et,i){let $=this.urlSerializer.serialize(et);if(this.location.isCurrentPathEqualTo($)||i.extras.replaceUrl){let e=this.browserPageId,u=Gt(Gt({},i.extras.state),this.generateNgRouterState(i.id,e));this.location.replaceState($,"",u)}else{let e=Gt(Gt({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go($,"",e)}}restoreHistory(et,i=!1){if(this.canceledNavigationResolution==="computed"){let $=this.browserPageId,e=this.currentPageId-$;e!==0?this.location.historyGo(e):this.currentUrlTree===et.finalUrl&&e===0&&(this.resetState(et),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(et),this.resetUrlToCurrentUrlTree())}resetState(et){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,et.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(et,i){return this.canceledNavigationResolution==="computed"?{navigationId:et,\u0275routerPageId:i}:{navigationId:et}}};M.\u0275fac=(()=>{let et;return function($){return(et||(et=wh(M)))($||M)}})(),M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})(),Ds=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Ds||{});function yD(y,M){y.events.pipe(vn(J=>J instanceof Ki||J instanceof mi||J instanceof Is||J instanceof Zi),qt(J=>J instanceof Ki||J instanceof Zi?Ds.COMPLETE:(J instanceof mi?J.code===Dn.Redirect||J.code===Dn.SupersededByNewNavigation:!1)?Ds.REDIRECTING:Ds.FAILED),vn(J=>J!==Ds.REDIRECTING),Xn(1)).subscribe(()=>{M()})}function TD(y){throw y}var ED={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},j0=(()=>{let M=class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Bt(ba),this.stateManager=Bt(Y0),this.options=Bt($f,{optional:!0})||{},this.pendingTasks=Bt(zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Bt(pD),this.urlSerializer=Bt(zf),this.location=Bt(vs),this.urlHandlingStrategy=Bt(Kf),this._events=new pn,this.errorHandler=this.options.errorHandler||TD,this.navigated=!1,this.routeReuseStrategy=Bt(gD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Bt(kf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Bt(Xf,{optional:!0}),this.eventsSubscription=new Ye,this.isNgZoneEnabled=Bt(We)instanceof We&&We.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:et=>{this.console.warn(et)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let et=this.navigationTransitions.events.subscribe(i=>{try{let $=this.navigationTransitions.currentTransition,e=this.navigationTransitions.currentNavigation;if($!==null&&e!==null){if(this.stateManager.handleRouterEvent(i,e),i instanceof mi&&i.code!==Dn.Redirect&&i.code!==Dn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ki)this.navigated=!0;else if(i instanceof Os){let u=this.urlHandlingStrategy.merge(i.url,$.currentRawUrl),G={info:$.extras.info,skipLocationChange:$.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||vD($.source)};this.scheduleNavigation(u,As,null,G,{resolve:$.resolve,reject:$.reject,promise:$.promise})}}DD(i)&&this._events.next(i)}catch($){this.navigationTransitions.transitionAbortSubject.next($)}});this.eventsSubscription.add(et)}resetRootComponentType(et){this.routerState.root.component=et,this.navigationTransitions.rootComponentType=et}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),As,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((et,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(et,"popstate",i)},0)})}navigateToSyncWithBrowser(et,i,$){let e={replaceUrl:!0},u=$?.navigationId?$:null;if($){let h=Gt({},$);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(e.state=h)}let G=this.parseUrl(et);this.scheduleNavigation(G,i,u,e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(et){this.config=et.map(Yf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(et,i={}){let{relativeTo:$,queryParams:e,fragment:u,queryParamsHandling:G,preserveFragment:h}=i,r=h?this.currentUrlTree.fragment:u,o=null;switch(G){case"merge":o=Gt(Gt({},this.currentUrlTree.queryParams),e);break;case"preserve":o=this.currentUrlTree.queryParams;break;default:o=e||null}o!==null&&(o=this.removeEmptyProps(o));let n;try{let l=$?$.snapshot:this.routerState.snapshot.root;n=w0(l)}catch{(typeof et[0]!="string"||!et[0].startsWith("/"))&&(et=[]),n=this.currentUrlTree.root}return P0(n,et,o,r??null)}navigateByUrl(et,i={skipLocationChange:!1}){let $=Nr(et)?et:this.parseUrl(et),e=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(e,As,null,i)}navigate(et,i={skipLocationChange:!1}){return SD(et),this.navigateByUrl(this.createUrlTree(et,i),i)}serializeUrl(et){return this.urlSerializer.serialize(et)}parseUrl(et){try{return this.urlSerializer.parse(et)}catch{return this.urlSerializer.parse("/")}}isActive(et,i){let $;if(i===!0?$=Gt({},ED):i===!1?$=Gt({},CD):$=i,Nr(et))return d0(this.currentUrlTree,et,$);let e=this.parseUrl(et);return d0(this.currentUrlTree,e,$)}removeEmptyProps(et){return Object.entries(et).reduce((i,[$,e])=>(e!=null&&(i[$]=e),i),{})}scheduleNavigation(et,i,$,e,u){if(this.disposed)return Promise.resolve(!1);let G,h,r;u?(G=u.resolve,h=u.reject,r=u.promise):r=new Promise((n,l)=>{G=n,h=l});let o=this.pendingTasks.add();return yD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(o))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:et,extras:e,resolve:G,reject:h,promise:r,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),r.catch(n=>Promise.reject(n))}};M.\u0275fac=function(i){return new(i||M)},M.\u0275prov=Xt({token:M,factory:M.\u0275fac,providedIn:"root"});let y=M;return y})();function SD(y){for(let M=0;M<y.length;M++)if(y[M]==null)throw new Wt(4008,!1)}function DD(y){return!(y instanceof Fs)&&!(y instanceof Os)}var MD=new $t("");function $0(y,...M){return Dr([{provide:kf,multi:!0,useValue:y},[],{provide:br,useFactory:AD,deps:[j0]},{provide:_a,multi:!0,useFactory:wD},M.map(J=>J.\u0275providers)])}function AD(y){return y.routerState.root}function wD(){let y=Bt(cs);return M=>{let J=y.get(Mr);if(M!==J.components[0])return;let et=y.get(j0),i=y.get(PD);y.get(RD)===1&&et.initialNavigation(),y.get(ID,null,_t.Optional)?.setUpPreloading(),y.get(MD,null,_t.Optional)?.init(),et.resetRootComponentType(J.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PD=new $t("",{factory:()=>new pn}),RD=new $t("",{providedIn:"root",factory:()=>1});var ID=new $t("");var k0=[];var K0={providers:[$0(k0)]};var Z0=$r(Gr()),wl=class extends Z0.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}};var Q0=$r(Gr()),Vr=new Q0.Events.EventEmitter;var Bx=$r(Gr());var zs=class extends Phaser.GameObjects.Container{constructor(M,J,et){super(M,J,et),this.background=M.add.graphics(),this.add(this.background),this._text=M.add.text(0,0,"",{fontSize:"16px",color:"#000"}),this._text.setOrigin(.5,.5),this.add(this._text),this._text.setPosition(0,-20),M.add.existing(this),this.setVisible(!1)}setText(M,J=13421772){this._text.setText(M),this.background.clear(),this.background.fillStyle(J,1),this.background.fillRoundedRect(-this._text.width/2-10,-this._text.height/2-30,this._text.width+20,this._text.height+20,10)}get text(){return this._text}show(){this.setVisible(!0)}hide(){this.setVisible(!1),this.setText("")}startTypingTimer(){this.scene.time.addEvent({delay:8e3,callback:()=>{this.hide()},loop:!1})}};var Pl=class{constructor(M,J){this.speechBubble=J,this.commands={home:{description:"Teleports the player to home position.",action:()=>M.setPosition(9600,8960)},ogj:{description:"Teleports the player to OGJ position.",action:()=>M.setPosition(1731,9998)},graz:{description:"Teleports the player to Graz.",action:()=>M.setPosition(18114,6306)},b\u00E4r:{description:"Teleports the player to B\xE4r.",action:()=>M.setPosition(12105,6349)},liebe:{description:"Teleports the player to Liebe.",action:()=>M.setPosition(3211,4423)},exil:{description:"Teleports the player to Exil.",action:()=>M.setPosition(18280,881)},wald:{description:"Teleports the player to Wald.",action:()=>M.setPosition(9827,1459)},skin:{description:"Changes skin to chosen number.",action:et=>{let i=et[0];M.setFrame(i)}},position:{description:"Displays the player's current position.",action:()=>J.setText(`x: ${M.x} y: ${M.y}`)}}}executeCommand(M){if(M.startsWith("/")){let J=M.slice(1).split(" "),et=J[0],i=J.slice(1);et==="help"?this.showHelp():this.commands[et]?this.commands[et].action(i):this.speechBubble.setText(`Unknown command: ${et}`)}}showHelp(){let M=`Available commands:
`;for(let J in this.commands)M+=`/${J}: ${this.commands[J].description}
`;this.speechBubble.setText(M)}};function Hs(y,M){return function(){return y.apply(M,arguments)}}var{toString:FD}=Object.prototype,{getPrototypeOf:qf}=Object,Il=(y=>M=>{let J=FD.call(M);return y[J]||(y[J]=J.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=y=>(y=y.toLowerCase(),M=>Il(M)===y),Fl=y=>M=>typeof M===y,{isArray:zr}=Array,Ws=Fl("undefined");function OD(y){return y!==null&&!Ws(y)&&y.constructor!==null&&!Ws(y.constructor)&&An(y.constructor.isBuffer)&&y.constructor.isBuffer(y)}var _0=Fn("ArrayBuffer");function LD(y){let M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(y):M=y&&y.buffer&&_0(y.buffer),M}var ND=Fl("string"),An=Fl("function"),tx=Fl("number"),Ol=y=>y!==null&&typeof y=="object",bD=y=>y===!0||y===!1,Rl=y=>{if(Il(y)!=="object")return!1;let M=qf(y);return(M===null||M===Object.prototype||Object.getPrototypeOf(M)===null)&&!(Symbol.toStringTag in y)&&!(Symbol.iterator in y)},BD=Fn("Date"),UD=Fn("File"),GD=Fn("Blob"),VD=Fn("FileList"),zD=y=>Ol(y)&&An(y.pipe),HD=y=>{let M;return y&&(typeof FormData=="function"&&y instanceof FormData||An(y.append)&&((M=Il(y))==="formdata"||M==="object"&&An(y.toString)&&y.toString()==="[object FormData]"))},WD=Fn("URLSearchParams"),[XD,YD,jD,$D]=["ReadableStream","Request","Response","Headers"].map(Fn),kD=y=>y.trim?y.trim():y.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(y,M,{allOwnKeys:J=!1}={}){if(y===null||typeof y>"u")return;let et,i;if(typeof y!="object"&&(y=[y]),zr(y))for(et=0,i=y.length;et<i;et++)M.call(null,y[et],et,y);else{let $=J?Object.getOwnPropertyNames(y):Object.keys(y),e=$.length,u;for(et=0;et<e;et++)u=$[et],M.call(null,y[u],u,y)}}function ex(y,M){M=M.toLowerCase();let J=Object.keys(y),et=J.length,i;for(;et-- >0;)if(i=J[et],M===i.toLowerCase())return i;return null}var nx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ix=y=>!Ws(y)&&y!==nx;function Jf(){let{caseless:y}=ix(this)&&this||{},M={},J=(et,i)=>{let $=y&&ex(M,i)||i;Rl(M[$])&&Rl(et)?M[$]=Jf(M[$],et):Rl(et)?M[$]=Jf({},et):zr(et)?M[$]=et.slice():M[$]=et};for(let et=0,i=arguments.length;et<i;et++)arguments[et]&&Xs(arguments[et],J);return M}var KD=(y,M,J,{allOwnKeys:et}={})=>(Xs(M,(i,$)=>{J&&An(i)?y[$]=Hs(i,J):y[$]=i},{allOwnKeys:et}),y),ZD=y=>(y.charCodeAt(0)===65279&&(y=y.slice(1)),y),QD=(y,M,J,et)=>{y.prototype=Object.create(M.prototype,et),y.prototype.constructor=y,Object.defineProperty(y,"super",{value:M.prototype}),J&&Object.assign(y.prototype,J)},JD=(y,M,J,et)=>{let i,$,e,u={};if(M=M||{},y==null)return M;do{for(i=Object.getOwnPropertyNames(y),$=i.length;$-- >0;)e=i[$],(!et||et(e,y,M))&&!u[e]&&(M[e]=y[e],u[e]=!0);y=J!==!1&&qf(y)}while(y&&(!J||J(y,M))&&y!==Object.prototype);return M},qD=(y,M,J)=>{y=String(y),(J===void 0||J>y.length)&&(J=y.length),J-=M.length;let et=y.indexOf(M,J);return et!==-1&&et===J},_D=y=>{if(!y)return null;if(zr(y))return y;let M=y.length;if(!tx(M))return null;let J=new Array(M);for(;M-- >0;)J[M]=y[M];return J},tM=(y=>M=>y&&M instanceof y)(typeof Uint8Array<"u"&&qf(Uint8Array)),eM=(y,M)=>{let et=(y&&y[Symbol.iterator]).call(y),i;for(;(i=et.next())&&!i.done;){let $=i.value;M.call(y,$[0],$[1])}},nM=(y,M)=>{let J,et=[];for(;(J=y.exec(M))!==null;)et.push(J);return et},iM=Fn("HTMLFormElement"),rM=y=>y.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(J,et,i){return et.toUpperCase()+i}),J0=(({hasOwnProperty:y})=>(M,J)=>y.call(M,J))(Object.prototype),sM=Fn("RegExp"),rx=(y,M)=>{let J=Object.getOwnPropertyDescriptors(y),et={};Xs(J,(i,$)=>{let e;(e=M(i,$,y))!==!1&&(et[$]=e||i)}),Object.defineProperties(y,et)},oM=y=>{rx(y,(M,J)=>{if(An(y)&&["arguments","caller","callee"].indexOf(J)!==-1)return!1;let et=y[J];if(An(et)){if(M.enumerable=!1,"writable"in M){M.writable=!1;return}M.set||(M.set=()=>{throw Error("Can not rewrite read-only method '"+J+"'")})}})},aM=(y,M)=>{let J={},et=i=>{i.forEach($=>{J[$]=!0})};return zr(y)?et(y):et(String(y).split(M)),J},lM=()=>{},uM=(y,M)=>y!=null&&Number.isFinite(y=+y)?y:M,Qf="abcdefghijklmnopqrstuvwxyz",q0="0123456789",sx={DIGIT:q0,ALPHA:Qf,ALPHA_DIGIT:Qf+Qf.toUpperCase()+q0},hM=(y=16,M=sx.ALPHA_DIGIT)=>{let J="",{length:et}=M;for(;y--;)J+=M[Math.random()*et|0];return J};function fM(y){return!!(y&&An(y.append)&&y[Symbol.toStringTag]==="FormData"&&y[Symbol.iterator])}var dM=y=>{let M=new Array(10),J=(et,i)=>{if(Ol(et)){if(M.indexOf(et)>=0)return;if(!("toJSON"in et)){M[i]=et;let $=zr(et)?[]:{};return Xs(et,(e,u)=>{let G=J(e,i+1);!Ws(G)&&($[u]=G)}),M[i]=void 0,$}}return et};return J(y,0)},cM=Fn("AsyncFunction"),pM=y=>y&&(Ol(y)||An(y))&&An(y.then)&&An(y.catch),Rt={isArray:zr,isArrayBuffer:_0,isBuffer:OD,isFormData:HD,isArrayBufferView:LD,isString:ND,isNumber:tx,isBoolean:bD,isObject:Ol,isPlainObject:Rl,isReadableStream:XD,isRequest:YD,isResponse:jD,isHeaders:$D,isUndefined:Ws,isDate:BD,isFile:UD,isBlob:GD,isRegExp:sM,isFunction:An,isStream:zD,isURLSearchParams:WD,isTypedArray:tM,isFileList:VD,forEach:Xs,merge:Jf,extend:KD,trim:kD,stripBOM:ZD,inherits:QD,toFlatObject:JD,kindOf:Il,kindOfTest:Fn,endsWith:qD,toArray:_D,forEachEntry:eM,matchAll:nM,isHTMLForm:iM,hasOwnProperty:J0,hasOwnProp:J0,reduceDescriptors:rx,freezeMethods:oM,toObjectSet:aM,toCamelCase:rM,noop:lM,toFiniteNumber:uM,findKey:ex,global:nx,isContextDefined:ix,ALPHABET:sx,generateString:hM,isSpecCompliantForm:fM,toJSONObject:dM,isAsyncFn:cM,isThenable:pM};function Hr(y,M,J,et,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=y,this.name="AxiosError",M&&(this.code=M),J&&(this.config=J),et&&(this.request=et),i&&(this.response=i)}Rt.inherits(Hr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Rt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var ox=Hr.prototype,ax={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(y=>{ax[y]={value:y}});Object.defineProperties(Hr,ax);Object.defineProperty(ox,"isAxiosError",{value:!0});Hr.from=(y,M,J,et,i,$)=>{let e=Object.create(ox);return Rt.toFlatObject(y,e,function(G){return G!==Error.prototype},u=>u!=="isAxiosError"),Hr.call(e,y.message,M,J,et,i),e.cause=y,e.name=y.name,$&&Object.assign(e,$),e};var Ht=Hr;var Ll=null;function _f(y){return Rt.isPlainObject(y)||Rt.isArray(y)}function ux(y){return Rt.endsWith(y,"[]")?y.slice(0,-2):y}function lx(y,M,J){return y?y.concat(M).map(function(i,$){return i=ux(i),!J&&$?"["+i+"]":i}).join(J?".":""):M}function vM(y){return Rt.isArray(y)&&!y.some(_f)}var gM=Rt.toFlatObject(Rt,{},null,function(M){return/^is[A-Z]/.test(M)});function mM(y,M,J){if(!Rt.isObject(y))throw new TypeError("target must be an object");M=M||new(Ll||FormData),J=Rt.toFlatObject(J,{metaTokens:!0,dots:!1,indexes:!1},!1,function(s,d){return!Rt.isUndefined(d[s])});let et=J.metaTokens,i=J.visitor||r,$=J.dots,e=J.indexes,G=(J.Blob||typeof Blob<"u"&&Blob)&&Rt.isSpecCompliantForm(M);if(!Rt.isFunction(i))throw new TypeError("visitor must be a function");function h(f){if(f===null)return"";if(Rt.isDate(f))return f.toISOString();if(!G&&Rt.isBlob(f))throw new Ht("Blob is not supported. Use a Buffer instead.");return Rt.isArrayBuffer(f)||Rt.isTypedArray(f)?G&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function r(f,s,d){let p=f;if(f&&!d&&typeof f=="object"){if(Rt.endsWith(s,"{}"))s=et?s:s.slice(0,-2),f=JSON.stringify(f);else if(Rt.isArray(f)&&vM(f)||(Rt.isFileList(f)||Rt.endsWith(s,"[]"))&&(p=Rt.toArray(f)))return s=ux(s),p.forEach(function(g,j){!(Rt.isUndefined(g)||g===null)&&M.append(e===!0?lx([s],j,$):e===null?s:s+"[]",h(g))}),!1}return _f(f)?!0:(M.append(lx(d,s,$),h(f)),!1)}let o=[],n=Object.assign(gM,{defaultVisitor:r,convertValue:h,isVisitable:_f});function l(f,s){if(!Rt.isUndefined(f)){if(o.indexOf(f)!==-1)throw Error("Circular reference detected in "+s.join("."));o.push(f),Rt.forEach(f,function(p,c){(!(Rt.isUndefined(p)||p===null)&&i.call(M,p,Rt.isString(c)?c.trim():c,s,n))===!0&&l(p,s?s.concat(c):[c])}),o.pop()}}if(!Rt.isObject(y))throw new TypeError("data must be an object");return l(y),M}var yi=mM;function hx(y){let M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(y).replace(/[!'()~]|%20|%00/g,function(et){return M[et]})}function fx(y,M){this._pairs=[],y&&yi(y,this,M)}var dx=fx.prototype;dx.append=function(M,J){this._pairs.push([M,J])};dx.toString=function(M){let J=M?function(et){return M.call(this,et,hx)}:hx;return this._pairs.map(function(i){return J(i[0])+"="+J(i[1])},"").join("&")};var Nl=fx;function xM(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ys(y,M,J){if(!M)return y;let et=J&&J.encode||xM,i=J&&J.serialize,$;if(i?$=i(M,J):$=Rt.isURLSearchParams(M)?M.toString():new Nl(M,J).toString(et),$){let e=y.indexOf("#");e!==-1&&(y=y.slice(0,e)),y+=(y.indexOf("?")===-1?"?":"&")+$}return y}var _d=class{constructor(){this.handlers=[]}use(M,J,et){return this.handlers.push({fulfilled:M,rejected:J,synchronous:et?et.synchronous:!1,runWhen:et?et.runWhen:null}),this.handlers.length-1}eject(M){this.handlers[M]&&(this.handlers[M]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(M){Rt.forEach(this.handlers,function(et){et!==null&&M(et)})}},_c=_d;var bl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var cx=typeof URLSearchParams<"u"?URLSearchParams:Nl;var px=typeof FormData<"u"?FormData:null;var vx=typeof Blob<"u"?Blob:null;var gx={isBrowser:!0,classes:{URLSearchParams:cx,FormData:px,Blob:vx},protocols:["http","https","file","blob","url","data"]};var ep={};Qx(ep,{hasBrowserEnv:()=>tp,hasStandardBrowserEnv:()=>yM,hasStandardBrowserWebWorkerEnv:()=>TM,origin:()=>EM});var tp=typeof window<"u"&&typeof document<"u",yM=(y=>tp&&["ReactNative","NativeScript","NS"].indexOf(y)<0)(typeof navigator<"u"&&navigator.product),TM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EM=tp&&window.location.href||"http://localhost";var _e=Gt(Gt({},ep),gx);function np(y,M){return yi(y,new _e.classes.URLSearchParams,Object.assign({visitor:function(J,et,i,$){return _e.isNode&&Rt.isBuffer(J)?(this.append(et,J.toString("base64")),!1):$.defaultVisitor.apply(this,arguments)}},M))}function CM(y){return Rt.matchAll(/\w+|\[(\w*)]/g,y).map(M=>M[0]==="[]"?"":M[1]||M[0])}function SM(y){let M={},J=Object.keys(y),et,i=J.length,$;for(et=0;et<i;et++)$=J[et],M[$]=y[$];return M}function DM(y){function M(J,et,i,$){let e=J[$++];if(e==="__proto__")return!0;let u=Number.isFinite(+e),G=$>=J.length;return e=!e&&Rt.isArray(i)?i.length:e,G?(Rt.hasOwnProp(i,e)?i[e]=[i[e],et]:i[e]=et,!u):((!i[e]||!Rt.isObject(i[e]))&&(i[e]=[]),M(J,et,i[e],$)&&Rt.isArray(i[e])&&(i[e]=SM(i[e])),!u)}if(Rt.isFormData(y)&&Rt.isFunction(y.entries)){let J={};return Rt.forEachEntry(y,(et,i)=>{M(CM(et),i,J,0)}),J}return null}var Bl=DM;function MM(y,M,J){if(Rt.isString(y))try{return(M||JSON.parse)(y),Rt.trim(y)}catch(et){if(et.name!=="SyntaxError")throw et}return(J||JSON.stringify)(y)}var ip={transitional:bl,adapter:["xhr","http","fetch"],transformRequest:[function(M,J){let et=J.getContentType()||"",i=et.indexOf("application/json")>-1,$=Rt.isObject(M);if($&&Rt.isHTMLForm(M)&&(M=new FormData(M)),Rt.isFormData(M))return i?JSON.stringify(Bl(M)):M;if(Rt.isArrayBuffer(M)||Rt.isBuffer(M)||Rt.isStream(M)||Rt.isFile(M)||Rt.isBlob(M)||Rt.isReadableStream(M))return M;if(Rt.isArrayBufferView(M))return M.buffer;if(Rt.isURLSearchParams(M))return J.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),M.toString();let u;if($){if(et.indexOf("application/x-www-form-urlencoded")>-1)return np(M,this.formSerializer).toString();if((u=Rt.isFileList(M))||et.indexOf("multipart/form-data")>-1){let G=this.env&&this.env.FormData;return yi(u?{"files[]":M}:M,G&&new G,this.formSerializer)}}return $||i?(J.setContentType("application/json",!1),MM(M)):M}],transformResponse:[function(M){let J=this.transitional||ip.transitional,et=J&&J.forcedJSONParsing,i=this.responseType==="json";if(Rt.isResponse(M)||Rt.isReadableStream(M))return M;if(M&&Rt.isString(M)&&(et&&!this.responseType||i)){let e=!(J&&J.silentJSONParsing)&&i;try{return JSON.parse(M)}catch(u){if(e)throw u.name==="SyntaxError"?Ht.from(u,Ht.ERR_BAD_RESPONSE,this,null,this.response):u}}return M}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(M){return M>=200&&M<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Rt.forEach(["delete","get","head","post","put","patch"],y=>{ip.headers[y]={}});var Wr=ip;var AM=Rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mx=y=>{let M={},J,et,i;return y&&y.split(`
`).forEach(function(e){i=e.indexOf(":"),J=e.substring(0,i).trim().toLowerCase(),et=e.substring(i+1).trim(),!(!J||M[J]&&AM[J])&&(J==="set-cookie"?M[J]?M[J].push(et):M[J]=[et]:M[J]=M[J]?M[J]+", "+et:et)}),M};var xx=Symbol("internals");function js(y){return y&&String(y).trim().toLowerCase()}function Ul(y){return y===!1||y==null?y:Rt.isArray(y)?y.map(Ul):String(y)}function wM(y){let M=Object.create(null),J=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,et;for(;et=J.exec(y);)M[et[1]]=et[2];return M}var PM=y=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(y.trim());function rp(y,M,J,et,i){if(Rt.isFunction(et))return et.call(this,M,J);if(i&&(M=J),!!Rt.isString(M)){if(Rt.isString(et))return M.indexOf(et)!==-1;if(Rt.isRegExp(et))return et.test(M)}}function RM(y){return y.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(M,J,et)=>J.toUpperCase()+et)}function IM(y,M){let J=Rt.toCamelCase(" "+M);["get","set","has"].forEach(et=>{Object.defineProperty(y,et+J,{value:function(i,$,e){return this[et].call(this,M,i,$,e)},configurable:!0})})}var Xr=class{constructor(M){M&&this.set(M)}set(M,J,et){let i=this;function $(u,G,h){let r=js(G);if(!r)throw new Error("header name must be a non-empty string");let o=Rt.findKey(i,r);(!o||i[o]===void 0||h===!0||h===void 0&&i[o]!==!1)&&(i[o||G]=Ul(u))}let e=(u,G)=>Rt.forEach(u,(h,r)=>$(h,r,G));if(Rt.isPlainObject(M)||M instanceof this.constructor)e(M,J);else if(Rt.isString(M)&&(M=M.trim())&&!PM(M))e(mx(M),J);else if(Rt.isHeaders(M))for(let[u,G]of M.entries())$(G,u,et);else M!=null&&$(J,M,et);return this}get(M,J){if(M=js(M),M){let et=Rt.findKey(this,M);if(et){let i=this[et];if(!J)return i;if(J===!0)return wM(i);if(Rt.isFunction(J))return J.call(this,i,et);if(Rt.isRegExp(J))return J.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(M,J){if(M=js(M),M){let et=Rt.findKey(this,M);return!!(et&&this[et]!==void 0&&(!J||rp(this,this[et],et,J)))}return!1}delete(M,J){let et=this,i=!1;function $(e){if(e=js(e),e){let u=Rt.findKey(et,e);u&&(!J||rp(et,et[u],u,J))&&(delete et[u],i=!0)}}return Rt.isArray(M)?M.forEach($):$(M),i}clear(M){let J=Object.keys(this),et=J.length,i=!1;for(;et--;){let $=J[et];(!M||rp(this,this[$],$,M,!0))&&(delete this[$],i=!0)}return i}normalize(M){let J=this,et={};return Rt.forEach(this,(i,$)=>{let e=Rt.findKey(et,$);if(e){J[e]=Ul(i),delete J[$];return}let u=M?RM($):String($).trim();u!==$&&delete J[$],J[u]=Ul(i),et[u]=!0}),this}concat(...M){return this.constructor.concat(this,...M)}toJSON(M){let J=Object.create(null);return Rt.forEach(this,(et,i)=>{et!=null&&et!==!1&&(J[i]=M&&Rt.isArray(et)?et.join(", "):et)}),J}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([M,J])=>M+": "+J).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(M){return M instanceof this?M:new this(M)}static concat(M,...J){let et=new this(M);return J.forEach(i=>et.set(i)),et}static accessor(M){let et=(this[xx]=this[xx]={accessors:{}}).accessors,i=this.prototype;function $(e){let u=js(e);et[u]||(IM(i,e),et[u]=!0)}return Rt.isArray(M)?M.forEach($):$(M),this}};Xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Rt.reduceDescriptors(Xr.prototype,({value:y},M)=>{let J=M[0].toUpperCase()+M.slice(1);return{get:()=>y,set(et){this[J]=et}}});Rt.freezeMethods(Xr);var Ze=Xr;function $s(y,M){let J=this||Wr,et=M||J,i=Ze.from(et.headers),$=et.data;return Rt.forEach(y,function(u){$=u.call(J,$,i.normalize(),M?M.status:void 0)}),i.normalize(),$}function ks(y){return!!(y&&y.__CANCEL__)}function yx(y,M,J){Ht.call(this,y??"canceled",Ht.ERR_CANCELED,M,J),this.name="CanceledError"}Rt.inherits(yx,Ht,{__CANCEL__:!0});var Hn=yx;function Ks(y,M,J){let et=J.config.validateStatus;!J.status||!et||et(J.status)?y(J):M(new Ht("Request failed with status code "+J.status,[Ht.ERR_BAD_REQUEST,Ht.ERR_BAD_RESPONSE][Math.floor(J.status/100)-4],J.config,J.request,J))}function sp(y){let M=/^([-+\w]{1,25})(:?\/\/|:)/.exec(y);return M&&M[1]||""}function FM(y,M){y=y||10;let J=new Array(y),et=new Array(y),i=0,$=0,e;return M=M!==void 0?M:1e3,function(G){let h=Date.now(),r=et[$];e||(e=h),J[i]=G,et[i]=h;let o=$,n=0;for(;o!==i;)n+=J[o++],o=o%y;if(i=(i+1)%y,i===$&&($=($+1)%y),h-e<M)return;let l=r&&h-r;return l?Math.round(n*1e3/l):void 0}}var Tx=FM;function OM(y,M){let J=0,et=1e3/M,i=null;return function(){let e=this===!0,u=Date.now();if(e||u-J>et)return i&&(clearTimeout(i),i=null),J=u,y.apply(null,arguments);i||(i=setTimeout(()=>(i=null,J=Date.now(),y.apply(null,arguments)),et-(u-J)))}}var Ex=OM;var Yr=(y,M,J=3)=>{let et=0,i=Tx(50,250);return Ex($=>{let e=$.loaded,u=$.lengthComputable?$.total:void 0,G=e-et,h=i(G),r=e<=u;et=e;let o={loaded:e,total:u,progress:u?e/u:void 0,bytes:G,rate:h||void 0,estimated:h&&u&&r?(u-e)/h:void 0,event:$,lengthComputable:u!=null};o[M?"download":"upload"]=!0,y(o)},J)};var Cx=_e.hasStandardBrowserEnv?function(){let M=/(msie|trident)/i.test(navigator.userAgent),J=document.createElement("a"),et;function i($){let e=$;return M&&(J.setAttribute("href",e),e=J.href),J.setAttribute("href",e),{href:J.href,protocol:J.protocol?J.protocol.replace(/:$/,""):"",host:J.host,search:J.search?J.search.replace(/^\?/,""):"",hash:J.hash?J.hash.replace(/^#/,""):"",hostname:J.hostname,port:J.port,pathname:J.pathname.charAt(0)==="/"?J.pathname:"/"+J.pathname}}return et=i(window.location.href),function(e){let u=Rt.isString(e)?i(e):e;return u.protocol===et.protocol&&u.host===et.host}}():function(){return function(){return!0}}();var Sx=_e.hasStandardBrowserEnv?{write(y,M,J,et,i,$){let e=[y+"="+encodeURIComponent(M)];Rt.isNumber(J)&&e.push("expires="+new Date(J).toGMTString()),Rt.isString(et)&&e.push("path="+et),Rt.isString(i)&&e.push("domain="+i),$===!0&&e.push("secure"),document.cookie=e.join("; ")},read(y){let M=document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove(y){this.write(y,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function op(y){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(y)}function ap(y,M){return M?y.replace(/\/?\/$/,"")+"/"+M.replace(/^\/+/,""):y}function Zs(y,M){return y&&!op(M)?ap(y,M):M}var Dx=y=>y instanceof Ze?Gt({},y):y;function On(y,M){M=M||{};let J={};function et(h,r,o){return Rt.isPlainObject(h)&&Rt.isPlainObject(r)?Rt.merge.call({caseless:o},h,r):Rt.isPlainObject(r)?Rt.merge({},r):Rt.isArray(r)?r.slice():r}function i(h,r,o){if(Rt.isUndefined(r)){if(!Rt.isUndefined(h))return et(void 0,h,o)}else return et(h,r,o)}function $(h,r){if(!Rt.isUndefined(r))return et(void 0,r)}function e(h,r){if(Rt.isUndefined(r)){if(!Rt.isUndefined(h))return et(void 0,h)}else return et(void 0,r)}function u(h,r,o){if(o in M)return et(h,r);if(o in y)return et(void 0,h)}let G={url:$,method:$,data:$,baseURL:e,transformRequest:e,transformResponse:e,paramsSerializer:e,timeout:e,timeoutMessage:e,withCredentials:e,withXSRFToken:e,adapter:e,responseType:e,xsrfCookieName:e,xsrfHeaderName:e,onUploadProgress:e,onDownloadProgress:e,decompress:e,maxContentLength:e,maxBodyLength:e,beforeRedirect:e,transport:e,httpAgent:e,httpsAgent:e,cancelToken:e,socketPath:e,responseEncoding:e,validateStatus:u,headers:(h,r)=>i(Dx(h),Dx(r),!0)};return Rt.forEach(Object.keys(Object.assign({},y,M)),function(r){let o=G[r]||i,n=o(y[r],M[r],r);Rt.isUndefined(n)&&o!==u||(J[r]=n)}),J}var Gl=y=>{let M=On({},y),{data:J,withXSRFToken:et,xsrfHeaderName:i,xsrfCookieName:$,headers:e,auth:u}=M;M.headers=e=Ze.from(e),M.url=Ys(Zs(M.baseURL,M.url),y.params,y.paramsSerializer),u&&e.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let G;if(Rt.isFormData(J)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)e.setContentType(void 0);else if((G=e.getContentType())!==!1){let[h,...r]=G?G.split(";").map(o=>o.trim()).filter(Boolean):[];e.setContentType([h||"multipart/form-data",...r].join("; "))}}if(_e.hasStandardBrowserEnv&&(et&&Rt.isFunction(et)&&(et=et(M)),et||et!==!1&&Cx(M.url))){let h=i&&$&&Sx.read($);h&&e.set(i,h)}return M};var LM=typeof XMLHttpRequest<"u",Mx=LM&&function(y){return new Promise(function(J,et){let i=Gl(y),$=i.data,e=Ze.from(i.headers).normalize(),{responseType:u}=i,G;function h(){i.cancelToken&&i.cancelToken.unsubscribe(G),i.signal&&i.signal.removeEventListener("abort",G)}let r=new XMLHttpRequest;r.open(i.method.toUpperCase(),i.url,!0),r.timeout=i.timeout;function o(){if(!r)return;let l=Ze.from("getAllResponseHeaders"in r&&r.getAllResponseHeaders()),s={data:!u||u==="text"||u==="json"?r.responseText:r.response,status:r.status,statusText:r.statusText,headers:l,config:y,request:r};Ks(function(p){J(p),h()},function(p){et(p),h()},s),r=null}"onloadend"in r?r.onloadend=o:r.onreadystatechange=function(){!r||r.readyState!==4||r.status===0&&!(r.responseURL&&r.responseURL.indexOf("file:")===0)||setTimeout(o)},r.onabort=function(){r&&(et(new Ht("Request aborted",Ht.ECONNABORTED,i,r)),r=null)},r.onerror=function(){et(new Ht("Network Error",Ht.ERR_NETWORK,i,r)),r=null},r.ontimeout=function(){let f=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",s=i.transitional||bl;i.timeoutErrorMessage&&(f=i.timeoutErrorMessage),et(new Ht(f,s.clarifyTimeoutError?Ht.ETIMEDOUT:Ht.ECONNABORTED,i,r)),r=null},$===void 0&&e.setContentType(null),"setRequestHeader"in r&&Rt.forEach(e.toJSON(),function(f,s){r.setRequestHeader(s,f)}),Rt.isUndefined(i.withCredentials)||(r.withCredentials=!!i.withCredentials),u&&u!=="json"&&(r.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&r.addEventListener("progress",Yr(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&r.upload&&r.upload.addEventListener("progress",Yr(i.onUploadProgress)),(i.cancelToken||i.signal)&&(G=l=>{r&&(et(!l||l.type?new Hn(null,y,r):l),r.abort(),r=null)},i.cancelToken&&i.cancelToken.subscribe(G),i.signal&&(i.signal.aborted?G():i.signal.addEventListener("abort",G)));let n=sp(i.url);if(n&&_e.protocols.indexOf(n)===-1){et(new Ht("Unsupported protocol "+n+":",Ht.ERR_BAD_REQUEST,y));return}r.send($||null)})};var NM=(y,M)=>{let J=new AbortController,et,i=function(G){if(!et){et=!0,e();let h=G instanceof Error?G:this.reason;J.abort(h instanceof Ht?h:new Hn(h instanceof Error?h.message:h))}},$=M&&setTimeout(()=>{i(new Ht(`timeout ${M} of ms exceeded`,Ht.ETIMEDOUT))},M),e=()=>{y&&($&&clearTimeout($),$=null,y.forEach(G=>{G&&(G.removeEventListener?G.removeEventListener("abort",i):G.unsubscribe(i))}),y=null)};y.forEach(G=>G&&G.addEventListener&&G.addEventListener("abort",i));let{signal:u}=J;return u.unsubscribe=e,[u,()=>{$&&clearTimeout($),$=null}]},Ax=NM;var bM=function*(y,M){let J=y.byteLength;if(!M||J<M){yield y;return}let et=0,i;for(;et<J;)i=et+M,yield y.slice(et,i),et=i},BM=function(y,M,J){return Ep(this,null,function*(){try{for(var et=Sp(y),i,$,e;i=!($=yield new qi(et.next())).done;i=!1){let u=$.value;yield*Cp(bM(ArrayBuffer.isView(u)?u:yield new qi(J(String(u))),M))}}catch{e=[$]}finally{try{i&&($=et.return)&&(yield new qi($.call(et)))}finally{if(e)throw e[0]}}})},lp=(y,M,J,et,i)=>{let $=BM(y,M,i),e=0;return new ReadableStream({type:"bytes",pull(G){return en(this,null,function*(){let{done:h,value:r}=yield $.next();if(h){G.close(),et();return}let o=r.byteLength;J&&J(e+=o),G.enqueue(new Uint8Array(r))})},cancel(G){return et(G),$.return()}},{highWaterMark:2})};var wx=(y,M)=>{let J=y!=null;return et=>setTimeout(()=>M({lengthComputable:J,total:y,loaded:et}))},zl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Rx=zl&&typeof ReadableStream=="function",up=zl&&(typeof TextEncoder=="function"?(y=>M=>y.encode(M))(new TextEncoder):y=>en(void 0,null,function*(){return new Uint8Array(yield new Response(y).arrayBuffer())})),UM=Rx&&(()=>{let y=!1,M=new Request(_e.origin,{body:new ReadableStream,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!M})(),Px=64*1024,hp=Rx&&!!(()=>{try{return Rt.isReadableStream(new Response("").body)}catch{}})(),Vl={stream:hp&&(y=>y.body)};zl&&(y=>{["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!Vl[M]&&(Vl[M]=Rt.isFunction(y[M])?J=>J[M]():(J,et)=>{throw new Ht(`Response type '${M}' is not supported`,Ht.ERR_NOT_SUPPORT,et)})})})(new Response);var GM=y=>en(void 0,null,function*(){if(y==null)return 0;if(Rt.isBlob(y))return y.size;if(Rt.isSpecCompliantForm(y))return(yield new Request(y).arrayBuffer()).byteLength;if(Rt.isArrayBufferView(y))return y.byteLength;if(Rt.isURLSearchParams(y)&&(y=y+""),Rt.isString(y))return(yield up(y)).byteLength}),VM=(y,M)=>en(void 0,null,function*(){let J=Rt.toFiniteNumber(y.getContentLength());return J??GM(M)}),Ix=zl&&(y=>en(void 0,null,function*(){let{url:M,method:J,data:et,signal:i,cancelToken:$,timeout:e,onDownloadProgress:u,onUploadProgress:G,responseType:h,headers:r,withCredentials:o="same-origin",fetchOptions:n}=Gl(y);h=h?(h+"").toLowerCase():"text";let[l,f]=i||$||e?Ax([i,$],e):[],s,d,p=()=>{!s&&setTimeout(()=>{l&&l.unsubscribe()}),s=!0},c;try{if(G&&UM&&J!=="get"&&J!=="head"&&(c=yield VM(r,et))!==0){let tt=new Request(M,{method:"POST",body:et,duplex:"half"}),_;Rt.isFormData(et)&&(_=tt.headers.get("content-type"))&&r.setContentType(_),tt.body&&(et=lp(tt.body,Px,wx(c,Yr(G)),null,up))}Rt.isString(o)||(o=o?"cors":"omit"),d=new Request(M,Ge(Gt({},n),{signal:l,method:J.toUpperCase(),headers:r.normalize().toJSON(),body:et,duplex:"half",withCredentials:o}));let g=yield fetch(d),j=hp&&(h==="stream"||h==="response");if(hp&&(u||j)){let tt={};["status","statusText","headers"].forEach(nt=>{tt[nt]=g[nt]});let _=Rt.toFiniteNumber(g.headers.get("content-length"));g=new Response(lp(g.body,Px,u&&wx(_,Yr(u,!0)),j&&p,up),tt)}h=h||"text";let k=yield Vl[Rt.findKey(Vl,h)||"text"](g,y);return!j&&p(),f&&f(),yield new Promise((tt,_)=>{Ks(tt,_,{data:k,headers:Ze.from(g.headers),status:g.status,statusText:g.statusText,config:y,request:d})})}catch(g){throw p(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new Ht("Network Error",Ht.ERR_NETWORK,y,d),{cause:g.cause||g}):Ht.from(g,g&&g.code,y,d)}}));var fp={http:Ll,xhr:Mx,fetch:Ix};Rt.forEach(fp,(y,M)=>{if(y){try{Object.defineProperty(y,"name",{value:M})}catch{}Object.defineProperty(y,"adapterName",{value:M})}});var Fx=y=>`- ${y}`,zM=y=>Rt.isFunction(y)||y===null||y===!1,Hl={getAdapter:y=>{y=Rt.isArray(y)?y:[y];let{length:M}=y,J,et,i={};for(let $=0;$<M;$++){J=y[$];let e;if(et=J,!zM(J)&&(et=fp[(e=String(J)).toLowerCase()],et===void 0))throw new Ht(`Unknown adapter '${e}'`);if(et)break;i[e||"#"+$]=et}if(!et){let $=Object.entries(i).map(([u,G])=>`adapter ${u} `+(G===!1?"is not supported by the environment":"is not available in the build")),e=M?$.length>1?`since :
`+$.map(Fx).join(`
`):" "+Fx($[0]):"as no adapter specified";throw new Ht("There is no suitable adapter to dispatch the request "+e,"ERR_NOT_SUPPORT")}return et},adapters:fp};function dp(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new Hn(null,y)}function Wl(y){return dp(y),y.headers=Ze.from(y.headers),y.data=$s.call(y,y.transformRequest),["post","put","patch"].indexOf(y.method)!==-1&&y.headers.setContentType("application/x-www-form-urlencoded",!1),Hl.getAdapter(y.adapter||Wr.adapter)(y).then(function(et){return dp(y),et.data=$s.call(y,y.transformResponse,et),et.headers=Ze.from(et.headers),et},function(et){return ks(et)||(dp(y),et&&et.response&&(et.response.data=$s.call(y,y.transformResponse,et.response),et.response.headers=Ze.from(et.response.headers))),Promise.reject(et)})}var Xl="1.7.2";var cp={};["object","boolean","number","function","string","symbol"].forEach((y,M)=>{cp[y]=function(et){return typeof et===y||"a"+(M<1?"n ":" ")+y}});var Ox={};cp.transitional=function(M,J,et){function i($,e){return"[Axios v"+Xl+"] Transitional option '"+$+"'"+e+(et?". "+et:"")}return($,e,u)=>{if(M===!1)throw new Ht(i(e," has been removed"+(J?" in "+J:"")),Ht.ERR_DEPRECATED);return J&&!Ox[e]&&(Ox[e]=!0,console.warn(i(e," has been deprecated since v"+J+" and will be removed in the near future"))),M?M($,e,u):!0}};function HM(y,M,J){if(typeof y!="object")throw new Ht("options must be an object",Ht.ERR_BAD_OPTION_VALUE);let et=Object.keys(y),i=et.length;for(;i-- >0;){let $=et[i],e=M[$];if(e){let u=y[$],G=u===void 0||e(u,$,y);if(G!==!0)throw new Ht("option "+$+" must be "+G,Ht.ERR_BAD_OPTION_VALUE);continue}if(J!==!0)throw new Ht("Unknown option "+$,Ht.ERR_BAD_OPTION)}}var Yl={assertOptions:HM,validators:cp};var Ti=Yl.validators,jr=class{constructor(M){this.defaults=M,this.interceptors={request:new _c,response:new _c}}request(M,J){return en(this,null,function*(){try{return yield this._request(M,J)}catch(et){if(et instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;let $=i.stack?i.stack.replace(/^.+\n/,""):"";try{et.stack?$&&!String(et.stack).endsWith($.replace(/^.+\n.+\n/,""))&&(et.stack+=`
`+$):et.stack=$}catch{}}throw et}})}_request(M,J){typeof M=="string"?(J=J||{},J.url=M):J=M||{},J=On(this.defaults,J);let{transitional:et,paramsSerializer:i,headers:$}=J;et!==void 0&&Yl.assertOptions(et,{silentJSONParsing:Ti.transitional(Ti.boolean),forcedJSONParsing:Ti.transitional(Ti.boolean),clarifyTimeoutError:Ti.transitional(Ti.boolean)},!1),i!=null&&(Rt.isFunction(i)?J.paramsSerializer={serialize:i}:Yl.assertOptions(i,{encode:Ti.function,serialize:Ti.function},!0)),J.method=(J.method||this.defaults.method||"get").toLowerCase();let e=$&&Rt.merge($.common,$[J.method]);$&&Rt.forEach(["delete","get","head","post","put","patch","common"],f=>{delete $[f]}),J.headers=Ze.concat(e,$);let u=[],G=!0;this.interceptors.request.forEach(function(s){typeof s.runWhen=="function"&&s.runWhen(J)===!1||(G=G&&s.synchronous,u.unshift(s.fulfilled,s.rejected))});let h=[];this.interceptors.response.forEach(function(s){h.push(s.fulfilled,s.rejected)});let r,o=0,n;if(!G){let f=[Wl.bind(this),void 0];for(f.unshift.apply(f,u),f.push.apply(f,h),n=f.length,r=Promise.resolve(J);o<n;)r=r.then(f[o++],f[o++]);return r}n=u.length;let l=J;for(o=0;o<n;){let f=u[o++],s=u[o++];try{l=f(l)}catch(d){s.call(this,d);break}}try{r=Wl.call(this,l)}catch(f){return Promise.reject(f)}for(o=0,n=h.length;o<n;)r=r.then(h[o++],h[o++]);return r}getUri(M){M=On(this.defaults,M);let J=Zs(M.baseURL,M.url);return Ys(J,M.params,M.paramsSerializer)}};Rt.forEach(["delete","get","head","options"],function(M){jr.prototype[M]=function(J,et){return this.request(On(et||{},{method:M,url:J,data:(et||{}).data}))}});Rt.forEach(["post","put","patch"],function(M){function J(et){return function($,e,u){return this.request(On(u||{},{method:M,headers:et?{"Content-Type":"multipart/form-data"}:{},url:$,data:e}))}}jr.prototype[M]=J(),jr.prototype[M+"Form"]=J(!0)});var Qs=jr;var pp=class y{constructor(M){if(typeof M!="function")throw new TypeError("executor must be a function.");let J;this.promise=new Promise(function($){J=$});let et=this;this.promise.then(i=>{if(!et._listeners)return;let $=et._listeners.length;for(;$-- >0;)et._listeners[$](i);et._listeners=null}),this.promise.then=i=>{let $,e=new Promise(u=>{et.subscribe(u),$=u}).then(i);return e.cancel=function(){et.unsubscribe($)},e},M(function($,e,u){et.reason||(et.reason=new Hn($,e,u),J(et.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(M){if(this.reason){M(this.reason);return}this._listeners?this._listeners.push(M):this._listeners=[M]}unsubscribe(M){if(!this._listeners)return;let J=this._listeners.indexOf(M);J!==-1&&this._listeners.splice(J,1)}static source(){let M;return{token:new y(function(i){M=i}),cancel:M}}},Lx=pp;function vp(y){return function(J){return y.apply(null,J)}}function gp(y){return Rt.isObject(y)&&y.isAxiosError===!0}var mp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mp).forEach(([y,M])=>{mp[M]=y});var Nx=mp;function bx(y){let M=new Qs(y),J=Hs(Qs.prototype.request,M);return Rt.extend(J,Qs.prototype,M,{allOwnKeys:!0}),Rt.extend(J,M,null,{allOwnKeys:!0}),J.create=function(i){return bx(On(y,i))},J}var Xe=bx(Wr);Xe.Axios=Qs;Xe.CanceledError=Hn;Xe.CancelToken=Lx;Xe.isCancel=ks;Xe.VERSION=Xl;Xe.toFormData=yi;Xe.AxiosError=Ht;Xe.Cancel=Xe.CanceledError;Xe.all=function(M){return Promise.all(M)};Xe.spread=vp;Xe.isAxiosError=gp;Xe.mergeConfig=On;Xe.AxiosHeaders=Ze;Xe.formToJSON=y=>Bl(Rt.isHTMLForm(y)?new FormData(y):y);Xe.getAdapter=Hl.getAdapter;Xe.HttpStatusCode=Nx;Xe.default=Xe;var Js=Xe;var{Axios:b5,AxiosError:B5,CanceledError:U5,isCancel:G5,CancelToken:V5,VERSION:z5,all:H5,Cancel:W5,isAxiosError:X5,spread:Y5,toFormData:j5,AxiosHeaders:$5,HttpStatusCode:k5,formToJSON:K5,getAdapter:Z5,mergeConfig:Q5}=Js;var jl=class extends Bx.Scene{constructor(){super("Game"),this.typedText="",this.otherPlayers={},this.SERVER_URI="https://grazer.duckdns.org:3000",this.delay=100,this.lastFetchTime=0,this.pointerDownTime=0,this.longPressDuration=500,this.playerSpeed=900,this.targetPosition=null,this.gridSize=64}create(){this.camera=this.cameras.main;let M=this.make.tilemap({key:"map"}),J=M.addTilesetImage("tileset","blocks",64,64,0,0);this.groundLayer=M.createLayer("ground",J,0,0),this.waterLayer=M.createLayer("water",J,0,0),this.waterLayer.setCollisionByExclusion([-1]),this.treeLayer=M.createLayer("tree",J,0,0),this.treeLayer.setCollisionByExclusion([-1]),this.chests=this.physics.add.group({immovable:!0,allowGravity:!1}),this.items=this.physics.add.group({immovable:!0,allowGravity:!1});let et=($,e)=>Math.floor(Math.random()*(e-$+1)+$)*this.gridSize,i=50;for(let $=0;$<i;$++){let e=et(0,400),u=et(0,165),G=this.chests.create(e,u,"chest",0);G.setImmovable(!0),G.setInteractive()}this.player=this.physics.add.sprite(this.gridSize*150,this.gridSize*140,"player",0).setOrigin(.5,1),this.playerNameText=this.add.text(this.player.x,this.player.y-120,window.email,{fontSize:"16px"}).setOrigin(.5),this.physics.add.collider(this.player,this.chests),this.player.body.setSize(this.player.width/2,20),this.player.body.setOffset(this.player.width/4,this.player.height-20),this.physics.add.collider(this.player,this.treeLayer),this.physics.add.collider(this.player,this.waterLayer),this.input.on("pointerdown",$=>{this.targetPosition=new Phaser.Math.Vector2($.worldX,$.worldY)}),this.input.on("gameobjectdown",($,e)=>{e.texture.key==="chest"&&e.frame.name!==1&&(e.setFrame(1),this.spawnItems(e.x,e.y))}),this.input.on("pointerdown",this.onPointerDown,this),this.input.on("pointerup",this.onPointerUp,this),this.input.on("pointermove",this.onPointerMove,this),this.createInputField(),this.cursors=this.input.keyboard.createCursorKeys(),this.speechBubble=new zs(this,this.player.x,this.player.y-100),this.input.keyboard.on("keydown",this.handleTyping,this),this.playerCommands=new Pl(this.player,this.speechBubble),this.camera.startFollow(this.player),this.cameras.main.roundPixels=!0,this.minimapCamera=this.cameras.add(10,10,200,200).setZoom(.05).setName("mini"),this.minimapCamera.startFollow(this.player),this.cameras.getCamera("mini").roundPixels=!0,Vr.emit("current-scene-ready",this)}update(M,J){this.targetPosition&&this.handlePlayerMovement(J),this.minimapCamera.scrollX=this.camera.scrollX,this.minimapCamera.scrollY=this.camera.scrollY,this.playerNameText.setPosition(this.player.x,this.player.y-105),this.speechBubble.setPosition(this.player.x,this.player.y-120);let et=Date.now();et-this.lastFetchTime>=this.delay&&(this.sendPlayerData(this.player.x,this.player.y,this.player.frame.name,this.speechBubble.text.text),this.fetchAndRenderPlayers(),this.lastFetchTime=et)}handlePlayerMovement(M){let J=this.targetPosition.clone().subtract(new Phaser.Math.Vector2(this.player.x,this.player.y));if(J.length()>this.playerSpeed*M/1e3){J.normalize();let i=J.x*this.playerSpeed*M/1e3,$=J.y*this.playerSpeed*M/1e3,e=this.player.x+i,u=this.player.y+$;this.physics.moveTo(this.player,e,u,this.playerSpeed)}else this.targetPosition=null,this.player.body.setVelocity(0)}spawnItems(M,J){let et=[0,1,2],i=[{x:M+this.gridSize,y:J},{x:M-this.gridSize,y:J},{x:M,y:J+this.gridSize},{x:M,y:J-this.gridSize},{x:M+this.gridSize,y:J+this.gridSize},{x:M-this.gridSize,y:J-this.gridSize}];Phaser.Utils.Array.Shuffle(et),Phaser.Utils.Array.Shuffle(i);for(let $=0;$<Phaser.Math.Between(1,6);$++){let e=Phaser.Math.Between(0,et.length-1),u=et[e];this.items.create(i[$].x,i[$].y,"items",u).setImmovable(!0)}}fetchAndRenderPlayers(){return en(this,null,function*(){try{(yield Js.get(this.SERVER_URI+"/players",{headers:{Authorization:`Bearer ${window.authToken}`}})).data.forEach(et=>{if(et.player_id!==window.email){let i=this.otherPlayers[et.player_id];if(i)i.sprite.setPosition(et.x,et.y),i.sprite.setFrame(et.skin),i.speechBubble.setPosition(et.x,et.y-120),i.speechBubble.setText(et.chat),i.playerNameText.setPosition(et.x,et.y-105),et.chat?i.speechBubble.show():i.speechBubble.hide();else{let $=this.physics.add.sprite(et.x,et.y,"player",et.skin).setOrigin(.5,1),e=new zs(this,et.x,et.y-120);e.setText(et.chat),e.show();let u=this.add.text(et.x,et.y-105,et.player_id,{fontSize:"16px"}).setOrigin(.5);this.otherPlayers[et.player_id]={sprite:$,speechBubble:e,playerNameText:u}}}})}catch(M){console.error("Error fetching players data:",M)}})}sendPlayerData(M,J,et,i){return en(this,null,function*(){try{yield Js.post(this.SERVER_URI+"/player",{x:M,y:J,skin:et,chat:i},{headers:{Authorization:`Bearer ${window.authToken}`}})}catch($){console.error("Error sending player data:",$)}})}handleTyping(M){M.key==="Enter"?(this.speechBubble.setText(this.typedText,16777215),this.playerCommands.executeCommand(this.typedText),this.speechBubble.startTypingTimer(),this.typedText=""):M.key==="Backspace"?(this.typedText=this.typedText.slice(0,-1),this.speechBubble.setText(this.typedText)):M.key.length===1&&(this.typedText+=M.key,this.speechBubble.setText(this.typedText),this.speechBubble.show())}onPointerDown(M){this.pointerDownTime=this.time.now}onPointerUp(M){this.time.now-this.pointerDownTime>=this.longPressDuration&&this.showInputField(M.worldX,M.worldY),this.pointerDownTime=0}onPointerMove(M){this.pointerDownTime>0&&this.time.now-this.pointerDownTime>=this.longPressDuration&&(this.showInputField(M.worldX,M.worldY),this.pointerDownTime=0)}createInputField(){this.inputField=document.createElement("input"),this.inputField.type="text",this.inputField.style.position="absolute",this.inputField.style.top="-100px",this.inputField.style.left="-100px",this.inputField.style.opacity="0",document.body.appendChild(this.inputField),this.inputField.addEventListener("input",M=>{this.typedText=this.inputField.value,this.speechBubble.setText(this.typedText),this.speechBubble.show()}),this.inputField.addEventListener("keydown",M=>{M.key==="Enter"?(this.speechBubble.setText(this.typedText,16777215),this.playerCommands.executeCommand(this.typedText),this.speechBubble.startTypingTimer(),this.inputField.value="",this.hideInputField()):M.key==="Backspace"&&(this.typedText=this.typedText.slice(0,-1),this.speechBubble.setText(this.typedText))})}showInputField(M,J){let et=this.game.canvas.getBoundingClientRect();this.inputField.style.top=`${et.top+J}px`,this.inputField.style.left=`${et.left+M}px`,this.inputField.style.opacity="1",this.inputField.focus()}hideInputField(){this.inputField.style.top="-100px",this.inputField.style.left="-100px",this.inputField.style.opacity="0",this.inputField.blur()}};var kl=$r(Gr());var Ux=$r(Gr()),$l=class extends Ux.Scene{constructor(){super("Preloader")}init(){}preload(){this.load.setPath("assets"),this.load.image("blocks","tilesets/blocks/blocks.png"),this.load.tilemapTiledJSON("map","maps/map.json"),this.load.spritesheet("player","spritesheets/playerspritesheet.png",{frameWidth:64,frameHeight:94}),this.load.spritesheet("chest","spritesheets/chestspritesheets.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("items","spritesheets/itemsspritesheets.png",{frameWidth:32,frameHeight:32})}create(){this.scene.start("Game")}};var WM={type:kl.AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#000000",physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}},scene:[wl,$l,jl]},XM=y=>new kl.Game(Ge(Gt({},WM),{parent:y})),Gx=XM;var Kl=(()=>{let M=class M{ngOnInit(){this.game=Gx("game-container"),Vr.on("current-scene-ready",et=>{this.scene=et,this.sceneCallback&&this.sceneCallback(et)})}ngOnDestroy(){this.game&&this.game.destroy(!0)}};M.\u0275fac=function(i){return new(i||M)},M.\u0275cmp=hi({type:M,selectors:[["phaser-game"]],standalone:!0,features:[pi],decls:1,vars:0,consts:[["id","game-container"]],template:function(i,$){i&1&&Qn(0,"div",0)},encapsulation:2});let y=M;return y})();var Qi=window.gapi=window.gapi||{};Qi._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,M,J){return y==Array.prototype||y==Object.prototype||(y[M]=J.value),y},da=function(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var M=0;M<y.length;++M){var J=y[M];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")},ea=da(this),fa=function(y,M){if(M)t:{var J=ea;y=y.split(".");for(var et=0;et<y.length-1;et++){var i=y[et];if(!(i in J))break t;J=J[i]}y=y[y.length-1],et=J[y],M=M(et),M!=et&&M!=null&&aa(J,y,{configurable:!0,writable:!0,value:M})}},ha=function(y){var M=0;return function(){return M<y.length?{done:!1,value:y[M++]}:{done:!0}}};fa("Symbol",function(y){if(y)return y;var M=function(i,$){this.ba=i,aa(this,"description",{configurable:!0,writable:!0,value:$})};M.prototype.toString=function(){return this.ba};var J=0,et=function(i){if(this instanceof et)throw new TypeError("Symbol is not a constructor");return new M("jscomp_symbol_"+(i||"")+"_"+J++,i)};return et}),fa("Symbol.iterator",function(y){if(y)return y;y=Symbol("Symbol.iterator");for(var M="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),J=0;J<M.length;J++){var et=ea[M[J]];typeof et=="function"&&typeof et.prototype[y]!="function"&&aa(et.prototype,y,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return y});var ia=function(y){return y={next:y},y[Symbol.iterator]=function(){return this},y},ja=function(y,M){y instanceof String&&(y+="");var J=0,et=!1,i={next:function(){if(!et&&J<y.length){var $=J++;return{value:M($,y[$]),done:!1}}return et=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i};fa("Array.prototype.keys",function(y){return y||function(){return ja(this,function(M){return M})}});var m=this||self,ka=function(y){var M=typeof y;return M!="object"?M:y?Array.isArray(y)?"array":M:"null"},la=function(y,M,J){return y.call.apply(y.bind,arguments)},ma=function(y,M,J){if(!y)throw Error();if(2<arguments.length){var et=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,et),y.apply(M,i)}}return function(){return y.apply(M,arguments)}},na=function(y,M,J){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function(y,M){function J(){}J.prototype=M.prototype,y.ma=M.prototype,y.prototype=new J,y.prototype.constructor=y,y.A=function(et,i,$){for(var e=Array(arguments.length-2),u=2;u<arguments.length;u++)e[u-2]=arguments[u];return M.prototype[i].apply(et,e)}},pa=function(y){return y},qa=function(y){var M=null,J=m.trustedTypes;if(!J||!J.createPolicy)return M;try{M=J.createPolicy(y,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(et){m.console&&m.console.error(et.message)}return M};function q(y){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var M=Error().stack;M&&(this.stack=M)}y&&(this.message=String(y))}oa(q,Error),q.prototype.name="CustomError";var ra=function(y,M){y=y.split("%s");for(var J="",et=y.length-1,i=0;i<et;i++)J+=y[i]+(i<M.length?M[i]:"%s");q.call(this,J+y[et])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(y,M,J,et){var i="Assertion failed";if(J){i+=": "+J;var $=et}else y&&(i+=": "+y,$=M);throw new ra(""+i,$||[])},ta=function(y,M,J){return y||sa("",null,M,Array.prototype.slice.call(arguments,2)),y},ua=function(y,M){throw new ra("Failure"+(y?": "+y:""),Array.prototype.slice.call(arguments,1))},va=function(y,M,J){typeof y!="string"&&sa("Expected string but got %s: %s.",[ka(y),y],M,Array.prototype.slice.call(arguments,2))},xa=function(y,M){t:{try{var J=y&&y.ownerDocument,et=J&&(J.defaultView||J.parentWindow);if(et=et||m,et.Element&&et.Location){var i=et;break t}}catch{}i=null}if(i&&typeof i[M]<"u"&&(!y||!(y instanceof i[M])&&(y instanceof i.Location||y instanceof i.Element))){if(i=typeof y,i=="object"&&y!=null||i=="function")try{var $=y.constructor.displayName||y.constructor.name||Object.prototype.toString.call(y)}catch{$="<object could not be stringified>"}else $=y===void 0?"undefined":y===null?"null":typeof y;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",M,$)}return y},ya,t=function(y,M){this.P=y===za&&M||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(y){return y instanceof t&&y.constructor===t&&y.ca===Aa?y.P:(ua("expected object of type Const, got '"+y+"'"),"type_error:Const")},Aa={},za={},v=function(y,M){this.N=M===Ca?y:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(y){return y instanceof v&&y.constructor===v?y.N:(ua("expected object of type SafeUrl, got '"+y+"' of type "+ka(y)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(y){return y instanceof v?y:(y=typeof y=="object"&&y.J?y.H():String(y),ta(Ea.test(y),"%s does not match the safe URL pattern",y)||(y="about:invalid#zClosurez"),new v(y,Ca))},Ca={},w=function(y,M,J){this.M=J===Ga?y:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(y){return y instanceof w&&y.constructor===w?y.M:(ua("expected object of type SafeHtml, got '"+y+"' of type "+ka(y)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(y){var M=!1,J;return function(){return M||(J=y(),M=!0),J}}(function(){if(typeof document>"u")return!1;var y=document.createElement("div"),M=document.createElement("div");return M.appendChild(document.createElement("div")),y.appendChild(M),y.firstChild?(M=y.firstChild.firstChild,y.innerHTML=Ha(Ia),!M.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(y,M,J){return y[M]=y[M]||J},Oa=function(y){for(var M=0;M<this.length;M++)if(this[M]===y)return M;return-1},Pa=function(y){y=y.sort();for(var M=[],J=void 0,et=0;et<y.length;et++){var i=y[et];i!=J&&M.push(i),J=i}return M},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(y){return String(y).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var y;if((y=Object.create)&&Na.test(y))y=y(null);else{y={};for(var M in y)y[M]=void 0}return y},C=function(y,M){return Object.prototype.hasOwnProperty.call(y,M)},Xa=function(y){if(Na.test(Object.keys))return Object.keys(y);var M=[],J;for(J in y)C(y,J)&&M.push(J);return M},D=function(y,M){y=y||{};for(var J in y)C(y,J)&&(M[J]=y[J])},Ya=function(y){return function(){x.setTimeout(y,0)}},E=function(y,M){if(!y)throw Error(M||"")},F=A(x,"gapi",{}),H=function(y,M,J){var et=new RegExp("([#].*&|[#])"+M+"=([^&#]*)","g");if(M=new RegExp("([?#].*&|[?#])"+M+"=([^&#]*)","g"),y=y&&(et.exec(y)||M.exec(y)))try{J=decodeURIComponent(y[2])}catch{}return J},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(y){y=String(y),y=y.replace($a,function(i){try{return encodeURIComponent(i)}catch{return encodeURIComponent(i.replace(/^[^%]+$/g,"\uFFFD"))}}).replace(ab,function(i){return i.replace(/%/g,"%25")}).replace(bb,function(i){return i.toUpperCase()}),y=y.match(Za)||[];var M=B(),J=function(i){return i.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},et=!!(y[1]||"").match(cb);return M.A=J((y[1]||"")+(y[2]||"")+(y[3]||(y[2]&&et?"/":""))),et=function(i){return J(i.replace(/\?/g,"%3F").replace(/#/g,"%23"))},M.query=y[5]?[et(y[5])]:[],M.g=y[7]?[et(y[7])]:[],M},db=function(y){return y.A+(0<y.query.length?"?"+y.query.join("&"):"")+(0<y.g.length?"#"+y.g.join("&"):"")},eb=function(y,M){var J=[];if(y){for(var et in y)if(C(y,et)&&y[et]!=null){var i=M?M(y[et]):y[et];J.push(encodeURIComponent(et)+"="+encodeURIComponent(i))}}return J},fb=function(y,M,J,et){return y=I(y),y.query.push.apply(y.query,eb(M,et)),y.g.push.apply(y.g,eb(J,et)),db(y)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(y,M){var J=I(M);M=J.A,J.query.length&&(M+="?"+J.query.join("")),J.g.length&&(M+="#"+J.g.join(""));var et="";2e3<M.length&&(et=M,M=M.substr(0,2e3),M=M.replace(gb,""),et=et.substr(M.length));var i=y.createElement("div");if(y=y.createElement("a"),J=I(M),M=J.A,J.query.length&&(M+="?"+J.query.join("")),J.g.length&&(M+="#"+J.g.join("")),M=new v(M,Ca),xa(y,"HTMLAnchorElement"),M=M instanceof v?M:Fa(M),y.href=Da(M),i.appendChild(y),M=i.innerHTML,J=new t(za,"Assignment to self."),va(Ba(J),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(J)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),M=(J=ya)?J.createHTML(M):M,M=new w(M,null,Ga),i.tagName&&Ja[i.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+i.tagName+".");if(Ka())for(;i.lastChild;)i.removeChild(i.lastChild);return i.innerHTML=Ha(M),M=String(i.firstChild.href),i.parentNode&&i.parentNode.removeChild(i),J=I(M+et),et=J.A,J.query.length&&(et+="?"+J.query.join("")),J.g.length&&(et+="#"+J.g.join("")),et},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(y,M,J,et){x[J+"EventListener"]?x[J+"EventListener"](y,M,!1):x[et+"tachEvent"]&&x[et+"tachEvent"]("on"+y,M)},kb=function(){var y=z.readyState;return y==="complete"||y==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function(y){var M=lb;if(!kb())try{M()}catch{}mb(y)},mb=function(y){if(kb())y();else{var M=!1,J=function(){if(!M)return M=!0,y.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",J,!1),x.addEventListener("DOMContentLoaded",J,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&J.apply(this,arguments)}),x.attachEvent("onload",J))}},ob=function(y){for(;y.firstChild;)y.removeChild(y.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(y){return K.dpo?K.h:H(y,"jsh",K.h)},rb=function(y){var M=A(K,"sws",[]);M.push.apply(M,y)},sb=function(y){return A(K,"watt",B())[y]},tb=function(y){var M=A(K,"PQ",[]);K.PQ=[];var J=M.length;if(J===0)y();else for(var et=0,i=function(){++et===J&&y()},$=0;$<J;$++)M[$](i)},ub=function(y){return A(A(K,"H",B()),y,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(y,M,J){var et=vb.r;typeof et=="function"?et(y,M,J):et.push([y,M,J])},L=function(y,M,J){wb[y]=!M&&wb[y]||J||new Date().getTime(),yb(y)},Ab=function(y,M,J){M&&0<M.length&&(M=zb(M),J&&0<J.length&&(M+="___"+zb(J)),28<M.length&&(M=M.substr(0,28)+(M.length-28)),J=M,M=A(xb,"_p",B()),A(M,J,B())[y]=new Date().getTime(),yb(y,"_p",J))},zb=function(y){return y.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(y){throw Error("Bad hint"+(y?": "+y:""))};N.push(["jsl",function(y){for(var M in y)if(C(y,M)){var J=y[M];typeof J=="object"?K[M]=A(K,M,[]).concat(J):A(K,M,J)}(M=y.u)&&(y=A(K,"us",[]),y.push(M),(M=/^https:(.*)$/.exec(M))&&y.push("http:"+M[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(y,M,J,et){var i=y.split(";"),$=i.shift(),e=Bb[$],u=null;return e?u=e(i,M,J,et):O("no hint processor for: "+$),u||O("failed to generate load url"),M=u,J=M.match(Hb),(et=M.match(Ib))&&et.length===1&&Jb.test(M)&&J&&J.length===1||O("failed sanity: "+y),u},Nb=function(y,M,J,et){y=Lb(y),Fb.test(J)||O("invalid_callback"),M=Mb(M),et=et&&et.length?Mb(et):null;var i=function($){return encodeURIComponent($).replace(/%2C/g,",")};return[encodeURIComponent(y.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",i(y.version),"/m=",i(M),et?"/exm="+i(et):"","/rt=j/sv=1/d=1/ed=1",y.S?"/am="+i(y.S):"",y.Z?"/rs="+i(y.Z):"",y.aa?"/t="+i(y.aa):"","/cb=",i(J)].join("")},Lb=function(y){y.charAt(0)!=="/"&&O("relative path");for(var M=y.substring(1).split("/"),J=[];M.length;){if(y=M.shift(),!y.length||y.indexOf(".")==0)O("empty/relative directory");else if(0<y.indexOf("=")){M.unshift(y);break}J.push(y)}y={};for(var et=0,i=M.length;et<i;++et){var $=M[et].split("="),e=decodeURIComponent($[0]),u=decodeURIComponent($[1]);$.length==2&&e&&u&&(y[e]=y[e]||u)}for(M="/"+J.join("/"),Cb.test(M)||O("invalid_prefix"),J=0,et=Db.length;J<et;++J)Db[J].test(M)&&O("invalid_prefix");return J=Ob(y,"k",!0),et=Ob(y,"am"),i=Ob(y,"rs"),y=Ob(y,"t"),{pathPrefix:M,version:J,S:et,Z:i,aa:y}},Mb=function(y){for(var M=[],J=0,et=y.length;J<et;++J){var i=y[J].replace(/\./g,"_").replace(/-/g,"_");Gb.test(i)&&M.push(i)}return M.join(",")},Ob=function(y,M,J){if(y=y[M],!y&&J&&O("missing: "+M),y){if(Eb.test(y))return y;O("invalid: "+M)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var y=qb(La.href);if(!y)throw Error("Bad hint");return y};Bb.m=function(y,M,J,et){return(y=y[0])||O("missing_hint"),"https://apis.google.com"+Nb(y,M,J,et)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(y,M){for(var J=[],et=0;et<y.length;++et){var i=y[et];i&&0>Oa.call(M,i)&&J.push(i)}return J},Tb=function(){var y=K.nonce;return y!==void 0?y&&y===String(y)&&y.match(Rb)?y:K.nonce=null:z.querySelector&&(y=z.querySelector("script[nonce]"))?(y=y.nonce||y.getAttribute("nonce")||"",y&&y===String(y)&&y.match(Rb)?K.nonce=y:K.nonce=null):null},Wb=function(y){if(z.readyState!="loading")Ub(y);else{var M=Tb(),J="";M!==null&&(J=' nonce="'+M+'"'),y="<"+Qb+' src="'+encodeURI(y)+'"'+J+"></"+Qb+">",z.write(Vb?Vb.createHTML(y):y)}},Ub=function(y){var M=z.createElement(Qb);M.setAttribute("src",Vb?Vb.createScriptURL(y):y),y=Tb(),y!==null&&M.setAttribute("nonce",y),M.async="true",(y=z.getElementsByTagName(Qb)[0])?y.parentNode.insertBefore(M,y):(z.head||z.body||z.documentElement).appendChild(M)},Xb=function(y,M){var J=M&&M._c;if(J)for(var et=0;et<N.length;et++){var i=N[et][0],$=N[et][1];$&&C(J,i)&&$(J[i],y,M)}},Zb=function(y,M,J){Yb(function(){var et=M===qb(La.href)?A(F,"_",B()):B();et=A(ub(M),"_",et),y(et)},J)},ac=function(y,M){var J=M||{};typeof M=="function"&&(J={},J.callback=M),Xb(y,J),M=y?y.split(":"):[];var et=J.h||Pb(),i=A(K,"ah",B());if(i["::"]&&M.length){y=[];for(var $=null;$=M.shift();){var e=$.split(".");e=i[$]||i[e[1]&&"ns:"+e[0]||""]||et;var u=y.length&&y[y.length-1]||null,G=u;u&&u.hint==e||(G={hint:e,V:[]},y.push(G)),G.V.push($)}var h=y.length;if(1<h){var r=J.callback;r&&(J.callback=function(){--h==0&&r()})}for(;M=y.shift();)$b(M.V,J,M.hint)}else $b(M||[],J,et)},$b=function(y,M,J){y=Pa(y)||[];var et=M.callback,i=M.config,$=M.timeout,e=M.ontimeout,u=M.onerror,G=void 0;typeof u=="function"&&(G=u);var h=null,r=!1;if($&&!e||!$&&e)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";u=A(ub(J),"r",[]).sort();var o=A(ub(J),"L",[]).sort(),n=[].concat(u),l=function(c,g){if(r)return 0;x.clearTimeout(h),o.push.apply(o,f);var j=((F||{}).config||{}).update;if(j?j(i):i&&A(K,"cu",[]).push(i),g){Ab("me0",c,n);try{Zb(g,J,G)}finally{Ab("me1",c,n)}}return 1};0<$&&(h=x.setTimeout(function(){r=!0,e()},$));var f=Sb(y,o);if(f.length){f=Sb(y,u);var s=A(K,"CP",[]),d=s.length;if(s[d]=function(c){if(!c)return 0;Ab("ml1",f,n);var g=function(k){s[d]=null,l(f,c)&&tb(function(){et&&et(),k()})},j=function(){var k=s[d+1];k&&k()};0<d&&s[d-1]?s[d]=function(){g(j)}:g(j)},f.length){var p="loaded_"+K.I++;F[p]=function(c){s[d](c),F[p]=null},y=Kb(J,f,"gapi."+p,u),u.push.apply(u,f),Ab("ml0",f,n),M.sync||x.___gapisync?Wb(y):Ub(y)}else s[d](Ma)}else l(f)&&et&&et()},Vb=qa("gapi#gapi"),Yb=function(y,M){if(K.hee&&0<K.hel)try{return y()}catch(J){M&&M(J),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(J)}catch{throw J}})}else try{return y()}catch(J){throw M&&M(J),J}};F.load=function(y,M){return Yb(function(){return ac(y,M)})};var bc=function(y){var M=window.___jsl=window.___jsl||{};return M[y]=M[y]||[],M[y]},cc=function(y){var M=window.___jsl=window.___jsl||{};return M.cfg=!y&&M.cfg||{},M.cfg},dc=function(y){return typeof y=="object"&&/\[native code\]/.test(y.push)},P=function(y,M,J){if(M&&typeof M=="object")for(var et in M)!Object.prototype.hasOwnProperty.call(M,et)||J&&et==="___goc"&&typeof M[et]>"u"||(y[et]&&M[et]&&typeof y[et]=="object"&&typeof M[et]=="object"&&!dc(y[et])&&!dc(M[et])?P(y[et],M[et]):M[et]&&typeof M[et]=="object"?(y[et]=dc(M[et])?[]:{},P(y[et],M[et])):y[et]=M[et])},ec=function(y){if(y&&!/^\s+$/.test(y)){for(;y.charCodeAt(y.length-1)==0;)y=y.substring(0,y.length-1);try{var M=window.JSON.parse(y)}catch{}if(typeof M=="object")return M;try{M=new Function("return ("+y+`
)`)()}catch{}if(typeof M=="object")return M;try{M=new Function("return ({"+y+`
})`)()}catch{}return typeof M=="object"?M:{}}},fc=function(y,M){var J={___goc:void 0};y.length&&y[y.length-1]&&Object.hasOwnProperty.call(y[y.length-1],"___goc")&&typeof y[y.length-1].___goc>"u"&&(J=y.pop()),P(J,M),y.push(J)},gc=function(y){cc(!0);var M=window.___gcfg,J=bc("cu"),et=window.___gu;M&&M!==et&&(fc(J,M),window.___gu=M),M=bc("cu");var i=document.scripts||document.getElementsByTagName("script")||[];et=[];var $=[];$.push.apply($,bc("us"));for(var e=0;e<i.length;++e)for(var u=i[e],G=0;G<$.length;++G)u.src&&u.src.indexOf($[G])==0&&et.push(u);for(et.length==0&&0<i.length&&i[i.length-1].src&&et.push(i[i.length-1]),i=0;i<et.length;++i)et[i].getAttribute("gapi_processed")||(et[i].setAttribute("gapi_processed",!0),($=et[i])?(e=$.nodeType,$=e==3||e==4?$.nodeValue:$.textContent||$.innerText||$.innerHTML||""):$=void 0,($=ec($))&&M.push($));for(y&&fc(J,y),et=bc("cd"),y=0,M=et.length;y<M;++y)P(cc(),et[y],!0);for(et=bc("ci"),y=0,M=et.length;y<M;++y)P(cc(),et[y],!0);for(y=0,M=J.length;y<M;++y)P(cc(),J[y],!0)},Q=function(y){var M=cc();if(!y)return M;y=y.split("/");for(var J=0,et=y.length;M&&typeof M=="object"&&J<et;++J)M=M[y[J]];return J===y.length&&M!==void 0?M:void 0},hc=function(y,M){var J;if(typeof y=="string"){var et=J={};y=y.split("/");for(var i=0,$=y.length;i<$-1;++i){var e={};et=et[y[i]]=e}et[y[i]]=M}else J=y;gc(J)},ic=function(){var y=window.__GOOGLEAPIS;y&&(y.googleapis&&!y["googleapis.config"]&&(y["googleapis.config"]=y.googleapis),A(K,"ci",[]).push(y),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var y=document.getElementsByTagName("meta"),M=0;M<y.length;++M){var J=y[M].name.toLowerCase();if(J.lastIndexOf("google-signin-",0)==0){J=J.substring(14);var et=y[M].content;jc[J]&&et&&(lc[J]=et)}}if(window.self!==window.top){y=document.location.toString();for(var i in jc)0<jc[i]&&(M=H(y,i,""))&&(lc[i]=M)}kc=!0}return i=B(),D(lc,i),i},nc=function(y){return!!(y.clientid&&y.scope&&y.callback)},oc=window.console,pc=function(y){oc&&oc.log&&oc.log(y)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(y){for(var M in R)y(R[M])},tc=function(y,M){(y=R[y])&&y.state<M&&(y.state=M)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(y){var M=Q("googleapis.config/sessionIndex");if(typeof M=="string"&&254<M.length&&(M=null),M==null&&(M=window.__X_GOOG_AUTHUSER),typeof M=="string"&&254<M.length&&(M=null),M==null){var J=window.google;J&&(M=J.authuser)}return typeof M=="string"&&254<M.length&&(M=null),M==null&&(y=y||window.location.href,M=H(y,"authuser")||null,M==null&&(M=(M=y.match(vc))?M[1]:null)),M==null?null:(M=String(M),254<M.length&&(M=null),M)},yc=function(y){var M=Q("googleapis.config/sessionDelegate");return typeof M=="string"&&21<M.length&&(M=null),M==null&&(M=(y=(y||window.location.href).match(wc))?y[1]:null),M==null?null:(M=String(M),21<M.length&&(M=null),M)},zc,S,T=void 0,U=function(y){try{return m.JSON.parse.call(m.JSON,y)}catch{return!1}},V=function(y){return Object.prototype.toString.call(y)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(y,M){if(M){for(var J=0,et=M.length;J<et;++J)if(y===M[J])throw new TypeError("Converting circular structure to JSON")}if(et=typeof y,et!=="undefined"){J=Array.prototype.slice.call(M||[],0),J[J.length]=y,M=[];var i=V(y);if(y!=null&&typeof y.toJSON=="function"&&(Object.prototype.hasOwnProperty.call(y,"toJSON")||(i!==Fc||y.constructor!==Array&&y.constructor!==Object)&&(i!==Ec||y.constructor!==Array&&y.constructor!==Object)&&i!==Dc&&i!==Ac&&i!==Cc&&i!==Bc))return W(y.toJSON.call(y),J);if(y==null)M[M.length]="null";else if(i===Ac)y=Number(y),isNaN(y)||isNaN(y-y)?y="null":y===-0&&0>1/y&&(y="-0"),M[M.length]=String(y);else if(i===Cc)M[M.length]=String(!!Number(y));else{if(i===Bc)return W(y.toISOString.call(y),J);if(i===Fc&&V(y.length)===Ac){M[M.length]="[";var $=0;for(et=Number(y.length)>>0;$<et;++$)$&&(M[M.length]=","),M[M.length]=W(y[$],J)||"null";M[M.length]="]"}else if(i==Dc&&V(y.length)===Ac){for(M[M.length]='"',$=0,J=Number(y.length)>>0;$<J;++$)et=String.prototype.charAt.call(y,$),i=String.prototype.charCodeAt.call(y,$),M[M.length]=et==="\b"?"\\b":et==="\f"?"\\f":et===`
`?"\\n":et==="\r"?"\\r":et==="	"?"\\t":et==="\\"||et==='"'?"\\"+et:31>=i?"\\u"+(i+65536).toString(16).substr(1):32<=i&&65535>=i?et:"\uFFFD";M[M.length]='"'}else if(et==="object"){M[M.length]="{",et=0;for($ in y)Object.prototype.hasOwnProperty.call(y,$)&&(i=W(y[$],J),i!==void 0&&(et++&&(M[M.length]=","),M[M.length]=W($),M[M.length]=":",M[M.length]=i));M[M.length]="}"}else return}return M.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch(y){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var y=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==y)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=y}}},Zc=function(y){return S===-1?!1:(Yc(),(zc?U:Xc)(y))},$c=function(y){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,y):W(y)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var y=Date.prototype.getUTCFullYear.call(this);return[0>y?"-"+String(1e6-y).substr(1):9999>=y?String(1e4+y).substr(1):"+"+String(1e6+y).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var y=1;y<this.j;++y)this.C[y]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(y,M,J){J||(J=0);var et=y.da;if(typeof M=="string")for(var i=0;16>i;i++)et[i]=M.charCodeAt(J)<<24|M.charCodeAt(J+1)<<16|M.charCodeAt(J+2)<<8|M.charCodeAt(J+3),J+=4;else for(i=0;16>i;i++)et[i]=M[J]<<24|M[J+1]<<16|M[J+2]<<8|M[J+3],J+=4;for(i=16;80>i;i++){var $=et[i-3]^et[i-8]^et[i-14]^et[i-16];et[i]=($<<1|$>>>31)&4294967295}M=y.b[0],J=y.b[1];var e=y.b[2],u=y.b[3],G=y.b[4];for(i=0;80>i;i++){if(40>i)if(20>i){$=u^J&(e^u);var h=1518500249}else $=J^e^u,h=1859775393;else 60>i?($=J&e|u&(J|e),h=2400959708):($=J^e^u,h=3395469782);$=(M<<5|M>>>27)+$+G+h+et[i]&4294967295,G=u,u=e,e=(J<<30|J>>>2)&4294967295,J=M,M=$}y.b[0]=y.b[0]+M&4294967295,y.b[1]=y.b[1]+J&4294967295,y.b[2]=y.b[2]+e&4294967295,y.b[3]=y.b[3]+u&4294967295,y.b[4]=y.b[4]+G&4294967295};dd.prototype.update=function(y,M){if(y!=null){M===void 0&&(M=y.length);for(var J=M-this.j,et=0,i=this.G,$=this.o;et<M;){if($==0)for(;et<=J;)ed(this,y,et),et+=this.j;if(typeof y=="string"){for(;et<M;)if(i[$]=y.charCodeAt(et),++$,++et,$==this.j){ed(this,i),$=0;break}}else for(;et<M;)if(i[$]=y[et],++$,++et,$==this.j){ed(this,i),$=0;break}}this.o=$,this.D+=M}},dd.prototype.digest=function(){var y=[],M=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var J=this.j-1;56<=J;J--)this.G[J]=M&255,M/=256;for(ed(this,this.G),J=M=0;5>J;J++)for(var et=24;0<=et;et-=8)y[M]=this.b[J]>>et&255,++M;return y};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(y){y=y||x.event;var M=y.screenX+y.clientX<<16;M+=y.screenY+y.clientY,M*=new Date().getTime()%1e6,kd=kd*M%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(y){var M=new fd;y=unescape(encodeURIComponent(y));for(var J=[],et=0,i=y.length;et<i;++et)J.push(y.charCodeAt(et));for(M.O.update(J),M=M.O.digest(),y="",J=0;J<M.length;J++)y+="0123456789ABCDEF".charAt(Math.floor(M[J]/16))+"0123456789ABCDEF".charAt(M[J]%16);return y};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var y=kd;return y+=parseInt(md.substr(0,20),16),md=od(md),y/(ld+Math.pow(16,20))},qd=function(){var y=new x.Uint32Array(1);return gd.getRandomValues(y),+("0."+y[0])},rd=function(){var y=K.onl;if(!y){y=B(),K.onl=y;var M=B();y.e=function(J){var et=M[J];et&&(delete M[J],et())},y.a=function(J,et){M[J]=et},y.r=function(J){delete M[J]}}return y},sd=function(y,M){return M=M.onload,typeof M=="function"?(rd().a(y,M),M):null},td=function(y){return E(/^\w+$/.test(y),"Unsupported id - "+y),rd(),'onload="window.___jsl.onl.e(&#34;'+y+'&#34;)"'},ud=function(y){rd().r(y)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(y){E(!y||ib.test(y),"Illegal url for new iframe - "+y)},zd=function(y,M,J,et,i){yd(J.src);var $,e=sd(et,J),u=e?td(et):"";try{document.all&&($=y.createElement('<iframe frameborder="'+Wa(String(J.frameborder))+'" scrolling="'+Wa(String(J.scrolling))+'" '+u+' name="'+Wa(String(J.name))+'"/>'))}catch{}finally{$||($=y.createElement("iframe"),e&&($.onload=function(){$.onload=null,e.call(this)},ud(et)))}$.setAttribute("ng-non-bindable","");for(var G in J)y=J[G],G==="style"&&typeof y=="object"?D(y,$.style):wd[G]||$.setAttribute(G,String(y));return(G=i&&i.beforeNode||null)||i&&i.dontclear||ob(M),M.insertBefore($,G),$=G?G.previousSibling:M.lastChild,J.allowtransparency&&($.allowTransparency=!0),$},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var y=xc()||"0",M=yc(),J=xc(void 0)||y,et=yc(void 0),i="";J&&(i+="u/"+encodeURIComponent(String(J))+"/"),et&&(i+="b/"+encodeURIComponent(String(et))+"/"),J=i||null,(i=(et=Q("isLoggedIn")===!1)?"_/im/":"")&&(J="");var $=Q("iframes/:socialhost:"),e=Q("iframes/:im_socialhost:");return uc={socialhost:$,ctx_socialhost:et?e:$,session_index:y,session_delegate:M,session_prefix:J,im_prefix:i}},Dd=function(y,M){return Cd()[M]||""},Ed=function(y){return function(M,J){return y?Cd()[J]||y[J]||"":Cd()[J]||""}},Fd=function(y){var M;return y.match(/^https?%3A/i)&&(M=decodeURIComponent(y)),hb(document,M||y)},Gd=function(y){y=y||"canonical";for(var M=document.getElementsByTagName("link"),J=0,et=M.length;J<et;J++){var i=M[J],$=i.getAttribute("rel");if($&&$.toLowerCase()==y&&(i=i.getAttribute("href"))&&(i=Fd(i))&&i.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return i}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(y,M,J){var et,i={},$=et=y;y=="plus"&&M.action&&(et=y+"_"+M.action,$=y+"/"+M.action),(et=Q("iframes/"+et+"/url"))||(et=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+$+"?usegapi=1");for(var e in Hd)i[e]=e+"/"+(M[e]||Hd[e])+"/";if(i=hb(z,et.replace(Bd,Ed(i))),e="iframes/"+y+"/params/",$={},D(M,$),(et=Q("lang")||Q("gwidget/lang"))&&($.hl=et),Id[y]||($.origin=window.location.origin||window.location.protocol+"//"+window.location.host),$.exp=Q(e+"exp"),e=Q(e+"location"))for(et=0;et<e.length;et++){var u=e[et];$[u]=x.location[u]}switch(y){case"plus":case"follow":e=$.href,et=M.action?void 0:"publisher",e=(e=typeof e=="string"?e:void 0)?Fd(e):Gd(et),$.url=e,delete $.href;break;case"plusone":e=(e=M.href)?Fd(e):Gd(),$.url=e,e=M.db,et=Q(),e==null&&et&&(e=et.db,e==null&&(e=et.gwidget&&et.gwidget.db)),$.db=e||void 0,e=M.ecp,et=Q(),e==null&&et&&(e=et.ecp,e==null&&(e=et.gwidget&&et.gwidget.ecp)),$.ecp=e||void 0,delete $.href;break;case"signin":$.url=Gd()}K.ILI&&($.iloader="1"),delete $["data-onload"],delete $.rd;for(var G in Hd)$[G]&&delete $[G];$.gsrc=Q("iframes/:source:"),G=Q("inline/css"),typeof G<"u"&&0<J&&G>=J&&($.ic="1"),G=/^#|^fr-/,J={};for(var h in $)C($,h)&&G.test(h)&&(J[h.replace(G,"")]=$[h],delete $[h]);h=Q("iframes/"+y+"/params/si")=="q"?$:J,G=mc();for(var r in G)!C(G,r)||C($,r)||C(J,r)||(h[r]=G[r]);r=[].concat(Kd),(h=Q("iframes/"+y+"/methods"))&&typeof h=="object"&&Na.test(h.push)&&(r=r.concat(h));for(var o in M)C(M,o)&&/^on/.test(o)&&(y!="plus"||o!="onconnect")&&(r.push(o),delete $[o]);return delete $.callback,J._methods=r.join(","),fb(i,$,J)},Nd=["style","data-gapiscan"],Pd=function(y){for(var M=B(),J=y.nodeName.toLowerCase().indexOf("g:")!=0,et=0,i=y.attributes.length;et<i;et++){var $=y.attributes[et],e=$.name,u=$.value;0<=Oa.call(Nd,e)||J&&e.indexOf("data-")!=0||u==="null"||"specified"in $&&!$.specified||(J&&(e=e.substr(5)),M[e.toLowerCase()]=u)}return y=y.style,(J=Od(y&&y.height))&&(M.height=String(J)),(y=Od(y&&y.width))&&(M.width=String(y)),M},Od=function(y){var M=void 0;return typeof y=="number"?M=y:typeof y=="string"&&(M=parseInt(y,10)),M},Rd=function(){var y=K.drw;sc(function(M){if(y!==M.id&&M.state!=4&&M.type!="share"){var J=M.id,et=M.type,i=M.url;M=M.userParams;var $=z.getElementById(J);if($){var e=Md(et,M,0);e?($=$.parentNode,i.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==e.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(M.dontclear=!0,M.rd=!0,M.ri=!0,M.type=et,Qd($,M),(et=R[$.lastChild.id])&&(et.oid=J),tc(J,4))):delete R[J]}else delete R[J]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(y,M){Yd(void 0,!1,y,M)},Yd=function(y,M,J,et){L("ps0",!0),J=(typeof J=="string"?document.getElementById(J):J)||z;var i=z.documentMode;if(J.querySelectorAll&&(!i||8<i)){i=et?[et]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var $=[],e=0;e<i.length;e++){var u=i[e];$.push(".g-"+u,"g\\:"+u)}i=J.querySelectorAll($.join(","))}else i=J.getElementsByTagName("*");for(J=B(),$=0;$<i.length;$++){e=i[$];var G=e;u=et;var h=G.nodeName.toLowerCase(),r=void 0;if(G.getAttribute("data-gapiscan"))u=null;else{var o=h.indexOf("g:");o==0?r=h.substr(2):(o=(o=String(G.className||G.getAttribute("class")))&&Wd.exec(o))&&(r=o[1]),u=!r||!(Sd[r]||Td[r]||X[r])||u&&r!==u?null:r}u&&(Xd[u]||e.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd(e)).length!=0)&&(e.setAttribute("data-gapiscan",!0),A(J,u,[]).push(e))}if(M)for(var n in J)for(M=J[n],et=0;et<M.length;et++)M[et].setAttribute("data-onload",!0);for(var l in J)Ud.push(l);if(L("ps1",!0),(n=Ud.join(":"))||y)try{F.load(n,y)}catch(s){pc(s);return}if($d(Vd||{}))for(var f in J){for(y=J[f],l=0,M=y.length;l<M;l++)y[l].removeAttribute("data-gapiscan");ae(f)}else{et=[];for(f in J)for(y=J[f],l=0,M=y.length;l<M;l++)i=y[l],be(f,i,Pd(i),et,M);ce(n,et)}},de=function(y){var M=A(F,y,{});M.go||(M.go=function(J){return Zd(J,y)},M.render=function(J,et){return et=et||{},et.type=y,Qd(J,et)})},ee=function(y){Sd[y]=!0},fe=function(y){Td[y]=!0},ge=function(y){X[y]=!0},ae=function(y,M){var J=sb(y);M&&J?(J(M),(J=M.iframeNode)&&J.setAttribute("data-gapiattached",!0)):F.load(y,function(){var et=sb(y),i=M&&M.iframeNode,$=M&&M.userParams;i&&et?(et(M),i.setAttribute("data-gapiattached",!0)):(et=F[y].go,y=="signin2"?et(i,$):et(i&&i.parentNode,$))})},$d=function(){return!1},ce=function(){},be=function(y,M,J,et,i,$,e){switch(he(M,y,$)){case 0:y=X[y]?y+"_annotation":y,et={},et.iframeNode=M,et.userParams=J,ae(y,et);break;case 1:if(M.parentNode){for(var u in J)if(($=C(J,u))&&($=J[u],$=!!$&&typeof $=="object"&&(!$.toString||$.toString===Object.prototype.toString||$.toString===Array.prototype.toString)),$)try{J[u]=$c(J[u])}catch{delete J[u]}if($=!0,J.dontclear&&($=!1),delete J.dontclear,rc(),u=Md(y,J,i),i=e||{},i.allowPost=1,i.attributes=Jd,i.dontclear=!$,e={},e.userParams=J,e.url=u,e.type=y,J.rd)var G=M;else G=document.createElement("div"),M.setAttribute("data-gapistub",!0),G.style.cssText="position:absolute;width:450px;left:-10000px;",M.parentNode.insertBefore(G,M);e.siteElement=G,G.id||(M=G,A(Ld,y,0),$="___"+y+"_"+Ld[y]++,M.id=$),M=B(),M[">type"]=y,D(J,M),$=u,J=G,u=i||{},M=u.attributes||{},E(!(u.allowPost||u.forcePost)||!M.onload,"onload is not supported by post iframe (allowPost or forcePost)"),i=M=$,Ad.test(M)&&(i=Q("iframes/"+i.substring(1)+"/url"),E(!!i,"Unknown iframe url config for - "+M)),$=hb(z,i.replace(Bd,Dd)),M=J.ownerDocument||z,G=0;do i=u.id||["I",xd++,"_",new Date().getTime()].join("");while(M.getElementById(i)&&5>++G);E(5>G,"Error creating iframe id"),G={};var h={};M.documentMode&&9>M.documentMode&&(G.hostiemode=M.documentMode),D(u.queryParams||{},G),D(u.fragmentParams||{},h);var r=u.pfname,o=B();Q("iframes/dropLegacyIdParam")||(o.id=i),o._gfid=i,o.parent=M.location.protocol+"//"+M.location.host;var n=H(M.location.href,"parent");if(r=r||"",!r&&n&&(n=H(M.location.href,"_gfid","")||H(M.location.href,"id",""),r=H(M.location.href,"pfname",""),r=n?r+"/"+n:""),r||(n=Zc(H(M.location.href,"jcp","")))&&typeof n=="object"&&(r=(r=n.id)?n.pfname+"/"+r:""),o.pfname=r,u.connectWithJsonParam&&(n={},n.jcp=$c(o),o=n),n=H($,"rpctoken")||G.rpctoken||h.rpctoken,n||(n=u.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),o.rpctoken=n),u.rpctoken=n,D(o,u.connectWithQueryParams?G:h),n=M.location.href,o=B(),(r=H(n,"_bsh",K.bsh))&&(o._bsh=r),(n=qb(n))&&(o.jsh=n),u.hintInFragment?D(o,h):D(o,G),$=fb($,G,h,u.paramsSerializer),h=B(),D(vd,h),D(u.attributes,h),h.name=h.id=i,h.src=$,u.eurl=$,G=u||{},o=!!G.allowPost,G.forcePost||o&&2e3<$.length){if(G=I($),h.src="",u.dropDataPostorigin||(h["data-postorigin"]=$),$=zd(M,J,h,i),navigator.userAgent.indexOf("WebKit")!=-1){var l=$.contentWindow.document;l.open(),h=l.createElement("div"),o={},n=i+"_inner",o.name=n,o.src="",o.style="display:none",zd(M,h,o,n,u)}for(h=(u=G.query[0])?u.split("&"):[],u=[],o=0;o<h.length;o++)n=h[o].split("=",2),u.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);for(G.query=[],h=db(G),E(ib.test(h),"Invalid URL: "+h),G=M.createElement("form"),G.method="POST",G.target=i,G.style.display="none",i=h instanceof v?h:Fa(h),xa(G,"HTMLFormElement").action=Da(i),i=0;i<u.length;i++)h=M.createElement("input"),h.type="hidden",h.name=u[i][0],h.value=u[i][1],G.appendChild(h);J.appendChild(G),G.submit(),G.parentNode.removeChild(G),l&&l.close(),l=$}else l=zd(M,J,h,i,u);e.iframeNode=l,e.id=l.getAttribute("id"),l=e.id,J=B(),J.id=l,J.userParams=e.userParams,J.url=e.url,J.type=e.type,J.state=1,R[l]=J,l=e}else l=null;l&&((e=l.id)&&et.push(e),ae(y,l))}},he=function(y,M,J){if(y&&y.nodeType===1&&M){if(J)return 1;if(X[M]){if(pb[y.nodeName.toLowerCase()])return(y=y.innerHTML)&&y.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[M])return 0;if(Sd[M])return 1}}return null},Qd=function(y,M){var J=M.type;delete M.type;var et=(typeof y=="string"?document.getElementById(y):y)||void 0;if(et){y={};for(var i in M)C(M,i)&&(y[i.toLowerCase()]=M[i]);y.rd=1,(M=!!y.ri)&&delete y.ri,i=[],be(J,et,y,i,0,M,void 0),ce(J,i)}else pc("gapi."+J+".render: missing element "+typeof y=="string"?y:"")};A(F,"platform",{}).go=Zd,$d=function(y){for(var M=["_c","jsl","h"],J=0;J<M.length&&y;J++)y=y[M[J]];return M=qb(La.href),!y||y.indexOf("n;")!=0&&M.indexOf("n;")!=0&&y!==M},ce=function(y,M){ie(y,M)};var lb=function(y){Yd(y,!0)},je=function(y,M){M=M||[];for(var J=0;J<M.length;++J)y(M[J]);for(y=0;y<M.length;y++)de(M[y])};N.push(["platform",function(y,M,J){if(Vd=J,M&&Ud.push(M),je(ee,y),je(fe,J._c.annotation),je(ge,J._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb(y),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),J&&(y=J.callback)){var et=Ya(y);delete J.callback}nb(function(){lb(et)})}}]),F._pl=!0;var ke=function(y){if(y=(y=R[y])?y.oid:void 0,y){var M=z.getElementById(y);M&&M.parentNode.removeChild(M),delete R[y],ke(y)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(y,M){function J(){jb("message",et,"remove","de")}function et($){var e=$.data,u=$.origin;if(oe(e,M)){var G=i;i=!1,G&&L("rqe"),pe(y,function(){G&&L("rqd"),J();for(var h=A(K,"RPMQ",[]),r=0;r<h.length;r++)h[r]({data:e,origin:u})})}}if(M.length!==0){ne=H(La.href,"pfname","");var i=!0;jb("message",et,"add","at"),ac(y,J)}},oe=function(y,M){if(y=String(y),le.test(y))return!0;var J=!1;if(me.test(y)&&(J=!0,y=y.substr(2)),!/^\{/.test(y))return!1;var et=Zc(y);if(!et)return!1;if(y=et.f,et.s&&y&&Oa.call(M,y)!=-1){if((et.s==="_renderstart"||et.s===ne+"/"+y+"::_renderstart")&&(et=et.a&&et.a[J?0:1],M=z.getElementById(y),tc(y,2),et&&M&&et.width&&et.height)){t:{if(J=M.parentNode,y=et||{},qc()){var i=M.id;if(i){if(et=(et=R[i])?et.state:void 0,et===1||et===4)break t;ke(i)}}(et=J.nextSibling)&&et.getAttribute&&et.getAttribute("data-gapistub")&&(J.parentNode.removeChild(et),J.style.cssText=""),et=y.width;var $=y.height,e=J.style;e.textIndent="0",e.margin="0",e.padding="0",e.background="transparent",e.borderStyle="none",e.cssFloat="none",e.styleFloat="none",e.lineHeight="normal",e.fontSize="1px",e.verticalAlign="baseline",J=J.style,J.display="inline-block",e=M.style,e.position="static",e.left="0",e.top="0",e.visibility="visible",et&&(J.width=e.width=et+"px"),$&&(J.height=e.height=$+"px"),y.verticalAlign&&(J.verticalAlign=y.verticalAlign),i&&tc(i,3)}M["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function(y,M){ac(y,M)},qe=function(y,M){this.L=y,y=M||{},this.fa=Number(y.maxAge)||0,this.U=y.domain,this.X=y.path,this.ga=!!y.secure};qe.prototype.read=function(){for(var y=this.L+"=",M=document.cookie.split(/;\s*/),J=0;J<M.length;++J){var et=M[J];if(et.indexOf(y)==0)return et.substr(y.length)}},qe.prototype.write=function(y,M){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(y))throw"Invalid cookie value";if(y=this.L+"="+y,this.U&&(y+=";domain="+this.U),this.X&&(y+=";path="+this.X),M=typeof M=="number"?M:this.fa,0<=M){var J=new Date;J.setSeconds(J.getSeconds()+M),y+=";expires="+J.toUTCString()}return this.ga&&(y+=";secure"),document.cookie=y,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(y){for(var M=document.cookie.split(/;\s*/),J=0;J<M.length;++J){var et=M[J].split("="),i=et.shift();y(i,et.join("="))}};var te=function(y){this.B=y};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(y){return Y[this.B]=y,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(y){for(var M in Y)Y.hasOwnProperty(M)&&y(M,Y[M])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function(y){var M=y.substr(1),J="",et=window.location.hostname;if(M!==""){if(J=parseInt(M,10),isNaN(J)||(M=et.split("."),M.length<J-1))return null;M.length==J-1&&(et="."+et)}else et="";return{i:y.charAt(0)=="S",domain:et,l:J}},xe=function(){var y,M=null;return ve.iterate(function(J,et){J.indexOf("G_AUTHUSER_")===0&&(J=we(J.substring(11)),!y||J.i&&!y.i||J.i==y.i&&J.l>y.l)&&(y=J,M=et)}),{ea:y,F:M}},ye=function(y){if(y.indexOf("GCSC")!==0)return null;var M={W:!1};if(y=y.substr(4),!y)return M;var J=y.charAt(0);y=y.substr(1);var et=y.lastIndexOf("_");if(et==-1)return M;var i=we(y.substr(et+1));return i==null||(y=y.substring(0,et),y.charAt(0)!=="_")?M:(et=J==="E"&&i.i,!et&&(J!=="U"||i.i)||et&&!ue?M:{W:!0,i:et,ja:y.substr(1),domain:i.domain,l:i.l})},ze=function(y){return y?(y=y.split("="),y[1]?y[1].split("|"):[]):[]},Ae=function(y){return y=y.split(":"),{clientId:y[0].split("=")[1],ia:ze(y[1]),la:ze(y[2]),ka:ze(y[3])}},Be=function(){var y=xe(),M=y.ea;if(y=y.F,y!==null){var J;if(ve.iterate(function($,e){($=ye($))&&$.W&&$.i==M.i&&$.l==M.l&&(J=e)}),J){var et=Ae(J),i=et&&et.ia[Number(y)];if(et=et&&et.clientId,i)return{F:y,ha:i,clientId:et}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var y=Be();(y=y&&y.F)&&hc("googleapis.config/sessionIndex",y),Ee||(Ee=A(K,"ss",new Z)),y=Ee,y.$&&y.$()};var Ce=function(){var y=Be(),M=y&&y.ha||null,J=y&&y.clientId;return ac("auth",{callback:function(){var et=x.gapi.auth,i={client_id:J,session_state:M};et.checkSessionState(i,function($){var e=i.session_state,u=Q("isLoggedIn");$=Q("debug/forceIm")?!1:e&&$||!e&&!$,(u=u!=$)&&(hc("isLoggedIn",$),rc(),Rd(),$||(($=et.signOut)?$():($=et.setToken)&&$(null))),$=mc();var G=Q("savedUserState");e=et._guss($.cookiepolicy),G=G!=e&&typeof G<"u",hc("savedUserState",e),(u||G)&&nc($)&&!Q("disableRealtimeCallback")&&et._pimf($,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(void 0);var YM=Qi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var Vx=function(){return en(this,null,function*(){return new Promise(y=>{let M=document.getElementsByTagName("script")[0],J=document.createElement("script");J.id="google-platform",J.src="//apis.google.com/js/platform.js",J.async=!0,J.defer=!0,M.parentNode.insertBefore(J,M),J.onload=()=>en(this,null,function*(){y(window.gapi)})})})};function jM(y,M){y&1&&(Hi(0,"button",2),wm(1,"Login with Google"),Wi())}function $M(y,M){y&1&&Qn(0,"phaser-game")}var zx=(()=>{let M=class M{constructor(et,i){this.http=et,this.cd=i,this.clientId="340545855934-fh3pjeqo9c2mmtbg10aa5e4bc3n1e447.apps.googleusercontent.com",this.SERVER_URI="https://grazer.duckdns.org:3000",this.isAuthSuccessful=!1}ngOnInit(){this.initGoogleAuth()}initGoogleAuth(){Vx().then(()=>{Qi.load("auth2",()=>{Qi.auth2.init({client_id:this.clientId}).then(()=>{this.attachSignin(document.getElementById("googleBtn"))})})})}attachSignin(et){Qi.auth2.getAuthInstance().attachClickHandler(et,{},$=>{window.authToken=$.getAuthResponse().id_token;let e=$.getBasicProfile();window.email=e.getEmail(),this.http.post(this.SERVER_URI+"/auth/google",{token:window.authToken}).subscribe(u=>{console.log("Success:",u),this.isAuthSuccessful=!0,this.cd.detectChanges()},u=>{console.error("Error:",u),this.isAuthSuccessful=!1})},$=>{console.error("Error attaching sign-in:",$)})}};M.\u0275fac=function(i){return new(i||M)(ci(_h),ci(Gi))},M.\u0275cmp=hi({type:M,selectors:[["app-google-login"]],standalone:!0,features:[pi],decls:3,vars:2,consts:[["id","googleBtn",4,"ngIf"],[4,"ngIf"],["id","googleBtn"]],template:function(i,$){i&1&&(Hi(0,"div"),Hh(1,jM,2,0,"button",0)(2,$M,1,0,"phaser-game",1),Wi()),i&2&&(Oh(),wa("ngIf",!$.isAuthSuccessful),Oh(),wa("ngIf",$.isAuthSuccessful))},dependencies:[n0,Kl,Ym]});let y=M;return y})();var Hx=(()=>{let M=class M{ngAfterViewInit(){Vr.on("current-scene-ready",et=>{})}};M.\u0275fac=function(i){return new(i||M)},M.\u0275cmp=hi({type:M,selectors:[["app-root"]],viewQuery:function(i,$){if(i&1&&Am(Kl,5),i&2){let e;Wh(e=Xh())&&($.phaserRef=e.first)}},standalone:!0,features:[pi],decls:2,vars:0,consts:[["id","app"]],template:function(i,$){i&1&&(Hi(0,"main",0),Qn(1,"app-google-login"),Wi())},dependencies:[kh,zx],styles:[`#app[_ngcontent-%COMP%] {
        width: 100%;
        height: 100vh;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .spritePosition[_ngcontent-%COMP%] {
        margin: 10px 0 0 10px;
        font-size: 0.8em;
    }

    .button[_ngcontent-%COMP%] {
        width: 140px;
        margin: 10px;
        padding: 10px;
        background-color: #000000;
        color: rgba(255, 255, 255, 0.87);
        border: 1px solid rgba(255, 255, 255, 0.87);
        cursor: pointer;
        transition: all 0.3s;

        &:hover {
            border: 1px solid #0ec3c9;
            color: #0ec3c9;
        }

        &:active {
            background-color: #0ec3c9;
        }

        

        &:disabled {
            cursor: not-allowed;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.3);
        }
    }`]});let y=M;return y})();h0(Hx,K0).catch(y=>console.error(y));
